var Ml=Object.defineProperty;var Ol=(P,n,C)=>n in P?Ml(P,n,{enumerable:!0,configurable:!0,writable:!0,value:C}):P[n]=C;var jl=(P,n)=>()=>(n||P((n={exports:{}}).exports,n),n.exports);var Bn=(P,n,C)=>(Ol(P,typeof n!="symbol"?n+"":n,C),C);var fv=jl((Al,La)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))S(g);new MutationObserver(g=>{for(const t of g)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&S(c)}).observe(document,{childList:!0,subtree:!0});function C(g){const t={};return g.integrity&&(t.integrity=g.integrity),g.referrerpolicy&&(t.referrerPolicy=g.referrerpolicy),g.crossorigin==="use-credentials"?t.credentials="include":g.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function S(g){if(g.ep)return;g.ep=!0;const t=C(g);fetch(g.href,t)}})();function Ra(P,n){const C=Object.create(null),S=P.split(",");for(let g=0;g<S.length;g++)C[S[g]]=!0;return n?g=>!!C[g.toLowerCase()]:g=>!!C[g]}const Il="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ll=Ra(Il);function fu(P){return!!P||P===""}function Na(P){if(dr(P)){const n={};for(let C=0;C<P.length;C++){const S=P[C],g=tn(S)?Dl(S):Na(S);if(g)for(const t in g)n[t]=g[t]}return n}else{if(tn(P))return P;if(Hr(P))return P}}const Rl=/;(?![^(]*\))/g,Nl=/:(.+)/;function Dl(P){const n={};return P.split(Rl).forEach(C=>{if(C){const S=C.split(Nl);S.length>1&&(n[S[0].trim()]=S[1].trim())}}),n}function Wi(P){let n="";if(tn(P))n=P;else if(dr(P))for(let C=0;C<P.length;C++){const S=Wi(P[C]);S&&(n+=S+" ")}else if(Hr(P))for(const C in P)P[C]&&(n+=C+" ");return n.trim()}const Nr={},Xi=[],jn=()=>{},Fl=()=>!1,Bl=/^on[^a-z]/,Ys=P=>Bl.test(P),Da=P=>P.startsWith("onUpdate:"),cn=Object.assign,Fa=(P,n)=>{const C=P.indexOf(n);C>-1&&P.splice(C,1)},Ul=Object.prototype.hasOwnProperty,Cr=(P,n)=>Ul.call(P,n),dr=Array.isArray,ds=P=>Ks(P)==="[object Map]",Vl=P=>Ks(P)==="[object Set]",pr=P=>typeof P=="function",tn=P=>typeof P=="string",Ba=P=>typeof P=="symbol",Hr=P=>P!==null&&typeof P=="object",du=P=>Hr(P)&&pr(P.then)&&pr(P.catch),zl=Object.prototype.toString,Ks=P=>zl.call(P),Gl=P=>Ks(P).slice(8,-1),ql=P=>Ks(P)==="[object Object]",Ua=P=>tn(P)&&P!=="NaN"&&P[0]!=="-"&&""+parseInt(P,10)===P,Ds=Ra(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$s=P=>{const n=Object.create(null);return C=>n[C]||(n[C]=P(C))},Hl=/-(\w)/g,qn=$s(P=>P.replace(Hl,(n,C)=>C?C.toUpperCase():"")),Wl=/\B([A-Z])/g,rs=$s(P=>P.replace(Wl,"-$1").toLowerCase()),Qs=$s(P=>P.charAt(0).toUpperCase()+P.slice(1)),la=$s(P=>P?`on${Qs(P)}`:""),xs=(P,n)=>!Object.is(P,n),ca=(P,n)=>{for(let C=0;C<P.length;C++)P[C](n)},zs=(P,n,C)=>{Object.defineProperty(P,n,{configurable:!0,enumerable:!1,value:C})},Xl=P=>{const n=parseFloat(P);return isNaN(n)?P:n};let oo;const Zl=()=>oo||(oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Vn;class pu{constructor(n=!1){this.active=!0,this.effects=[],this.cleanups=[],!n&&Vn&&(this.parent=Vn,this.index=(Vn.scopes||(Vn.scopes=[])).push(this)-1)}run(n){if(this.active){const C=Vn;try{return Vn=this,n()}finally{Vn=C}}}on(){Vn=this}off(){Vn=this.parent}stop(n){if(this.active){let C,S;for(C=0,S=this.effects.length;C<S;C++)this.effects[C].stop();for(C=0,S=this.cleanups.length;C<S;C++)this.cleanups[C]();if(this.scopes)for(C=0,S=this.scopes.length;C<S;C++)this.scopes[C].stop(!0);if(this.parent&&!n){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.active=!1}}}function mu(P){return new pu(P)}function Yl(P,n=Vn){n&&n.active&&n.effects.push(P)}const Va=P=>{const n=new Set(P);return n.w=0,n.n=0,n},gu=P=>(P.w&yi)>0,vu=P=>(P.n&yi)>0,Kl=({deps:P})=>{if(P.length)for(let n=0;n<P.length;n++)P[n].w|=yi},$l=P=>{const{deps:n}=P;if(n.length){let C=0;for(let S=0;S<n.length;S++){const g=n[S];gu(g)&&!vu(g)?g.delete(P):n[C++]=g,g.w&=~yi,g.n&=~yi}n.length=C}},ga=new WeakMap;let fs=0,yi=1;const va=30;let An;const Li=Symbol(""),ya=Symbol("");class za{constructor(n,C=null,S){this.fn=n,this.scheduler=C,this.active=!0,this.deps=[],this.parent=void 0,Yl(this,S)}run(){if(!this.active)return this.fn();let n=An,C=pi;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=An,An=this,pi=!0,yi=1<<++fs,fs<=va?Kl(this):uo(this),this.fn()}finally{fs<=va&&$l(this),yi=1<<--fs,An=this.parent,pi=C,this.parent=void 0,this.deferStop&&this.stop()}}stop(){An===this?this.deferStop=!0:this.active&&(uo(this),this.onStop&&this.onStop(),this.active=!1)}}function uo(P){const{deps:n}=P;if(n.length){for(let C=0;C<n.length;C++)n[C].delete(P);n.length=0}}let pi=!0;const yu=[];function ns(){yu.push(pi),pi=!1}function is(){const P=yu.pop();pi=P===void 0?!0:P}function yn(P,n,C){if(pi&&An){let S=ga.get(P);S||ga.set(P,S=new Map);let g=S.get(C);g||S.set(C,g=Va()),_u(g)}}function _u(P,n){let C=!1;fs<=va?vu(P)||(P.n|=yi,C=!gu(P)):C=!P.has(An),C&&(P.add(An),An.deps.push(P))}function ni(P,n,C,S,g,t){const c=ga.get(P);if(!c)return;let f=[];if(n==="clear")f=[...c.values()];else if(C==="length"&&dr(P))c.forEach((m,p)=>{(p==="length"||p>=S)&&f.push(m)});else switch(C!==void 0&&f.push(c.get(C)),n){case"add":dr(P)?Ua(C)&&f.push(c.get("length")):(f.push(c.get(Li)),ds(P)&&f.push(c.get(ya)));break;case"delete":dr(P)||(f.push(c.get(Li)),ds(P)&&f.push(c.get(ya)));break;case"set":ds(P)&&f.push(c.get(Li));break}if(f.length===1)f[0]&&_a(f[0]);else{const m=[];for(const p of f)p&&m.push(...p);_a(Va(m))}}function _a(P,n){const C=dr(P)?P:[...P];for(const S of C)S.computed&&lo(S);for(const S of C)S.computed||lo(S)}function lo(P,n){(P!==An||P.allowRecurse)&&(P.scheduler?P.scheduler():P.run())}const Ql=Ra("__proto__,__v_isRef,__isVue"),bu=new Set(Object.getOwnPropertyNames(Symbol).filter(P=>P!=="arguments"&&P!=="caller").map(P=>Symbol[P]).filter(Ba)),Jl=Ga(),ec=Ga(!1,!0),tc=Ga(!0),co=rc();function rc(){const P={};return["includes","indexOf","lastIndexOf"].forEach(n=>{P[n]=function(...C){const S=Er(this);for(let t=0,c=this.length;t<c;t++)yn(S,"get",t+"");const g=S[n](...C);return g===-1||g===!1?S[n](...C.map(Er)):g}}),["push","pop","shift","unshift","splice"].forEach(n=>{P[n]=function(...C){ns();const S=Er(this)[n].apply(this,C);return is(),S}}),P}function Ga(P=!1,n=!1){return function(S,g,t){if(g==="__v_isReactive")return!P;if(g==="__v_isReadonly")return P;if(g==="__v_isShallow")return n;if(g==="__v_raw"&&t===(P?n?yc:Tu:n?Cu:Su).get(S))return S;const c=dr(S);if(!P&&c&&Cr(co,g))return Reflect.get(co,g,t);const f=Reflect.get(S,g,t);return(Ba(g)?bu.has(g):Ql(g))||(P||yn(S,"get",g),n)?f:qr(f)?c&&Ua(g)?f:f.value:Hr(f)?P?Pu(f):ss(f):f}}const nc=xu(),ic=xu(!0);function xu(P=!1){return function(C,S,g,t){let c=C[S];if(Yi(c)&&qr(c)&&!qr(g))return!1;if(!P&&(!Gs(g)&&!Yi(g)&&(c=Er(c),g=Er(g)),!dr(C)&&qr(c)&&!qr(g)))return c.value=g,!0;const f=dr(C)&&Ua(S)?Number(S)<C.length:Cr(C,S),m=Reflect.set(C,S,g,t);return C===Er(t)&&(f?xs(g,c)&&ni(C,"set",S,g):ni(C,"add",S,g)),m}}function sc(P,n){const C=Cr(P,n);P[n];const S=Reflect.deleteProperty(P,n);return S&&C&&ni(P,"delete",n,void 0),S}function ac(P,n){const C=Reflect.has(P,n);return(!Ba(n)||!bu.has(n))&&yn(P,"has",n),C}function oc(P){return yn(P,"iterate",dr(P)?"length":Li),Reflect.ownKeys(P)}const wu={get:Jl,set:nc,deleteProperty:sc,has:ac,ownKeys:oc},uc={get:tc,set(P,n){return!0},deleteProperty(P,n){return!0}},lc=cn({},wu,{get:ec,set:ic}),qa=P=>P,Js=P=>Reflect.getPrototypeOf(P);function Os(P,n,C=!1,S=!1){P=P.__v_raw;const g=Er(P),t=Er(n);C||(n!==t&&yn(g,"get",n),yn(g,"get",t));const{has:c}=Js(g),f=S?qa:C?Xa:ws;if(c.call(g,n))return f(P.get(n));if(c.call(g,t))return f(P.get(t));P!==g&&P.get(n)}function js(P,n=!1){const C=this.__v_raw,S=Er(C),g=Er(P);return n||(P!==g&&yn(S,"has",P),yn(S,"has",g)),P===g?C.has(P):C.has(P)||C.has(g)}function Is(P,n=!1){return P=P.__v_raw,!n&&yn(Er(P),"iterate",Li),Reflect.get(P,"size",P)}function ho(P){P=Er(P);const n=Er(this);return Js(n).has.call(n,P)||(n.add(P),ni(n,"add",P,P)),this}function fo(P,n){n=Er(n);const C=Er(this),{has:S,get:g}=Js(C);let t=S.call(C,P);t||(P=Er(P),t=S.call(C,P));const c=g.call(C,P);return C.set(P,n),t?xs(n,c)&&ni(C,"set",P,n):ni(C,"add",P,n),this}function po(P){const n=Er(this),{has:C,get:S}=Js(n);let g=C.call(n,P);g||(P=Er(P),g=C.call(n,P)),S&&S.call(n,P);const t=n.delete(P);return g&&ni(n,"delete",P,void 0),t}function mo(){const P=Er(this),n=P.size!==0,C=P.clear();return n&&ni(P,"clear",void 0,void 0),C}function Ls(P,n){return function(S,g){const t=this,c=t.__v_raw,f=Er(c),m=n?qa:P?Xa:ws;return!P&&yn(f,"iterate",Li),c.forEach((p,u)=>S.call(g,m(p),m(u),t))}}function Rs(P,n,C){return function(...S){const g=this.__v_raw,t=Er(g),c=ds(t),f=P==="entries"||P===Symbol.iterator&&c,m=P==="keys"&&c,p=g[P](...S),u=C?qa:n?Xa:ws;return!n&&yn(t,"iterate",m?ya:Li),{next(){const{value:a,done:l}=p.next();return l?{value:a,done:l}:{value:f?[u(a[0]),u(a[1])]:u(a),done:l}},[Symbol.iterator](){return this}}}}function ci(P){return function(...n){return P==="delete"?!1:this}}function cc(){const P={get(t){return Os(this,t)},get size(){return Is(this)},has:js,add:ho,set:fo,delete:po,clear:mo,forEach:Ls(!1,!1)},n={get(t){return Os(this,t,!1,!0)},get size(){return Is(this)},has:js,add:ho,set:fo,delete:po,clear:mo,forEach:Ls(!1,!0)},C={get(t){return Os(this,t,!0)},get size(){return Is(this,!0)},has(t){return js.call(this,t,!0)},add:ci("add"),set:ci("set"),delete:ci("delete"),clear:ci("clear"),forEach:Ls(!0,!1)},S={get(t){return Os(this,t,!0,!0)},get size(){return Is(this,!0)},has(t){return js.call(this,t,!0)},add:ci("add"),set:ci("set"),delete:ci("delete"),clear:ci("clear"),forEach:Ls(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(t=>{P[t]=Rs(t,!1,!1),C[t]=Rs(t,!0,!1),n[t]=Rs(t,!1,!0),S[t]=Rs(t,!0,!0)}),[P,C,n,S]}const[hc,fc,dc,pc]=cc();function Ha(P,n){const C=n?P?pc:dc:P?fc:hc;return(S,g,t)=>g==="__v_isReactive"?!P:g==="__v_isReadonly"?P:g==="__v_raw"?S:Reflect.get(Cr(C,g)&&g in S?C:S,g,t)}const mc={get:Ha(!1,!1)},gc={get:Ha(!1,!0)},vc={get:Ha(!0,!1)},Su=new WeakMap,Cu=new WeakMap,Tu=new WeakMap,yc=new WeakMap;function _c(P){switch(P){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bc(P){return P.__v_skip||!Object.isExtensible(P)?0:_c(Gl(P))}function ss(P){return Yi(P)?P:Wa(P,!1,wu,mc,Su)}function xc(P){return Wa(P,!1,lc,gc,Cu)}function Pu(P){return Wa(P,!0,uc,vc,Tu)}function Wa(P,n,C,S,g){if(!Hr(P)||P.__v_raw&&!(n&&P.__v_isReactive))return P;const t=g.get(P);if(t)return t;const c=bc(P);if(c===0)return P;const f=new Proxy(P,c===2?S:C);return g.set(P,f),f}function mi(P){return Yi(P)?mi(P.__v_raw):!!(P&&P.__v_isReactive)}function Yi(P){return!!(P&&P.__v_isReadonly)}function Gs(P){return!!(P&&P.__v_isShallow)}function ku(P){return mi(P)||Yi(P)}function Er(P){const n=P&&P.__v_raw;return n?Er(n):P}function Ki(P){return zs(P,"__v_skip",!0),P}const ws=P=>Hr(P)?ss(P):P,Xa=P=>Hr(P)?Pu(P):P;function Eu(P){pi&&An&&(P=Er(P),_u(P.dep||(P.dep=Va())))}function Au(P,n){P=Er(P),P.dep&&_a(P.dep)}function qr(P){return!!(P&&P.__v_isRef===!0)}function pn(P){return Mu(P,!1)}function wc(P){return Mu(P,!0)}function Mu(P,n){return qr(P)?P:new Sc(P,n)}class Sc{constructor(n,C){this.__v_isShallow=C,this.dep=void 0,this.__v_isRef=!0,this._rawValue=C?n:Er(n),this._value=C?n:ws(n)}get value(){return Eu(this),this._value}set value(n){const C=this.__v_isShallow||Gs(n)||Yi(n);n=C?n:Er(n),xs(n,this._rawValue)&&(this._rawValue=n,this._value=C?n:ws(n),Au(this))}}function gi(P){return qr(P)?P.value:P}const Cc={get:(P,n,C)=>gi(Reflect.get(P,n,C)),set:(P,n,C,S)=>{const g=P[n];return qr(g)&&!qr(C)?(g.value=C,!0):Reflect.set(P,n,C,S)}};function Ou(P){return mi(P)?P:new Proxy(P,Cc)}function Tc(P){const n=dr(P)?new Array(P.length):{};for(const C in P)n[C]=kc(P,C);return n}class Pc{constructor(n,C,S){this._object=n,this._key=C,this._defaultValue=S,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function kc(P,n,C){const S=P[n];return qr(S)?S:new Pc(P,n,C)}var ju;class Ec{constructor(n,C,S,g){this._setter=C,this.dep=void 0,this.__v_isRef=!0,this[ju]=!1,this._dirty=!0,this.effect=new za(n,()=>{this._dirty||(this._dirty=!0,Au(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!g,this.__v_isReadonly=S}get value(){const n=Er(this);return Eu(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}ju="__v_isReadonly";function Ac(P,n,C=!1){let S,g;const t=pr(P);return t?(S=P,g=jn):(S=P.get,g=P.set),new Ec(S,g,t||!g,C)}function vi(P,n,C,S){let g;try{g=S?P(...S):P()}catch(t){ea(t,n,C)}return g}function In(P,n,C,S){if(pr(P)){const t=vi(P,n,C,S);return t&&du(t)&&t.catch(c=>{ea(c,n,C)}),t}const g=[];for(let t=0;t<P.length;t++)g.push(In(P[t],n,C,S));return g}function ea(P,n,C,S=!0){const g=n?n.vnode:null;if(n){let t=n.parent;const c=n.proxy,f=C;for(;t;){const p=t.ec;if(p){for(let u=0;u<p.length;u++)if(p[u](P,c,f)===!1)return}t=t.parent}const m=n.appContext.config.errorHandler;if(m){vi(m,null,10,[P,c,f]);return}}Mc(P,C,g,S)}function Mc(P,n,C,S=!0){console.error(P)}let Ss=!1,ba=!1;const en=[];let Gn=0;const Zi=[];let ei=null,ji=0;const Iu=Promise.resolve();let Za=null;function Ya(P){const n=Za||Iu;return P?n.then(this?P.bind(this):P):n}function Oc(P){let n=Gn+1,C=en.length;for(;n<C;){const S=n+C>>>1;Cs(en[S])<P?n=S+1:C=S}return n}function Ka(P){(!en.length||!en.includes(P,Ss&&P.allowRecurse?Gn+1:Gn))&&(P.id==null?en.push(P):en.splice(Oc(P.id),0,P),Lu())}function Lu(){!Ss&&!ba&&(ba=!0,Za=Iu.then(Nu))}function jc(P){const n=en.indexOf(P);n>Gn&&en.splice(n,1)}function Ic(P){dr(P)?Zi.push(...P):(!ei||!ei.includes(P,P.allowRecurse?ji+1:ji))&&Zi.push(P),Lu()}function go(P,n=Ss?Gn+1:0){for(;n<en.length;n++){const C=en[n];C&&C.pre&&(en.splice(n,1),n--,C())}}function Ru(P){if(Zi.length){const n=[...new Set(Zi)];if(Zi.length=0,ei){ei.push(...n);return}for(ei=n,ei.sort((C,S)=>Cs(C)-Cs(S)),ji=0;ji<ei.length;ji++)ei[ji]();ei=null,ji=0}}const Cs=P=>P.id==null?1/0:P.id,Lc=(P,n)=>{const C=Cs(P)-Cs(n);if(C===0){if(P.pre&&!n.pre)return-1;if(n.pre&&!P.pre)return 1}return C};function Nu(P){ba=!1,Ss=!0,en.sort(Lc);const n=jn;try{for(Gn=0;Gn<en.length;Gn++){const C=en[Gn];C&&C.active!==!1&&vi(C,null,14)}}finally{Gn=0,en.length=0,Ru(),Ss=!1,Za=null,(en.length||Zi.length)&&Nu()}}function Rc(P,n,...C){if(P.isUnmounted)return;const S=P.vnode.props||Nr;let g=C;const t=n.startsWith("update:"),c=t&&n.slice(7);if(c&&c in S){const u=`${c==="modelValue"?"model":c}Modifiers`,{number:a,trim:l}=S[u]||Nr;l&&(g=C.map(o=>o.trim())),a&&(g=C.map(Xl))}let f,m=S[f=la(n)]||S[f=la(qn(n))];!m&&t&&(m=S[f=la(rs(n))]),m&&In(m,P,6,g);const p=S[f+"Once"];if(p){if(!P.emitted)P.emitted={};else if(P.emitted[f])return;P.emitted[f]=!0,In(p,P,6,g)}}function Du(P,n,C=!1){const S=n.emitsCache,g=S.get(P);if(g!==void 0)return g;const t=P.emits;let c={},f=!1;if(!pr(P)){const m=p=>{const u=Du(p,n,!0);u&&(f=!0,cn(c,u))};!C&&n.mixins.length&&n.mixins.forEach(m),P.extends&&m(P.extends),P.mixins&&P.mixins.forEach(m)}return!t&&!f?(Hr(P)&&S.set(P,null),null):(dr(t)?t.forEach(m=>c[m]=null):cn(c,t),Hr(P)&&S.set(P,c),c)}function ta(P,n){return!P||!Ys(n)?!1:(n=n.slice(2).replace(/Once$/,""),Cr(P,n[0].toLowerCase()+n.slice(1))||Cr(P,rs(n))||Cr(P,n))}let Mn=null,Fu=null;function qs(P){const n=Mn;return Mn=P,Fu=P&&P.type.__scopeId||null,n}function ln(P,n=Mn,C){if(!n||P._n)return P;const S=(...g)=>{S._d&&Po(-1);const t=qs(n),c=P(...g);return qs(t),S._d&&Po(1),c};return S._n=!0,S._c=!0,S._d=!0,S}function ha(P){const{type:n,vnode:C,proxy:S,withProxy:g,props:t,propsOptions:[c],slots:f,attrs:m,emit:p,render:u,renderCache:a,data:l,setupState:o,ctx:d,inheritAttrs:_}=P;let k,E;const I=qs(P);try{if(C.shapeFlag&4){const V=g||S;k=zn(u.call(V,V,a,t,o,l,d)),E=m}else{const V=n;k=zn(V.length>1?V(t,{attrs:m,slots:f,emit:p}):V(t,null)),E=n.props?m:Nc(m)}}catch(V){ms.length=0,ea(V,P,1),k=rr(Ts)}let U=k;if(E&&_!==!1){const V=Object.keys(E),{shapeFlag:$}=U;V.length&&$&7&&(c&&V.some(Da)&&(E=Dc(E,c)),U=Qi(U,E))}return C.dirs&&(U=Qi(U),U.dirs=U.dirs?U.dirs.concat(C.dirs):C.dirs),C.transition&&(U.transition=C.transition),k=U,qs(I),k}const Nc=P=>{let n;for(const C in P)(C==="class"||C==="style"||Ys(C))&&((n||(n={}))[C]=P[C]);return n},Dc=(P,n)=>{const C={};for(const S in P)(!Da(S)||!(S.slice(9)in n))&&(C[S]=P[S]);return C};function Fc(P,n,C){const{props:S,children:g,component:t}=P,{props:c,children:f,patchFlag:m}=n,p=t.emitsOptions;if(n.dirs||n.transition)return!0;if(C&&m>=0){if(m&1024)return!0;if(m&16)return S?vo(S,c,p):!!c;if(m&8){const u=n.dynamicProps;for(let a=0;a<u.length;a++){const l=u[a];if(c[l]!==S[l]&&!ta(p,l))return!0}}}else return(g||f)&&(!f||!f.$stable)?!0:S===c?!1:S?c?vo(S,c,p):!0:!!c;return!1}function vo(P,n,C){const S=Object.keys(n);if(S.length!==Object.keys(P).length)return!0;for(let g=0;g<S.length;g++){const t=S[g];if(n[t]!==P[t]&&!ta(C,t))return!0}return!1}function Bc({vnode:P,parent:n},C){for(;n&&n.subTree===P;)(P=n.vnode).el=C,n=n.parent}const Uc=P=>P.__isSuspense;function Vc(P,n){n&&n.pendingBranch?dr(P)?n.effects.push(...P):n.effects.push(P):Ic(P)}function Fs(P,n){if(Kr){let C=Kr.provides;const S=Kr.parent&&Kr.parent.provides;S===C&&(C=Kr.provides=Object.create(S)),C[P]=n}}function ri(P,n,C=!1){const S=Kr||Mn;if(S){const g=S.parent==null?S.vnode.appContext&&S.vnode.appContext.provides:S.parent.provides;if(g&&P in g)return g[P];if(arguments.length>1)return C&&pr(n)?n.call(S.proxy):n}}const yo={};function ps(P,n,C){return Bu(P,n,C)}function Bu(P,n,{immediate:C,deep:S,flush:g,onTrack:t,onTrigger:c}=Nr){const f=Kr;let m,p=!1,u=!1;if(qr(P)?(m=()=>P.value,p=Gs(P)):mi(P)?(m=()=>P,S=!0):dr(P)?(u=!0,p=P.some(E=>mi(E)||Gs(E)),m=()=>P.map(E=>{if(qr(E))return E.value;if(mi(E))return Hi(E);if(pr(E))return vi(E,f,2)})):pr(P)?n?m=()=>vi(P,f,2):m=()=>{if(!(f&&f.isUnmounted))return a&&a(),In(P,f,3,[l])}:m=jn,n&&S){const E=m;m=()=>Hi(E())}let a,l=E=>{a=k.onStop=()=>{vi(E,f,4)}};if(ks)return l=jn,n?C&&In(n,f,3,[m(),u?[]:void 0,l]):m(),jn;let o=u?[]:yo;const d=()=>{if(!!k.active)if(n){const E=k.run();(S||p||(u?E.some((I,U)=>xs(I,o[U])):xs(E,o)))&&(a&&a(),In(n,f,3,[E,o===yo?void 0:o,l]),o=E)}else k.run()};d.allowRecurse=!!n;let _;g==="sync"?_=d:g==="post"?_=()=>fn(d,f&&f.suspense):(d.pre=!0,f&&(d.id=f.uid),_=()=>Ka(d));const k=new za(m,_);return n?C?d():o=k.run():g==="post"?fn(k.run.bind(k),f&&f.suspense):k.run(),()=>{k.stop(),f&&f.scope&&Fa(f.scope.effects,k)}}function zc(P,n,C){const S=this.proxy,g=tn(P)?P.includes(".")?Uu(S,P):()=>S[P]:P.bind(S,S);let t;pr(n)?t=n:(t=n.handler,C=n);const c=Kr;Ji(this);const f=Bu(g,t.bind(S),C);return c?Ji(c):Ri(),f}function Uu(P,n){const C=n.split(".");return()=>{let S=P;for(let g=0;g<C.length&&S;g++)S=S[C[g]];return S}}function Hi(P,n){if(!Hr(P)||P.__v_skip||(n=n||new Set,n.has(P)))return P;if(n.add(P),qr(P))Hi(P.value,n);else if(dr(P))for(let C=0;C<P.length;C++)Hi(P[C],n);else if(Vl(P)||ds(P))P.forEach(C=>{Hi(C,n)});else if(ql(P))for(const C in P)Hi(P[C],n);return P}function _i(P){return pr(P)?{setup:P,name:P.name}:P}const Bs=P=>!!P.type.__asyncLoader,Vu=P=>P.type.__isKeepAlive;function Gc(P,n){zu(P,"a",n)}function qc(P,n){zu(P,"da",n)}function zu(P,n,C=Kr){const S=P.__wdc||(P.__wdc=()=>{let g=C;for(;g;){if(g.isDeactivated)return;g=g.parent}return P()});if(ra(n,S,C),C){let g=C.parent;for(;g&&g.parent;)Vu(g.parent.vnode)&&Hc(S,n,C,g),g=g.parent}}function Hc(P,n,C,S){const g=ra(n,P,S,!0);na(()=>{Fa(S[n],g)},C)}function ra(P,n,C=Kr,S=!1){if(C){const g=C[P]||(C[P]=[]),t=n.__weh||(n.__weh=(...c)=>{if(C.isUnmounted)return;ns(),Ji(C);const f=In(n,C,P,c);return Ri(),is(),f});return S?g.unshift(t):g.push(t),t}}const ii=P=>(n,C=Kr)=>(!ks||P==="sp")&&ra(P,(...S)=>n(...S),C),Wc=ii("bm"),Ni=ii("m"),Xc=ii("bu"),Zc=ii("u"),Yc=ii("bum"),na=ii("um"),Kc=ii("sp"),$c=ii("rtg"),Qc=ii("rtc");function Jc(P,n=Kr){ra("ec",P,n)}function Ai(P,n,C,S){const g=P.dirs,t=n&&n.dirs;for(let c=0;c<g.length;c++){const f=g[c];t&&(f.oldValue=t[c].value);let m=f.dir[S];m&&(ns(),In(m,C,8,[P.el,f,P,n]),is())}}const Gu="components";function $i(P,n){return th(Gu,P,!0,n)||P}const eh=Symbol();function th(P,n,C=!0,S=!1){const g=Mn||Kr;if(g){const t=g.type;if(P===Gu){const f=Mh(t,!1);if(f&&(f===n||f===qn(n)||f===Qs(qn(n))))return t}const c=_o(g[P]||t[P],n)||_o(g.appContext[P],n);return!c&&S?t:c}}function _o(P,n){return P&&(P[n]||P[qn(n)]||P[Qs(qn(n))])}const xa=P=>P?tl(P)?to(P)||P.proxy:xa(P.parent):null,Hs=cn(Object.create(null),{$:P=>P,$el:P=>P.vnode.el,$data:P=>P.data,$props:P=>P.props,$attrs:P=>P.attrs,$slots:P=>P.slots,$refs:P=>P.refs,$parent:P=>xa(P.parent),$root:P=>xa(P.root),$emit:P=>P.emit,$options:P=>$a(P),$forceUpdate:P=>P.f||(P.f=()=>Ka(P.update)),$nextTick:P=>P.n||(P.n=Ya.bind(P.proxy)),$watch:P=>zc.bind(P)}),rh={get({_:P},n){const{ctx:C,setupState:S,data:g,props:t,accessCache:c,type:f,appContext:m}=P;let p;if(n[0]!=="$"){const o=c[n];if(o!==void 0)switch(o){case 1:return S[n];case 2:return g[n];case 4:return C[n];case 3:return t[n]}else{if(S!==Nr&&Cr(S,n))return c[n]=1,S[n];if(g!==Nr&&Cr(g,n))return c[n]=2,g[n];if((p=P.propsOptions[0])&&Cr(p,n))return c[n]=3,t[n];if(C!==Nr&&Cr(C,n))return c[n]=4,C[n];wa&&(c[n]=0)}}const u=Hs[n];let a,l;if(u)return n==="$attrs"&&yn(P,"get",n),u(P);if((a=f.__cssModules)&&(a=a[n]))return a;if(C!==Nr&&Cr(C,n))return c[n]=4,C[n];if(l=m.config.globalProperties,Cr(l,n))return l[n]},set({_:P},n,C){const{data:S,setupState:g,ctx:t}=P;return g!==Nr&&Cr(g,n)?(g[n]=C,!0):S!==Nr&&Cr(S,n)?(S[n]=C,!0):Cr(P.props,n)||n[0]==="$"&&n.slice(1)in P?!1:(t[n]=C,!0)},has({_:{data:P,setupState:n,accessCache:C,ctx:S,appContext:g,propsOptions:t}},c){let f;return!!C[c]||P!==Nr&&Cr(P,c)||n!==Nr&&Cr(n,c)||(f=t[0])&&Cr(f,c)||Cr(S,c)||Cr(Hs,c)||Cr(g.config.globalProperties,c)},defineProperty(P,n,C){return C.get!=null?P._.accessCache[n]=0:Cr(C,"value")&&this.set(P,n,C.value,null),Reflect.defineProperty(P,n,C)}};let wa=!0;function nh(P){const n=$a(P),C=P.proxy,S=P.ctx;wa=!1,n.beforeCreate&&bo(n.beforeCreate,P,"bc");const{data:g,computed:t,methods:c,watch:f,provide:m,inject:p,created:u,beforeMount:a,mounted:l,beforeUpdate:o,updated:d,activated:_,deactivated:k,beforeDestroy:E,beforeUnmount:I,destroyed:U,unmounted:V,render:$,renderTracked:B,renderTriggered:se,errorCaptured:ne,serverPrefetch:oe,expose:ge,inheritAttrs:J,components:ue,directives:he,filters:ye}=n;if(p&&ih(p,S,null,P.appContext.config.unwrapInjectedRef),c)for(const Ne in c){const Le=c[Ne];pr(Le)&&(S[Ne]=Le.bind(C))}if(g){const Ne=g.call(C,C);Hr(Ne)&&(P.data=ss(Ne))}if(wa=!0,t)for(const Ne in t){const Le=t[Ne],Be=pr(Le)?Le.bind(C,C):pr(Le.get)?Le.get.bind(C,C):jn,$e=!pr(Le)&&pr(Le.set)?Le.set.bind(C):jn,ut=vn({get:Be,set:$e});Object.defineProperty(S,Ne,{enumerable:!0,configurable:!0,get:()=>ut.value,set:Ke=>ut.value=Ke})}if(f)for(const Ne in f)qu(f[Ne],S,C,Ne);if(m){const Ne=pr(m)?m.call(C):m;Reflect.ownKeys(Ne).forEach(Le=>{Fs(Le,Ne[Le])})}u&&bo(u,P,"c");function de(Ne,Le){dr(Le)?Le.forEach(Be=>Ne(Be.bind(C))):Le&&Ne(Le.bind(C))}if(de(Wc,a),de(Ni,l),de(Xc,o),de(Zc,d),de(Gc,_),de(qc,k),de(Jc,ne),de(Qc,B),de($c,se),de(Yc,I),de(na,V),de(Kc,oe),dr(ge))if(ge.length){const Ne=P.exposed||(P.exposed={});ge.forEach(Le=>{Object.defineProperty(Ne,Le,{get:()=>C[Le],set:Be=>C[Le]=Be})})}else P.exposed||(P.exposed={});$&&P.render===jn&&(P.render=$),J!=null&&(P.inheritAttrs=J),ue&&(P.components=ue),he&&(P.directives=he)}function ih(P,n,C=jn,S=!1){dr(P)&&(P=Sa(P));for(const g in P){const t=P[g];let c;Hr(t)?"default"in t?c=ri(t.from||g,t.default,!0):c=ri(t.from||g):c=ri(t),qr(c)&&S?Object.defineProperty(n,g,{enumerable:!0,configurable:!0,get:()=>c.value,set:f=>c.value=f}):n[g]=c}}function bo(P,n,C){In(dr(P)?P.map(S=>S.bind(n.proxy)):P.bind(n.proxy),n,C)}function qu(P,n,C,S){const g=S.includes(".")?Uu(C,S):()=>C[S];if(tn(P)){const t=n[P];pr(t)&&ps(g,t)}else if(pr(P))ps(g,P.bind(C));else if(Hr(P))if(dr(P))P.forEach(t=>qu(t,n,C,S));else{const t=pr(P.handler)?P.handler.bind(C):n[P.handler];pr(t)&&ps(g,t,P)}}function $a(P){const n=P.type,{mixins:C,extends:S}=n,{mixins:g,optionsCache:t,config:{optionMergeStrategies:c}}=P.appContext,f=t.get(n);let m;return f?m=f:!g.length&&!C&&!S?m=n:(m={},g.length&&g.forEach(p=>Ws(m,p,c,!0)),Ws(m,n,c)),Hr(n)&&t.set(n,m),m}function Ws(P,n,C,S=!1){const{mixins:g,extends:t}=n;t&&Ws(P,t,C,!0),g&&g.forEach(c=>Ws(P,c,C,!0));for(const c in n)if(!(S&&c==="expose")){const f=sh[c]||C&&C[c];P[c]=f?f(P[c],n[c]):n[c]}return P}const sh={data:xo,props:Oi,emits:Oi,methods:Oi,computed:Oi,beforeCreate:un,created:un,beforeMount:un,mounted:un,beforeUpdate:un,updated:un,beforeDestroy:un,beforeUnmount:un,destroyed:un,unmounted:un,activated:un,deactivated:un,errorCaptured:un,serverPrefetch:un,components:Oi,directives:Oi,watch:oh,provide:xo,inject:ah};function xo(P,n){return n?P?function(){return cn(pr(P)?P.call(this,this):P,pr(n)?n.call(this,this):n)}:n:P}function ah(P,n){return Oi(Sa(P),Sa(n))}function Sa(P){if(dr(P)){const n={};for(let C=0;C<P.length;C++)n[P[C]]=P[C];return n}return P}function un(P,n){return P?[...new Set([].concat(P,n))]:n}function Oi(P,n){return P?cn(cn(Object.create(null),P),n):n}function oh(P,n){if(!P)return n;if(!n)return P;const C=cn(Object.create(null),P);for(const S in n)C[S]=un(P[S],n[S]);return C}function uh(P,n,C,S=!1){const g={},t={};zs(t,ia,1),P.propsDefaults=Object.create(null),Hu(P,n,g,t);for(const c in P.propsOptions[0])c in g||(g[c]=void 0);C?P.props=S?g:xc(g):P.type.props?P.props=g:P.props=t,P.attrs=t}function lh(P,n,C,S){const{props:g,attrs:t,vnode:{patchFlag:c}}=P,f=Er(g),[m]=P.propsOptions;let p=!1;if((S||c>0)&&!(c&16)){if(c&8){const u=P.vnode.dynamicProps;for(let a=0;a<u.length;a++){let l=u[a];if(ta(P.emitsOptions,l))continue;const o=n[l];if(m)if(Cr(t,l))o!==t[l]&&(t[l]=o,p=!0);else{const d=qn(l);g[d]=Ca(m,f,d,o,P,!1)}else o!==t[l]&&(t[l]=o,p=!0)}}}else{Hu(P,n,g,t)&&(p=!0);let u;for(const a in f)(!n||!Cr(n,a)&&((u=rs(a))===a||!Cr(n,u)))&&(m?C&&(C[a]!==void 0||C[u]!==void 0)&&(g[a]=Ca(m,f,a,void 0,P,!0)):delete g[a]);if(t!==f)for(const a in t)(!n||!Cr(n,a)&&!0)&&(delete t[a],p=!0)}p&&ni(P,"set","$attrs")}function Hu(P,n,C,S){const[g,t]=P.propsOptions;let c=!1,f;if(n)for(let m in n){if(Ds(m))continue;const p=n[m];let u;g&&Cr(g,u=qn(m))?!t||!t.includes(u)?C[u]=p:(f||(f={}))[u]=p:ta(P.emitsOptions,m)||(!(m in S)||p!==S[m])&&(S[m]=p,c=!0)}if(t){const m=Er(C),p=f||Nr;for(let u=0;u<t.length;u++){const a=t[u];C[a]=Ca(g,m,a,p[a],P,!Cr(p,a))}}return c}function Ca(P,n,C,S,g,t){const c=P[C];if(c!=null){const f=Cr(c,"default");if(f&&S===void 0){const m=c.default;if(c.type!==Function&&pr(m)){const{propsDefaults:p}=g;C in p?S=p[C]:(Ji(g),S=p[C]=m.call(null,n),Ri())}else S=m}c[0]&&(t&&!f?S=!1:c[1]&&(S===""||S===rs(C))&&(S=!0))}return S}function Wu(P,n,C=!1){const S=n.propsCache,g=S.get(P);if(g)return g;const t=P.props,c={},f=[];let m=!1;if(!pr(P)){const u=a=>{m=!0;const[l,o]=Wu(a,n,!0);cn(c,l),o&&f.push(...o)};!C&&n.mixins.length&&n.mixins.forEach(u),P.extends&&u(P.extends),P.mixins&&P.mixins.forEach(u)}if(!t&&!m)return Hr(P)&&S.set(P,Xi),Xi;if(dr(t))for(let u=0;u<t.length;u++){const a=qn(t[u]);wo(a)&&(c[a]=Nr)}else if(t)for(const u in t){const a=qn(u);if(wo(a)){const l=t[u],o=c[a]=dr(l)||pr(l)?{type:l}:l;if(o){const d=To(Boolean,o.type),_=To(String,o.type);o[0]=d>-1,o[1]=_<0||d<_,(d>-1||Cr(o,"default"))&&f.push(a)}}}const p=[c,f];return Hr(P)&&S.set(P,p),p}function wo(P){return P[0]!=="$"}function So(P){const n=P&&P.toString().match(/^\s*function (\w+)/);return n?n[1]:P===null?"null":""}function Co(P,n){return So(P)===So(n)}function To(P,n){return dr(n)?n.findIndex(C=>Co(C,P)):pr(n)&&Co(n,P)?0:-1}const Xu=P=>P[0]==="_"||P==="$stable",Qa=P=>dr(P)?P.map(zn):[zn(P)],ch=(P,n,C)=>{if(n._n)return n;const S=ln((...g)=>Qa(n(...g)),C);return S._c=!1,S},Zu=(P,n,C)=>{const S=P._ctx;for(const g in P){if(Xu(g))continue;const t=P[g];if(pr(t))n[g]=ch(g,t,S);else if(t!=null){const c=Qa(t);n[g]=()=>c}}},Yu=(P,n)=>{const C=Qa(n);P.slots.default=()=>C},hh=(P,n)=>{if(P.vnode.shapeFlag&32){const C=n._;C?(P.slots=Er(n),zs(n,"_",C)):Zu(n,P.slots={})}else P.slots={},n&&Yu(P,n);zs(P.slots,ia,1)},fh=(P,n,C)=>{const{vnode:S,slots:g}=P;let t=!0,c=Nr;if(S.shapeFlag&32){const f=n._;f?C&&f===1?t=!1:(cn(g,n),!C&&f===1&&delete g._):(t=!n.$stable,Zu(n,g)),c=n}else n&&(Yu(P,n),c={default:1});if(t)for(const f in g)!Xu(f)&&!(f in c)&&delete g[f]};function Ku(){return{app:null,config:{isNativeTag:Fl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dh=0;function ph(P,n){return function(S,g=null){pr(S)||(S=Object.assign({},S)),g!=null&&!Hr(g)&&(g=null);const t=Ku(),c=new Set;let f=!1;const m=t.app={_uid:dh++,_component:S,_props:g,_container:null,_context:t,_instance:null,version:jh,get config(){return t.config},set config(p){},use(p,...u){return c.has(p)||(p&&pr(p.install)?(c.add(p),p.install(m,...u)):pr(p)&&(c.add(p),p(m,...u))),m},mixin(p){return t.mixins.includes(p)||t.mixins.push(p),m},component(p,u){return u?(t.components[p]=u,m):t.components[p]},directive(p,u){return u?(t.directives[p]=u,m):t.directives[p]},mount(p,u,a){if(!f){const l=rr(S,g);return l.appContext=t,u&&n?n(l,p):P(l,p,a),f=!0,m._container=p,p.__vue_app__=m,to(l.component)||l.component.proxy}},unmount(){f&&(P(null,m._container),delete m._container.__vue_app__)},provide(p,u){return t.provides[p]=u,m}};return m}}function Ta(P,n,C,S,g=!1){if(dr(P)){P.forEach((l,o)=>Ta(l,n&&(dr(n)?n[o]:n),C,S,g));return}if(Bs(S)&&!g)return;const t=S.shapeFlag&4?to(S.component)||S.component.proxy:S.el,c=g?null:t,{i:f,r:m}=P,p=n&&n.r,u=f.refs===Nr?f.refs={}:f.refs,a=f.setupState;if(p!=null&&p!==m&&(tn(p)?(u[p]=null,Cr(a,p)&&(a[p]=null)):qr(p)&&(p.value=null)),pr(m))vi(m,f,12,[c,u]);else{const l=tn(m),o=qr(m);if(l||o){const d=()=>{if(P.f){const _=l?u[m]:m.value;g?dr(_)&&Fa(_,t):dr(_)?_.includes(t)||_.push(t):l?(u[m]=[t],Cr(a,m)&&(a[m]=u[m])):(m.value=[t],P.k&&(u[P.k]=m.value))}else l?(u[m]=c,Cr(a,m)&&(a[m]=c)):o&&(m.value=c,P.k&&(u[P.k]=c))};c?(d.id=-1,fn(d,C)):d()}}}const fn=Vc;function mh(P){return gh(P)}function gh(P,n){const C=Zl();C.__VUE__=!0;const{insert:S,remove:g,patchProp:t,createElement:c,createText:f,createComment:m,setText:p,setElementText:u,parentNode:a,nextSibling:l,setScopeId:o=jn,insertStaticContent:d}=P,_=(Pe,_e,He,ze=null,Ge=null,st=null,ht=!1,it=null,mt=!!_e.dynamicChildren)=>{if(Pe===_e)return;Pe&&!cs(Pe,_e)&&(ze=me(Pe),Ke(Pe,Ge,st,!0),Pe=null),_e.patchFlag===-2&&(mt=!1,_e.dynamicChildren=null);const{type:gt,ref:St,shapeFlag:bt}=_e;switch(gt){case Ja:k(Pe,_e,He,ze);break;case Ts:E(Pe,_e,He,ze);break;case Us:Pe==null&&I(_e,He,ze,ht);break;case dn:ue(Pe,_e,He,ze,Ge,st,ht,it,mt);break;default:bt&1?$(Pe,_e,He,ze,Ge,st,ht,it,mt):bt&6?he(Pe,_e,He,ze,Ge,st,ht,it,mt):(bt&64||bt&128)&&gt.process(Pe,_e,He,ze,Ge,st,ht,it,mt,Me)}St!=null&&Ge&&Ta(St,Pe&&Pe.ref,st,_e||Pe,!_e)},k=(Pe,_e,He,ze)=>{if(Pe==null)S(_e.el=f(_e.children),He,ze);else{const Ge=_e.el=Pe.el;_e.children!==Pe.children&&p(Ge,_e.children)}},E=(Pe,_e,He,ze)=>{Pe==null?S(_e.el=m(_e.children||""),He,ze):_e.el=Pe.el},I=(Pe,_e,He,ze)=>{[Pe.el,Pe.anchor]=d(Pe.children,_e,He,ze,Pe.el,Pe.anchor)},U=({el:Pe,anchor:_e},He,ze)=>{let Ge;for(;Pe&&Pe!==_e;)Ge=l(Pe),S(Pe,He,ze),Pe=Ge;S(_e,He,ze)},V=({el:Pe,anchor:_e})=>{let He;for(;Pe&&Pe!==_e;)He=l(Pe),g(Pe),Pe=He;g(_e)},$=(Pe,_e,He,ze,Ge,st,ht,it,mt)=>{ht=ht||_e.type==="svg",Pe==null?B(_e,He,ze,Ge,st,ht,it,mt):oe(Pe,_e,Ge,st,ht,it,mt)},B=(Pe,_e,He,ze,Ge,st,ht,it)=>{let mt,gt;const{type:St,props:bt,shapeFlag:Et,transition:i,dirs:e}=Pe;if(mt=Pe.el=c(Pe.type,st,bt&&bt.is,bt),Et&8?u(mt,Pe.children):Et&16&&ne(Pe.children,mt,null,ze,Ge,st&&St!=="foreignObject",ht,it),e&&Ai(Pe,null,ze,"created"),bt){for(const s in bt)s!=="value"&&!Ds(s)&&t(mt,s,null,bt[s],st,Pe.children,ze,Ge,ae);"value"in bt&&t(mt,"value",null,bt.value),(gt=bt.onVnodeBeforeMount)&&Un(gt,ze,Pe)}se(mt,Pe,Pe.scopeId,ht,ze),e&&Ai(Pe,null,ze,"beforeMount");const r=(!Ge||Ge&&!Ge.pendingBranch)&&i&&!i.persisted;r&&i.beforeEnter(mt),S(mt,_e,He),((gt=bt&&bt.onVnodeMounted)||r||e)&&fn(()=>{gt&&Un(gt,ze,Pe),r&&i.enter(mt),e&&Ai(Pe,null,ze,"mounted")},Ge)},se=(Pe,_e,He,ze,Ge)=>{if(He&&o(Pe,He),ze)for(let st=0;st<ze.length;st++)o(Pe,ze[st]);if(Ge){let st=Ge.subTree;if(_e===st){const ht=Ge.vnode;se(Pe,ht,ht.scopeId,ht.slotScopeIds,Ge.parent)}}},ne=(Pe,_e,He,ze,Ge,st,ht,it,mt=0)=>{for(let gt=mt;gt<Pe.length;gt++){const St=Pe[gt]=it?fi(Pe[gt]):zn(Pe[gt]);_(null,St,_e,He,ze,Ge,st,ht,it)}},oe=(Pe,_e,He,ze,Ge,st,ht)=>{const it=_e.el=Pe.el;let{patchFlag:mt,dynamicChildren:gt,dirs:St}=_e;mt|=Pe.patchFlag&16;const bt=Pe.props||Nr,Et=_e.props||Nr;let i;He&&Mi(He,!1),(i=Et.onVnodeBeforeUpdate)&&Un(i,He,_e,Pe),St&&Ai(_e,Pe,He,"beforeUpdate"),He&&Mi(He,!0);const e=Ge&&_e.type!=="foreignObject";if(gt?ge(Pe.dynamicChildren,gt,it,He,ze,e,st):ht||Le(Pe,_e,it,null,He,ze,e,st,!1),mt>0){if(mt&16)J(it,_e,bt,Et,He,ze,Ge);else if(mt&2&&bt.class!==Et.class&&t(it,"class",null,Et.class,Ge),mt&4&&t(it,"style",bt.style,Et.style,Ge),mt&8){const r=_e.dynamicProps;for(let s=0;s<r.length;s++){const h=r[s],y=bt[h],v=Et[h];(v!==y||h==="value")&&t(it,h,y,v,Ge,Pe.children,He,ze,ae)}}mt&1&&Pe.children!==_e.children&&u(it,_e.children)}else!ht&&gt==null&&J(it,_e,bt,Et,He,ze,Ge);((i=Et.onVnodeUpdated)||St)&&fn(()=>{i&&Un(i,He,_e,Pe),St&&Ai(_e,Pe,He,"updated")},ze)},ge=(Pe,_e,He,ze,Ge,st,ht)=>{for(let it=0;it<_e.length;it++){const mt=Pe[it],gt=_e[it],St=mt.el&&(mt.type===dn||!cs(mt,gt)||mt.shapeFlag&70)?a(mt.el):He;_(mt,gt,St,null,ze,Ge,st,ht,!0)}},J=(Pe,_e,He,ze,Ge,st,ht)=>{if(He!==ze){if(He!==Nr)for(const it in He)!Ds(it)&&!(it in ze)&&t(Pe,it,He[it],null,ht,_e.children,Ge,st,ae);for(const it in ze){if(Ds(it))continue;const mt=ze[it],gt=He[it];mt!==gt&&it!=="value"&&t(Pe,it,gt,mt,ht,_e.children,Ge,st,ae)}"value"in ze&&t(Pe,"value",He.value,ze.value)}},ue=(Pe,_e,He,ze,Ge,st,ht,it,mt)=>{const gt=_e.el=Pe?Pe.el:f(""),St=_e.anchor=Pe?Pe.anchor:f("");let{patchFlag:bt,dynamicChildren:Et,slotScopeIds:i}=_e;i&&(it=it?it.concat(i):i),Pe==null?(S(gt,He,ze),S(St,He,ze),ne(_e.children,He,St,Ge,st,ht,it,mt)):bt>0&&bt&64&&Et&&Pe.dynamicChildren?(ge(Pe.dynamicChildren,Et,He,Ge,st,ht,it),(_e.key!=null||Ge&&_e===Ge.subTree)&&$u(Pe,_e,!0)):Le(Pe,_e,He,St,Ge,st,ht,it,mt)},he=(Pe,_e,He,ze,Ge,st,ht,it,mt)=>{_e.slotScopeIds=it,Pe==null?_e.shapeFlag&512?Ge.ctx.activate(_e,He,ze,ht,mt):ye(_e,He,ze,Ge,st,ht,mt):Oe(Pe,_e,mt)},ye=(Pe,_e,He,ze,Ge,st,ht)=>{const it=Pe.component=Th(Pe,ze,Ge);if(Vu(Pe)&&(it.ctx.renderer=Me),Ph(it),it.asyncDep){if(Ge&&Ge.registerDep(it,de),!Pe.el){const mt=it.subTree=rr(Ts);E(null,mt,_e,He)}return}de(it,Pe,_e,He,Ge,st,ht)},Oe=(Pe,_e,He)=>{const ze=_e.component=Pe.component;if(Fc(Pe,_e,He))if(ze.asyncDep&&!ze.asyncResolved){Ne(ze,_e,He);return}else ze.next=_e,jc(ze.update),ze.update();else _e.el=Pe.el,ze.vnode=_e},de=(Pe,_e,He,ze,Ge,st,ht)=>{const it=()=>{if(Pe.isMounted){let{next:St,bu:bt,u:Et,parent:i,vnode:e}=Pe,r=St,s;Mi(Pe,!1),St?(St.el=e.el,Ne(Pe,St,ht)):St=e,bt&&ca(bt),(s=St.props&&St.props.onVnodeBeforeUpdate)&&Un(s,i,St,e),Mi(Pe,!0);const h=ha(Pe),y=Pe.subTree;Pe.subTree=h,_(y,h,a(y.el),me(y),Pe,Ge,st),St.el=h.el,r===null&&Bc(Pe,h.el),Et&&fn(Et,Ge),(s=St.props&&St.props.onVnodeUpdated)&&fn(()=>Un(s,i,St,e),Ge)}else{let St;const{el:bt,props:Et}=_e,{bm:i,m:e,parent:r}=Pe,s=Bs(_e);if(Mi(Pe,!1),i&&ca(i),!s&&(St=Et&&Et.onVnodeBeforeMount)&&Un(St,r,_e),Mi(Pe,!0),bt&&je){const h=()=>{Pe.subTree=ha(Pe),je(bt,Pe.subTree,Pe,Ge,null)};s?_e.type.__asyncLoader().then(()=>!Pe.isUnmounted&&h()):h()}else{const h=Pe.subTree=ha(Pe);_(null,h,He,ze,Pe,Ge,st),_e.el=h.el}if(e&&fn(e,Ge),!s&&(St=Et&&Et.onVnodeMounted)){const h=_e;fn(()=>Un(St,r,h),Ge)}(_e.shapeFlag&256||r&&Bs(r.vnode)&&r.vnode.shapeFlag&256)&&Pe.a&&fn(Pe.a,Ge),Pe.isMounted=!0,_e=He=ze=null}},mt=Pe.effect=new za(it,()=>Ka(gt),Pe.scope),gt=Pe.update=()=>mt.run();gt.id=Pe.uid,Mi(Pe,!0),gt()},Ne=(Pe,_e,He)=>{_e.component=Pe;const ze=Pe.vnode.props;Pe.vnode=_e,Pe.next=null,lh(Pe,_e.props,ze,He),fh(Pe,_e.children,He),ns(),go(),is()},Le=(Pe,_e,He,ze,Ge,st,ht,it,mt=!1)=>{const gt=Pe&&Pe.children,St=Pe?Pe.shapeFlag:0,bt=_e.children,{patchFlag:Et,shapeFlag:i}=_e;if(Et>0){if(Et&128){$e(gt,bt,He,ze,Ge,st,ht,it,mt);return}else if(Et&256){Be(gt,bt,He,ze,Ge,st,ht,it,mt);return}}i&8?(St&16&&ae(gt,Ge,st),bt!==gt&&u(He,bt)):St&16?i&16?$e(gt,bt,He,ze,Ge,st,ht,it,mt):ae(gt,Ge,st,!0):(St&8&&u(He,""),i&16&&ne(bt,He,ze,Ge,st,ht,it,mt))},Be=(Pe,_e,He,ze,Ge,st,ht,it,mt)=>{Pe=Pe||Xi,_e=_e||Xi;const gt=Pe.length,St=_e.length,bt=Math.min(gt,St);let Et;for(Et=0;Et<bt;Et++){const i=_e[Et]=mt?fi(_e[Et]):zn(_e[Et]);_(Pe[Et],i,He,null,Ge,st,ht,it,mt)}gt>St?ae(Pe,Ge,st,!0,!1,bt):ne(_e,He,ze,Ge,st,ht,it,mt,bt)},$e=(Pe,_e,He,ze,Ge,st,ht,it,mt)=>{let gt=0;const St=_e.length;let bt=Pe.length-1,Et=St-1;for(;gt<=bt&&gt<=Et;){const i=Pe[gt],e=_e[gt]=mt?fi(_e[gt]):zn(_e[gt]);if(cs(i,e))_(i,e,He,null,Ge,st,ht,it,mt);else break;gt++}for(;gt<=bt&&gt<=Et;){const i=Pe[bt],e=_e[Et]=mt?fi(_e[Et]):zn(_e[Et]);if(cs(i,e))_(i,e,He,null,Ge,st,ht,it,mt);else break;bt--,Et--}if(gt>bt){if(gt<=Et){const i=Et+1,e=i<St?_e[i].el:ze;for(;gt<=Et;)_(null,_e[gt]=mt?fi(_e[gt]):zn(_e[gt]),He,e,Ge,st,ht,it,mt),gt++}}else if(gt>Et)for(;gt<=bt;)Ke(Pe[gt],Ge,st,!0),gt++;else{const i=gt,e=gt,r=new Map;for(gt=e;gt<=Et;gt++){const O=_e[gt]=mt?fi(_e[gt]):zn(_e[gt]);O.key!=null&&r.set(O.key,gt)}let s,h=0;const y=Et-e+1;let v=!1,x=0;const b=new Array(y);for(gt=0;gt<y;gt++)b[gt]=0;for(gt=i;gt<=bt;gt++){const O=Pe[gt];if(h>=y){Ke(O,Ge,st,!0);continue}let L;if(O.key!=null)L=r.get(O.key);else for(s=e;s<=Et;s++)if(b[s-e]===0&&cs(O,_e[s])){L=s;break}L===void 0?Ke(O,Ge,st,!0):(b[L-e]=gt+1,L>=x?x=L:v=!0,_(O,_e[L],He,null,Ge,st,ht,it,mt),h++)}const T=v?vh(b):Xi;for(s=T.length-1,gt=y-1;gt>=0;gt--){const O=e+gt,L=_e[O],D=O+1<St?_e[O+1].el:ze;b[gt]===0?_(null,L,He,D,Ge,st,ht,it,mt):v&&(s<0||gt!==T[s]?ut(L,He,D,2):s--)}}},ut=(Pe,_e,He,ze,Ge=null)=>{const{el:st,type:ht,transition:it,children:mt,shapeFlag:gt}=Pe;if(gt&6){ut(Pe.component.subTree,_e,He,ze);return}if(gt&128){Pe.suspense.move(_e,He,ze);return}if(gt&64){ht.move(Pe,_e,He,Me);return}if(ht===dn){S(st,_e,He);for(let bt=0;bt<mt.length;bt++)ut(mt[bt],_e,He,ze);S(Pe.anchor,_e,He);return}if(ht===Us){U(Pe,_e,He);return}if(ze!==2&&gt&1&&it)if(ze===0)it.beforeEnter(st),S(st,_e,He),fn(()=>it.enter(st),Ge);else{const{leave:bt,delayLeave:Et,afterLeave:i}=it,e=()=>S(st,_e,He),r=()=>{bt(st,()=>{e(),i&&i()})};Et?Et(st,e,r):r()}else S(st,_e,He)},Ke=(Pe,_e,He,ze=!1,Ge=!1)=>{const{type:st,props:ht,ref:it,children:mt,dynamicChildren:gt,shapeFlag:St,patchFlag:bt,dirs:Et}=Pe;if(it!=null&&Ta(it,null,He,Pe,!0),St&256){_e.ctx.deactivate(Pe);return}const i=St&1&&Et,e=!Bs(Pe);let r;if(e&&(r=ht&&ht.onVnodeBeforeUnmount)&&Un(r,_e,Pe),St&6)Fe(Pe.component,He,ze);else{if(St&128){Pe.suspense.unmount(He,ze);return}i&&Ai(Pe,null,_e,"beforeUnmount"),St&64?Pe.type.remove(Pe,_e,He,Ge,Me,ze):gt&&(st!==dn||bt>0&&bt&64)?ae(gt,_e,He,!1,!0):(st===dn&&bt&384||!Ge&&St&16)&&ae(mt,_e,He),ze&&_t(Pe)}(e&&(r=ht&&ht.onVnodeUnmounted)||i)&&fn(()=>{r&&Un(r,_e,Pe),i&&Ai(Pe,null,_e,"unmounted")},He)},_t=Pe=>{const{type:_e,el:He,anchor:ze,transition:Ge}=Pe;if(_e===dn){at(He,ze);return}if(_e===Us){V(Pe);return}const st=()=>{g(He),Ge&&!Ge.persisted&&Ge.afterLeave&&Ge.afterLeave()};if(Pe.shapeFlag&1&&Ge&&!Ge.persisted){const{leave:ht,delayLeave:it}=Ge,mt=()=>ht(He,st);it?it(Pe.el,st,mt):mt()}else st()},at=(Pe,_e)=>{let He;for(;Pe!==_e;)He=l(Pe),g(Pe),Pe=He;g(_e)},Fe=(Pe,_e,He)=>{const{bum:ze,scope:Ge,update:st,subTree:ht,um:it}=Pe;ze&&ca(ze),Ge.stop(),st&&(st.active=!1,Ke(ht,Pe,_e,He)),it&&fn(it,_e),fn(()=>{Pe.isUnmounted=!0},_e),_e&&_e.pendingBranch&&!_e.isUnmounted&&Pe.asyncDep&&!Pe.asyncResolved&&Pe.suspenseId===_e.pendingId&&(_e.deps--,_e.deps===0&&_e.resolve())},ae=(Pe,_e,He,ze=!1,Ge=!1,st=0)=>{for(let ht=st;ht<Pe.length;ht++)Ke(Pe[ht],_e,He,ze,Ge)},me=Pe=>Pe.shapeFlag&6?me(Pe.component.subTree):Pe.shapeFlag&128?Pe.suspense.next():l(Pe.anchor||Pe.el),Te=(Pe,_e,He)=>{Pe==null?_e._vnode&&Ke(_e._vnode,null,null,!0):_(_e._vnode||null,Pe,_e,null,null,null,He),go(),Ru(),_e._vnode=Pe},Me={p:_,um:Ke,m:ut,r:_t,mt:ye,mc:ne,pc:Le,pbc:ge,n:me,o:P};let Ve,je;return n&&([Ve,je]=n(Me)),{render:Te,hydrate:Ve,createApp:ph(Te,Ve)}}function Mi({effect:P,update:n},C){P.allowRecurse=n.allowRecurse=C}function $u(P,n,C=!1){const S=P.children,g=n.children;if(dr(S)&&dr(g))for(let t=0;t<S.length;t++){const c=S[t];let f=g[t];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=g[t]=fi(g[t]),f.el=c.el),C||$u(c,f))}}function vh(P){const n=P.slice(),C=[0];let S,g,t,c,f;const m=P.length;for(S=0;S<m;S++){const p=P[S];if(p!==0){if(g=C[C.length-1],P[g]<p){n[S]=g,C.push(S);continue}for(t=0,c=C.length-1;t<c;)f=t+c>>1,P[C[f]]<p?t=f+1:c=f;p<P[C[t]]&&(t>0&&(n[S]=C[t-1]),C[t]=S)}}for(t=C.length,c=C[t-1];t-- >0;)C[t]=c,c=n[c];return C}const yh=P=>P.__isTeleport,dn=Symbol(void 0),Ja=Symbol(void 0),Ts=Symbol(void 0),Us=Symbol(void 0),ms=[];let On=null;function Ur(P=!1){ms.push(On=P?null:[])}function _h(){ms.pop(),On=ms[ms.length-1]||null}let Ps=1;function Po(P){Ps+=P}function Qu(P){return P.dynamicChildren=Ps>0?On||Xi:null,_h(),Ps>0&&On&&On.push(P),P}function zr(P,n,C,S,g,t){return Qu(yt(P,n,C,S,g,t,!0))}function ko(P,n,C,S,g){return Qu(rr(P,n,C,S,g,!0))}function Pa(P){return P?P.__v_isVNode===!0:!1}function cs(P,n){return P.type===n.type&&P.key===n.key}const ia="__vInternal",Ju=({key:P})=>P!=null?P:null,Vs=({ref:P,ref_key:n,ref_for:C})=>P!=null?tn(P)||qr(P)||pr(P)?{i:Mn,r:P,k:n,f:!!C}:P:null;function yt(P,n=null,C=null,S=0,g=null,t=P===dn?0:1,c=!1,f=!1){const m={__v_isVNode:!0,__v_skip:!0,type:P,props:n,key:n&&Ju(n),ref:n&&Vs(n),scopeId:Fu,slotScopeIds:null,children:C,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:t,patchFlag:S,dynamicProps:g,dynamicChildren:null,appContext:null};return f?(eo(m,C),t&128&&P.normalize(m)):C&&(m.shapeFlag|=tn(C)?8:16),Ps>0&&!c&&On&&(m.patchFlag>0||t&6)&&m.patchFlag!==32&&On.push(m),m}const rr=bh;function bh(P,n=null,C=null,S=0,g=null,t=!1){if((!P||P===eh)&&(P=Ts),Pa(P)){const f=Qi(P,n,!0);return C&&eo(f,C),Ps>0&&!t&&On&&(f.shapeFlag&6?On[On.indexOf(P)]=f:On.push(f)),f.patchFlag|=-2,f}if(Oh(P)&&(P=P.__vccOpts),n){n=xh(n);let{class:f,style:m}=n;f&&!tn(f)&&(n.class=Wi(f)),Hr(m)&&(ku(m)&&!dr(m)&&(m=cn({},m)),n.style=Na(m))}const c=tn(P)?1:Uc(P)?128:yh(P)?64:Hr(P)?4:pr(P)?2:0;return yt(P,n,C,S,g,c,t,!0)}function xh(P){return P?ku(P)||ia in P?cn({},P):P:null}function Qi(P,n,C=!1){const{props:S,ref:g,patchFlag:t,children:c}=P,f=n?wh(S||{},n):S;return{__v_isVNode:!0,__v_skip:!0,type:P.type,props:f,key:f&&Ju(f),ref:n&&n.ref?C&&g?dr(g)?g.concat(Vs(n)):[g,Vs(n)]:Vs(n):g,scopeId:P.scopeId,slotScopeIds:P.slotScopeIds,children:c,target:P.target,targetAnchor:P.targetAnchor,staticCount:P.staticCount,shapeFlag:P.shapeFlag,patchFlag:n&&P.type!==dn?t===-1?16:t|16:t,dynamicProps:P.dynamicProps,dynamicChildren:P.dynamicChildren,appContext:P.appContext,dirs:P.dirs,transition:P.transition,component:P.component,suspense:P.suspense,ssContent:P.ssContent&&Qi(P.ssContent),ssFallback:P.ssFallback&&Qi(P.ssFallback),el:P.el,anchor:P.anchor}}function Fr(P=" ",n=0){return rr(Ja,null,P,n)}function Di(P,n){const C=rr(Us,null,P);return C.staticCount=n,C}function zn(P){return P==null||typeof P=="boolean"?rr(Ts):dr(P)?rr(dn,null,P.slice()):typeof P=="object"?fi(P):rr(Ja,null,String(P))}function fi(P){return P.el===null&&P.patchFlag!==-1||P.memo?P:Qi(P)}function eo(P,n){let C=0;const{shapeFlag:S}=P;if(n==null)n=null;else if(dr(n))C=16;else if(typeof n=="object")if(S&65){const g=n.default;g&&(g._c&&(g._d=!1),eo(P,g()),g._c&&(g._d=!0));return}else{C=32;const g=n._;!g&&!(ia in n)?n._ctx=Mn:g===3&&Mn&&(Mn.slots._===1?n._=1:(n._=2,P.patchFlag|=1024))}else pr(n)?(n={default:n,_ctx:Mn},C=32):(n=String(n),S&64?(C=16,n=[Fr(n)]):C=8);P.children=n,P.shapeFlag|=C}function wh(...P){const n={};for(let C=0;C<P.length;C++){const S=P[C];for(const g in S)if(g==="class")n.class!==S.class&&(n.class=Wi([n.class,S.class]));else if(g==="style")n.style=Na([n.style,S.style]);else if(Ys(g)){const t=n[g],c=S[g];c&&t!==c&&!(dr(t)&&t.includes(c))&&(n[g]=t?[].concat(t,c):c)}else g!==""&&(n[g]=S[g])}return n}function Un(P,n,C,S=null){In(P,n,7,[C,S])}const Sh=Ku();let Ch=0;function Th(P,n,C){const S=P.type,g=(n?n.appContext:P.appContext)||Sh,t={uid:Ch++,vnode:P,type:S,parent:n,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,scope:new pu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(g.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wu(S,g),emitsOptions:Du(S,g),emit:null,emitted:null,propsDefaults:Nr,inheritAttrs:S.inheritAttrs,ctx:Nr,data:Nr,props:Nr,attrs:Nr,slots:Nr,refs:Nr,setupState:Nr,setupContext:null,suspense:C,suspenseId:C?C.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return t.ctx={_:t},t.root=n?n.root:t,t.emit=Rc.bind(null,t),P.ce&&P.ce(t),t}let Kr=null;const el=()=>Kr||Mn,Ji=P=>{Kr=P,P.scope.on()},Ri=()=>{Kr&&Kr.scope.off(),Kr=null};function tl(P){return P.vnode.shapeFlag&4}let ks=!1;function Ph(P,n=!1){ks=n;const{props:C,children:S}=P.vnode,g=tl(P);uh(P,C,g,n),hh(P,S);const t=g?kh(P,n):void 0;return ks=!1,t}function kh(P,n){const C=P.type;P.accessCache=Object.create(null),P.proxy=Ki(new Proxy(P.ctx,rh));const{setup:S}=C;if(S){const g=P.setupContext=S.length>1?Ah(P):null;Ji(P),ns();const t=vi(S,P,0,[P.props,g]);if(is(),Ri(),du(t)){if(t.then(Ri,Ri),n)return t.then(c=>{Eo(P,c,n)}).catch(c=>{ea(c,P,0)});P.asyncDep=t}else Eo(P,t,n)}else rl(P,n)}function Eo(P,n,C){pr(n)?P.type.__ssrInlineRender?P.ssrRender=n:P.render=n:Hr(n)&&(P.setupState=Ou(n)),rl(P,C)}let Ao;function rl(P,n,C){const S=P.type;if(!P.render){if(!n&&Ao&&!S.render){const g=S.template||$a(P).template;if(g){const{isCustomElement:t,compilerOptions:c}=P.appContext.config,{delimiters:f,compilerOptions:m}=S,p=cn(cn({isCustomElement:t,delimiters:f},c),m);S.render=Ao(g,p)}}P.render=S.render||jn}Ji(P),ns(),nh(P),is(),Ri()}function Eh(P){return new Proxy(P.attrs,{get(n,C){return yn(P,"get","$attrs"),n[C]}})}function Ah(P){const n=S=>{P.exposed=S||{}};let C;return{get attrs(){return C||(C=Eh(P))},slots:P.slots,emit:P.emit,expose:n}}function to(P){if(P.exposed)return P.exposeProxy||(P.exposeProxy=new Proxy(Ou(Ki(P.exposed)),{get(n,C){if(C in n)return n[C];if(C in Hs)return Hs[C](P)}}))}function Mh(P,n=!0){return pr(P)?P.displayName||P.name:P.name||n&&P.__name}function Oh(P){return pr(P)&&"__vccOpts"in P}const vn=(P,n)=>Ac(P,n,ks);function nl(P,n,C){const S=arguments.length;return S===2?Hr(n)&&!dr(n)?Pa(n)?rr(P,null,[n]):rr(P,n):rr(P,null,n):(S>3?C=Array.prototype.slice.call(arguments,2):S===3&&Pa(C)&&(C=[C]),rr(P,n,C))}const jh="3.2.40",Ih="http://www.w3.org/2000/svg",Ii=typeof document<"u"?document:null,Mo=Ii&&Ii.createElement("template"),Lh={insert:(P,n,C)=>{n.insertBefore(P,C||null)},remove:P=>{const n=P.parentNode;n&&n.removeChild(P)},createElement:(P,n,C,S)=>{const g=n?Ii.createElementNS(Ih,P):Ii.createElement(P,C?{is:C}:void 0);return P==="select"&&S&&S.multiple!=null&&g.setAttribute("multiple",S.multiple),g},createText:P=>Ii.createTextNode(P),createComment:P=>Ii.createComment(P),setText:(P,n)=>{P.nodeValue=n},setElementText:(P,n)=>{P.textContent=n},parentNode:P=>P.parentNode,nextSibling:P=>P.nextSibling,querySelector:P=>Ii.querySelector(P),setScopeId(P,n){P.setAttribute(n,"")},insertStaticContent(P,n,C,S,g,t){const c=C?C.previousSibling:n.lastChild;if(g&&(g===t||g.nextSibling))for(;n.insertBefore(g.cloneNode(!0),C),!(g===t||!(g=g.nextSibling)););else{Mo.innerHTML=S?`<svg>${P}</svg>`:P;const f=Mo.content;if(S){const m=f.firstChild;for(;m.firstChild;)f.appendChild(m.firstChild);f.removeChild(m)}n.insertBefore(f,C)}return[c?c.nextSibling:n.firstChild,C?C.previousSibling:n.lastChild]}};function Rh(P,n,C){const S=P._vtc;S&&(n=(n?[n,...S]:[...S]).join(" ")),n==null?P.removeAttribute("class"):C?P.setAttribute("class",n):P.className=n}function Nh(P,n,C){const S=P.style,g=tn(C);if(C&&!g){for(const t in C)ka(S,t,C[t]);if(n&&!tn(n))for(const t in n)C[t]==null&&ka(S,t,"")}else{const t=S.display;g?n!==C&&(S.cssText=C):n&&P.removeAttribute("style"),"_vod"in P&&(S.display=t)}}const Oo=/\s*!important$/;function ka(P,n,C){if(dr(C))C.forEach(S=>ka(P,n,S));else if(C==null&&(C=""),n.startsWith("--"))P.setProperty(n,C);else{const S=Dh(P,n);Oo.test(C)?P.setProperty(rs(S),C.replace(Oo,""),"important"):P[S]=C}}const jo=["Webkit","Moz","ms"],fa={};function Dh(P,n){const C=fa[n];if(C)return C;let S=qn(n);if(S!=="filter"&&S in P)return fa[n]=S;S=Qs(S);for(let g=0;g<jo.length;g++){const t=jo[g]+S;if(t in P)return fa[n]=t}return n}const Io="http://www.w3.org/1999/xlink";function Fh(P,n,C,S,g){if(S&&n.startsWith("xlink:"))C==null?P.removeAttributeNS(Io,n.slice(6,n.length)):P.setAttributeNS(Io,n,C);else{const t=Ll(n);C==null||t&&!fu(C)?P.removeAttribute(n):P.setAttribute(n,t?"":C)}}function Bh(P,n,C,S,g,t,c){if(n==="innerHTML"||n==="textContent"){S&&c(S,g,t),P[n]=C==null?"":C;return}if(n==="value"&&P.tagName!=="PROGRESS"&&!P.tagName.includes("-")){P._value=C;const m=C==null?"":C;(P.value!==m||P.tagName==="OPTION")&&(P.value=m),C==null&&P.removeAttribute(n);return}let f=!1;if(C===""||C==null){const m=typeof P[n];m==="boolean"?C=fu(C):C==null&&m==="string"?(C="",f=!0):m==="number"&&(C=0,f=!0)}try{P[n]=C}catch{}f&&P.removeAttribute(n)}const[il,Uh]=(()=>{let P=Date.now,n=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(P=performance.now.bind(performance));const C=navigator.userAgent.match(/firefox\/(\d+)/i);n=!!(C&&Number(C[1])<=53)}return[P,n]})();let Ea=0;const Vh=Promise.resolve(),zh=()=>{Ea=0},Gh=()=>Ea||(Vh.then(zh),Ea=il());function qh(P,n,C,S){P.addEventListener(n,C,S)}function Hh(P,n,C,S){P.removeEventListener(n,C,S)}function Wh(P,n,C,S,g=null){const t=P._vei||(P._vei={}),c=t[n];if(S&&c)c.value=S;else{const[f,m]=Xh(n);if(S){const p=t[n]=Zh(S,g);qh(P,f,p,m)}else c&&(Hh(P,f,c,m),t[n]=void 0)}}const Lo=/(?:Once|Passive|Capture)$/;function Xh(P){let n;if(Lo.test(P)){n={};let S;for(;S=P.match(Lo);)P=P.slice(0,P.length-S[0].length),n[S[0].toLowerCase()]=!0}return[P[2]===":"?P.slice(3):rs(P.slice(2)),n]}function Zh(P,n){const C=S=>{const g=S.timeStamp||il();(Uh||g>=C.attached-1)&&In(Yh(S,C.value),n,5,[S])};return C.value=P,C.attached=Gh(),C}function Yh(P,n){if(dr(n)){const C=P.stopImmediatePropagation;return P.stopImmediatePropagation=()=>{C.call(P),P._stopped=!0},n.map(S=>g=>!g._stopped&&S&&S(g))}else return n}const Ro=/^on[a-z]/,Kh=(P,n,C,S,g=!1,t,c,f,m)=>{n==="class"?Rh(P,S,g):n==="style"?Nh(P,C,S):Ys(n)?Da(n)||Wh(P,n,C,S,c):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):$h(P,n,S,g))?Bh(P,n,S,t,c,f,m):(n==="true-value"?P._trueValue=S:n==="false-value"&&(P._falseValue=S),Fh(P,n,S,g))};function $h(P,n,C,S){return S?!!(n==="innerHTML"||n==="textContent"||n in P&&Ro.test(n)&&pr(C)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&P.tagName==="INPUT"||n==="type"&&P.tagName==="TEXTAREA"||Ro.test(n)&&tn(C)?!1:n in P}const Qh=cn({patchProp:Kh},Lh);let No;function Jh(){return No||(No=mh(Qh))}const ef=(...P)=>{const n=Jh().createApp(...P),{mount:C}=n;return n.mount=S=>{const g=tf(S);if(!g)return;const t=n._component;!pr(t)&&!t.render&&!t.template&&(t.template=g.innerHTML),g.innerHTML="";const c=C(g,!1,g instanceof SVGElement);return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),c},n};function tf(P){return tn(P)?document.querySelector(P):P}var rf=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let sl;const sa=P=>sl=P,al=Symbol();function Aa(P){return P&&typeof P=="object"&&Object.prototype.toString.call(P)==="[object Object]"&&typeof P.toJSON!="function"}var gs;(function(P){P.direct="direct",P.patchObject="patch object",P.patchFunction="patch function"})(gs||(gs={}));function nf(){const P=mu(!0),n=P.run(()=>pn({}));let C=[],S=[];const g=Ki({install(t){sa(g),g._a=t,t.provide(al,g),t.config.globalProperties.$pinia=g,S.forEach(c=>C.push(c)),S=[]},use(t){return!this._a&&!rf?S.push(t):C.push(t),this},_p:C,_a:null,_e:P,_s:new Map,state:n});return g}const ol=()=>{};function Do(P,n,C,S=ol){P.push(n);const g=()=>{const t=P.indexOf(n);t>-1&&(P.splice(t,1),S())};return!C&&el()&&na(g),g}function zi(P,...n){P.slice().forEach(C=>{C(...n)})}function Ma(P,n){P instanceof Map&&n instanceof Map&&n.forEach((C,S)=>P.set(S,C)),P instanceof Set&&n instanceof Set&&n.forEach(P.add,P);for(const C in n){if(!n.hasOwnProperty(C))continue;const S=n[C],g=P[C];Aa(g)&&Aa(S)&&P.hasOwnProperty(C)&&!qr(S)&&!mi(S)?P[C]=Ma(g,S):P[C]=S}return P}const sf=Symbol();function af(P){return!Aa(P)||!P.hasOwnProperty(sf)}const{assign:ti}=Object;function of(P){return!!(qr(P)&&P.effect)}function uf(P,n,C,S){const{state:g,actions:t,getters:c}=n,f=C.state.value[P];let m;function p(){f||(C.state.value[P]=g?g():{});const u=Tc(C.state.value[P]);return ti(u,t,Object.keys(c||{}).reduce((a,l)=>(a[l]=Ki(vn(()=>{sa(C);const o=C._s.get(P);return c[l].call(o,o)})),a),{}))}return m=ul(P,p,n,C,S,!0),m.$reset=function(){const a=g?g():{};this.$patch(l=>{ti(l,a)})},m}function ul(P,n,C={},S,g,t){let c;const f=ti({actions:{}},C),m={deep:!0};let p,u,a=Ki([]),l=Ki([]),o;const d=S.state.value[P];!t&&!d&&(S.state.value[P]={}),pn({});let _;function k(se){let ne;p=u=!1,typeof se=="function"?(se(S.state.value[P]),ne={type:gs.patchFunction,storeId:P,events:o}):(Ma(S.state.value[P],se),ne={type:gs.patchObject,payload:se,storeId:P,events:o});const oe=_=Symbol();Ya().then(()=>{_===oe&&(p=!0)}),u=!0,zi(a,ne,S.state.value[P])}const E=ol;function I(){c.stop(),a=[],l=[],S._s.delete(P)}function U(se,ne){return function(){sa(S);const oe=Array.from(arguments),ge=[],J=[];function ue(Oe){ge.push(Oe)}function he(Oe){J.push(Oe)}zi(l,{args:oe,name:se,store:$,after:ue,onError:he});let ye;try{ye=ne.apply(this&&this.$id===P?this:$,oe)}catch(Oe){throw zi(J,Oe),Oe}return ye instanceof Promise?ye.then(Oe=>(zi(ge,Oe),Oe)).catch(Oe=>(zi(J,Oe),Promise.reject(Oe))):(zi(ge,ye),ye)}}const V={_p:S,$id:P,$onAction:Do.bind(null,l),$patch:k,$reset:E,$subscribe(se,ne={}){const oe=Do(a,se,ne.detached,()=>ge()),ge=c.run(()=>ps(()=>S.state.value[P],J=>{(ne.flush==="sync"?u:p)&&se({storeId:P,type:gs.direct,events:o},J)},ti({},m,ne)));return oe},$dispose:I},$=ss(ti({},V));S._s.set(P,$);const B=S._e.run(()=>(c=mu(),c.run(()=>n())));for(const se in B){const ne=B[se];if(qr(ne)&&!of(ne)||mi(ne))t||(d&&af(ne)&&(qr(ne)?ne.value=d[se]:Ma(ne,d[se])),S.state.value[P][se]=ne);else if(typeof ne=="function"){const oe=U(se,ne);B[se]=oe,f.actions[se]=ne}}return ti($,B),ti(Er($),B),Object.defineProperty($,"$state",{get:()=>S.state.value[P],set:se=>{k(ne=>{ti(ne,se)})}}),S._p.forEach(se=>{ti($,c.run(()=>se({store:$,app:S._a,pinia:S,options:f})))}),d&&t&&C.hydrate&&C.hydrate($.$state,d),p=!0,u=!0,$}function ll(P,n,C){let S,g;const t=typeof n=="function";typeof P=="string"?(S=P,g=t?C:n):(g=P,S=P.id);function c(f,m){const p=el();return f=f||p&&ri(al),f&&sa(f),f=sl,f._s.has(S)||(t?ul(S,n,g,f):uf(S,g,f)),f._s.get(S)}return c.$id=S,c}const rn=(P,n)=>{const C=P.__vccOpts||P;for(const[S,g]of n)C[S]=g;return C},lf={},cf={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"100%",height:"100%",fill:"currentColor",viewBox:"0 0 204.1 84.9","xml:space":"preserve"},hf=yt("defs",null,null,-1),ff=yt("g",null,[yt("path",{class:"",d:`M27,30.9c14.9,0,27,12.1,27,27s-12.1,27-27,27S0,72.8,0,57.9S12.1,30.9,27,30.9z M14.7,57.9
		c0,11.8,5.5,21.3,12.3,21.3s12.3-9.6,12.3-21.3S33.8,36.5,27,36.5S14.7,46.1,14.7,57.9z`}),yt("path",{class:"",d:`M102.1,0c23.4,0,42.4,19,42.4,42.4s-19,42.4-42.4,42.4s-42.4-19-42.4-42.4S78.6,0,102.1,0z M81.7,42.4
		c0,20.3,9.1,36.8,20.4,36.8s20.4-16.5,20.4-36.8s-9.1-36.8-20.4-36.8S81.7,22.1,81.7,42.4z`}),yt("path",{class:"",d:`M177.2,30.9c14.9,0,27,12.1,27,27s-12.1,27-27,27s-27-12.1-27-27S162.3,30.9,177.2,30.9z M163.8,57.9
		c0,11.8,6,21.3,13.4,21.3s13.4-9.6,13.4-21.3s-6-21.3-13.4-21.3S163.8,46.1,163.8,57.9z`})],-1),df=[hf,ff];function pf(P,n){return Ur(),zr("svg",cf,df)}const Fo=rn(lf,[["render",pf]]),mf={},gf={width:"100%",height:"100%",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vf=Di('<mask id="mask0_689_1846" style="mask-type:alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="40" height="40"><rect width="40" height="40" fill="currentColor"></rect></mask><g mask="url(#mask0_689_1846)"><path d="M9 9L31 30" stroke="currentColor" stroke-width="3.5"></path><path d="M31 9L9 30" stroke="currentColor" stroke-width="3.5"></path></g>',2),yf=[vf];function _f(P,n){return Ur(),zr("svg",gf,yf)}const bf=rn(mf,[["render",_f]]),xf={},wf={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Sf=yt("mask",{id:"mask0_703_1806",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24"},[yt("rect",{width:"24",height:"24",fill:"#D9D9D9"})],-1),Cf=yt("g",{mask:"url(#mask0_703_1806)"},[yt("path",{d:"M11 20V7.825L5.4 13.425L4 12L12 4L20 12L18.6 13.425L13 7.825V20H11Z",fill:"#FFF9F3"})],-1),Tf=[Sf,Cf];function Pf(P,n){return Ur(),zr("svg",wf,Tf)}const kf=rn(xf,[["render",Pf]]),Ef={},Af={width:"100%",height:"100%",viewBox:"0 0 40 40",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},Mf=yt("mask",{id:"mask0_667_2930",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"40",height:"40"},[yt("rect",{width:"40",height:"40",fill:"#FFF9F3"})],-1),Of=yt("g",{mask:"url(#mask0_667_2930)"},[yt("path",{d:"M5 30V27.208H35V30H5ZM5 21.375V18.625H35V21.375H5ZM5 12.792V10H35V12.792H5Z"})],-1),jf=[Mf,Of];function If(P,n){return Ur(),zr("svg",Af,jf)}const Lf=rn(Ef,[["render",If]]);/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const qi=typeof window<"u";function Rf(P){return P.__esModule||P[Symbol.toStringTag]==="Module"}const Or=Object.assign;function da(P,n){const C={};for(const S in n){const g=n[S];C[S]=Ln(g)?g.map(P):P(g)}return C}const vs=()=>{},Ln=Array.isArray,Nf=/\/$/,Df=P=>P.replace(Nf,"");function pa(P,n,C="/"){let S,g={},t="",c="";const f=n.indexOf("#");let m=n.indexOf("?");return f<m&&f>=0&&(m=-1),m>-1&&(S=n.slice(0,m),t=n.slice(m+1,f>-1?f:n.length),g=P(t)),f>-1&&(S=S||n.slice(0,f),c=n.slice(f,n.length)),S=Vf(S!=null?S:n,C),{fullPath:S+(t&&"?")+t+c,path:S,query:g,hash:c}}function Ff(P,n){const C=n.query?P(n.query):"";return n.path+(C&&"?")+C+(n.hash||"")}function Bo(P,n){return!n||!P.toLowerCase().startsWith(n.toLowerCase())?P:P.slice(n.length)||"/"}function Bf(P,n,C){const S=n.matched.length-1,g=C.matched.length-1;return S>-1&&S===g&&es(n.matched[S],C.matched[g])&&cl(n.params,C.params)&&P(n.query)===P(C.query)&&n.hash===C.hash}function es(P,n){return(P.aliasOf||P)===(n.aliasOf||n)}function cl(P,n){if(Object.keys(P).length!==Object.keys(n).length)return!1;for(const C in P)if(!Uf(P[C],n[C]))return!1;return!0}function Uf(P,n){return Ln(P)?Uo(P,n):Ln(n)?Uo(n,P):P===n}function Uo(P,n){return Ln(n)?P.length===n.length&&P.every((C,S)=>C===n[S]):P.length===1&&P[0]===n}function Vf(P,n){if(P.startsWith("/"))return P;if(!P)return n;const C=n.split("/"),S=P.split("/");let g=C.length-1,t,c;for(t=0;t<S.length;t++)if(c=S[t],c!==".")if(c==="..")g>1&&g--;else break;return C.slice(0,g).join("/")+"/"+S.slice(t-(t===S.length?1:0)).join("/")}var Es;(function(P){P.pop="pop",P.push="push"})(Es||(Es={}));var ys;(function(P){P.back="back",P.forward="forward",P.unknown=""})(ys||(ys={}));function zf(P){if(!P)if(qi){const n=document.querySelector("base");P=n&&n.getAttribute("href")||"/",P=P.replace(/^\w+:\/\/[^\/]+/,"")}else P="/";return P[0]!=="/"&&P[0]!=="#"&&(P="/"+P),Df(P)}const Gf=/^[^#]+#/;function qf(P,n){return P.replace(Gf,"#")+n}function Hf(P,n){const C=document.documentElement.getBoundingClientRect(),S=P.getBoundingClientRect();return{behavior:n.behavior,left:S.left-C.left-(n.left||0),top:S.top-C.top-(n.top||0)}}const aa=()=>({left:window.pageXOffset,top:window.pageYOffset});function Wf(P){let n;if("el"in P){const C=P.el,S=typeof C=="string"&&C.startsWith("#"),g=typeof C=="string"?S?document.getElementById(C.slice(1)):document.querySelector(C):C;if(!g)return;n=Hf(g,P)}else n=P;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function Vo(P,n){return(history.state?history.state.position-n:-1)+P}const Oa=new Map;function Xf(P,n){Oa.set(P,n)}function Zf(P){const n=Oa.get(P);return Oa.delete(P),n}let Yf=()=>location.protocol+"//"+location.host;function hl(P,n){const{pathname:C,search:S,hash:g}=n,t=P.indexOf("#");if(t>-1){let f=g.includes(P.slice(t))?P.slice(t).length:1,m=g.slice(f);return m[0]!=="/"&&(m="/"+m),Bo(m,"")}return Bo(C,P)+S+g}function Kf(P,n,C,S){let g=[],t=[],c=null;const f=({state:l})=>{const o=hl(P,location),d=C.value,_=n.value;let k=0;if(l){if(C.value=o,n.value=l,c&&c===d){c=null;return}k=_?l.position-_.position:0}else S(o);g.forEach(E=>{E(C.value,d,{delta:k,type:Es.pop,direction:k?k>0?ys.forward:ys.back:ys.unknown})})};function m(){c=C.value}function p(l){g.push(l);const o=()=>{const d=g.indexOf(l);d>-1&&g.splice(d,1)};return t.push(o),o}function u(){const{history:l}=window;!l.state||l.replaceState(Or({},l.state,{scroll:aa()}),"")}function a(){for(const l of t)l();t=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",u),{pauseListeners:m,listen:p,destroy:a}}function zo(P,n,C,S=!1,g=!1){return{back:P,current:n,forward:C,replaced:S,position:window.history.length,scroll:g?aa():null}}function $f(P){const{history:n,location:C}=window,S={value:hl(P,C)},g={value:n.state};g.value||t(S.value,{back:null,current:S.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function t(m,p,u){const a=P.indexOf("#"),l=a>-1?(C.host&&document.querySelector("base")?P:P.slice(a))+m:Yf()+P+m;try{n[u?"replaceState":"pushState"](p,"",l),g.value=p}catch(o){console.error(o),C[u?"replace":"assign"](l)}}function c(m,p){const u=Or({},n.state,zo(g.value.back,m,g.value.forward,!0),p,{position:g.value.position});t(m,u,!0),S.value=m}function f(m,p){const u=Or({},g.value,n.state,{forward:m,scroll:aa()});t(u.current,u,!0);const a=Or({},zo(S.value,m,null),{position:u.position+1},p);t(m,a,!1),S.value=m}return{location:S,state:g,push:f,replace:c}}function Qf(P){P=zf(P);const n=$f(P),C=Kf(P,n.state,n.location,n.replace);function S(t,c=!0){c||C.pauseListeners(),history.go(t)}const g=Or({location:"",base:P,go:S,createHref:qf.bind(null,P)},n,C);return Object.defineProperty(g,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(g,"state",{enumerable:!0,get:()=>n.state.value}),g}function Jf(P){return typeof P=="string"||P&&typeof P=="object"}function fl(P){return typeof P=="string"||typeof P=="symbol"}const hi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},dl=Symbol("");var Go;(function(P){P[P.aborted=4]="aborted",P[P.cancelled=8]="cancelled",P[P.duplicated=16]="duplicated"})(Go||(Go={}));function ts(P,n){return Or(new Error,{type:P,[dl]:!0},n)}function Jn(P,n){return P instanceof Error&&dl in P&&(n==null||!!(P.type&n))}const qo="[^/]+?",ed={sensitive:!1,strict:!1,start:!0,end:!0},td=/[.+*?^${}()[\]/\\]/g;function rd(P,n){const C=Or({},ed,n),S=[];let g=C.start?"^":"";const t=[];for(const p of P){const u=p.length?[]:[90];C.strict&&!p.length&&(g+="/");for(let a=0;a<p.length;a++){const l=p[a];let o=40+(C.sensitive?.25:0);if(l.type===0)a||(g+="/"),g+=l.value.replace(td,"\\$&"),o+=40;else if(l.type===1){const{value:d,repeatable:_,optional:k,regexp:E}=l;t.push({name:d,repeatable:_,optional:k});const I=E||qo;if(I!==qo){o+=10;try{new RegExp(`(${I})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${d}" (${I}): `+V.message)}}let U=_?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;a||(U=k&&p.length<2?`(?:/${U})`:"/"+U),k&&(U+="?"),g+=U,o+=20,k&&(o+=-8),_&&(o+=-20),I===".*"&&(o+=-50)}u.push(o)}S.push(u)}if(C.strict&&C.end){const p=S.length-1;S[p][S[p].length-1]+=.7000000000000001}C.strict||(g+="/?"),C.end?g+="$":C.strict&&(g+="(?:/|$)");const c=new RegExp(g,C.sensitive?"":"i");function f(p){const u=p.match(c),a={};if(!u)return null;for(let l=1;l<u.length;l++){const o=u[l]||"",d=t[l-1];a[d.name]=o&&d.repeatable?o.split("/"):o}return a}function m(p){let u="",a=!1;for(const l of P){(!a||!u.endsWith("/"))&&(u+="/"),a=!1;for(const o of l)if(o.type===0)u+=o.value;else if(o.type===1){const{value:d,repeatable:_,optional:k}=o,E=d in p?p[d]:"";if(Ln(E)&&!_)throw new Error(`Provided param "${d}" is an array but it is not repeatable (* or + modifiers)`);const I=Ln(E)?E.join("/"):E;if(!I)if(k)l.length<2&&(u.endsWith("/")?u=u.slice(0,-1):a=!0);else throw new Error(`Missing required param "${d}"`);u+=I}}return u||"/"}return{re:c,score:S,keys:t,parse:f,stringify:m}}function nd(P,n){let C=0;for(;C<P.length&&C<n.length;){const S=n[C]-P[C];if(S)return S;C++}return P.length<n.length?P.length===1&&P[0]===40+40?-1:1:P.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function id(P,n){let C=0;const S=P.score,g=n.score;for(;C<S.length&&C<g.length;){const t=nd(S[C],g[C]);if(t)return t;C++}if(Math.abs(g.length-S.length)===1){if(Ho(S))return 1;if(Ho(g))return-1}return g.length-S.length}function Ho(P){const n=P[P.length-1];return P.length>0&&n[n.length-1]<0}const sd={type:0,value:""},ad=/[a-zA-Z0-9_]/;function od(P){if(!P)return[[]];if(P==="/")return[[sd]];if(!P.startsWith("/"))throw new Error(`Invalid path "${P}"`);function n(o){throw new Error(`ERR (${C})/"${p}": ${o}`)}let C=0,S=C;const g=[];let t;function c(){t&&g.push(t),t=[]}let f=0,m,p="",u="";function a(){!p||(C===0?t.push({type:0,value:p}):C===1||C===2||C===3?(t.length>1&&(m==="*"||m==="+")&&n(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),t.push({type:1,value:p,regexp:u,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):n("Invalid state to consume buffer"),p="")}function l(){p+=m}for(;f<P.length;){if(m=P[f++],m==="\\"&&C!==2){S=C,C=4;continue}switch(C){case 0:m==="/"?(p&&a(),c()):m===":"?(a(),C=1):l();break;case 4:l(),C=S;break;case 1:m==="("?C=2:ad.test(m)?l():(a(),C=0,m!=="*"&&m!=="?"&&m!=="+"&&f--);break;case 2:m===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+m:C=3:u+=m;break;case 3:a(),C=0,m!=="*"&&m!=="?"&&m!=="+"&&f--,u="";break;default:n("Unknown state");break}}return C===2&&n(`Unfinished custom RegExp for param "${p}"`),a(),c(),g}function ud(P,n,C){const S=rd(od(P.path),C),g=Or(S,{record:P,parent:n,children:[],alias:[]});return n&&!g.record.aliasOf==!n.record.aliasOf&&n.children.push(g),g}function ld(P,n){const C=[],S=new Map;n=Zo({strict:!1,end:!0,sensitive:!1},n);function g(u){return S.get(u)}function t(u,a,l){const o=!l,d=cd(u);d.aliasOf=l&&l.record;const _=Zo(n,u),k=[d];if("alias"in u){const U=typeof u.alias=="string"?[u.alias]:u.alias;for(const V of U)k.push(Or({},d,{components:l?l.record.components:d.components,path:V,aliasOf:l?l.record:d}))}let E,I;for(const U of k){const{path:V}=U;if(a&&V[0]!=="/"){const $=a.record.path,B=$[$.length-1]==="/"?"":"/";U.path=a.record.path+(V&&B+V)}if(E=ud(U,a,_),l?l.alias.push(E):(I=I||E,I!==E&&I.alias.push(E),o&&u.name&&!Xo(E)&&c(u.name)),d.children){const $=d.children;for(let B=0;B<$.length;B++)t($[B],E,l&&l.children[B])}l=l||E,m(E)}return I?()=>{c(I)}:vs}function c(u){if(fl(u)){const a=S.get(u);a&&(S.delete(u),C.splice(C.indexOf(a),1),a.children.forEach(c),a.alias.forEach(c))}else{const a=C.indexOf(u);a>-1&&(C.splice(a,1),u.record.name&&S.delete(u.record.name),u.children.forEach(c),u.alias.forEach(c))}}function f(){return C}function m(u){let a=0;for(;a<C.length&&id(u,C[a])>=0&&(u.record.path!==C[a].record.path||!pl(u,C[a]));)a++;C.splice(a,0,u),u.record.name&&!Xo(u)&&S.set(u.record.name,u)}function p(u,a){let l,o={},d,_;if("name"in u&&u.name){if(l=S.get(u.name),!l)throw ts(1,{location:u});_=l.record.name,o=Or(Wo(a.params,l.keys.filter(I=>!I.optional).map(I=>I.name)),u.params&&Wo(u.params,l.keys.map(I=>I.name))),d=l.stringify(o)}else if("path"in u)d=u.path,l=C.find(I=>I.re.test(d)),l&&(o=l.parse(d),_=l.record.name);else{if(l=a.name?S.get(a.name):C.find(I=>I.re.test(a.path)),!l)throw ts(1,{location:u,currentLocation:a});_=l.record.name,o=Or({},a.params,u.params),d=l.stringify(o)}const k=[];let E=l;for(;E;)k.unshift(E.record),E=E.parent;return{name:_,path:d,params:o,matched:k,meta:fd(k)}}return P.forEach(u=>t(u)),{addRoute:t,resolve:p,removeRoute:c,getRoutes:f,getRecordMatcher:g}}function Wo(P,n){const C={};for(const S of n)S in P&&(C[S]=P[S]);return C}function cd(P){return{path:P.path,redirect:P.redirect,name:P.name,meta:P.meta||{},aliasOf:void 0,beforeEnter:P.beforeEnter,props:hd(P),children:P.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in P?P.components||null:P.component&&{default:P.component}}}function hd(P){const n={},C=P.props||!1;if("component"in P)n.default=C;else for(const S in P.components)n[S]=typeof C=="boolean"?C:C[S];return n}function Xo(P){for(;P;){if(P.record.aliasOf)return!0;P=P.parent}return!1}function fd(P){return P.reduce((n,C)=>Or(n,C.meta),{})}function Zo(P,n){const C={};for(const S in P)C[S]=S in n?n[S]:P[S];return C}function pl(P,n){return n.children.some(C=>C===P||pl(P,C))}const ml=/#/g,dd=/&/g,pd=/\//g,md=/=/g,gd=/\?/g,gl=/\+/g,vd=/%5B/g,yd=/%5D/g,vl=/%5E/g,_d=/%60/g,yl=/%7B/g,bd=/%7C/g,_l=/%7D/g,xd=/%20/g;function ro(P){return encodeURI(""+P).replace(bd,"|").replace(vd,"[").replace(yd,"]")}function wd(P){return ro(P).replace(yl,"{").replace(_l,"}").replace(vl,"^")}function ja(P){return ro(P).replace(gl,"%2B").replace(xd,"+").replace(ml,"%23").replace(dd,"%26").replace(_d,"`").replace(yl,"{").replace(_l,"}").replace(vl,"^")}function Sd(P){return ja(P).replace(md,"%3D")}function Cd(P){return ro(P).replace(ml,"%23").replace(gd,"%3F")}function Td(P){return P==null?"":Cd(P).replace(pd,"%2F")}function Xs(P){try{return decodeURIComponent(""+P)}catch{}return""+P}function Pd(P){const n={};if(P===""||P==="?")return n;const S=(P[0]==="?"?P.slice(1):P).split("&");for(let g=0;g<S.length;++g){const t=S[g].replace(gl," "),c=t.indexOf("="),f=Xs(c<0?t:t.slice(0,c)),m=c<0?null:Xs(t.slice(c+1));if(f in n){let p=n[f];Ln(p)||(p=n[f]=[p]),p.push(m)}else n[f]=m}return n}function Yo(P){let n="";for(let C in P){const S=P[C];if(C=Sd(C),S==null){S!==void 0&&(n+=(n.length?"&":"")+C);continue}(Ln(S)?S.map(t=>t&&ja(t)):[S&&ja(S)]).forEach(t=>{t!==void 0&&(n+=(n.length?"&":"")+C,t!=null&&(n+="="+t))})}return n}function kd(P){const n={};for(const C in P){const S=P[C];S!==void 0&&(n[C]=Ln(S)?S.map(g=>g==null?null:""+g):S==null?S:""+S)}return n}const Ed=Symbol(""),Ko=Symbol(""),no=Symbol(""),bl=Symbol(""),Ia=Symbol("");function hs(){let P=[];function n(S){return P.push(S),()=>{const g=P.indexOf(S);g>-1&&P.splice(g,1)}}function C(){P=[]}return{add:n,list:()=>P,reset:C}}function di(P,n,C,S,g){const t=S&&(S.enterCallbacks[g]=S.enterCallbacks[g]||[]);return()=>new Promise((c,f)=>{const m=a=>{a===!1?f(ts(4,{from:C,to:n})):a instanceof Error?f(a):Jf(a)?f(ts(2,{from:n,to:a})):(t&&S.enterCallbacks[g]===t&&typeof a=="function"&&t.push(a),c())},p=P.call(S&&S.instances[g],n,C,m);let u=Promise.resolve(p);P.length<3&&(u=u.then(m)),u.catch(a=>f(a))})}function ma(P,n,C,S){const g=[];for(const t of P)for(const c in t.components){let f=t.components[c];if(!(n!=="beforeRouteEnter"&&!t.instances[c]))if(Ad(f)){const p=(f.__vccOpts||f)[n];p&&g.push(di(p,C,S,t,c))}else{let m=f();g.push(()=>m.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${t.path}"`));const u=Rf(p)?p.default:p;t.components[c]=u;const l=(u.__vccOpts||u)[n];return l&&di(l,C,S,t,c)()}))}}return g}function Ad(P){return typeof P=="object"||"displayName"in P||"props"in P||"__vccOpts"in P}function $o(P){const n=ri(no),C=ri(bl),S=vn(()=>n.resolve(gi(P.to))),g=vn(()=>{const{matched:m}=S.value,{length:p}=m,u=m[p-1],a=C.matched;if(!u||!a.length)return-1;const l=a.findIndex(es.bind(null,u));if(l>-1)return l;const o=Qo(m[p-2]);return p>1&&Qo(u)===o&&a[a.length-1].path!==o?a.findIndex(es.bind(null,m[p-2])):l}),t=vn(()=>g.value>-1&&Id(C.params,S.value.params)),c=vn(()=>g.value>-1&&g.value===C.matched.length-1&&cl(C.params,S.value.params));function f(m={}){return jd(m)?n[gi(P.replace)?"replace":"push"](gi(P.to)).catch(vs):Promise.resolve()}return{route:S,href:vn(()=>S.value.href),isActive:t,isExactActive:c,navigate:f}}const Md=_i({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$o,setup(P,{slots:n}){const C=ss($o(P)),{options:S}=ri(no),g=vn(()=>({[Jo(P.activeClass,S.linkActiveClass,"router-link-active")]:C.isActive,[Jo(P.exactActiveClass,S.linkExactActiveClass,"router-link-exact-active")]:C.isExactActive}));return()=>{const t=n.default&&n.default(C);return P.custom?t:nl("a",{"aria-current":C.isExactActive?P.ariaCurrentValue:null,href:C.href,onClick:C.navigate,class:g.value},t)}}}),Od=Md;function jd(P){if(!(P.metaKey||P.altKey||P.ctrlKey||P.shiftKey)&&!P.defaultPrevented&&!(P.button!==void 0&&P.button!==0)){if(P.currentTarget&&P.currentTarget.getAttribute){const n=P.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return P.preventDefault&&P.preventDefault(),!0}}function Id(P,n){for(const C in n){const S=n[C],g=P[C];if(typeof S=="string"){if(S!==g)return!1}else if(!Ln(g)||g.length!==S.length||S.some((t,c)=>t!==g[c]))return!1}return!0}function Qo(P){return P?P.aliasOf?P.aliasOf.path:P.path:""}const Jo=(P,n,C)=>P!=null?P:n!=null?n:C,Ld=_i({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(P,{attrs:n,slots:C}){const S=ri(Ia),g=vn(()=>P.route||S.value),t=ri(Ko,0),c=vn(()=>{let p=gi(t);const{matched:u}=g.value;let a;for(;(a=u[p])&&!a.components;)p++;return p}),f=vn(()=>g.value.matched[c.value]);Fs(Ko,vn(()=>c.value+1)),Fs(Ed,f),Fs(Ia,g);const m=pn();return ps(()=>[m.value,f.value,P.name],([p,u,a],[l,o,d])=>{u&&(u.instances[a]=p,o&&o!==u&&p&&p===l&&(u.leaveGuards.size||(u.leaveGuards=o.leaveGuards),u.updateGuards.size||(u.updateGuards=o.updateGuards))),p&&u&&(!o||!es(u,o)||!l)&&(u.enterCallbacks[a]||[]).forEach(_=>_(p))},{flush:"post"}),()=>{const p=g.value,u=P.name,a=f.value,l=a&&a.components[u];if(!l)return eu(C.default,{Component:l,route:p});const o=a.props[u],d=o?o===!0?p.params:typeof o=="function"?o(p):o:null,k=nl(l,Or({},d,n,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(a.instances[u]=null)},ref:m}));return eu(C.default,{Component:k,route:p})||k}}});function eu(P,n){if(!P)return null;const C=P(n);return C.length===1?C[0]:C}const Rd=Ld;function Nd(P){const n=ld(P.routes,P),C=P.parseQuery||Pd,S=P.stringifyQuery||Yo,g=P.history,t=hs(),c=hs(),f=hs(),m=wc(hi);let p=hi;qi&&P.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=da.bind(null,Fe=>""+Fe),a=da.bind(null,Td),l=da.bind(null,Xs);function o(Fe,ae){let me,Te;return fl(Fe)?(me=n.getRecordMatcher(Fe),Te=ae):Te=Fe,n.addRoute(Te,me)}function d(Fe){const ae=n.getRecordMatcher(Fe);ae&&n.removeRoute(ae)}function _(){return n.getRoutes().map(Fe=>Fe.record)}function k(Fe){return!!n.getRecordMatcher(Fe)}function E(Fe,ae){if(ae=Or({},ae||m.value),typeof Fe=="string"){const Pe=pa(C,Fe,ae.path),_e=n.resolve({path:Pe.path},ae),He=g.createHref(Pe.fullPath);return Or(Pe,_e,{params:l(_e.params),hash:Xs(Pe.hash),redirectedFrom:void 0,href:He})}let me;if("path"in Fe)me=Or({},Fe,{path:pa(C,Fe.path,ae.path).path});else{const Pe=Or({},Fe.params);for(const _e in Pe)Pe[_e]==null&&delete Pe[_e];me=Or({},Fe,{params:a(Fe.params)}),ae.params=a(ae.params)}const Te=n.resolve(me,ae),Me=Fe.hash||"";Te.params=u(l(Te.params));const Ve=Ff(S,Or({},Fe,{hash:wd(Me),path:Te.path})),je=g.createHref(Ve);return Or({fullPath:Ve,hash:Me,query:S===Yo?kd(Fe.query):Fe.query||{}},Te,{redirectedFrom:void 0,href:je})}function I(Fe){return typeof Fe=="string"?pa(C,Fe,m.value.path):Or({},Fe)}function U(Fe,ae){if(p!==Fe)return ts(8,{from:ae,to:Fe})}function V(Fe){return se(Fe)}function $(Fe){return V(Or(I(Fe),{replace:!0}))}function B(Fe){const ae=Fe.matched[Fe.matched.length-1];if(ae&&ae.redirect){const{redirect:me}=ae;let Te=typeof me=="function"?me(Fe):me;return typeof Te=="string"&&(Te=Te.includes("?")||Te.includes("#")?Te=I(Te):{path:Te},Te.params={}),Or({query:Fe.query,hash:Fe.hash,params:"path"in Te?{}:Fe.params},Te)}}function se(Fe,ae){const me=p=E(Fe),Te=m.value,Me=Fe.state,Ve=Fe.force,je=Fe.replace===!0,Pe=B(me);if(Pe)return se(Or(I(Pe),{state:typeof Pe=="object"?Or({},Me,Pe.state):Me,force:Ve,replace:je}),ae||me);const _e=me;_e.redirectedFrom=ae;let He;return!Ve&&Bf(S,Te,me)&&(He=ts(16,{to:_e,from:Te}),$e(Te,Te,!0,!1)),(He?Promise.resolve(He):oe(_e,Te)).catch(ze=>Jn(ze)?Jn(ze,2)?ze:Be(ze):Ne(ze,_e,Te)).then(ze=>{if(ze){if(Jn(ze,2))return se(Or({replace:je},I(ze.to),{state:typeof ze.to=="object"?Or({},Me,ze.to.state):Me,force:Ve}),ae||_e)}else ze=J(_e,Te,!0,je,Me);return ge(_e,Te,ze),ze})}function ne(Fe,ae){const me=U(Fe,ae);return me?Promise.reject(me):Promise.resolve()}function oe(Fe,ae){let me;const[Te,Me,Ve]=Dd(Fe,ae);me=ma(Te.reverse(),"beforeRouteLeave",Fe,ae);for(const Pe of Te)Pe.leaveGuards.forEach(_e=>{me.push(di(_e,Fe,ae))});const je=ne.bind(null,Fe,ae);return me.push(je),Gi(me).then(()=>{me=[];for(const Pe of t.list())me.push(di(Pe,Fe,ae));return me.push(je),Gi(me)}).then(()=>{me=ma(Me,"beforeRouteUpdate",Fe,ae);for(const Pe of Me)Pe.updateGuards.forEach(_e=>{me.push(di(_e,Fe,ae))});return me.push(je),Gi(me)}).then(()=>{me=[];for(const Pe of Fe.matched)if(Pe.beforeEnter&&!ae.matched.includes(Pe))if(Ln(Pe.beforeEnter))for(const _e of Pe.beforeEnter)me.push(di(_e,Fe,ae));else me.push(di(Pe.beforeEnter,Fe,ae));return me.push(je),Gi(me)}).then(()=>(Fe.matched.forEach(Pe=>Pe.enterCallbacks={}),me=ma(Ve,"beforeRouteEnter",Fe,ae),me.push(je),Gi(me))).then(()=>{me=[];for(const Pe of c.list())me.push(di(Pe,Fe,ae));return me.push(je),Gi(me)}).catch(Pe=>Jn(Pe,8)?Pe:Promise.reject(Pe))}function ge(Fe,ae,me){for(const Te of f.list())Te(Fe,ae,me)}function J(Fe,ae,me,Te,Me){const Ve=U(Fe,ae);if(Ve)return Ve;const je=ae===hi,Pe=qi?history.state:{};me&&(Te||je?g.replace(Fe.fullPath,Or({scroll:je&&Pe&&Pe.scroll},Me)):g.push(Fe.fullPath,Me)),m.value=Fe,$e(Fe,ae,me,je),Be()}let ue;function he(){ue||(ue=g.listen((Fe,ae,me)=>{if(!at.listening)return;const Te=E(Fe),Me=B(Te);if(Me){se(Or(Me,{replace:!0}),Te).catch(vs);return}p=Te;const Ve=m.value;qi&&Xf(Vo(Ve.fullPath,me.delta),aa()),oe(Te,Ve).catch(je=>Jn(je,12)?je:Jn(je,2)?(se(je.to,Te).then(Pe=>{Jn(Pe,20)&&!me.delta&&me.type===Es.pop&&g.go(-1,!1)}).catch(vs),Promise.reject()):(me.delta&&g.go(-me.delta,!1),Ne(je,Te,Ve))).then(je=>{je=je||J(Te,Ve,!1),je&&(me.delta&&!Jn(je,8)?g.go(-me.delta,!1):me.type===Es.pop&&Jn(je,20)&&g.go(-1,!1)),ge(Te,Ve,je)}).catch(vs)}))}let ye=hs(),Oe=hs(),de;function Ne(Fe,ae,me){Be(Fe);const Te=Oe.list();return Te.length?Te.forEach(Me=>Me(Fe,ae,me)):console.error(Fe),Promise.reject(Fe)}function Le(){return de&&m.value!==hi?Promise.resolve():new Promise((Fe,ae)=>{ye.add([Fe,ae])})}function Be(Fe){return de||(de=!Fe,he(),ye.list().forEach(([ae,me])=>Fe?me(Fe):ae()),ye.reset()),Fe}function $e(Fe,ae,me,Te){const{scrollBehavior:Me}=P;if(!qi||!Me)return Promise.resolve();const Ve=!me&&Zf(Vo(Fe.fullPath,0))||(Te||!me)&&history.state&&history.state.scroll||null;return Ya().then(()=>Me(Fe,ae,Ve)).then(je=>je&&Wf(je)).catch(je=>Ne(je,Fe,ae))}const ut=Fe=>g.go(Fe);let Ke;const _t=new Set,at={currentRoute:m,listening:!0,addRoute:o,removeRoute:d,hasRoute:k,getRoutes:_,resolve:E,options:P,push:V,replace:$,go:ut,back:()=>ut(-1),forward:()=>ut(1),beforeEach:t.add,beforeResolve:c.add,afterEach:f.add,onError:Oe.add,isReady:Le,install(Fe){const ae=this;Fe.component("RouterLink",Od),Fe.component("RouterView",Rd),Fe.config.globalProperties.$router=ae,Object.defineProperty(Fe.config.globalProperties,"$route",{enumerable:!0,get:()=>gi(m)}),qi&&!Ke&&m.value===hi&&(Ke=!0,V(g.location).catch(Me=>{}));const me={};for(const Me in hi)me[Me]=vn(()=>m.value[Me]);Fe.provide(no,ae),Fe.provide(bl,ss(me)),Fe.provide(Ia,m);const Te=Fe.unmount;_t.add(Fe),Fe.unmount=function(){_t.delete(Fe),_t.size<1&&(p=hi,ue&&ue(),ue=null,m.value=hi,Ke=!1,de=!1),Te()}}};return at}function Gi(P){return P.reduce((n,C)=>n.then(()=>C()),Promise.resolve())}function Dd(P,n){const C=[],S=[],g=[],t=Math.max(n.matched.length,P.matched.length);for(let c=0;c<t;c++){const f=n.matched[c];f&&(P.matched.find(p=>es(p,f))?S.push(f):C.push(f));const m=P.matched[c];m&&(n.matched.find(p=>es(p,m))||g.push(m))}return[C,S,g]}const As=ll("light",()=>({light:pn(!1)})),Fd={class:"flex flex-col h-full justify-end p-5 md:p-10 mb-40"},Bd={class:"flex justify-center p-5"},Ud=yt("div",{class:"flex-1"},null,-1),Vd={class:"flex-none flex items-center"},zd={class:"h-8 md:h-10"},Gd={class:"flex-1 flex justify-end items-center gap-10"},qd={class:"min-h-[100vh]"},Hd={class:"container mx-auto min-h-[90vh] flex flex-col justify-center items-center"},Wd={class:"md:flex md:w-full"},Xd=yt("div",{class:"md:w-1/2"},null,-1),Zd={class:"flex flex-col md:w-1/2 items-center md:items-start gap-3"},Yd={class:"h-14 w-14 md:h-16 md:w-16 bg-blackLighter flex justify-center items-center rounded-md hover:cursor-pointer"},Kd=_i({__name:"App",setup(P){const n=pn(!1),C=pn(0),S=As();function g(){n.value=!n.value}function t(){n.value=!1}function c(){window.scrollTo({top:0,behavior:"smooth"})}function f(){t()}return Ni(()=>{window.onscroll=()=>{C.value=window.scrollY},console.log(S.light)}),(m,p)=>{const u=$i("router-link"),a=$i("RouterView");return Ur(),zr(dn,null,[yt("header",{class:Wi(["bg-neutral fixed top-0 left-0 w-full h-full overflow-hidden z-30 circleAnimationClip",[n.value?"expanded":"",gi(S).light?"lightMode":""]])},[yt("nav",Fd,[rr(u,{class:"menuItem",to:{name:"racconto"},onClick:f},{default:ln(()=>[Fr(" Racconto ")]),_:1}),rr(u,{class:"menuItem",to:{name:"brand"},onClick:f},{default:ln(()=>[Fr(" Identit\xE0 ")]),_:1}),rr(u,{class:"menuItem",to:{name:"digitale"},onClick:f},{default:ln(()=>[Fr(" Digitale ")]),_:1}),rr(u,{class:"menuItem",to:{name:"crediti"},onClick:f},{default:ln(()=>[Fr(" Crediti ")]),_:1})])],2),yt("div",{class:Wi(["sticky top-0 bg-neutral z-40",gi(S).light?"lightMode":""])},[yt("nav",Bd,[Ud,yt("div",Vd,[yt("div",zd,[rr(u,{to:{name:"racconto"},onClick:t},{default:ln(()=>[rr(Fo)]),_:1})])]),yt("div",Gd,[yt("div",{class:"h-8 w-8 md:h-10 md:w-10",onClick:g},[n.value?(Ur(),ko(bf,{key:1})):(Ur(),ko(Lf,{key:0}))])])])],2),yt("main",qd,[rr(a)]),yt("footer",null,[yt("div",Hd,[rr(u,{to:{name:"racconto"}},{default:ln(()=>[rr(Fo,{class:"mb-9 w-56 sm:w-72 md:w-[25rem]"})]),_:1}),yt("div",Wd,[Xd,yt("div",Zd,[rr(u,{class:"footerMenuItem",to:{name:"racconto"}},{default:ln(()=>[Fr(" Racconto ")]),_:1}),rr(u,{class:"footerMenuItem",to:{name:"brand"}},{default:ln(()=>[Fr(" Identit\xE0 ")]),_:1}),rr(u,{class:"footerMenuItem",to:{name:"digitale"}},{default:ln(()=>[Fr(" Digitale ")]),_:1}),rr(u,{class:"footerMenuItem",to:{name:"crediti"}},{default:ln(()=>[Fr(" Crediti ")]),_:1})])])])]),yt("div",{class:Wi(["fixed bottom-5 right-5 md:bottom-12 md:right-12 z-10 transition-opacity",C.value>50?"":"opacity-0 pointer-events-none"]),onClick:c},[yt("div",Yd,[rr(kf,{class:"h-6 w-6 md:h-9 md:w-9"})])],2)],64)}}}),$d="/assets/Verdi.dff62c34.png",Qd="/assets/videothumbnail.ace9791c.png",Jd="/assets/oOo_Video_Promozionale_Export_Web.13440b0b.mp4",ep="/assets/collage-teatro.9c136152.jpg",tp="/assets/cami.41a928e2.png",rp="/assets/ceci.e6328a7a.png",np="/assets/fra.518ebfa0.jpeg",ip={},sp={width:"100%",height:"100%",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ap=yt("mask",{id:"mask0_703_1888",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"33",height:"33"},[yt("rect",{x:"0.931641",y:"0.188293",width:"32",height:"32",fill:"#101820"})],-1),op=yt("g",{mask:"url(#mask0_703_1888)"},[yt("path",{d:"M19.6303 24.022L18.197 22.622L23.797 17.022H6.26367V15.022H23.797L18.1637 9.38865L19.597 7.98865L27.6303 16.022L19.6303 24.022Z",fill:"#FFF9F3"})],-1),up=[ap,op];function lp(P,n){return Ur(),zr("svg",sp,up)}const oa=rn(ip,[["render",lp]]),cp={},hp={class:"",fill:"currentColor",viewBox:"0 0 48 48"},fp=yt("path",{d:"M18.3 36.4q-.75.5-1.525.05Q16 36 16 35.1V12.6q0-.9.775-1.35.775-.45 1.525.05L36 22.6q.7.45.7 1.25T36 25.1Z"},null,-1),dp=[fp];function pp(P,n){return Ur(),zr("svg",hp,dp)}const xl=rn(cp,[["render",pp]]),mp=yt("div",{class:"flex justify-center w-full md:flex-1 relative h-64 md:h-[35rem] lg:h-[45rem]"},[yt("img",{class:"absolute h-[24rem] object-cover md:h-auto md:w-[35rem] lg:w-[48rem] xl:w-[52rem] md:max-w-none md:translate-x-24 lg:translate-x-36 transition-all",src:$d,alt:""})],-1),gp=yt("h1",null,[Fr(" Scopri"),yt("br",{class:"hidden md:block"}),Fr(" il mondo dell\u2019opera ")],-1),vp=yt("h6",null,"Musica, storie e spettacoli da vivere in ogni momento.",-1),yp={class:"container mx-auto section"},_p=yt("br",{class:"hidden md:block"},null,-1),bp={class:"relative lg:w-3/4 mx-auto"},xp=Di('<div class="container mx-auto section"><div class="lg:w-3/5 mx-auto text-center p-5"><h2 class=""> Un dialogo <br class="hidden md:block"> tra innovazione e tradizione </h2><p> L\u2019arte dell\u2019opera lirica ha radici molte antiche, ma le prime vere e proprie composizioni risalgono al Cinquecento negli ambienti ristretti delle corti. <br>A partire del Seicento <strong> tradizione viene portata al pubblico</strong>, diventando pratica di intrattenimento nelle piazze e nei teatri. </p><h6> Oggi, cos\xEC come allora, l\u2019opera \xE8 tornata ad esser vista come settore di nicchia, riservato ad ambienti classici ed elitari. </h6><p> oOo si propone come portavoce di questo mondo, pronto ad affrontare il cambiamento e a trovare <strong>un nuovo modo di vivere e condividere l\u2019opera.</strong></p></div></div><div class="relative section"><div class="container mx-auto"><div class="mx-auto text-center p-5"><img src="'+ep+'" class="rounded-xl" alt=""></div></div><div class="absolute top-1/2 w-full h-1/2 bg-white -z-10"></div></div><div class="section relative lightMode"><div class="container mx-auto"><div class="lg:w-3/5 mx-auto text-center p-5"><h1 class="font-medium"> L\u2019opera lirca vanta un <span class="text-orange">patrimonio culturale</span> vasto e ricco di curiosit\xE0 che permette di attrarre <span class="text-green">diverse generazioni</span></h1></div></div></div><div class="h-24 lightMode"></div><div class="section relative lightMode"><div class="md:container mx-auto text-center"><h2>Gli oOoperatori</h2><div class="flex flex-col md:flex-row md:justify-evenly"><div id="fra" class="flex"><div class="flex flex-col items-center self-start pl-5"><div class="w-44 h-44 md:w-48 md:h-48 p-2 border-8 border-orange rounded-full mb-1 md:mb-2"><img src="'+tp+'" class="rounded-full object-cover" alt=""></div><p class="font-display font-extrabold text-2xl md:text-4xl mb-1 md:mb-2"> Camilla<br>Campisano </p><p class="font-medium mb-1 md:mb-2">Visual Designer</p><p class="mb-1 md:mb-2">cami@lirica.ooo</p></div><div class="py-2 mb-1 md:mb-2 grow md:hidden"><div class="h-40 md:w-48 md:h-48 w-full flex items-center"><div class="h-2 bg-orange w-full"></div></div></div></div><div id="fra" class="flex"><div class="py-2 mb-1 md:mb-2 grow md:hidden"><div class="h-40 md:w-48 md:h-48 w-full flex items-center"><div class="h-2 bg-green w-full"></div></div></div><div class="flex flex-col items-center self-start pr-5"><div class="w-44 h-44 md:w-48 md:h-48 p-2 border-8 border-green rounded-full mb-1 md:mb-2"><img src="'+rp+'" class="rounded-full object-cover" alt=""></div><p class="font-display font-extrabold text-2xl md:text-4xl mb-1 md:mb-2"> Cecilia<br>Minasi </p><p class="font-medium mb-1 md:mb-2">Brand Designer</p><p class="mb-1 md:mb-2">ceci@lirica.ooo</p></div></div><div id="fra" class="flex"><div class="flex flex-col items-center self-start pl-5"><div class="w-44 h-44 md:w-48 md:h-48 p-2 border-8 border-purple rounded-full mb-1 md:mb-2"><img src="'+np+'" class="rounded-full object-cover" alt=""></div><p class="font-display font-extrabold text-2xl md:text-4xl mb-1 md:mb-2"> Francesco<br>Ulleri </p><p class="font-medium mb-1 md:mb-2">Creative Developer</p><p class="mb-1 md:mb-2">fra@lirica.ooo</p></div><div class="py-2 mb-1 md:mb-2 grow md:hidden"><div class="h-40 md:w-48 md:h-48 w-full flex items-center"><div class="h-2 bg-purple w-full"></div></div></div></div></div></div></div>',5),wp={class:"bg-red py-20 md:py-24"},Sp={class:"container-fluid mx-auto"},Cp={class:"flex text-center justify-center items-center gap-2"},Tp=yt("h2",{class:"m-0"},"L\u2019identit\xE0 di oOo",-1),Pp=_i({__name:"RaccontoView",setup(P){const n=pn(null),C=pn(null),S=pn(null),g=As();function t(){C.value&&(C.value.controls=!0,S.value.style.display="none",C.value.play())}function c(){n.value.scrollIntoView({behavior:"smooth",block:"start"})}return Ni(()=>{g.light=!1}),(f,m)=>{const p=$i("router-link");return Ur(),zr(dn,null,[yt("div",{class:"container mt-6 mx-auto section"},[yt("div",{class:"flex flex-col md:flex-row gap-0 items-center"},[mp,yt("div",{class:"z-10 flex flex-col p-5 gap-4 md:gap-9 justify-center md:flex-1 md:w-4/5"},[gp,vp,yt("button",{class:"btn w-full md:w-fit",onClick:c}," Inizia ")])])]),yt("div",yp,[yt("h2",{class:"text-center scroll-my-28",ref_key:"videoAdvertisementTitle",ref:n},[Fr(" Vivi le emozioni "),_p,Fr(" del dietro le quinte ")],512),yt("div",bp,[yt("video",{ref_key:"videoAdvertisement",ref:C,controlslist:" nodownload",playsinline:"true",loop:"false",preload:"auto",poster:Qd,src:Jd,class:"rounded-xl"},null,512),yt("div",{class:"absolute top-0 left-0 w-full h-full flex cursor-pointer bg-black opacity-50",ref_key:"videoAdvertisementOverlay",ref:S,onClick:t},[rr(xl,{class:"h-40 md:h-60 w-auto m-auto"})],512)])]),xp,rr(p,{to:{name:"brand"}},{default:ln(()=>[yt("div",wp,[yt("div",Sp,[yt("div",Cp,[Tp,rr(oa,{class:"h-8 w-8 sm:h-12 sm:w-12 md:h-20 md:w-20"})])])])]),_:1})],64)}}}),kp="/assets/Pianista_White.4f3f54dd.png",Ep="/assets/ident.c70fcb4b.png",Ap="/assets/oOo_Video_Ident.cd444735.mp4",wl="/assets/ooo-logo_1.50c40f82.png",Sl="/assets/Logo_Animation_Dark-0001.99e1adae.png",Cl="/assets/Logo_Animation_Dark-0002.0aa2846b.png",Tl="/assets/oOo_Logo_Animation_FINALE-0003_1.e03dee09.png",Mp="/assets/Palette_1.6645f246.png",Op="/assets/Palette_2.32956113.png",jp="/assets/Palette_3.ba16a44c.png",Ip="/assets/Palette.08c22df9.png",Lp="/assets/DoppiaPagina_A3_09_22-compressed.3b907a61.png",tu="/assets/collage-foto.683f5fa9.png",Rp="/assets/collage-loghi.90c3b721.png";/*! p5.js v1.4.2 July 21, 2022 */(function(P){typeof Al=="object"&&typeof La<"u"?La.exports=P():typeof define=="function"&&define.amd?define([],P):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).p5=P()})(function(){var P;return function n(C,S,g){function t(m,p){if(!S[m]){if(!C[m]){var u=typeof require=="function"&&require;if(!p&&u)return u(m,!0);if(c)return c(m,!0);var a=new Error("Cannot find module '"+m+"'");throw a.code="MODULE_NOT_FOUND",a}var l=S[m]={exports:{}};C[m][0].call(l.exports,function(o){return t(C[m][1][o]||o)},l,l.exports,n,C,S,g)}return S[m].exports}for(var c=typeof require=="function"&&require,f=0;f<g.length;f++)t(g[f]);return t}({1:[function(n,C,S){S.byteLength=function(l){var o=u(l),d=o[0],_=o[1];return 3*(d+_)/4-_},S.toByteArray=function(l){var o,d,_=u(l),k=_[0],E=_[1],I=new c(function($,B){return 3*($+B)/4-B}(k,E)),U=0,V=0<E?k-4:k;for(d=0;d<V;d+=4)o=t[l.charCodeAt(d)]<<18|t[l.charCodeAt(d+1)]<<12|t[l.charCodeAt(d+2)]<<6|t[l.charCodeAt(d+3)],I[U++]=o>>16&255,I[U++]=o>>8&255,I[U++]=255&o;return E===2&&(o=t[l.charCodeAt(d)]<<2|t[l.charCodeAt(d+1)]>>4,I[U++]=255&o),E===1&&(o=t[l.charCodeAt(d)]<<10|t[l.charCodeAt(d+1)]<<4|t[l.charCodeAt(d+2)]>>2,I[U++]=o>>8&255,I[U++]=255&o),I},S.fromByteArray=function(l){for(var o,d=l.length,_=d%3,k=[],E=0,I=d-_;E<I;E+=16383)k.push(a(l,E,I<E+16383?I:E+16383));return _==1?(o=l[d-1],k.push(g[o>>2]+g[o<<4&63]+"==")):_==2&&(o=(l[d-2]<<8)+l[d-1],k.push(g[o>>10]+g[o>>4&63]+g[o<<2&63]+"=")),k.join("")};for(var g=[],t=[],c=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,p=f.length;m<p;++m)g[m]=f[m],t[f.charCodeAt(m)]=m;function u(l){var o=l.length;if(0<o%4)throw new Error("Invalid string. Length must be a multiple of 4");var d=l.indexOf("=");return d===-1&&(d=o),[d,d===o?0:4-d%4]}function a(l,o,d){for(var _,k,E=[],I=o;I<d;I+=3)_=(l[I]<<16&16711680)+(l[I+1]<<8&65280)+(255&l[I+2]),E.push(g[(k=_)>>18&63]+g[k>>12&63]+g[k>>6&63]+g[63&k]);return E.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63},{}],2:[function(n,C,S){},{}],3:[function(n,C,S){arguments[4][2][0].apply(S,arguments)},{dup:2}],4:[function(n,C,S){(function(u){var t=n("base64-js"),c=n("ieee754"),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;S.Buffer=u,S.SlowBuffer=function(ae){return+ae!=ae&&(ae=0),u.alloc(+ae)},S.INSPECT_MAX_BYTES=50;var m=2147483647;function p(ae){if(m<ae)throw new RangeError('The value "'+ae+'" is invalid for option "size"');var me=new Uint8Array(ae);return Object.setPrototypeOf(me,u.prototype),me}function u(ae,me,Te){if(typeof ae!="number")return a(ae,me,Te);if(typeof me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(ae)}function a(ae,me,Te){if(typeof ae=="string")return function(je,Pe){if(typeof Pe=="string"&&Pe!==""||(Pe="utf8"),!u.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe);var _e=0|k(je,Pe),He=p(_e),ze=He.write(je,Pe);return ze!==_e&&(He=He.slice(0,ze)),He}(ae,me);if(ArrayBuffer.isView(ae))return d(ae);if(ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae);if(_t(ae,ArrayBuffer)||ae&&_t(ae.buffer,ArrayBuffer))return function(je,Pe,_e){if(Pe<0||je.byteLength<Pe)throw new RangeError('"offset" is outside of buffer bounds');if(je.byteLength<Pe+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var He;return He=Pe===void 0&&_e===void 0?new Uint8Array(je):_e===void 0?new Uint8Array(je,Pe):new Uint8Array(je,Pe,_e),Object.setPrototypeOf(He,u.prototype),He}(ae,me,Te);if(typeof ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Me=ae.valueOf&&ae.valueOf();if(Me!=null&&Me!==ae)return u.from(Me,me,Te);var Ve=function(je){if(u.isBuffer(je)){var Pe=0|_(je.length),_e=p(Pe);return _e.length===0||je.copy(_e,0,0,Pe),_e}if(je.length!==void 0)return typeof je.length!="number"||at(je.length)?p(0):d(je);if(je.type==="Buffer"&&Array.isArray(je.data))return d(je.data)}(ae);if(Ve)return Ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ae[Symbol.toPrimitive]=="function")return u.from(ae[Symbol.toPrimitive]("string"),me,Te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae)}function l(ae){if(typeof ae!="number")throw new TypeError('"size" argument must be of type number');if(ae<0)throw new RangeError('The value "'+ae+'" is invalid for option "size"')}function o(ae){return l(ae),p(ae<0?0:0|_(ae))}function d(ae){for(var me=ae.length<0?0:0|_(ae.length),Te=p(me),Me=0;Me<me;Me+=1)Te[Me]=255&ae[Me];return Te}function _(ae){if(m<=ae)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|ae}function k(ae,me){if(u.isBuffer(ae))return ae.length;if(ArrayBuffer.isView(ae)||_t(ae,ArrayBuffer))return ae.byteLength;if(typeof ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ae);var Te=ae.length,Me=2<arguments.length&&arguments[2]===!0;if(!Me&&Te===0)return 0;for(var Ve=!1;;)switch(me){case"ascii":case"latin1":case"binary":return Te;case"utf8":case"utf-8":return $e(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Te;case"hex":return Te>>>1;case"base64":return ut(ae).length;default:if(Ve)return Me?-1:$e(ae).length;me=(""+me).toLowerCase(),Ve=!0}}function E(ae,me,Te){var Me=ae[me];ae[me]=ae[Te],ae[Te]=Me}function I(ae,me,Te,Me,Ve){if(ae.length===0)return-1;if(typeof Te=="string"?(Me=Te,Te=0):2147483647<Te?Te=2147483647:Te<-2147483648&&(Te=-2147483648),at(Te=+Te)&&(Te=Ve?0:ae.length-1),Te<0&&(Te=ae.length+Te),Te>=ae.length){if(Ve)return-1;Te=ae.length-1}else if(Te<0){if(!Ve)return-1;Te=0}if(typeof me=="string"&&(me=u.from(me,Me)),u.isBuffer(me))return me.length===0?-1:U(ae,me,Te,Me,Ve);if(typeof me=="number")return me&=255,typeof Uint8Array.prototype.indexOf=="function"?Ve?Uint8Array.prototype.indexOf.call(ae,me,Te):Uint8Array.prototype.lastIndexOf.call(ae,me,Te):U(ae,[me],Te,Me,Ve);throw new TypeError("val must be string, number or Buffer")}function U(ae,me,Te,Me,Ve){var je,Pe=1,_e=ae.length,He=me.length;if(Me!==void 0&&((Me=String(Me).toLowerCase())==="ucs2"||Me==="ucs-2"||Me==="utf16le"||Me==="utf-16le")){if(ae.length<2||me.length<2)return-1;_e/=Pe=2,He/=2,Te/=2}function ze(it,mt){return Pe===1?it[mt]:it.readUInt16BE(mt*Pe)}if(Ve){var Ge=-1;for(je=Te;je<_e;je++)if(ze(ae,je)===ze(me,Ge===-1?0:je-Ge)){if(Ge===-1&&(Ge=je),je-Ge+1===He)return Ge*Pe}else Ge!==-1&&(je-=je-Ge),Ge=-1}else for(_e<Te+He&&(Te=_e-He),je=Te;0<=je;je--){for(var st=!0,ht=0;ht<He;ht++)if(ze(ae,je+ht)!==ze(me,ht)){st=!1;break}if(st)return je}return-1}function V(ae,me,Te,Me){Te=Number(Te)||0;var Ve=ae.length-Te;Me?Ve<(Me=Number(Me))&&(Me=Ve):Me=Ve;var je=me.length;je/2<Me&&(Me=je/2);for(var Pe=0;Pe<Me;++Pe){var _e=parseInt(me.substr(2*Pe,2),16);if(at(_e))return Pe;ae[Te+Pe]=_e}return Pe}function $(ae,me,Te,Me){return Ke(function(Ve){for(var je=[],Pe=0;Pe<Ve.length;++Pe)je.push(255&Ve.charCodeAt(Pe));return je}(me),ae,Te,Me)}function B(ae,me,Te,Me){return Ke(function(Ve,je){for(var Pe,_e,He,ze=[],Ge=0;Ge<Ve.length&&!((je-=2)<0);++Ge)Pe=Ve.charCodeAt(Ge),_e=Pe>>8,He=Pe%256,ze.push(He),ze.push(_e);return ze}(me,ae.length-Te),ae,Te,Me)}function se(ae,me,Te){return me===0&&Te===ae.length?t.fromByteArray(ae):t.fromByteArray(ae.slice(me,Te))}function ne(ae,me,Te){Te=Math.min(ae.length,Te);for(var Me=[],Ve=me;Ve<Te;){var je,Pe,_e,He,ze=ae[Ve],Ge=null,st=239<ze?4:223<ze?3:191<ze?2:1;if(Ve+st<=Te)switch(st){case 1:ze<128&&(Ge=ze);break;case 2:(192&(je=ae[Ve+1]))==128&&127<(He=(31&ze)<<6|63&je)&&(Ge=He);break;case 3:je=ae[Ve+1],Pe=ae[Ve+2],(192&je)==128&&(192&Pe)==128&&2047<(He=(15&ze)<<12|(63&je)<<6|63&Pe)&&(He<55296||57343<He)&&(Ge=He);break;case 4:je=ae[Ve+1],Pe=ae[Ve+2],_e=ae[Ve+3],(192&je)==128&&(192&Pe)==128&&(192&_e)==128&&65535<(He=(15&ze)<<18|(63&je)<<12|(63&Pe)<<6|63&_e)&&He<1114112&&(Ge=He)}Ge===null?(Ge=65533,st=1):65535<Ge&&(Ge-=65536,Me.push(Ge>>>10&1023|55296),Ge=56320|1023&Ge),Me.push(Ge),Ve+=st}return function(ht){var it=ht.length;if(it<=oe)return String.fromCharCode.apply(String,ht);for(var mt="",gt=0;gt<it;)mt+=String.fromCharCode.apply(String,ht.slice(gt,gt+=oe));return mt}(Me)}S.kMaxLength=m,(u.TYPED_ARRAY_SUPPORT=function(){try{var ae=new Uint8Array(1),me={foo:function(){return 42}};return Object.setPrototypeOf(me,Uint8Array.prototype),Object.setPrototypeOf(ae,me),ae.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(ae,me,Te){return a(ae,me,Te)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(ae,me,Te){return Ve=me,je=Te,l(Me=ae),Me<=0?p(Me):Ve!==void 0?typeof je=="string"?p(Me).fill(Ve,je):p(Me).fill(Ve):p(Me);var Me,Ve,je},u.allocUnsafe=function(ae){return o(ae)},u.allocUnsafeSlow=function(ae){return o(ae)},u.isBuffer=function(ae){return ae!=null&&ae._isBuffer===!0&&ae!==u.prototype},u.compare=function(ae,me){if(_t(ae,Uint8Array)&&(ae=u.from(ae,ae.offset,ae.byteLength)),_t(me,Uint8Array)&&(me=u.from(me,me.offset,me.byteLength)),!u.isBuffer(ae)||!u.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ae===me)return 0;for(var Te=ae.length,Me=me.length,Ve=0,je=Math.min(Te,Me);Ve<je;++Ve)if(ae[Ve]!==me[Ve]){Te=ae[Ve],Me=me[Ve];break}return Te<Me?-1:Me<Te?1:0},u.isEncoding=function(ae){switch(String(ae).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(ae,me){if(!Array.isArray(ae))throw new TypeError('"list" argument must be an Array of Buffers');if(ae.length===0)return u.alloc(0);var Te;if(me===void 0)for(Te=me=0;Te<ae.length;++Te)me+=ae[Te].length;var Me=u.allocUnsafe(me),Ve=0;for(Te=0;Te<ae.length;++Te){var je=ae[Te];if(_t(je,Uint8Array)&&(je=u.from(je)),!u.isBuffer(je))throw new TypeError('"list" argument must be an Array of Buffers');je.copy(Me,Ve),Ve+=je.length}return Me},u.byteLength=k,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var ae=this.length;if(ae%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var me=0;me<ae;me+=2)E(this,me,me+1);return this},u.prototype.swap32=function(){var ae=this.length;if(ae%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var me=0;me<ae;me+=4)E(this,me,me+3),E(this,me+1,me+2);return this},u.prototype.swap64=function(){var ae=this.length;if(ae%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var me=0;me<ae;me+=8)E(this,me,me+7),E(this,me+1,me+6),E(this,me+2,me+5),E(this,me+3,me+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){var ae=this.length;return ae===0?"":arguments.length===0?ne(this,0,ae):function(me,Te,Me){var Ve=!1;if((Te===void 0||Te<0)&&(Te=0),Te>this.length||((Me===void 0||Me>this.length)&&(Me=this.length),Me<=0)||(Me>>>=0)<=(Te>>>=0))return"";for(me=me||"utf8";;)switch(me){case"hex":return ue(this,Te,Me);case"utf8":case"utf-8":return ne(this,Te,Me);case"ascii":return ge(this,Te,Me);case"latin1":case"binary":return J(this,Te,Me);case"base64":return se(this,Te,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,Te,Me);default:if(Ve)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),Ve=!0}}.apply(this,arguments)},u.prototype.equals=function(ae){if(!u.isBuffer(ae))throw new TypeError("Argument must be a Buffer");return this===ae||u.compare(this,ae)===0},u.prototype.inspect=function(){var ae="",me=S.INSPECT_MAX_BYTES;return ae=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(ae+=" ... "),"<Buffer "+ae+">"},f&&(u.prototype[f]=u.prototype.inspect),u.prototype.compare=function(ae,me,Te,Me,Ve){if(_t(ae,Uint8Array)&&(ae=u.from(ae,ae.offset,ae.byteLength)),!u.isBuffer(ae))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ae);if(me===void 0&&(me=0),Te===void 0&&(Te=ae?ae.length:0),Me===void 0&&(Me=0),Ve===void 0&&(Ve=this.length),me<0||Te>ae.length||Me<0||Ve>this.length)throw new RangeError("out of range index");if(Ve<=Me&&Te<=me)return 0;if(Ve<=Me)return-1;if(Te<=me)return 1;if(this===ae)return 0;for(var je=(Ve>>>=0)-(Me>>>=0),Pe=(Te>>>=0)-(me>>>=0),_e=Math.min(je,Pe),He=this.slice(Me,Ve),ze=ae.slice(me,Te),Ge=0;Ge<_e;++Ge)if(He[Ge]!==ze[Ge]){je=He[Ge],Pe=ze[Ge];break}return je<Pe?-1:Pe<je?1:0},u.prototype.includes=function(ae,me,Te){return this.indexOf(ae,me,Te)!==-1},u.prototype.indexOf=function(ae,me,Te){return I(this,ae,me,Te,!0)},u.prototype.lastIndexOf=function(ae,me,Te){return I(this,ae,me,Te,!1)},u.prototype.write=function(ae,me,Te,Me){if(me===void 0)Me="utf8",Te=this.length,me=0;else if(Te===void 0&&typeof me=="string")Me=me,Te=this.length,me=0;else{if(!isFinite(me))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");me>>>=0,isFinite(Te)?(Te>>>=0,Me===void 0&&(Me="utf8")):(Me=Te,Te=void 0)}var Ve=this.length-me;if((Te===void 0||Ve<Te)&&(Te=Ve),0<ae.length&&(Te<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Me=Me||"utf8";for(var je,Pe,_e,He,ze,Ge,st=!1;;)switch(Me){case"hex":return V(this,ae,me,Te);case"utf8":case"utf-8":return ze=me,Ge=Te,Ke($e(ae,(He=this).length-ze),He,ze,Ge);case"ascii":return $(this,ae,me,Te);case"latin1":case"binary":return $(this,ae,me,Te);case"base64":return je=this,Pe=me,_e=Te,Ke(ut(ae),je,Pe,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,ae,me,Te);default:if(st)throw new TypeError("Unknown encoding: "+Me);Me=(""+Me).toLowerCase(),st=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function ge(ae,me,Te){var Me="";Te=Math.min(ae.length,Te);for(var Ve=me;Ve<Te;++Ve)Me+=String.fromCharCode(127&ae[Ve]);return Me}function J(ae,me,Te){var Me="";Te=Math.min(ae.length,Te);for(var Ve=me;Ve<Te;++Ve)Me+=String.fromCharCode(ae[Ve]);return Me}function ue(ae,me,Te){var Me=ae.length;(!me||me<0)&&(me=0),(!Te||Te<0||Me<Te)&&(Te=Me);for(var Ve="",je=me;je<Te;++je)Ve+=Fe[ae[je]];return Ve}function he(ae,me,Te){for(var Me=ae.slice(me,Te),Ve="",je=0;je<Me.length;je+=2)Ve+=String.fromCharCode(Me[je]+256*Me[je+1]);return Ve}function ye(ae,me,Te){if(ae%1!=0||ae<0)throw new RangeError("offset is not uint");if(Te<ae+me)throw new RangeError("Trying to access beyond buffer length")}function Oe(ae,me,Te,Me,Ve,je){if(!u.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ve<me||me<je)throw new RangeError('"value" argument is out of bounds');if(Te+Me>ae.length)throw new RangeError("Index out of range")}function de(ae,me,Te,Me){if(Te+Me>ae.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("Index out of range")}function Ne(ae,me,Te,Me,Ve){return me=+me,Te>>>=0,Ve||de(ae,0,Te,4),c.write(ae,me,Te,Me,23,4),Te+4}function Le(ae,me,Te,Me,Ve){return me=+me,Te>>>=0,Ve||de(ae,0,Te,8),c.write(ae,me,Te,Me,52,8),Te+8}u.prototype.slice=function(ae,me){var Te=this.length;(ae=~~ae)<0?(ae+=Te)<0&&(ae=0):Te<ae&&(ae=Te),(me=me===void 0?Te:~~me)<0?(me+=Te)<0&&(me=0):Te<me&&(me=Te),me<ae&&(me=ae);var Me=this.subarray(ae,me);return Object.setPrototypeOf(Me,u.prototype),Me},u.prototype.readUIntLE=function(ae,me,Te){ae>>>=0,me>>>=0,Te||ye(ae,me,this.length);for(var Me=this[ae],Ve=1,je=0;++je<me&&(Ve*=256);)Me+=this[ae+je]*Ve;return Me},u.prototype.readUIntBE=function(ae,me,Te){ae>>>=0,me>>>=0,Te||ye(ae,me,this.length);for(var Me=this[ae+--me],Ve=1;0<me&&(Ve*=256);)Me+=this[ae+--me]*Ve;return Me},u.prototype.readUInt8=function(ae,me){return ae>>>=0,me||ye(ae,1,this.length),this[ae]},u.prototype.readUInt16LE=function(ae,me){return ae>>>=0,me||ye(ae,2,this.length),this[ae]|this[ae+1]<<8},u.prototype.readUInt16BE=function(ae,me){return ae>>>=0,me||ye(ae,2,this.length),this[ae]<<8|this[ae+1]},u.prototype.readUInt32LE=function(ae,me){return ae>>>=0,me||ye(ae,4,this.length),(this[ae]|this[ae+1]<<8|this[ae+2]<<16)+16777216*this[ae+3]},u.prototype.readUInt32BE=function(ae,me){return ae>>>=0,me||ye(ae,4,this.length),16777216*this[ae]+(this[ae+1]<<16|this[ae+2]<<8|this[ae+3])},u.prototype.readIntLE=function(ae,me,Te){ae>>>=0,me>>>=0,Te||ye(ae,me,this.length);for(var Me=this[ae],Ve=1,je=0;++je<me&&(Ve*=256);)Me+=this[ae+je]*Ve;return(Ve*=128)<=Me&&(Me-=Math.pow(2,8*me)),Me},u.prototype.readIntBE=function(ae,me,Te){ae>>>=0,me>>>=0,Te||ye(ae,me,this.length);for(var Me=me,Ve=1,je=this[ae+--Me];0<Me&&(Ve*=256);)je+=this[ae+--Me]*Ve;return(Ve*=128)<=je&&(je-=Math.pow(2,8*me)),je},u.prototype.readInt8=function(ae,me){return ae>>>=0,me||ye(ae,1,this.length),128&this[ae]?-1*(255-this[ae]+1):this[ae]},u.prototype.readInt16LE=function(ae,me){ae>>>=0,me||ye(ae,2,this.length);var Te=this[ae]|this[ae+1]<<8;return 32768&Te?4294901760|Te:Te},u.prototype.readInt16BE=function(ae,me){ae>>>=0,me||ye(ae,2,this.length);var Te=this[ae+1]|this[ae]<<8;return 32768&Te?4294901760|Te:Te},u.prototype.readInt32LE=function(ae,me){return ae>>>=0,me||ye(ae,4,this.length),this[ae]|this[ae+1]<<8|this[ae+2]<<16|this[ae+3]<<24},u.prototype.readInt32BE=function(ae,me){return ae>>>=0,me||ye(ae,4,this.length),this[ae]<<24|this[ae+1]<<16|this[ae+2]<<8|this[ae+3]},u.prototype.readFloatLE=function(ae,me){return ae>>>=0,me||ye(ae,4,this.length),c.read(this,ae,!0,23,4)},u.prototype.readFloatBE=function(ae,me){return ae>>>=0,me||ye(ae,4,this.length),c.read(this,ae,!1,23,4)},u.prototype.readDoubleLE=function(ae,me){return ae>>>=0,me||ye(ae,8,this.length),c.read(this,ae,!0,52,8)},u.prototype.readDoubleBE=function(ae,me){return ae>>>=0,me||ye(ae,8,this.length),c.read(this,ae,!1,52,8)},u.prototype.writeUIntLE=function(ae,me,Te,Me){ae=+ae,me>>>=0,Te>>>=0,Me||Oe(this,ae,me,Te,Math.pow(2,8*Te)-1,0);var Ve=1,je=0;for(this[me]=255&ae;++je<Te&&(Ve*=256);)this[me+je]=ae/Ve&255;return me+Te},u.prototype.writeUIntBE=function(ae,me,Te,Me){ae=+ae,me>>>=0,Te>>>=0,Me||Oe(this,ae,me,Te,Math.pow(2,8*Te)-1,0);var Ve=Te-1,je=1;for(this[me+Ve]=255&ae;0<=--Ve&&(je*=256);)this[me+Ve]=ae/je&255;return me+Te},u.prototype.writeUInt8=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,1,255,0),this[me]=255&ae,me+1},u.prototype.writeUInt16LE=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,2,65535,0),this[me]=255&ae,this[me+1]=ae>>>8,me+2},u.prototype.writeUInt16BE=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,2,65535,0),this[me]=ae>>>8,this[me+1]=255&ae,me+2},u.prototype.writeUInt32LE=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,4,4294967295,0),this[me+3]=ae>>>24,this[me+2]=ae>>>16,this[me+1]=ae>>>8,this[me]=255&ae,me+4},u.prototype.writeUInt32BE=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,4,4294967295,0),this[me]=ae>>>24,this[me+1]=ae>>>16,this[me+2]=ae>>>8,this[me+3]=255&ae,me+4},u.prototype.writeIntLE=function(ae,me,Te,Me){if(ae=+ae,me>>>=0,!Me){var Ve=Math.pow(2,8*Te-1);Oe(this,ae,me,Te,Ve-1,-Ve)}var je=0,Pe=1,_e=0;for(this[me]=255&ae;++je<Te&&(Pe*=256);)ae<0&&_e===0&&this[me+je-1]!==0&&(_e=1),this[me+je]=(ae/Pe>>0)-_e&255;return me+Te},u.prototype.writeIntBE=function(ae,me,Te,Me){if(ae=+ae,me>>>=0,!Me){var Ve=Math.pow(2,8*Te-1);Oe(this,ae,me,Te,Ve-1,-Ve)}var je=Te-1,Pe=1,_e=0;for(this[me+je]=255&ae;0<=--je&&(Pe*=256);)ae<0&&_e===0&&this[me+je+1]!==0&&(_e=1),this[me+je]=(ae/Pe>>0)-_e&255;return me+Te},u.prototype.writeInt8=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,1,127,-128),ae<0&&(ae=255+ae+1),this[me]=255&ae,me+1},u.prototype.writeInt16LE=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,2,32767,-32768),this[me]=255&ae,this[me+1]=ae>>>8,me+2},u.prototype.writeInt16BE=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,2,32767,-32768),this[me]=ae>>>8,this[me+1]=255&ae,me+2},u.prototype.writeInt32LE=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,4,2147483647,-2147483648),this[me]=255&ae,this[me+1]=ae>>>8,this[me+2]=ae>>>16,this[me+3]=ae>>>24,me+4},u.prototype.writeInt32BE=function(ae,me,Te){return ae=+ae,me>>>=0,Te||Oe(this,ae,me,4,2147483647,-2147483648),ae<0&&(ae=4294967295+ae+1),this[me]=ae>>>24,this[me+1]=ae>>>16,this[me+2]=ae>>>8,this[me+3]=255&ae,me+4},u.prototype.writeFloatLE=function(ae,me,Te){return Ne(this,ae,me,!0,Te)},u.prototype.writeFloatBE=function(ae,me,Te){return Ne(this,ae,me,!1,Te)},u.prototype.writeDoubleLE=function(ae,me,Te){return Le(this,ae,me,!0,Te)},u.prototype.writeDoubleBE=function(ae,me,Te){return Le(this,ae,me,!1,Te)},u.prototype.copy=function(ae,me,Te,Me){if(!u.isBuffer(ae))throw new TypeError("argument should be a Buffer");if(Te=Te||0,Me||Me===0||(Me=this.length),me>=ae.length&&(me=ae.length),me=me||0,0<Me&&Me<Te&&(Me=Te),Me===Te||ae.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("sourceEnd out of bounds");Me>this.length&&(Me=this.length),ae.length-me<Me-Te&&(Me=ae.length-me+Te);var Ve=Me-Te;if(this===ae&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(me,Te,Me);else if(this===ae&&Te<me&&me<Me)for(var je=Ve-1;0<=je;--je)ae[je+me]=this[je+Te];else Uint8Array.prototype.set.call(ae,this.subarray(Te,Me),me);return Ve},u.prototype.fill=function(ae,me,Te,Me){if(typeof ae=="string"){if(typeof me=="string"?(Me=me,me=0,Te=this.length):typeof Te=="string"&&(Me=Te,Te=this.length),Me!==void 0&&typeof Me!="string")throw new TypeError("encoding must be a string");if(typeof Me=="string"&&!u.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me);if(ae.length===1){var Ve=ae.charCodeAt(0);(Me==="utf8"&&Ve<128||Me==="latin1")&&(ae=Ve)}}else typeof ae=="number"?ae&=255:typeof ae=="boolean"&&(ae=Number(ae));if(me<0||this.length<me||this.length<Te)throw new RangeError("Out of range index");if(Te<=me)return this;var je;if(me>>>=0,Te=Te===void 0?this.length:Te>>>0,typeof(ae=ae||0)=="number")for(je=me;je<Te;++je)this[je]=ae;else{var Pe=u.isBuffer(ae)?ae:u.from(ae,Me),_e=Pe.length;if(_e===0)throw new TypeError('The value "'+ae+'" is invalid for argument "value"');for(je=0;je<Te-me;++je)this[je+me]=Pe[je%_e]}return this};var Be=/[^+/0-9A-Za-z-_]/g;function $e(ae,me){var Te;me=me||1/0;for(var Me=ae.length,Ve=null,je=[],Pe=0;Pe<Me;++Pe){if(55295<(Te=ae.charCodeAt(Pe))&&Te<57344){if(!Ve){if(56319<Te){-1<(me-=3)&&je.push(239,191,189);continue}if(Pe+1===Me){-1<(me-=3)&&je.push(239,191,189);continue}Ve=Te;continue}if(Te<56320){-1<(me-=3)&&je.push(239,191,189),Ve=Te;continue}Te=65536+(Ve-55296<<10|Te-56320)}else Ve&&-1<(me-=3)&&je.push(239,191,189);if(Ve=null,Te<128){if(--me<0)break;je.push(Te)}else if(Te<2048){if((me-=2)<0)break;je.push(Te>>6|192,63&Te|128)}else if(Te<65536){if((me-=3)<0)break;je.push(Te>>12|224,Te>>6&63|128,63&Te|128)}else{if(!(Te<1114112))throw new Error("Invalid code point");if((me-=4)<0)break;je.push(Te>>18|240,Te>>12&63|128,Te>>6&63|128,63&Te|128)}}return je}function ut(ae){return t.toByteArray(function(me){if((me=(me=me.split("=")[0]).trim().replace(Be,"")).length<2)return"";for(;me.length%4!=0;)me+="=";return me}(ae))}function Ke(ae,me,Te,Me){for(var Ve=0;Ve<Me&&!(Ve+Te>=me.length||Ve>=ae.length);++Ve)me[Ve+Te]=ae[Ve];return Ve}function _t(ae,me){return ae instanceof me||ae!=null&&ae.constructor!=null&&ae.constructor.name!=null&&ae.constructor.name===me.name}function at(ae){return ae!=ae}var Fe=function(){for(var ae="0123456789abcdef",me=new Array(256),Te=0;Te<16;++Te)for(var Me=16*Te,Ve=0;Ve<16;++Ve)me[Me+Ve]=ae[Te]+ae[Ve];return me}()}).call(this,n("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:236}],5:[function(n,C,S){C.exports=function(g){if(typeof g!="function")throw TypeError(String(g)+" is not a function");return g}},{}],6:[function(n,C,S){var g=n("../internals/is-object");C.exports=function(t){if(!g(t)&&t!==null)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},{"../internals/is-object":74}],7:[function(n,C,S){var g=n("../internals/well-known-symbol"),t=n("../internals/object-create"),c=n("../internals/object-define-property"),f=g("unscopables"),m=Array.prototype;m[f]==null&&c.f(m,f,{configurable:!0,value:t(null)}),C.exports=function(p){m[f][p]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(n,C,S){var g=n("../internals/string-multibyte").charAt;C.exports=function(t,c,f){return c+(f?g(t,c).length:1)}},{"../internals/string-multibyte":123}],9:[function(n,C,S){C.exports=function(g,t,c){if(!(g instanceof t))throw TypeError("Incorrect "+(c?c+" ":"")+"invocation");return g}},{}],10:[function(n,C,S){var g=n("../internals/is-object");C.exports=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t}},{"../internals/is-object":74}],11:[function(n,C,S){C.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(n,C,S){function g(de){return p(de)&&u(Oe,a(de))}var t,c=n("../internals/array-buffer-native"),f=n("../internals/descriptors"),m=n("../internals/global"),p=n("../internals/is-object"),u=n("../internals/has"),a=n("../internals/classof"),l=n("../internals/create-non-enumerable-property"),o=n("../internals/redefine"),d=n("../internals/object-define-property").f,_=n("../internals/object-get-prototype-of"),k=n("../internals/object-set-prototype-of"),E=n("../internals/well-known-symbol"),I=n("../internals/uid"),U=m.Int8Array,V=U&&U.prototype,$=m.Uint8ClampedArray,B=$&&$.prototype,se=U&&_(U),ne=V&&_(V),oe=Object.prototype,ge=oe.isPrototypeOf,J=E("toStringTag"),ue=I("TYPED_ARRAY_TAG"),he=c&&!!k&&a(m.opera)!=="Opera",ye=!1,Oe={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(t in Oe)m[t]||(he=!1);if((!he||typeof se!="function"||se===Function.prototype)&&(se=function(){throw TypeError("Incorrect invocation")},he))for(t in Oe)m[t]&&k(m[t],se);if((!he||!ne||ne===oe)&&(ne=se.prototype,he))for(t in Oe)m[t]&&k(m[t].prototype,ne);if(he&&_(B)!==ne&&k(B,ne),f&&!u(ne,J))for(t in ye=!0,d(ne,J,{get:function(){return p(this)?this[ue]:void 0}}),Oe)m[t]&&l(m[t],ue,t);C.exports={NATIVE_ARRAY_BUFFER_VIEWS:he,TYPED_ARRAY_TAG:ye&&ue,aTypedArray:function(de){if(g(de))return de;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(de){if(k){if(ge.call(se,de))return de}else for(var Ne in Oe)if(u(Oe,t)){var Le=m[Ne];if(Le&&(de===Le||ge.call(Le,de)))return de}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(de,Ne,Le){if(f){if(Le)for(var Be in Oe){var $e=m[Be];$e&&u($e.prototype,de)&&delete $e.prototype[de]}ne[de]&&!Le||o(ne,de,Le?Ne:he&&V[de]||Ne)}},exportTypedArrayStaticMethod:function(de,Ne,Le){var Be,$e;if(f){if(k){if(Le)for(Be in Oe)($e=m[Be])&&u($e,de)&&delete $e[de];if(se[de]&&!Le)return;try{return o(se,de,Le?Ne:he&&U[de]||Ne)}catch{}}for(Be in Oe)!($e=m[Be])||$e[de]&&!Le||o($e,de,Ne)}},isView:function(de){var Ne=a(de);return Ne==="DataView"||u(Oe,Ne)},isTypedArray:g,TypedArray:se,TypedArrayPrototype:ne}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(n,C,S){function g(ze){return[255&ze]}function t(ze){return[255&ze,ze>>8&255]}function c(ze){return[255&ze,ze>>8&255,ze>>16&255,ze>>24&255]}function f(ze){return ze[3]<<24|ze[2]<<16|ze[1]<<8|ze[0]}function m(ze){return me(ze,23,4)}function p(ze){return me(ze,52,8)}function u(ze,Ge){J(ze[Be],Ge,{get:function(){return Oe(this)[Ge]}})}function a(ze,Ge,st,ht){var it=B(st),mt=Oe(ze);if(it+Ge>mt.byteLength)throw ae($e);var gt=Oe(mt.buffer).bytes,St=it+mt.byteOffset,bt=gt.slice(St,St+Ge);return ht?bt:bt.reverse()}function l(ze,Ge,st,ht,it,mt){var gt=B(st),St=Oe(ze);if(gt+Ge>St.byteLength)throw ae($e);for(var bt=Oe(St.buffer).bytes,Et=gt+St.byteOffset,i=ht(+it),e=0;e<Ge;e++)bt[Et+e]=i[mt?e:Ge-e-1]}var o=n("../internals/global"),d=n("../internals/descriptors"),_=n("../internals/array-buffer-native"),k=n("../internals/create-non-enumerable-property"),E=n("../internals/redefine-all"),I=n("../internals/fails"),U=n("../internals/an-instance"),V=n("../internals/to-integer"),$=n("../internals/to-length"),B=n("../internals/to-index"),se=n("../internals/ieee754"),ne=n("../internals/object-get-prototype-of"),oe=n("../internals/object-set-prototype-of"),ge=n("../internals/object-get-own-property-names").f,J=n("../internals/object-define-property").f,ue=n("../internals/array-fill"),he=n("../internals/set-to-string-tag"),ye=n("../internals/internal-state"),Oe=ye.get,de=ye.set,Ne="ArrayBuffer",Le="DataView",Be="prototype",$e="Wrong index",ut=o[Ne],Ke=ut,_t=o[Le],at=_t&&_t[Be],Fe=Object.prototype,ae=o.RangeError,me=se.pack,Te=se.unpack;if(_){if(!I(function(){ut(1)})||!I(function(){new ut(-1)})||I(function(){return new ut,new ut(1.5),new ut(NaN),ut.name!=Ne})){for(var Me,Ve=(Ke=function(ze){return U(this,Ke),new ut(B(ze))})[Be]=ut[Be],je=ge(ut),Pe=0;je.length>Pe;)(Me=je[Pe++])in Ke||k(Ke,Me,ut[Me]);Ve.constructor=Ke}oe&&ne(at)!==Fe&&oe(at,Fe);var _e=new _t(new Ke(2)),He=at.setInt8;_e.setInt8(0,2147483648),_e.setInt8(1,2147483649),!_e.getInt8(0)&&_e.getInt8(1)||E(at,{setInt8:function(ze,Ge){He.call(this,ze,Ge<<24>>24)},setUint8:function(ze,Ge){He.call(this,ze,Ge<<24>>24)}},{unsafe:!0})}else Ke=function(ze){U(this,Ke,Ne);var Ge=B(ze);de(this,{bytes:ue.call(new Array(Ge),0),byteLength:Ge}),d||(this.byteLength=Ge)},_t=function(ze,Ge,st){U(this,_t,Le),U(ze,Ke,Le);var ht=Oe(ze).byteLength,it=V(Ge);if(it<0||ht<it)throw ae("Wrong offset");if(ht<it+(st=st===void 0?ht-it:$(st)))throw ae("Wrong length");de(this,{buffer:ze,byteLength:st,byteOffset:it}),d||(this.buffer=ze,this.byteLength=st,this.byteOffset=it)},d&&(u(Ke,"byteLength"),u(_t,"buffer"),u(_t,"byteLength"),u(_t,"byteOffset")),E(_t[Be],{getInt8:function(ze){return a(this,1,ze)[0]<<24>>24},getUint8:function(ze){return a(this,1,ze)[0]},getInt16:function(ze,Ge){var st=a(this,2,ze,1<arguments.length?Ge:void 0);return(st[1]<<8|st[0])<<16>>16},getUint16:function(ze,Ge){var st=a(this,2,ze,1<arguments.length?Ge:void 0);return st[1]<<8|st[0]},getInt32:function(ze,Ge){return f(a(this,4,ze,1<arguments.length?Ge:void 0))},getUint32:function(ze,Ge){return f(a(this,4,ze,1<arguments.length?Ge:void 0))>>>0},getFloat32:function(ze,Ge){return Te(a(this,4,ze,1<arguments.length?Ge:void 0),23)},getFloat64:function(ze,Ge){return Te(a(this,8,ze,1<arguments.length?Ge:void 0),52)},setInt8:function(ze,Ge){l(this,1,ze,g,Ge)},setUint8:function(ze,Ge){l(this,1,ze,g,Ge)},setInt16:function(ze,Ge,st){l(this,2,ze,t,Ge,2<arguments.length?st:void 0)},setUint16:function(ze,Ge,st){l(this,2,ze,t,Ge,2<arguments.length?st:void 0)},setInt32:function(ze,Ge,st){l(this,4,ze,c,Ge,2<arguments.length?st:void 0)},setUint32:function(ze,Ge,st){l(this,4,ze,c,Ge,2<arguments.length?st:void 0)},setFloat32:function(ze,Ge,st){l(this,4,ze,m,Ge,2<arguments.length?st:void 0)},setFloat64:function(ze,Ge,st){l(this,8,ze,p,Ge,2<arguments.length?st:void 0)}});he(Ke,Ne),he(_t,Le),C.exports={ArrayBuffer:Ke,DataView:_t}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(n,C,S){var g=n("../internals/to-object"),t=n("../internals/to-absolute-index"),c=n("../internals/to-length"),f=Math.min;C.exports=[].copyWithin||function(m,p,u){var a=g(this),l=c(a.length),o=t(m,l),d=t(p,l),_=2<arguments.length?u:void 0,k=f((_===void 0?l:t(_,l))-d,l-o),E=1;for(d<o&&o<d+k&&(E=-1,d+=k-1,o+=k-1);0<k--;)d in a?a[o]=a[d]:delete a[o],o+=E,d+=E;return a}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(n,C,S){var g=n("../internals/to-object"),t=n("../internals/to-absolute-index"),c=n("../internals/to-length");C.exports=function(f,m,p){for(var u=g(this),a=c(u.length),l=arguments.length,o=t(1<l?m:void 0,a),d=2<l?p:void 0,_=d===void 0?a:t(d,a);o<_;)u[o++]=f;return u}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(n,C,S){var g=n("../internals/array-iteration").forEach,t=n("../internals/array-method-is-strict"),c=n("../internals/array-method-uses-to-length"),f=t("forEach"),m=c("forEach");C.exports=f&&m?[].forEach:function(p,u){return g(this,p,1<arguments.length?u:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(n,C,S){var g=n("../internals/function-bind-context"),t=n("../internals/to-object"),c=n("../internals/call-with-safe-iteration-closing"),f=n("../internals/is-array-iterator-method"),m=n("../internals/to-length"),p=n("../internals/create-property"),u=n("../internals/get-iterator-method");C.exports=function(a,l,o){var d,_,k,E,I,U,V=t(a),$=typeof this=="function"?this:Array,B=arguments.length,se=1<B?l:void 0,ne=se!==void 0,oe=u(V),ge=0;if(ne&&(se=g(se,2<B?o:void 0,2)),oe==null||$==Array&&f(oe))for(_=new $(d=m(V.length));ge<d;ge++)U=ne?se(V[ge],ge):V[ge],p(_,ge,U);else for(I=(E=oe.call(V)).next,_=new $;!(k=I.call(E)).done;ge++)U=ne?c(E,se,[k.value,ge],!0):k.value,p(_,ge,U);return _.length=ge,_}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(n,C,S){function g(m){return function(p,u,a){var l,o=t(p),d=c(o.length),_=f(a,d);if(m&&u!=u){for(;_<d;)if((l=o[_++])!=l)return!0}else for(;_<d;_++)if((m||_ in o)&&o[_]===u)return m||_||0;return!m&&-1}}var t=n("../internals/to-indexed-object"),c=n("../internals/to-length"),f=n("../internals/to-absolute-index");C.exports={includes:g(!0),indexOf:g(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(n,C,S){function g(a){var l=a==1,o=a==2,d=a==3,_=a==4,k=a==6,E=a==5||k;return function(I,U,V,$){for(var B,se,ne=f(I),oe=c(ne),ge=t(U,V,3),J=m(oe.length),ue=0,he=$||p,ye=l?he(I,J):o?he(I,0):void 0;ue<J;ue++)if((E||ue in oe)&&(se=ge(B=oe[ue],ue,ne),a)){if(l)ye[ue]=se;else if(se)switch(a){case 3:return!0;case 5:return B;case 6:return ue;case 2:u.call(ye,B)}else if(_)return!1}return k?-1:d||_?_:ye}}var t=n("../internals/function-bind-context"),c=n("../internals/indexed-object"),f=n("../internals/to-object"),m=n("../internals/to-length"),p=n("../internals/array-species-create"),u=[].push;C.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(n,C,S){var g=n("../internals/to-indexed-object"),t=n("../internals/to-integer"),c=n("../internals/to-length"),f=n("../internals/array-method-is-strict"),m=n("../internals/array-method-uses-to-length"),p=Math.min,u=[].lastIndexOf,a=!!u&&1/[1].lastIndexOf(1,-0)<0,l=f("lastIndexOf"),o=m("indexOf",{ACCESSORS:!0,1:0}),d=a||!l||!o;C.exports=d?function(_,k){if(a)return u.apply(this,arguments)||0;var E=g(this),I=c(E.length),U=I-1;for(1<arguments.length&&(U=p(U,t(k))),U<0&&(U=I+U);0<=U;U--)if(U in E&&E[U]===_)return U||0;return-1}:u},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(n,C,S){var g=n("../internals/fails"),t=n("../internals/well-known-symbol"),c=n("../internals/engine-v8-version"),f=t("species");C.exports=function(m){return 51<=c||!g(function(){var p=[];return(p.constructor={})[f]=function(){return{foo:1}},p[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":146}],22:[function(n,C,S){var g=n("../internals/fails");C.exports=function(t,c){var f=[][t];return!!f&&g(function(){f.call(null,c||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(n,C,S){function g(u){throw u}var t=n("../internals/descriptors"),c=n("../internals/fails"),f=n("../internals/has"),m=Object.defineProperty,p={};C.exports=function(u,a){if(f(p,u))return p[u];var l=[][u],o=!!f(a=a||{},"ACCESSORS")&&a.ACCESSORS,d=f(a,0)?a[0]:g,_=f(a,1)?a[1]:void 0;return p[u]=!!l&&!c(function(){if(o&&!t)return!0;var k={length:-1};o?m(k,1,{enumerable:!0,get:g}):k[1]=1,l.call(k,d,_)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":60}],24:[function(n,C,S){function g(p){return function(u,a,l,o){t(a);var d=c(u),_=f(d),k=m(d.length),E=p?k-1:0,I=p?-1:1;if(l<2)for(;;){if(E in _){o=_[E],E+=I;break}if(E+=I,p?E<0:k<=E)throw TypeError("Reduce of empty array with no initial value")}for(;p?0<=E:E<k;E+=I)E in _&&(o=a(o,_[E],E,d));return o}}var t=n("../internals/a-function"),c=n("../internals/to-object"),f=n("../internals/indexed-object"),m=n("../internals/to-length");C.exports={left:g(!1),right:g(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(n,C,S){var g=n("../internals/is-object"),t=n("../internals/is-array"),c=n("../internals/well-known-symbol")("species");C.exports=function(f,m){var p;return t(f)&&(typeof(p=f.constructor)!="function"||p!==Array&&!t(p.prototype)?g(p)&&(p=p[c])===null&&(p=void 0):p=void 0),new(p===void 0?Array:p)(m===0?0:m)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(n,C,S){var g=n("../internals/an-object");C.exports=function(t,c,f,m){try{return m?c(g(f)[0],f[1]):c(f)}catch(u){var p=t.return;throw p!==void 0&&g(p.call(t)),u}}},{"../internals/an-object":10}],27:[function(n,C,S){var g=n("../internals/well-known-symbol")("iterator"),t=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){t=!0}};f[g]=function(){return this},Array.from(f,function(){throw 2})}catch{}C.exports=function(m,p){if(!p&&!t)return!1;var u=!1;try{var a={};a[g]=function(){return{next:function(){return{done:u=!0}}}},m(a)}catch{}return u}},{"../internals/well-known-symbol":146}],28:[function(n,C,S){var g={}.toString;C.exports=function(t){return g.call(t).slice(8,-1)}},{}],29:[function(n,C,S){var g=n("../internals/to-string-tag-support"),t=n("../internals/classof-raw"),c=n("../internals/well-known-symbol")("toStringTag"),f=t(function(){return arguments}())=="Arguments";C.exports=g?t:function(m){var p,u,a;return m===void 0?"Undefined":m===null?"Null":typeof(u=function(l,o){try{return l[o]}catch{}}(p=Object(m),c))=="string"?u:f?t(p):(a=t(p))=="Object"&&typeof p.callee=="function"?"Arguments":a}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(n,C,S){var g=n("../internals/object-define-property").f,t=n("../internals/object-create"),c=n("../internals/redefine-all"),f=n("../internals/function-bind-context"),m=n("../internals/an-instance"),p=n("../internals/iterate"),u=n("../internals/define-iterator"),a=n("../internals/set-species"),l=n("../internals/descriptors"),o=n("../internals/internal-metadata").fastKey,d=n("../internals/internal-state"),_=d.set,k=d.getterFor;C.exports={getConstructor:function(E,I,U,V){function $(oe,ge,J){var ue,he,ye=se(oe),Oe=ne(oe,ge);return Oe?Oe.value=J:(ye.last=Oe={index:he=o(ge,!0),key:ge,value:J,previous:ue=ye.last,next:void 0,removed:!1},ye.first||(ye.first=Oe),ue&&(ue.next=Oe),l?ye.size++:oe.size++,he!=="F"&&(ye.index[he]=Oe)),oe}var B=E(function(oe,ge){m(oe,B,I),_(oe,{type:I,index:t(null),first:void 0,last:void 0,size:0}),l||(oe.size=0),ge!=null&&p(ge,oe[V],oe,U)}),se=k(I),ne=function(oe,ge){var J,ue=se(oe),he=o(ge);if(he!=="F")return ue.index[he];for(J=ue.first;J;J=J.next)if(J.key==ge)return J};return c(B.prototype,{clear:function(){for(var oe=se(this),ge=oe.index,J=oe.first;J;)J.removed=!0,J.previous&&(J.previous=J.previous.next=void 0),delete ge[J.index],J=J.next;oe.first=oe.last=void 0,l?oe.size=0:this.size=0},delete:function(oe){var ge=se(this),J=ne(this,oe);if(J){var ue=J.next,he=J.previous;delete ge.index[J.index],J.removed=!0,he&&(he.next=ue),ue&&(ue.previous=he),ge.first==J&&(ge.first=ue),ge.last==J&&(ge.last=he),l?ge.size--:this.size--}return!!J},forEach:function(oe,ge){for(var J,ue=se(this),he=f(oe,1<arguments.length?ge:void 0,3);J=J?J.next:ue.first;)for(he(J.value,J.key,this);J&&J.removed;)J=J.previous},has:function(oe){return!!ne(this,oe)}}),c(B.prototype,U?{get:function(oe){var ge=ne(this,oe);return ge&&ge.value},set:function(oe,ge){return $(this,oe===0?0:oe,ge)}}:{add:function(oe){return $(this,oe=oe===0?0:oe,oe)}}),l&&g(B.prototype,"size",{get:function(){return se(this).size}}),B},setStrong:function(E,I,U){var V=I+" Iterator",$=k(I),B=k(V);u(E,I,function(se,ne){_(this,{type:V,target:se,state:$(se),kind:ne,last:void 0})},function(){for(var se=B(this),ne=se.kind,oe=se.last;oe&&oe.removed;)oe=oe.previous;return se.target&&(se.last=oe=oe?oe.next:se.state.first)?ne=="keys"?{value:oe.key,done:!1}:ne=="values"?{value:oe.value,done:!1}:{value:[oe.key,oe.value],done:!1}:{value:se.target=void 0,done:!0}},U?"entries":"values",!U,!0),a(I)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/global"),c=n("../internals/is-forced"),f=n("../internals/redefine"),m=n("../internals/internal-metadata"),p=n("../internals/iterate"),u=n("../internals/an-instance"),a=n("../internals/is-object"),l=n("../internals/fails"),o=n("../internals/check-correctness-of-iteration"),d=n("../internals/set-to-string-tag"),_=n("../internals/inherit-if-required");C.exports=function(k,E,I){function U(de){var Ne=ne[de];f(ne,de,de=="add"?function(Le){return Ne.call(this,Le===0?0:Le),this}:de=="delete"?function(Le){return!($&&!a(Le))&&Ne.call(this,Le===0?0:Le)}:de=="get"?function(Le){return $&&!a(Le)?void 0:Ne.call(this,Le===0?0:Le)}:de=="has"?function(Le){return!($&&!a(Le))&&Ne.call(this,Le===0?0:Le)}:function(Le,Be){return Ne.call(this,Le===0?0:Le,Be),this})}var V=k.indexOf("Map")!==-1,$=k.indexOf("Weak")!==-1,B=V?"set":"add",se=t[k],ne=se&&se.prototype,oe=se,ge={};if(c(k,typeof se!="function"||!($||ne.forEach&&!l(function(){new se().entries().next()}))))oe=I.getConstructor(E,k,V,B),m.REQUIRED=!0;else if(c(k,!0)){var J=new oe,ue=J[B]($?{}:-0,1)!=J,he=l(function(){J.has(1)}),ye=o(function(de){new se(de)}),Oe=!$&&l(function(){for(var de=new se,Ne=5;Ne--;)de[B](Ne,Ne);return!de.has(-0)});ye||(((oe=E(function(de,Ne){u(de,oe,k);var Le=_(new se,de,oe);return Ne!=null&&p(Ne,Le[B],Le,V),Le})).prototype=ne).constructor=oe),(he||Oe)&&(U("delete"),U("has"),V&&U("get")),(Oe||ue)&&U(B),$&&ne.clear&&delete ne.clear}return ge[k]=oe,g({global:!0,forced:oe!=se},ge),d(oe,k),$||I.setStrong(oe,k,V),oe}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],32:[function(n,C,S){var g=n("../internals/has"),t=n("../internals/own-keys"),c=n("../internals/object-get-own-property-descriptor"),f=n("../internals/object-define-property");C.exports=function(m,p){for(var u=t(p),a=f.f,l=c.f,o=0;o<u.length;o++){var d=u[o];g(m,d)||a(m,d,l(p,d))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],33:[function(n,C,S){var g=n("../internals/well-known-symbol")("match");C.exports=function(t){var c=/./;try{"/./"[t](c)}catch{try{return c[g]=!1,"/./"[t](c)}catch{}}return!1}},{"../internals/well-known-symbol":146}],34:[function(n,C,S){var g=n("../internals/fails");C.exports=!g(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},{"../internals/fails":50}],35:[function(n,C,S){var g=n("../internals/require-object-coercible"),t=/"/g;C.exports=function(c,f,m,p){var u=String(g(c)),a="<"+f;return m!==""&&(a+=" "+m+'="'+String(p).replace(t,"&quot;")+'"'),a+">"+u+"</"+f+">"}},{"../internals/require-object-coercible":113}],36:[function(n,C,S){function g(){return this}var t=n("../internals/iterators-core").IteratorPrototype,c=n("../internals/object-create"),f=n("../internals/create-property-descriptor"),m=n("../internals/set-to-string-tag"),p=n("../internals/iterators");C.exports=function(u,a,l){var o=a+" Iterator";return u.prototype=c(t,{next:f(1,l)}),m(u,o,!1,!0),p[o]=g,u}},{"../internals/create-property-descriptor":38,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],37:[function(n,C,S){var g=n("../internals/descriptors"),t=n("../internals/object-define-property"),c=n("../internals/create-property-descriptor");C.exports=g?function(f,m,p){return t.f(f,m,c(1,p))}:function(f,m,p){return f[m]=p,f}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":92}],38:[function(n,C,S){C.exports=function(g,t){return{enumerable:!(1&g),configurable:!(2&g),writable:!(4&g),value:t}}},{}],39:[function(n,C,S){var g=n("../internals/to-primitive"),t=n("../internals/object-define-property"),c=n("../internals/create-property-descriptor");C.exports=function(f,m,p){var u=g(m);u in f?t.f(f,u,c(0,p)):f[u]=p}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":92,"../internals/to-primitive":138}],40:[function(n,C,S){function g(){return this}var t=n("../internals/export"),c=n("../internals/create-iterator-constructor"),f=n("../internals/object-get-prototype-of"),m=n("../internals/object-set-prototype-of"),p=n("../internals/set-to-string-tag"),u=n("../internals/create-non-enumerable-property"),a=n("../internals/redefine"),l=n("../internals/well-known-symbol"),o=n("../internals/is-pure"),d=n("../internals/iterators"),_=n("../internals/iterators-core"),k=_.IteratorPrototype,E=_.BUGGY_SAFARI_ITERATORS,I=l("iterator"),U="values",V="entries";C.exports=function($,B,se,ne,oe,ge,J){c(se,B,ne);function ue(Ke){if(Ke===oe&&$e)return $e;if(!E&&Ke in Le)return Le[Ke];switch(Ke){case"keys":case U:case V:return function(){return new se(this,Ke)}}return function(){return new se(this)}}var he,ye,Oe,de=B+" Iterator",Ne=!1,Le=$.prototype,Be=Le[I]||Le["@@iterator"]||oe&&Le[oe],$e=!E&&Be||ue(oe),ut=B=="Array"&&Le.entries||Be;if(ut&&(he=f(ut.call(new $)),k!==Object.prototype&&he.next&&(o||f(he)===k||(m?m(he,k):typeof he[I]!="function"&&u(he,I,g)),p(he,de,!0,!0),o&&(d[de]=g))),oe==U&&Be&&Be.name!==U&&(Ne=!0,$e=function(){return Be.call(this)}),o&&!J||Le[I]===$e||u(Le,I,$e),d[B]=$e,oe)if(ye={values:ue(U),keys:ge?$e:ue("keys"),entries:ue(V)},J)for(Oe in ye)!E&&!Ne&&Oe in Le||a(Le,Oe,ye[Oe]);else t({target:B,proto:!0,forced:E||Ne},ye);return ye}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],41:[function(n,C,S){var g=n("../internals/path"),t=n("../internals/has"),c=n("../internals/well-known-symbol-wrapped"),f=n("../internals/object-define-property").f;C.exports=function(m){var p=g.Symbol||(g.Symbol={});t(p,m)||f(p,m,{value:c.f(m)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],42:[function(n,C,S){var g=n("../internals/fails");C.exports=!g(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":50}],43:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/is-object"),c=g.document,f=t(c)&&t(c.createElement);C.exports=function(m){return f?c.createElement(m):{}}},{"../internals/global":59,"../internals/is-object":74}],44:[function(n,C,S){C.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(n,C,S){var g=n("../internals/engine-user-agent");C.exports=/(iphone|ipod|ipad).*applewebkit/i.test(g)},{"../internals/engine-user-agent":46}],46:[function(n,C,S){var g=n("../internals/get-built-in");C.exports=g("navigator","userAgent")||""},{"../internals/get-built-in":56}],47:[function(n,C,S){var g,t,c=n("../internals/global"),f=n("../internals/engine-user-agent"),m=c.process,p=m&&m.versions,u=p&&p.v8;u?t=(g=u.split("."))[0]+g[1]:f&&(!(g=f.match(/Edge\/(\d+)/))||74<=g[1])&&(g=f.match(/Chrome\/(\d+)/))&&(t=g[1]),C.exports=t&&+t},{"../internals/engine-user-agent":46,"../internals/global":59}],48:[function(n,C,S){C.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/object-get-own-property-descriptor").f,c=n("../internals/create-non-enumerable-property"),f=n("../internals/redefine"),m=n("../internals/set-global"),p=n("../internals/copy-constructor-properties"),u=n("../internals/is-forced");C.exports=function(a,l){var o,d,_,k,E,I=a.target,U=a.global,V=a.stat;if(o=U?g:V?g[I]||m(I,{}):(g[I]||{}).prototype)for(d in l){if(k=l[d],_=a.noTargetGet?(E=t(o,d))&&E.value:o[d],!u(U?d:I+(V?".":"#")+d,a.forced)&&_!==void 0){if(typeof k==typeof _)continue;p(k,_)}(a.sham||_&&_.sham)&&c(k,"sham",!0),f(o,d,k,a)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],50:[function(n,C,S){C.exports=function(g){try{return!!g()}catch{return!0}}},{}],51:[function(n,C,S){n("../modules/es.regexp.exec");var g=n("../internals/redefine"),t=n("../internals/fails"),c=n("../internals/well-known-symbol"),f=n("../internals/regexp-exec"),m=n("../internals/create-non-enumerable-property"),p=c("species"),u=!t(function(){var _=/./;return _.exec=function(){var k=[];return k.groups={a:"7"},k},"".replace(_,"$<a>")!=="7"}),a="a".replace(/./,"$0")==="$0",l=c("replace"),o=!!/./[l]&&/./[l]("a","$0")==="",d=!t(function(){var _=/(?:)/,k=_.exec;_.exec=function(){return k.apply(this,arguments)};var E="ab".split(_);return E.length!==2||E[0]!=="a"||E[1]!=="b"});C.exports=function(_,k,E,I){var U=c(_),V=!t(function(){var ge={};return ge[U]=function(){return 7},""[_](ge)!=7}),$=V&&!t(function(){var ge=!1,J=/a/;return _==="split"&&((J={constructor:{}}).constructor[p]=function(){return J},J.flags="",J[U]=/./[U]),J.exec=function(){return ge=!0,null},J[U](""),!ge});if(!V||!$||_==="replace"&&(!u||!a||o)||_==="split"&&!d){var B=/./[U],se=E(U,""[_],function(ge,J,ue,he,ye){return J.exec===f?V&&!ye?{done:!0,value:B.call(J,ue,he)}:{done:!0,value:ge.call(ue,J,he)}:{done:!1}},{REPLACE_KEEPS_$0:a,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:o}),ne=se[0],oe=se[1];g(String.prototype,_,ne),g(RegExp.prototype,U,k==2?function(ge,J){return oe.call(ge,this,J)}:function(ge){return oe.call(ge,this)})}I&&m(RegExp.prototype[U],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],52:[function(n,C,S){var g=n("../internals/is-array"),t=n("../internals/to-length"),c=n("../internals/function-bind-context"),f=function(m,p,u,a,l,o,d,_){for(var k,E=l,I=0,U=!!d&&c(d,_,3);I<a;){if(I in u){if(k=U?U(u[I],I,p):u[I],0<o&&g(k))E=f(m,p,k,t(k.length),E,o-1)-1;else{if(9007199254740991<=E)throw TypeError("Exceed the acceptable array length");m[E]=k}E++}I++}return E};C.exports=f},{"../internals/function-bind-context":54,"../internals/is-array":72,"../internals/to-length":134}],53:[function(n,C,S){var g=n("../internals/fails");C.exports=!g(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],54:[function(n,C,S){var g=n("../internals/a-function");C.exports=function(t,c,f){if(g(t),c===void 0)return t;switch(f){case 0:return function(){return t.call(c)};case 1:return function(m){return t.call(c,m)};case 2:return function(m,p){return t.call(c,m,p)};case 3:return function(m,p,u){return t.call(c,m,p,u)}}return function(){return t.apply(c,arguments)}}},{"../internals/a-function":5}],55:[function(n,C,S){var g=n("../internals/a-function"),t=n("../internals/is-object"),c=[].slice,f={};C.exports=Function.bind||function(m){var p=g(this),u=c.call(arguments,1),a=function(){var l=u.concat(c.call(arguments));return this instanceof a?function(o,d,_){if(!(d in f)){for(var k=[],E=0;E<d;E++)k[E]="a["+E+"]";f[d]=Function("C,a","return new C("+k.join(",")+")")}return f[d](o,_)}(p,l.length,l):p.apply(m,l)};return t(p.prototype)&&(a.prototype=p.prototype),a}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(n,C,S){function g(f){return typeof f=="function"?f:void 0}var t=n("../internals/path"),c=n("../internals/global");C.exports=function(f,m){return arguments.length<2?g(t[f])||g(c[f]):t[f]&&t[f][m]||c[f]&&c[f][m]}},{"../internals/global":59,"../internals/path":104}],57:[function(n,C,S){var g=n("../internals/classof"),t=n("../internals/iterators"),c=n("../internals/well-known-symbol")("iterator");C.exports=function(f){if(f!=null)return f[c]||f["@@iterator"]||t[g(f)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(n,C,S){var g=n("../internals/an-object"),t=n("../internals/get-iterator-method");C.exports=function(c){var f=t(c);if(typeof f!="function")throw TypeError(String(c)+" is not iterable");return g(f.call(c))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(n,C,S){(function(g){function t(c){return c&&c.Math==Math&&c}C.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof g=="object"&&g)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(n,C,S){var g={}.hasOwnProperty;C.exports=function(t,c){return g.call(t,c)}},{}],61:[function(n,C,S){C.exports={}},{}],62:[function(n,C,S){var g=n("../internals/global");C.exports=function(t,c){var f=g.console;f&&f.error&&(arguments.length===1?f.error(t):f.error(t,c))}},{"../internals/global":59}],63:[function(n,C,S){var g=n("../internals/get-built-in");C.exports=g("document","documentElement")},{"../internals/get-built-in":56}],64:[function(n,C,S){var g=n("../internals/descriptors"),t=n("../internals/fails"),c=n("../internals/document-create-element");C.exports=!g&&!t(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],65:[function(n,C,S){var g=Math.abs,t=Math.pow,c=Math.floor,f=Math.log,m=Math.LN2;C.exports={pack:function(p,u,a){var l,o,d,_=new Array(a),k=8*a-u-1,E=(1<<k)-1,I=E>>1,U=u===23?t(2,-24)-t(2,-77):0,V=p<0||p===0&&1/p<0?1:0,$=0;for((p=g(p))!=p||p===1/0?(o=p!=p?1:0,l=E):(l=c(f(p)/m),p*(d=t(2,-l))<1&&(l--,d*=2),2<=(p+=1<=l+I?U/d:U*t(2,1-I))*d&&(l++,d/=2),E<=l+I?(o=0,l=E):1<=l+I?(o=(p*d-1)*t(2,u),l+=I):(o=p*t(2,I-1)*t(2,u),l=0));8<=u;_[$++]=255&o,o/=256,u-=8);for(l=l<<u|o,k+=u;0<k;_[$++]=255&l,l/=256,k-=8);return _[--$]|=128*V,_},unpack:function(p,u){var a,l=p.length,o=8*l-u-1,d=(1<<o)-1,_=d>>1,k=o-7,E=l-1,I=p[E--],U=127&I;for(I>>=7;0<k;U=256*U+p[E],E--,k-=8);for(a=U&(1<<-k)-1,U>>=-k,k+=u;0<k;a=256*a+p[E],E--,k-=8);if(U===0)U=1-_;else{if(U===d)return a?NaN:I?-1/0:1/0;a+=t(2,u),U-=_}return(I?-1:1)*a*t(2,U-u)}}},{}],66:[function(n,C,S){var g=n("../internals/fails"),t=n("../internals/classof-raw"),c="".split;C.exports=g(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return t(f)=="String"?c.call(f,""):Object(f)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],67:[function(n,C,S){var g=n("../internals/is-object"),t=n("../internals/object-set-prototype-of");C.exports=function(c,f,m){var p,u;return t&&typeof(p=f.constructor)=="function"&&p!==m&&g(u=p.prototype)&&u!==m.prototype&&t(c,u),c}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(n,C,S){var g=n("../internals/shared-store"),t=Function.toString;typeof g.inspectSource!="function"&&(g.inspectSource=function(c){return t.call(c)}),C.exports=g.inspectSource},{"../internals/shared-store":119}],69:[function(n,C,S){function g(_){m(_,a,{value:{objectID:"O"+ ++l,weakData:{}}})}var t=n("../internals/hidden-keys"),c=n("../internals/is-object"),f=n("../internals/has"),m=n("../internals/object-define-property").f,p=n("../internals/uid"),u=n("../internals/freezing"),a=p("meta"),l=0,o=Object.isExtensible||function(){return!0},d=C.exports={REQUIRED:!1,fastKey:function(_,k){if(!c(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!f(_,a)){if(!o(_))return"F";if(!k)return"E";g(_)}return _[a].objectID},getWeakData:function(_,k){if(!f(_,a)){if(!o(_))return!0;if(!k)return!1;g(_)}return _[a].weakData},onFreeze:function(_){return u&&d.REQUIRED&&o(_)&&!f(_,a)&&g(_),_}};t[a]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(n,C,S){var g,t,c,f=n("../internals/native-weak-map"),m=n("../internals/global"),p=n("../internals/is-object"),u=n("../internals/create-non-enumerable-property"),a=n("../internals/has"),l=n("../internals/shared-key"),o=n("../internals/hidden-keys"),d=m.WeakMap;if(f){var _=new d,k=_.get,E=_.has,I=_.set;g=function(V,$){return I.call(_,V,$),$},t=function(V){return k.call(_,V)||{}},c=function(V){return E.call(_,V)}}else{var U=l("state");o[U]=!0,g=function(V,$){return u(V,U,$),$},t=function(V){return a(V,U)?V[U]:{}},c=function(V){return a(V,U)}}C.exports={set:g,get:t,has:c,enforce:function(V){return c(V)?t(V):g(V,{})},getterFor:function(V){return function($){var B;if(!p($)||(B=t($)).type!==V)throw TypeError("Incompatible receiver, "+V+" required");return B}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(n,C,S){var g=n("../internals/well-known-symbol"),t=n("../internals/iterators"),c=g("iterator"),f=Array.prototype;C.exports=function(m){return m!==void 0&&(t.Array===m||f[c]===m)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(n,C,S){var g=n("../internals/classof-raw");C.exports=Array.isArray||function(t){return g(t)=="Array"}},{"../internals/classof-raw":28}],73:[function(n,C,S){function g(a,l){var o=m[f(a)];return o==u||o!=p&&(typeof l=="function"?t(l):!!l)}var t=n("../internals/fails"),c=/#|\.prototype\./,f=g.normalize=function(a){return String(a).replace(c,".").toLowerCase()},m=g.data={},p=g.NATIVE="N",u=g.POLYFILL="P";C.exports=g},{"../internals/fails":50}],74:[function(n,C,S){C.exports=function(g){return typeof g=="object"?g!==null:typeof g=="function"}},{}],75:[function(n,C,S){C.exports=!1},{}],76:[function(n,C,S){var g=n("../internals/is-object"),t=n("../internals/classof-raw"),c=n("../internals/well-known-symbol")("match");C.exports=function(f){var m;return g(f)&&((m=f[c])!==void 0?!!m:t(f)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(n,C,S){function g(a,l){this.stopped=a,this.result=l}var t=n("../internals/an-object"),c=n("../internals/is-array-iterator-method"),f=n("../internals/to-length"),m=n("../internals/function-bind-context"),p=n("../internals/get-iterator-method"),u=n("../internals/call-with-safe-iteration-closing");(C.exports=function(a,l,o,d,_){var k,E,I,U,V,$,B,se=m(l,o,d?2:1);if(_)k=a;else{if(typeof(E=p(a))!="function")throw TypeError("Target is not iterable");if(c(E)){for(I=0,U=f(a.length);I<U;I++)if((V=d?se(t(B=a[I])[0],B[1]):se(a[I]))&&V instanceof g)return V;return new g(!1)}k=E.call(a)}for($=k.next;!(B=$.call(k)).done;)if(typeof(V=u(k,se,B.value,d))=="object"&&V&&V instanceof g)return V;return new g(!1)}).stop=function(a){return new g(!0,a)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(n,C,S){var g,t,c,f=n("../internals/object-get-prototype-of"),m=n("../internals/create-non-enumerable-property"),p=n("../internals/has"),u=n("../internals/well-known-symbol"),a=n("../internals/is-pure"),l=u("iterator"),o=!1;[].keys&&("next"in(c=[].keys())?(t=f(f(c)))!==Object.prototype&&(g=t):o=!0),g==null&&(g={}),a||p(g,l)||m(g,l,function(){return this}),C.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:o}},{"../internals/create-non-enumerable-property":37,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(n,C,S){arguments[4][61][0].apply(S,arguments)},{dup:61}],80:[function(n,C,S){C.exports=Math.sign||function(g){return(g=+g)==0||g!=g?g:g<0?-1:1}},{}],81:[function(n,C,S){var g,t,c,f,m,p,u,a,l=n("../internals/global"),o=n("../internals/object-get-own-property-descriptor").f,d=n("../internals/classof-raw"),_=n("../internals/task").set,k=n("../internals/engine-is-ios"),E=l.MutationObserver||l.WebKitMutationObserver,I=l.process,U=l.Promise,V=d(I)=="process",$=o(l,"queueMicrotask"),B=$&&$.value;B||(g=function(){var se,ne;for(V&&(se=I.domain)&&se.exit();t;){ne=t.fn,t=t.next;try{ne()}catch(oe){throw t?f():c=void 0,oe}}c=void 0,se&&se.enter()},f=V?function(){I.nextTick(g)}:E&&!k?(m=!0,p=document.createTextNode(""),new E(g).observe(p,{characterData:!0}),function(){p.data=m=!m}):U&&U.resolve?(u=U.resolve(void 0),a=u.then,function(){a.call(u,g)}):function(){_.call(l,g)}),C.exports=B||function(se){var ne={fn:se,next:void 0};c&&(c.next=ne),t||(t=ne,f()),c=ne}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(n,C,S){var g=n("../internals/global");C.exports=g.Promise},{"../internals/global":59}],83:[function(n,C,S){var g=n("../internals/fails");C.exports=!!Object.getOwnPropertySymbols&&!g(function(){return!String(Symbol())})},{"../internals/fails":50}],84:[function(n,C,S){var g=n("../internals/fails"),t=n("../internals/well-known-symbol"),c=n("../internals/is-pure"),f=t("iterator");C.exports=!g(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),p=m.searchParams,u="";return m.pathname="c%20d",p.forEach(function(a,l){p.delete("b"),u+=l+a}),c&&!m.toJSON||!p.sort||m.href!=="http://a/c%20d?a=1&c=3"||p.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!p[f]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||u!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":50,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/inspect-source"),c=g.WeakMap;C.exports=typeof c=="function"&&/native code/.test(t(c))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(n,C,S){function g(c){var f,m;this.promise=new c(function(p,u){if(f!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");f=p,m=u}),this.resolve=t(f),this.reject=t(m)}var t=n("../internals/a-function");C.exports.f=function(c){return new g(c)}},{"../internals/a-function":5}],87:[function(n,C,S){var g=n("../internals/is-regexp");C.exports=function(t){if(g(t))throw TypeError("The method doesn't accept regular expressions");return t}},{"../internals/is-regexp":76}],88:[function(n,C,S){var g=n("../internals/global").isFinite;C.exports=Number.isFinite||function(t){return typeof t=="number"&&g(t)}},{"../internals/global":59}],89:[function(n,C,S){var g=n("../internals/descriptors"),t=n("../internals/fails"),c=n("../internals/object-keys"),f=n("../internals/object-get-own-property-symbols"),m=n("../internals/object-property-is-enumerable"),p=n("../internals/to-object"),u=n("../internals/indexed-object"),a=Object.assign,l=Object.defineProperty;C.exports=!a||t(function(){if(g&&a({b:1},a(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var o={},d={},_=Symbol(),k="abcdefghijklmnopqrst";return o[_]=7,k.split("").forEach(function(E){d[E]=E}),a({},o)[_]!=7||c(a({},d)).join("")!=k})?function(o,d){for(var _=p(o),k=arguments.length,E=1,I=f.f,U=m.f;E<k;)for(var V,$=u(arguments[E++]),B=I?c($).concat(I($)):c($),se=B.length,ne=0;ne<se;)V=B[ne++],g&&!U.call($,V)||(_[V]=$[V]);return _}:a},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(n,C,S){function g(){}function t(I){return"<script>"+I+"</"+_+">"}var c,f=n("../internals/an-object"),m=n("../internals/object-define-properties"),p=n("../internals/enum-bug-keys"),u=n("../internals/hidden-keys"),a=n("../internals/html"),l=n("../internals/document-create-element"),o=n("../internals/shared-key"),d="prototype",_="script",k=o("IE_PROTO"),E=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}var I,U;E=c?function($){$.write(t("")),$.close();var B=$.parentWindow.Object;return $=null,B}(c):((U=l("iframe")).style.display="none",a.appendChild(U),U.src=String("javascript:"),(I=U.contentWindow.document).open(),I.write(t("document.F=Object")),I.close(),I.F);for(var V=p.length;V--;)delete E[d][p[V]];return E()};u[k]=!0,C.exports=Object.create||function(I,U){var V;return I!==null?(g[d]=f(I),V=new g,g[d]=null,V[k]=I):V=E(),U===void 0?V:m(V,U)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(n,C,S){var g=n("../internals/descriptors"),t=n("../internals/object-define-property"),c=n("../internals/an-object"),f=n("../internals/object-keys");C.exports=g?Object.defineProperties:function(m,p){c(m);for(var u,a=f(p),l=a.length,o=0;o<l;)t.f(m,u=a[o++],p[u]);return m}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(n,C,S){var g=n("../internals/descriptors"),t=n("../internals/ie8-dom-define"),c=n("../internals/an-object"),f=n("../internals/to-primitive"),m=Object.defineProperty;S.f=g?m:function(p,u,a){if(c(p),u=f(u,!0),c(a),t)try{return m(p,u,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(p[u]=a.value),p}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(n,C,S){var g=n("../internals/descriptors"),t=n("../internals/object-property-is-enumerable"),c=n("../internals/create-property-descriptor"),f=n("../internals/to-indexed-object"),m=n("../internals/to-primitive"),p=n("../internals/has"),u=n("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;S.f=g?a:function(l,o){if(l=f(l),o=m(o,!0),u)try{return a(l,o)}catch{}if(p(l,o))return c(!t.f.call(l,o),l[o])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(n,C,S){var g=n("../internals/to-indexed-object"),t=n("../internals/object-get-own-property-names").f,c={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];C.exports.f=function(m){return f&&c.call(m)=="[object Window]"?function(p){try{return t(p)}catch{return f.slice()}}(m):t(g(m))}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(n,C,S){var g=n("../internals/object-keys-internal"),t=n("../internals/enum-bug-keys").concat("length","prototype");S.f=Object.getOwnPropertyNames||function(c){return g(c,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],96:[function(n,C,S){S.f=Object.getOwnPropertySymbols},{}],97:[function(n,C,S){var g=n("../internals/has"),t=n("../internals/to-object"),c=n("../internals/shared-key"),f=n("../internals/correct-prototype-getter"),m=c("IE_PROTO"),p=Object.prototype;C.exports=f?Object.getPrototypeOf:function(u){return u=t(u),g(u,m)?u[m]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?p:null}},{"../internals/correct-prototype-getter":34,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(n,C,S){var g=n("../internals/has"),t=n("../internals/to-indexed-object"),c=n("../internals/array-includes").indexOf,f=n("../internals/hidden-keys");C.exports=function(m,p){var u,a=t(m),l=0,o=[];for(u in a)!g(f,u)&&g(a,u)&&o.push(u);for(;p.length>l;)g(a,u=p[l++])&&(~c(o,u)||o.push(u));return o}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(n,C,S){var g=n("../internals/object-keys-internal"),t=n("../internals/enum-bug-keys");C.exports=Object.keys||function(c){return g(c,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],100:[function(n,C,S){var g={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,c=t&&!g.call({1:2},1);S.f=c?function(f){var m=t(this,f);return!!m&&m.enumerable}:g},{}],101:[function(n,C,S){var g=n("../internals/an-object"),t=n("../internals/a-possible-prototype");C.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,f=!1,m={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),f=m instanceof Array}catch{}return function(p,u){return g(p),t(u),f?c.call(p,u):p.__proto__=u,p}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(n,C,S){var g=n("../internals/to-string-tag-support"),t=n("../internals/classof");C.exports=g?{}.toString:function(){return"[object "+t(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(n,C,S){var g=n("../internals/get-built-in"),t=n("../internals/object-get-own-property-names"),c=n("../internals/object-get-own-property-symbols"),f=n("../internals/an-object");C.exports=g("Reflect","ownKeys")||function(m){var p=t.f(f(m)),u=c.f;return u?p.concat(u(m)):p}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(n,C,S){var g=n("../internals/global");C.exports=g},{"../internals/global":59}],105:[function(n,C,S){C.exports=function(g){try{return{error:!1,value:g()}}catch(t){return{error:!0,value:t}}}},{}],106:[function(n,C,S){var g=n("../internals/an-object"),t=n("../internals/is-object"),c=n("../internals/new-promise-capability");C.exports=function(f,m){if(g(f),t(m)&&m.constructor===f)return m;var p=c.f(f);return(0,p.resolve)(m),p.promise}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(n,C,S){var g=n("../internals/redefine");C.exports=function(t,c,f){for(var m in c)g(t,m,c[m],f);return t}},{"../internals/redefine":108}],108:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/create-non-enumerable-property"),c=n("../internals/has"),f=n("../internals/set-global"),m=n("../internals/inspect-source"),p=n("../internals/internal-state"),u=p.get,a=p.enforce,l=String(String).split("String");(C.exports=function(o,d,_,k){var E=!!k&&!!k.unsafe,I=!!k&&!!k.enumerable,U=!!k&&!!k.noTargetGet;typeof _=="function"&&(typeof d!="string"||c(_,"name")||t(_,"name",d),a(_).source=l.join(typeof d=="string"?d:"")),o!==g?(E?!U&&o[d]&&(I=!0):delete o[d],I?o[d]=_:t(o,d,_)):I?o[d]=_:f(d,_)})(Function.prototype,"toString",function(){return typeof this=="function"&&u(this).source||m(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(n,C,S){var g=n("./classof-raw"),t=n("./regexp-exec");C.exports=function(c,f){var m=c.exec;if(typeof m=="function"){var p=m.call(c,f);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(g(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return t.call(c,f)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(n,C,S){var g,t,c=n("./regexp-flags"),f=n("./regexp-sticky-helpers"),m=RegExp.prototype.exec,p=String.prototype.replace,u=m,a=(g=/a/,t=/b*/g,m.call(g,"a"),m.call(t,"a"),g.lastIndex!==0||t.lastIndex!==0),l=f.UNSUPPORTED_Y||f.BROKEN_CARET,o=/()??/.exec("")[1]!==void 0;(a||o||l)&&(u=function(d){var _,k,E,I,U=this,V=l&&U.sticky,$=c.call(U),B=U.source,se=0,ne=d;return V&&(($=$.replace("y","")).indexOf("g")===-1&&($+="g"),ne=String(d).slice(U.lastIndex),0<U.lastIndex&&(!U.multiline||U.multiline&&d[U.lastIndex-1]!==`
`)&&(B="(?: "+B+")",ne=" "+ne,se++),k=new RegExp("^(?:"+B+")",$)),o&&(k=new RegExp("^"+B+"$(?!\\s)",$)),a&&(_=U.lastIndex),E=m.call(V?k:U,ne),V?E?(E.input=E.input.slice(se),E[0]=E[0].slice(se),E.index=U.lastIndex,U.lastIndex+=E[0].length):U.lastIndex=0:a&&E&&(U.lastIndex=U.global?E.index+E[0].length:_),o&&E&&1<E.length&&p.call(E[0],k,function(){for(I=1;I<arguments.length-2;I++)arguments[I]===void 0&&(E[I]=void 0)}),E}),C.exports=u},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(n,C,S){var g=n("../internals/an-object");C.exports=function(){var t=g(this),c="";return t.global&&(c+="g"),t.ignoreCase&&(c+="i"),t.multiline&&(c+="m"),t.dotAll&&(c+="s"),t.unicode&&(c+="u"),t.sticky&&(c+="y"),c}},{"../internals/an-object":10}],112:[function(n,C,S){var g=n("./fails");function t(c,f){return RegExp(c,f)}S.UNSUPPORTED_Y=g(function(){var c=t("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),S.BROKEN_CARET=g(function(){var c=t("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},{"./fails":50}],113:[function(n,C,S){C.exports=function(g){if(g==null)throw TypeError("Can't call method on "+g);return g}},{}],114:[function(n,C,S){C.exports=Object.is||function(g,t){return g===t?g!==0||1/g==1/t:g!=g&&t!=t}},{}],115:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/create-non-enumerable-property");C.exports=function(c,f){try{t(g,c,f)}catch{g[c]=f}return f}},{"../internals/create-non-enumerable-property":37,"../internals/global":59}],116:[function(n,C,S){var g=n("../internals/get-built-in"),t=n("../internals/object-define-property"),c=n("../internals/well-known-symbol"),f=n("../internals/descriptors"),m=c("species");C.exports=function(p){var u=g(p),a=t.f;f&&u&&!u[m]&&a(u,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(n,C,S){var g=n("../internals/object-define-property").f,t=n("../internals/has"),c=n("../internals/well-known-symbol")("toStringTag");C.exports=function(f,m,p){f&&!t(f=p?f:f.prototype,c)&&g(f,c,{configurable:!0,value:m})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(n,C,S){var g=n("../internals/shared"),t=n("../internals/uid"),c=g("keys");C.exports=function(f){return c[f]||(c[f]=t(f))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/set-global"),c="__core-js_shared__",f=g[c]||t(c,{});C.exports=f},{"../internals/global":59,"../internals/set-global":115}],120:[function(n,C,S){var g=n("../internals/is-pure"),t=n("../internals/shared-store");(C.exports=function(c,f){return t[c]||(t[c]=f!==void 0?f:{})})("versions",[]).push({version:"3.6.5",mode:g?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(n,C,S){var g=n("../internals/an-object"),t=n("../internals/a-function"),c=n("../internals/well-known-symbol")("species");C.exports=function(f,m){var p,u=g(f).constructor;return u===void 0||(p=g(u)[c])==null?m:t(p)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(n,C,S){var g=n("../internals/fails");C.exports=function(t){return g(function(){var c=""[t]('"');return c!==c.toLowerCase()||3<c.split('"').length})}},{"../internals/fails":50}],123:[function(n,C,S){function g(f){return function(m,p){var u,a,l=String(c(m)),o=t(p),d=l.length;return o<0||d<=o?f?"":void 0:(u=l.charCodeAt(o))<55296||56319<u||o+1===d||(a=l.charCodeAt(o+1))<56320||57343<a?f?l.charAt(o):u:f?l.slice(o,o+2):a-56320+(u-55296<<10)+65536}}var t=n("../internals/to-integer"),c=n("../internals/require-object-coercible");C.exports={codeAt:g(!1),charAt:g(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(n,C,S){function g(o){return o+22+75*(o<26)}function t(o,d,_){var k=0;for(o=_?a(o/700):o>>1,o+=a(o/d);455<o;k+=36)o=a(o/35);return a(k+36*o/(o+38))}function c(o){var d,_,k=[],E=(o=function(ye){for(var Oe=[],de=0,Ne=ye.length;de<Ne;){var Le=ye.charCodeAt(de++);if(55296<=Le&&Le<=56319&&de<Ne){var Be=ye.charCodeAt(de++);(64512&Be)==56320?Oe.push(((1023&Le)<<10)+(1023&Be)+65536):(Oe.push(Le),de--)}else Oe.push(Le)}return Oe}(o)).length,I=128,U=0,V=72;for(d=0;d<o.length;d++)(_=o[d])<128&&k.push(l(_));var $=k.length,B=$;for($&&k.push("-");B<E;){var se=f;for(d=0;d<o.length;d++)I<=(_=o[d])&&_<se&&(se=_);var ne=B+1;if(se-I>a((f-U)/ne))throw RangeError(u);for(U+=(se-I)*ne,I=se,d=0;d<o.length;d++){if((_=o[d])<I&&++U>f)throw RangeError(u);if(_==I){for(var oe=U,ge=36;;ge+=36){var J=ge<=V?1:V+26<=ge?26:ge-V;if(oe<J)break;var ue=oe-J,he=36-J;k.push(l(g(J+ue%he))),oe=a(ue/he)}k.push(l(g(oe))),V=t(U,ne,B==$),U=0,++B}}++U,++I}return k.join("")}var f=2147483647,m=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",a=Math.floor,l=String.fromCharCode;C.exports=function(o){var d,_,k=[],E=o.toLowerCase().replace(p,".").split(".");for(d=0;d<E.length;d++)_=E[d],k.push(m.test(_)?"xn--"+c(_):_);return k.join(".")}},{}],125:[function(n,C,S){var g=n("../internals/to-integer"),t=n("../internals/require-object-coercible");C.exports="".repeat||function(c){var f=String(t(this)),m="",p=g(c);if(p<0||p==1/0)throw RangeError("Wrong number of repetitions");for(;0<p;(p>>>=1)&&(f+=f))1&p&&(m+=f);return m}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(n,C,S){var g=n("../internals/fails"),t=n("../internals/whitespaces");C.exports=function(c){return g(function(){return!!t[c]()||"\u200B\x85\u180E"[c]()!="\u200B\x85\u180E"||t[c].name!==c})}},{"../internals/fails":50,"../internals/whitespaces":147}],127:[function(n,C,S){function g(p){return function(u){var a=String(t(u));return 1&p&&(a=a.replace(f,"")),2&p&&(a=a.replace(m,"")),a}}var t=n("../internals/require-object-coercible"),c="["+n("../internals/whitespaces")+"]",f=RegExp("^"+c+c+"*"),m=RegExp(c+c+"*$");C.exports={start:g(1),end:g(2),trim:g(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(n,C,S){function g(J){if(oe.hasOwnProperty(J)){var ue=oe[J];delete oe[J],ue()}}function t(J){return function(){g(J)}}function c(J){g(J.data)}function f(J){a.postMessage(J+"",I.protocol+"//"+I.host)}var m,p,u,a=n("../internals/global"),l=n("../internals/fails"),o=n("../internals/classof-raw"),d=n("../internals/function-bind-context"),_=n("../internals/html"),k=n("../internals/document-create-element"),E=n("../internals/engine-is-ios"),I=a.location,U=a.setImmediate,V=a.clearImmediate,$=a.process,B=a.MessageChannel,se=a.Dispatch,ne=0,oe={},ge="onreadystatechange";U&&V||(U=function(J){for(var ue=[],he=1;he<arguments.length;)ue.push(arguments[he++]);return oe[++ne]=function(){(typeof J=="function"?J:Function(J)).apply(void 0,ue)},m(ne),ne},V=function(J){delete oe[J]},o($)=="process"?m=function(J){$.nextTick(t(J))}:se&&se.now?m=function(J){se.now(t(J))}:B&&!E?(u=(p=new B).port2,p.port1.onmessage=c,m=d(u.postMessage,u,1)):!a.addEventListener||typeof postMessage!="function"||a.importScripts||l(f)||I.protocol==="file:"?m=ge in k("script")?function(J){_.appendChild(k("script"))[ge]=function(){_.removeChild(this),g(J)}}:function(J){setTimeout(t(J),0)}:(m=f,a.addEventListener("message",c,!1))),C.exports={set:U,clear:V}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(n,C,S){var g=n("../internals/classof-raw");C.exports=function(t){if(typeof t!="number"&&g(t)!="Number")throw TypeError("Incorrect invocation");return+t}},{"../internals/classof-raw":28}],130:[function(n,C,S){var g=n("../internals/to-integer"),t=Math.max,c=Math.min;C.exports=function(f,m){var p=g(f);return p<0?t(p+m,0):c(p,m)}},{"../internals/to-integer":133}],131:[function(n,C,S){var g=n("../internals/to-integer"),t=n("../internals/to-length");C.exports=function(c){if(c===void 0)return 0;var f=g(c),m=t(f);if(f!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(n,C,S){var g=n("../internals/indexed-object"),t=n("../internals/require-object-coercible");C.exports=function(c){return g(t(c))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(n,C,S){var g=Math.ceil,t=Math.floor;C.exports=function(c){return isNaN(c=+c)?0:(0<c?t:g)(c)}},{}],134:[function(n,C,S){var g=n("../internals/to-integer"),t=Math.min;C.exports=function(c){return 0<c?t(g(c),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(n,C,S){var g=n("../internals/require-object-coercible");C.exports=function(t){return Object(g(t))}},{"../internals/require-object-coercible":113}],136:[function(n,C,S){var g=n("../internals/to-positive-integer");C.exports=function(t,c){var f=g(t);if(f%c)throw RangeError("Wrong offset");return f}},{"../internals/to-positive-integer":137}],137:[function(n,C,S){var g=n("../internals/to-integer");C.exports=function(t){var c=g(t);if(c<0)throw RangeError("The argument can't be less than 0");return c}},{"../internals/to-integer":133}],138:[function(n,C,S){var g=n("../internals/is-object");C.exports=function(t,c){if(!g(t))return t;var f,m;if(c&&typeof(f=t.toString)=="function"&&!g(m=f.call(t))||typeof(f=t.valueOf)=="function"&&!g(m=f.call(t))||!c&&typeof(f=t.toString)=="function"&&!g(m=f.call(t)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(n,C,S){var g={};g[n("../internals/well-known-symbol")("toStringTag")]="z",C.exports=String(g)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(n,C,S){function g(Ge,st){for(var ht=0,it=st.length,mt=new(Pe(Ge))(it);ht<it;)mt[ht]=st[ht++];return mt}function t(Ge,st){Ke(Ge,st,{get:function(){return $e(this)[st]}})}function c(Ge){var st;return Ge instanceof ae||(st=ne(Ge))=="ArrayBuffer"||st=="SharedArrayBuffer"}function f(Ge,st){return _e(Ge)&&typeof st!="symbol"&&st in Ge&&String(+st)==String(st)}function m(Ge,st){return f(Ge,st=B(st,!0))?E(2,Ge[st]):_t(Ge,st)}function p(Ge,st,ht){return!(f(Ge,st=B(st,!0))&&oe(ht)&&se(ht,"value"))||se(ht,"get")||se(ht,"set")||ht.configurable||se(ht,"writable")&&!ht.writable||se(ht,"enumerable")&&!ht.enumerable?Ke(Ge,st,ht):(Ge[st]=ht.value,Ge)}var u=n("../internals/export"),a=n("../internals/global"),l=n("../internals/descriptors"),o=n("../internals/typed-array-constructors-require-wrappers"),d=n("../internals/array-buffer-view-core"),_=n("../internals/array-buffer"),k=n("../internals/an-instance"),E=n("../internals/create-property-descriptor"),I=n("../internals/create-non-enumerable-property"),U=n("../internals/to-length"),V=n("../internals/to-index"),$=n("../internals/to-offset"),B=n("../internals/to-primitive"),se=n("../internals/has"),ne=n("../internals/classof"),oe=n("../internals/is-object"),ge=n("../internals/object-create"),J=n("../internals/object-set-prototype-of"),ue=n("../internals/object-get-own-property-names").f,he=n("../internals/typed-array-from"),ye=n("../internals/array-iteration").forEach,Oe=n("../internals/set-species"),de=n("../internals/object-define-property"),Ne=n("../internals/object-get-own-property-descriptor"),Le=n("../internals/internal-state"),Be=n("../internals/inherit-if-required"),$e=Le.get,ut=Le.set,Ke=de.f,_t=Ne.f,at=Math.round,Fe=a.RangeError,ae=_.ArrayBuffer,me=_.DataView,Te=d.NATIVE_ARRAY_BUFFER_VIEWS,Me=d.TYPED_ARRAY_TAG,Ve=d.TypedArray,je=d.TypedArrayPrototype,Pe=d.aTypedArrayConstructor,_e=d.isTypedArray,He="BYTES_PER_ELEMENT",ze="Wrong length";l?(Te||(Ne.f=m,de.f=p,t(je,"buffer"),t(je,"byteOffset"),t(je,"byteLength"),t(je,"length")),u({target:"Object",stat:!0,forced:!Te},{getOwnPropertyDescriptor:m,defineProperty:p}),C.exports=function(Ge,st,ht){function it(s,h){Ke(s,h,{get:function(){return y=h,(v=$e(this)).view[St](y*mt+v.byteOffset,!0);var y,v},set:function(y){return v=h,x=y,b=$e(this),ht&&(x=(x=at(x))<0?0:255<x?255:255&x),void b.view[bt](v*mt+b.byteOffset,x,!0);var v,x,b},enumerable:!0})}var mt=Ge.match(/\d+$/)[0]/8,gt=Ge+(ht?"Clamped":"")+"Array",St="get"+Ge,bt="set"+Ge,Et=a[gt],i=Et,e=i&&i.prototype,r={};Te?o&&(i=st(function(s,h,y,v){return k(s,i,gt),Be(oe(h)?c(h)?v!==void 0?new Et(h,$(y,mt),v):y!==void 0?new Et(h,$(y,mt)):new Et(h):_e(h)?g(i,h):he.call(i,h):new Et(V(h)),s,i)}),J&&J(i,Ve),ye(ue(Et),function(s){s in i||I(i,s,Et[s])}),i.prototype=e):(i=st(function(s,h,y,v){k(s,i,gt);var x,b,T,O=0,L=0;if(oe(h)){if(!c(h))return _e(h)?g(i,h):he.call(i,h);x=h,L=$(y,mt);var D=h.byteLength;if(v===void 0){if(D%mt||(b=D-L)<0)throw Fe(ze)}else if(D<(b=U(v)*mt)+L)throw Fe(ze);T=b/mt}else T=V(h),x=new ae(b=T*mt);for(ut(s,{buffer:x,byteOffset:L,byteLength:b,length:T,view:new me(x)});O<T;)it(s,O++)}),J&&J(i,Ve),e=i.prototype=ge(je)),e.constructor!==i&&I(e,"constructor",i),Me&&I(e,Me,gt),r[gt]=i,u({global:!0,forced:i!=Et,sham:!Te},r),He in i||I(i,He,mt),He in e||I(e,He,mt),Oe(gt)}):C.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/fails"),c=n("../internals/check-correctness-of-iteration"),f=n("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=g.ArrayBuffer,p=g.Int8Array;C.exports=!f||!t(function(){p(1)})||!t(function(){new p(-1)})||!c(function(u){new p,new p(null),new p(1.5),new p(u)},!0)||t(function(){return new p(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":59}],142:[function(n,C,S){var g=n("../internals/to-object"),t=n("../internals/to-length"),c=n("../internals/get-iterator-method"),f=n("../internals/is-array-iterator-method"),m=n("../internals/function-bind-context"),p=n("../internals/array-buffer-view-core").aTypedArrayConstructor;C.exports=function(u,a,l){var o,d,_,k,E,I,U=g(u),V=arguments.length,$=1<V?a:void 0,B=$!==void 0,se=c(U);if(se!=null&&!f(se))for(I=(E=se.call(U)).next,U=[];!(k=I.call(E)).done;)U.push(k.value);for(B&&2<V&&($=m($,l,2)),d=t(U.length),_=new(p(this))(d),o=0;o<d;o++)_[o]=B?$(U[o],o):U[o];return _}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(n,C,S){var g=0,t=Math.random();C.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++g+t).toString(36)}},{}],144:[function(n,C,S){var g=n("../internals/native-symbol");C.exports=g&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(n,C,S){var g=n("../internals/well-known-symbol");S.f=g},{"../internals/well-known-symbol":146}],146:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/shared"),c=n("../internals/has"),f=n("../internals/uid"),m=n("../internals/native-symbol"),p=n("../internals/use-symbol-as-uid"),u=t("wks"),a=g.Symbol,l=p?a:a&&a.withoutSetter||f;C.exports=function(o){return c(u,o)||(m&&c(a,o)?u[o]=a[o]:u[o]=l("Symbol."+o)),u[o]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(n,C,S){C.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],148:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/global"),c=n("../internals/array-buffer"),f=n("../internals/set-species"),m="ArrayBuffer",p=c[m];g({global:!0,forced:t[m]!==p},{ArrayBuffer:p}),f(m)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":59,"../internals/set-species":116}],149:[function(n,C,S){function g($){if(!m($))return!1;var B=$[k];return B!==void 0?!!B:f($)}var t=n("../internals/export"),c=n("../internals/fails"),f=n("../internals/is-array"),m=n("../internals/is-object"),p=n("../internals/to-object"),u=n("../internals/to-length"),a=n("../internals/create-property"),l=n("../internals/array-species-create"),o=n("../internals/array-method-has-species-support"),d=n("../internals/well-known-symbol"),_=n("../internals/engine-v8-version"),k=d("isConcatSpreadable"),E=9007199254740991,I="Maximum allowed index exceeded",U=51<=_||!c(function(){var $=[];return $[k]=!1,$.concat()[0]!==$}),V=o("concat");t({target:"Array",proto:!0,forced:!U||!V},{concat:function($){var B,se,ne,oe,ge,J=p(this),ue=l(J,0),he=0;for(B=-1,ne=arguments.length;B<ne;B++)if(g(ge=B===-1?J:arguments[B])){if(oe=u(ge.length),E<he+oe)throw TypeError(I);for(se=0;se<oe;se++,he++)se in ge&&a(ue,he,ge[se])}else{if(E<=he)throw TypeError(I);a(ue,he++,ge)}return ue.length=he,ue}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-iteration").every,c=n("../internals/array-method-is-strict"),f=n("../internals/array-method-uses-to-length"),m=c("every"),p=f("every");g({target:"Array",proto:!0,forced:!m||!p},{every:function(u,a){return t(this,u,1<arguments.length?a:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],151:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-fill"),c=n("../internals/add-to-unscopables");g({target:"Array",proto:!0},{fill:t}),c("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],152:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-iteration").filter,c=n("../internals/array-method-has-species-support"),f=n("../internals/array-method-uses-to-length"),m=c("filter"),p=f("filter");g({target:"Array",proto:!0,forced:!m||!p},{filter:function(u,a){return t(this,u,1<arguments.length?a:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],153:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/flatten-into-array"),c=n("../internals/to-object"),f=n("../internals/to-length"),m=n("../internals/a-function"),p=n("../internals/array-species-create");g({target:"Array",proto:!0},{flatMap:function(u,a){var l,o=c(this),d=f(o.length);return m(u),(l=p(o,0)).length=t(l,o,o,d,0,1,u,1<arguments.length?a:void 0),l}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":49,"../internals/flatten-into-array":52,"../internals/to-length":134,"../internals/to-object":135}],154:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-for-each");g({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":16,"../internals/export":49}],155:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-from");g({target:"Array",stat:!0,forced:!n("../internals/check-correctness-of-iteration")(function(c){Array.from(c)})},{from:t})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],156:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-includes").includes,c=n("../internals/add-to-unscopables");g({target:"Array",proto:!0,forced:!n("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(f,m){return t(this,f,1<arguments.length?m:void 0)}}),c("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],157:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-includes").indexOf,c=n("../internals/array-method-is-strict"),f=n("../internals/array-method-uses-to-length"),m=[].indexOf,p=!!m&&1/[1].indexOf(1,-0)<0,u=c("indexOf"),a=f("indexOf",{ACCESSORS:!0,1:0});g({target:"Array",proto:!0,forced:p||!u||!a},{indexOf:function(l,o){return p?m.apply(this,arguments)||0:t(this,l,1<arguments.length?o:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],158:[function(n,C,S){var g=n("../internals/to-indexed-object"),t=n("../internals/add-to-unscopables"),c=n("../internals/iterators"),f=n("../internals/internal-state"),m=n("../internals/define-iterator"),p="Array Iterator",u=f.set,a=f.getterFor(p);C.exports=m(Array,"Array",function(l,o){u(this,{type:p,target:g(l),index:0,kind:o})},function(){var l=a(this),o=l.target,d=l.kind,_=l.index++;return!o||_>=o.length?{value:l.target=void 0,done:!0}:d=="keys"?{value:_,done:!1}:d=="values"?{value:o[_],done:!1}:{value:[_,o[_]],done:!1}},"values"),c.Arguments=c.Array,t("keys"),t("values"),t("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/indexed-object"),c=n("../internals/to-indexed-object"),f=n("../internals/array-method-is-strict"),m=[].join,p=t!=Object,u=f("join",",");g({target:"Array",proto:!0,forced:p||!u},{join:function(a){return m.call(c(this),a===void 0?",":a)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-last-index-of");g({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":20,"../internals/export":49}],161:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-iteration").map,c=n("../internals/array-method-has-species-support"),f=n("../internals/array-method-uses-to-length"),m=c("map"),p=f("map");g({target:"Array",proto:!0,forced:!m||!p},{map:function(u,a){return t(this,u,1<arguments.length?a:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/is-object"),c=n("../internals/is-array"),f=n("../internals/to-absolute-index"),m=n("../internals/to-length"),p=n("../internals/to-indexed-object"),u=n("../internals/create-property"),a=n("../internals/well-known-symbol"),l=n("../internals/array-method-has-species-support"),o=n("../internals/array-method-uses-to-length"),d=l("slice"),_=o("slice",{ACCESSORS:!0,0:0,1:2}),k=a("species"),E=[].slice,I=Math.max;g({target:"Array",proto:!0,forced:!d||!_},{slice:function(U,V){var $,B,se,ne=p(this),oe=m(ne.length),ge=f(U,oe),J=f(V===void 0?oe:V,oe);if(c(ne)&&(typeof($=ne.constructor)!="function"||$!==Array&&!c($.prototype)?t($)&&($=$[k])===null&&($=void 0):$=void 0,$===Array||$===void 0))return E.call(ne,ge,J);for(B=new($===void 0?Array:$)(I(J-ge,0)),se=0;ge<J;ge++,se++)ge in ne&&u(B,se,ne[ge]);return B.length=se,B}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/array-iteration").some,c=n("../internals/array-method-is-strict"),f=n("../internals/array-method-uses-to-length"),m=c("some"),p=f("some");g({target:"Array",proto:!0,forced:!m||!p},{some:function(u,a){return t(this,u,1<arguments.length?a:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],164:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/to-absolute-index"),c=n("../internals/to-integer"),f=n("../internals/to-length"),m=n("../internals/to-object"),p=n("../internals/array-species-create"),u=n("../internals/create-property"),a=n("../internals/array-method-has-species-support"),l=n("../internals/array-method-uses-to-length"),o=a("splice"),d=l("splice",{ACCESSORS:!0,0:0,1:2}),_=Math.max,k=Math.min;g({target:"Array",proto:!0,forced:!o||!d},{splice:function(E,I){var U,V,$,B,se,ne,oe=m(this),ge=f(oe.length),J=t(E,ge),ue=arguments.length;if(ue===0?U=V=0:V=ue===1?(U=0,ge-J):(U=ue-2,k(_(c(I),0),ge-J)),9007199254740991<ge+U-V)throw TypeError("Maximum allowed length exceeded");for($=p(oe,V),B=0;B<V;B++)(se=J+B)in oe&&u($,B,oe[se]);if(U<($.length=V)){for(B=J;B<ge-V;B++)ne=B+U,(se=B+V)in oe?oe[ne]=oe[se]:delete oe[ne];for(B=ge;ge-V+U<B;B--)delete oe[B-1]}else if(V<U)for(B=ge-V;J<B;B--)ne=B+U-1,(se=B+V-1)in oe?oe[ne]=oe[se]:delete oe[ne];for(B=0;B<U;B++)oe[B+J]=arguments[B+2];return oe.length=ge-V+U,$}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(n,C,S){n("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],166:[function(n,C,S){var g=n("../internals/descriptors"),t=n("../internals/object-define-property").f,c=Function.prototype,f=c.toString,m=/^\s*function ([^ (]*)/;!g||"name"in c||t(c,"name",{configurable:!0,get:function(){try{return f.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":92}],167:[function(n,C,S){var g=n("../internals/collection"),t=n("../internals/collection-strong");C.exports=g("Map",function(c){return function(f){return c(this,arguments.length?f:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],168:[function(n,C,S){var g=n("../internals/export"),t=Math.hypot,c=Math.abs,f=Math.sqrt;g({target:"Math",stat:!0,forced:!!t&&t(1/0,NaN)!==1/0},{hypot:function(m,p){for(var u,a,l=0,o=0,d=arguments.length,_=0;o<d;)_<(u=c(arguments[o++]))?(l=l*(a=_/u)*a+1,_=u):l+=0<u?(a=u/_)*a:u;return _===1/0?1/0:_*f(l)}})},{"../internals/export":49}],169:[function(n,C,S){n("../internals/export")({target:"Math",stat:!0},{sign:n("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":80}],170:[function(n,C,S){function g(J){var ue,he,ye,Oe,de,Ne,Le,Be,$e=l(J,!1);if(typeof $e=="string"&&2<$e.length){if((ue=($e=I($e)).charCodeAt(0))===43||ue===45){if((he=$e.charCodeAt(2))===88||he===120)return NaN}else if(ue===48){switch($e.charCodeAt(1)){case 66:case 98:ye=2,Oe=49;break;case 79:case 111:ye=8,Oe=55;break;default:return+$e}for(Ne=(de=$e.slice(2)).length,Le=0;Le<Ne;Le++)if((Be=de.charCodeAt(Le))<48||Oe<Be)return NaN;return parseInt(de,ye)}}return+$e}var t=n("../internals/descriptors"),c=n("../internals/global"),f=n("../internals/is-forced"),m=n("../internals/redefine"),p=n("../internals/has"),u=n("../internals/classof-raw"),a=n("../internals/inherit-if-required"),l=n("../internals/to-primitive"),o=n("../internals/fails"),d=n("../internals/object-create"),_=n("../internals/object-get-own-property-names").f,k=n("../internals/object-get-own-property-descriptor").f,E=n("../internals/object-define-property").f,I=n("../internals/string-trim").trim,U="Number",V=c[U],$=V.prototype,B=u(d($))==U;if(f(U,!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var se,ne=function(J){var ue=arguments.length<1?0:J,he=this;return he instanceof ne&&(B?o(function(){$.valueOf.call(he)}):u(he)!=U)?a(new V(g(ue)),he,ne):g(ue)},oe=t?_(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ge=0;oe.length>ge;ge++)p(V,se=oe[ge])&&!p(ne,se)&&E(ne,se,k(V,se));(ne.prototype=$).constructor=ne,m(c,U,ne)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],171:[function(n,C,S){n("../internals/export")({target:"Number",stat:!0},{isFinite:n("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":88}],172:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/to-integer"),c=n("../internals/this-number-value"),f=n("../internals/string-repeat"),m=n("../internals/fails"),p=1 .toFixed,u=Math.floor,a=function(l,o,d){return o===0?d:o%2==1?a(l,o-1,d*l):a(l*l,o/2,d)};g({target:"Number",proto:!0,forced:p&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!m(function(){p.call({})})},{toFixed:function(l){function o(oe,ge){for(var J=-1,ue=ge;++J<6;)ue+=oe*B[J],B[J]=ue%1e7,ue=u(ue/1e7)}function d(oe){for(var ge=6,J=0;0<=--ge;)J+=B[ge],B[ge]=u(J/oe),J=J%oe*1e7}function _(){for(var oe=6,ge="";0<=--oe;)if(ge!==""||oe===0||B[oe]!==0){var J=String(B[oe]);ge=ge===""?J:ge+f.call("0",7-J.length)+J}return ge}var k,E,I,U,V=c(this),$=t(l),B=[0,0,0,0,0,0],se="",ne="0";if($<0||20<$)throw RangeError("Incorrect fraction digits");if(V!=V)return"NaN";if(V<=-1e21||1e21<=V)return String(V);if(V<0&&(se="-",V=-V),1e-21<V)if(E=(k=function(oe){for(var ge=0,J=oe;4096<=J;)ge+=12,J/=4096;for(;2<=J;)ge+=1,J/=2;return ge}(V*a(2,69,1))-69)<0?V*a(2,-k,1):V/a(2,k,1),E*=4503599627370496,0<(k=52-k)){for(o(0,E),I=$;7<=I;)o(1e7,0),I-=7;for(o(a(10,I,1),0),I=k-1;23<=I;)d(1<<23),I-=23;d(1<<I),o(1,1),d(2),ne=_()}else o(0,E),o(1<<-k,0),ne=_()+f.call("0",$);return ne=0<$?se+((U=ne.length)<=$?"0."+f.call("0",$-U)+ne:ne.slice(0,U-$)+"."+ne.slice(U-$)):se+ne}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],173:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/object-assign");g({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":49,"../internals/object-assign":89}],174:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/fails"),c=n("../internals/object-get-own-property-names-external").f;g({target:"Object",stat:!0,forced:t(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:c})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":94}],175:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/fails"),c=n("../internals/to-object"),f=n("../internals/object-get-prototype-of"),m=n("../internals/correct-prototype-getter");g({target:"Object",stat:!0,forced:t(function(){f(1)}),sham:!m},{getPrototypeOf:function(p){return f(c(p))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/to-object"),c=n("../internals/object-keys");g({target:"Object",stat:!0,forced:n("../internals/fails")(function(){c(1)})},{keys:function(f){return c(t(f))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(n,C,S){var g=n("../internals/to-string-tag-support"),t=n("../internals/redefine"),c=n("../internals/object-to-string");g||t(Object.prototype,"toString",c,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(n,C,S){function g(i){var e;return!(!B(i)||typeof(e=i.then)!="function")&&e}function t(i,e,r){if(!e.notified){e.notified=!0;var s=e.reactions;Oe(function(){for(var h=e.value,y=e.state==1,v=0;s.length>v;){var x,b,T,O=s[v++],L=y?O.ok:O.fail,D=O.resolve,N=O.reject,R=O.domain;try{L?(y||(e.rejection===2&&bt(i,e),e.rejection=1),L===!0?x=h:(R&&R.enter(),x=L(h),R&&(R.exit(),T=!0)),x===O.promise?N(Ve("Promise-chain cycle")):(b=g(x))?b.call(x,D,N):D(x)):N(h)}catch(X){R&&!T&&R.exit(),N(X)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&gt(i,e)})}}function c(i,e,r){var s,h;st?((s=je.createEvent("Event")).promise=e,s.reason=r,s.initEvent(i,!1,!0),_.dispatchEvent(s)):s={promise:e,reason:r},(h=_["on"+i])?h(s):i===ht&&Ne("Unhandled promise rejection",r)}function f(i,e,r,s){return function(h){i(e,r,h,s)}}function m(i,e,r,s){e.done||(e.done=!0,s&&(e=s),e.value=r,e.state=2,t(i,e,!0))}var p,u,a,l,o=n("../internals/export"),d=n("../internals/is-pure"),_=n("../internals/global"),k=n("../internals/get-built-in"),E=n("../internals/native-promise-constructor"),I=n("../internals/redefine"),U=n("../internals/redefine-all"),V=n("../internals/set-to-string-tag"),$=n("../internals/set-species"),B=n("../internals/is-object"),se=n("../internals/a-function"),ne=n("../internals/an-instance"),oe=n("../internals/classof-raw"),ge=n("../internals/inspect-source"),J=n("../internals/iterate"),ue=n("../internals/check-correctness-of-iteration"),he=n("../internals/species-constructor"),ye=n("../internals/task").set,Oe=n("../internals/microtask"),de=n("../internals/promise-resolve"),Ne=n("../internals/host-report-errors"),Le=n("../internals/new-promise-capability"),Be=n("../internals/perform"),$e=n("../internals/internal-state"),ut=n("../internals/is-forced"),Ke=n("../internals/well-known-symbol"),_t=n("../internals/engine-v8-version"),at=Ke("species"),Fe="Promise",ae=$e.get,me=$e.set,Te=$e.getterFor(Fe),Me=E,Ve=_.TypeError,je=_.document,Pe=_.process,_e=k("fetch"),He=Le.f,ze=He,Ge=oe(Pe)=="process",st=!!(je&&je.createEvent&&_.dispatchEvent),ht="unhandledrejection",it=ut(Fe,function(){if(ge(Me)===String(Me)&&(_t===66||!Ge&&typeof PromiseRejectionEvent!="function")||d&&!Me.prototype.finally)return!0;if(51<=_t&&/native code/.test(Me))return!1;function i(r){r(function(){},function(){})}var e=Me.resolve(1);return(e.constructor={})[at]=i,!(e.then(function(){})instanceof i)}),mt=it||!ue(function(i){Me.all(i).catch(function(){})}),gt=function(i,e){ye.call(_,function(){var r,s=e.value;if(St(e)&&(r=Be(function(){Ge?Pe.emit("unhandledRejection",s,i):c(ht,i,s)}),e.rejection=Ge||St(e)?2:1,r.error))throw r.value})},St=function(i){return i.rejection!==1&&!i.parent},bt=function(i,e){ye.call(_,function(){Ge?Pe.emit("rejectionHandled",i):c("rejectionhandled",i,e.value)})},Et=function(i,e,r,s){if(!e.done){e.done=!0,s&&(e=s);try{if(i===r)throw Ve("Promise can't be resolved itself");var h=g(r);h?Oe(function(){var y={done:!1};try{h.call(r,f(Et,i,y,e),f(m,i,y,e))}catch(v){m(i,y,v,e)}}):(e.value=r,e.state=1,t(i,e,!1))}catch(y){m(i,{done:!1},y,e)}}};it&&(Me=function(i){ne(this,Me,Fe),se(i),p.call(this);var e=ae(this);try{i(f(Et,this,e),f(m,this,e))}catch(r){m(this,e,r)}},(p=function(){me(this,{type:Fe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=U(Me.prototype,{then:function(i,e){var r=Te(this),s=He(he(this,Me));return s.ok=typeof i!="function"||i,s.fail=typeof e=="function"&&e,s.domain=Ge?Pe.domain:void 0,r.parent=!0,r.reactions.push(s),r.state!=0&&t(this,r,!1),s.promise},catch:function(i){return this.then(void 0,i)}}),u=function(){var i=new p,e=ae(i);this.promise=i,this.resolve=f(Et,i,e),this.reject=f(m,i,e)},Le.f=He=function(i){return i===Me||i===a?new u(i):ze(i)},d||typeof E!="function"||(l=E.prototype.then,I(E.prototype,"then",function(i,e){var r=this;return new Me(function(s,h){l.call(r,s,h)}).then(i,e)},{unsafe:!0}),typeof _e=="function"&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(i){return de(Me,_e.apply(_,arguments))}}))),o({global:!0,wrap:!0,forced:it},{Promise:Me}),V(Me,Fe,!1,!0),$(Fe),a=k(Fe),o({target:Fe,stat:!0,forced:it},{reject:function(i){var e=He(this);return e.reject.call(void 0,i),e.promise}}),o({target:Fe,stat:!0,forced:d||it},{resolve:function(i){return de(d&&this===a?Me:this,i)}}),o({target:Fe,stat:!0,forced:mt},{all:function(i){var e=this,r=He(e),s=r.resolve,h=r.reject,y=Be(function(){var v=se(e.resolve),x=[],b=0,T=1;J(i,function(O){var L=b++,D=!1;x.push(void 0),T++,v.call(e,O).then(function(N){D||(D=!0,x[L]=N,--T||s(x))},h)}),--T||s(x)});return y.error&&h(y.value),r.promise},race:function(i){var e=this,r=He(e),s=r.reject,h=Be(function(){var y=se(e.resolve);J(i,function(v){y.call(e,v).then(r.resolve,s)})});return h.error&&s(h.value),r.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/get-built-in"),c=n("../internals/a-function"),f=n("../internals/an-object"),m=n("../internals/is-object"),p=n("../internals/object-create"),u=n("../internals/function-bind"),a=n("../internals/fails"),l=t("Reflect","construct"),o=a(function(){function k(){}return!(l(function(){},[],k)instanceof k)}),d=!a(function(){l(function(){})}),_=o||d;g({target:"Reflect",stat:!0,forced:_,sham:_},{construct:function(k,E,I){c(k),f(E);var U=arguments.length<3?k:c(I);if(d&&!o)return l(k,E,U);if(k==U){switch(E.length){case 0:return new k;case 1:return new k(E[0]);case 2:return new k(E[0],E[1]);case 3:return new k(E[0],E[1],E[2]);case 4:return new k(E[0],E[1],E[2],E[3])}var V=[null];return V.push.apply(V,E),new(u.apply(k,V))}var $=U.prototype,B=p(m($)?$:Object.prototype),se=Function.apply.call(k,B,E);return m(se)?se:B}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(n,C,S){var g=n("../internals/descriptors"),t=n("../internals/global"),c=n("../internals/is-forced"),f=n("../internals/inherit-if-required"),m=n("../internals/object-define-property").f,p=n("../internals/object-get-own-property-names").f,u=n("../internals/is-regexp"),a=n("../internals/regexp-flags"),l=n("../internals/regexp-sticky-helpers"),o=n("../internals/redefine"),d=n("../internals/fails"),_=n("../internals/internal-state").set,k=n("../internals/set-species"),E=n("../internals/well-known-symbol")("match"),I=t.RegExp,U=I.prototype,V=/a/g,$=/a/g,B=new I(V)!==V,se=l.UNSUPPORTED_Y;if(g&&c("RegExp",!B||se||d(function(){return $[E]=!1,I(V)!=V||I($)==$||I(V,"i")!="/a/i"}))){let ue=function(he){he in ne||m(ne,he,{configurable:!0,get:function(){return I[he]},set:function(ye){I[he]=ye}})};for(var J=ue,ne=function(he,ye){var Oe,de=this instanceof ne,Ne=u(he),Le=ye===void 0;if(!de&&Ne&&he.constructor===ne&&Le)return he;B?Ne&&!Le&&(he=he.source):he instanceof ne&&(Le&&(ye=a.call(he)),he=he.source),se&&(Oe=!!ye&&-1<ye.indexOf("y"))&&(ye=ye.replace(/y/g,""));var Be=f(B?new I(he,ye):I(he,ye),de?this:U,ne);return se&&Oe&&_(Be,{sticky:Oe}),Be},oe=p(I),ge=0;oe.length>ge;)ue(oe[ge++]);(U.constructor=ne).prototype=U,o(t,"RegExp",ne)}k("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/regexp-exec");g({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":49,"../internals/regexp-exec":110}],182:[function(n,C,S){var g=n("../internals/redefine"),t=n("../internals/an-object"),c=n("../internals/fails"),f=n("../internals/regexp-flags"),m="toString",p=RegExp.prototype,u=p[m],a=c(function(){return u.call({source:"a",flags:"b"})!="/a/b"}),l=u.name!=m;(a||l)&&g(RegExp.prototype,m,function(){var o=t(this),d=String(o.source),_=o.flags;return"/"+d+"/"+String(_===void 0&&o instanceof RegExp&&!("flags"in p)?f.call(o):_)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(n,C,S){var g=n("../internals/collection"),t=n("../internals/collection-strong");C.exports=g("Set",function(c){return function(f){return c(this,arguments.length?f:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],184:[function(n,C,S){var g,t=n("../internals/export"),c=n("../internals/object-get-own-property-descriptor").f,f=n("../internals/to-length"),m=n("../internals/not-a-regexp"),p=n("../internals/require-object-coercible"),u=n("../internals/correct-is-regexp-logic"),a=n("../internals/is-pure"),l="".endsWith,o=Math.min,d=u("endsWith");t({target:"String",proto:!0,forced:!!(a||d||!(g=c(String.prototype,"endsWith"))||g.writable)&&!d},{endsWith:function(_,k){var E=String(p(this));m(_);var I=1<arguments.length?k:void 0,U=f(E.length),V=I===void 0?U:o(f(I),U),$=String(_);return l?l.call(E,$,V):E.slice(V-$.length,V)===$}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/not-a-regexp"),c=n("../internals/require-object-coercible");g({target:"String",proto:!0,forced:!n("../internals/correct-is-regexp-logic")("includes")},{includes:function(f,m){return!!~String(c(this)).indexOf(t(f),1<arguments.length?m:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(n,C,S){var g=n("../internals/string-multibyte").charAt,t=n("../internals/internal-state"),c=n("../internals/define-iterator"),f="String Iterator",m=t.set,p=t.getterFor(f);c(String,"String",function(u){m(this,{type:f,string:String(u),index:0})},function(){var u,a=p(this),l=a.string,o=a.index;return o>=l.length?{value:void 0,done:!0}:(u=g(l,o),a.index+=u.length,{value:u,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(n,C,S){var g=n("../internals/fix-regexp-well-known-symbol-logic"),t=n("../internals/an-object"),c=n("../internals/to-length"),f=n("../internals/require-object-coercible"),m=n("../internals/advance-string-index"),p=n("../internals/regexp-exec-abstract");g("match",1,function(u,a,l){return[function(o){var d=f(this),_=o==null?void 0:o[u];return _!==void 0?_.call(o,d):new RegExp(o)[u](String(d))},function(o){var d=l(a,o,this);if(d.done)return d.value;var _=t(o),k=String(this);if(!_.global)return p(_,k);for(var E,I=_.unicode,U=[],V=_.lastIndex=0;(E=p(_,k))!==null;){var $=String(E[0]);(U[V]=$)===""&&(_.lastIndex=m(k,c(_.lastIndex),I)),V++}return V===0?null:U}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(n,C,S){n("../internals/export")({target:"String",proto:!0},{repeat:n("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":125}],189:[function(n,C,S){var g=n("../internals/fix-regexp-well-known-symbol-logic"),t=n("../internals/an-object"),c=n("../internals/to-object"),f=n("../internals/to-length"),m=n("../internals/to-integer"),p=n("../internals/require-object-coercible"),u=n("../internals/advance-string-index"),a=n("../internals/regexp-exec-abstract"),l=Math.max,o=Math.min,d=Math.floor,_=/\$([$&'`]|\d\d?|<[^>]*>)/g,k=/\$([$&'`]|\d\d?)/g;g("replace",2,function(E,I,U,V){var $=V.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,B=V.REPLACE_KEEPS_$0,se=$?"$":"$0";return[function(oe,ge){var J=p(this),ue=oe==null?void 0:oe[E];return ue!==void 0?ue.call(oe,J,ge):I.call(String(J),oe,ge)},function(oe,ge){if(!$&&B||typeof ge=="string"&&ge.indexOf(se)===-1){var J=U(I,oe,this,ge);if(J.done)return J.value}var ue=t(oe),he=String(this),ye=typeof ge=="function";ye||(ge=String(ge));var Oe=ue.global;if(Oe){var de=ue.unicode;ue.lastIndex=0}for(var Ne=[];;){var Le=a(ue,he);if(Le===null||(Ne.push(Le),!Oe))break;String(Le[0])===""&&(ue.lastIndex=u(he,f(ue.lastIndex),de))}for(var Be,$e="",ut=0,Ke=0;Ke<Ne.length;Ke++){Le=Ne[Ke];for(var _t=String(Le[0]),at=l(o(m(Le.index),he.length),0),Fe=[],ae=1;ae<Le.length;ae++)Fe.push((Be=Le[ae])===void 0?Be:String(Be));var me=Le.groups;if(ye){var Te=[_t].concat(Fe,at,he);me!==void 0&&Te.push(me);var Me=String(ge.apply(void 0,Te))}else Me=ne(_t,he,at,Fe,me,ge);ut<=at&&($e+=he.slice(ut,at)+Me,ut=at+_t.length)}return $e+he.slice(ut)}];function ne(oe,ge,J,ue,he,ye){var Oe=J+oe.length,de=ue.length,Ne=k;return he!==void 0&&(he=c(he),Ne=_),I.call(ye,Ne,function(Le,Be){var $e;switch(Be.charAt(0)){case"$":return"$";case"&":return oe;case"`":return ge.slice(0,J);case"'":return ge.slice(Oe);case"<":$e=he[Be.slice(1,-1)];break;default:var ut=+Be;if(ut==0)return Le;if(de<ut){var Ke=d(ut/10);return Ke===0?Le:Ke<=de?ue[Ke-1]===void 0?Be.charAt(1):ue[Ke-1]+Be.charAt(1):Le}$e=ue[ut-1]}return $e===void 0?"":$e})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(n,C,S){var g=n("../internals/fix-regexp-well-known-symbol-logic"),t=n("../internals/an-object"),c=n("../internals/require-object-coercible"),f=n("../internals/same-value"),m=n("../internals/regexp-exec-abstract");g("search",1,function(p,u,a){return[function(l){var o=c(this),d=l==null?void 0:l[p];return d!==void 0?d.call(l,o):new RegExp(l)[p](String(o))},function(l){var o=a(u,l,this);if(o.done)return o.value;var d=t(l),_=String(this),k=d.lastIndex;f(k,0)||(d.lastIndex=0);var E=m(d,_);return f(d.lastIndex,k)||(d.lastIndex=k),E===null?-1:E.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(n,C,S){var g=n("../internals/fix-regexp-well-known-symbol-logic"),t=n("../internals/is-regexp"),c=n("../internals/an-object"),f=n("../internals/require-object-coercible"),m=n("../internals/species-constructor"),p=n("../internals/advance-string-index"),u=n("../internals/to-length"),a=n("../internals/regexp-exec-abstract"),l=n("../internals/regexp-exec"),o=n("../internals/fails"),d=[].push,_=Math.min,k=4294967295,E=!o(function(){return!RegExp(k,"y")});g("split",2,function(I,U,V){var $;return $="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(B,se){var ne=String(f(this)),oe=se===void 0?k:se>>>0;if(oe==0)return[];if(B===void 0)return[ne];if(!t(B))return U.call(ne,B,oe);for(var ge,J,ue,he=[],ye=(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(B.sticky?"y":""),Oe=0,de=new RegExp(B.source,ye+"g");(ge=l.call(de,ne))&&!(Oe<(J=de.lastIndex)&&(he.push(ne.slice(Oe,ge.index)),1<ge.length&&ge.index<ne.length&&d.apply(he,ge.slice(1)),ue=ge[0].length,Oe=J,he.length>=oe));)de.lastIndex===ge.index&&de.lastIndex++;return Oe===ne.length?!ue&&de.test("")||he.push(""):he.push(ne.slice(Oe)),he.length>oe?he.slice(0,oe):he}:"0".split(void 0,0).length?function(B,se){return B===void 0&&se===0?[]:U.call(this,B,se)}:U,[function(B,se){var ne=f(this),oe=B==null?void 0:B[I];return oe!==void 0?oe.call(B,ne,se):$.call(String(ne),B,se)},function(B,se){var ne=V($,B,this,se,$!==U);if(ne.done)return ne.value;var oe=c(B),ge=String(this),J=m(oe,RegExp),ue=oe.unicode,he=(oe.ignoreCase?"i":"")+(oe.multiline?"m":"")+(oe.unicode?"u":"")+(E?"y":"g"),ye=new J(E?oe:"^(?:"+oe.source+")",he),Oe=se===void 0?k:se>>>0;if(Oe==0)return[];if(ge.length===0)return a(ye,ge)===null?[ge]:[];for(var de=0,Ne=0,Le=[];Ne<ge.length;){ye.lastIndex=E?Ne:0;var Be,$e=a(ye,E?ge:ge.slice(Ne));if($e===null||(Be=_(u(ye.lastIndex+(E?0:Ne)),ge.length))===de)Ne=p(ge,Ne,ue);else{if(Le.push(ge.slice(de,Ne)),Le.length===Oe)return Le;for(var ut=1;ut<=$e.length-1;ut++)if(Le.push($e[ut]),Le.length===Oe)return Le;Ne=de=Be}}return Le.push(ge.slice(de)),Le}]},!E)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/create-html");g({target:"String",proto:!0,forced:n("../internals/string-html-forced")("sub")},{sub:function(){return t(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":122}],193:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/string-trim").trim;g({target:"String",proto:!0,forced:n("../internals/string-trim-forced")("trim")},{trim:function(){return t(this)}})},{"../internals/export":49,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(n,C,S){var g=n("../internals/export"),t=n("../internals/descriptors"),c=n("../internals/global"),f=n("../internals/has"),m=n("../internals/is-object"),p=n("../internals/object-define-property").f,u=n("../internals/copy-constructor-properties"),a=c.Symbol;if(t&&typeof a=="function"&&(!("description"in a.prototype)||a().description!==void 0)){var l={},o=function(I){var U=arguments.length<1||I===void 0?void 0:String(I),V=this instanceof o?new a(U):U===void 0?a():a(U);return U===""&&(l[V]=!0),V};u(o,a);var d=o.prototype=a.prototype;d.constructor=o;var _=d.toString,k=String(a("test"))=="Symbol(test)",E=/^Symbol\((.*)\)[^)]+$/;p(d,"description",{configurable:!0,get:function(){var I=m(this)?this.valueOf():this,U=_.call(I);if(f(l,I))return"";var V=k?U.slice(7,-1):U.replace(E,"$1");return V===""?void 0:V}}),g({global:!0,forced:!0},{Symbol:o})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(n,C,S){n("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],196:[function(n,C,S){function g(b,T){var O=gt[b]=ne(ze[Ve]);return Pe(O,{type:Me,tag:b,description:T}),l||(O.description=T),O}function t(b,T){U(b);var O=$(T),L=oe(O).concat(x(O));return me(L,function(D){l&&!v.call(O,D)||y(b,D,O[D])}),b}function c(b,T){var O=$(b),L=B(T,!0);if(O!==He||!k(gt,L)||k(St,L)){var D=st(O,L);return!D||!k(gt,L)||k(O,Te)&&O[Te][L]||(D.enumerable=!0),D}}function f(b){var T=it($(b)),O=[];return me(T,function(L){k(gt,L)||k($e,L)||O.push(L)}),O}var m=n("../internals/export"),p=n("../internals/global"),u=n("../internals/get-built-in"),a=n("../internals/is-pure"),l=n("../internals/descriptors"),o=n("../internals/native-symbol"),d=n("../internals/use-symbol-as-uid"),_=n("../internals/fails"),k=n("../internals/has"),E=n("../internals/is-array"),I=n("../internals/is-object"),U=n("../internals/an-object"),V=n("../internals/to-object"),$=n("../internals/to-indexed-object"),B=n("../internals/to-primitive"),se=n("../internals/create-property-descriptor"),ne=n("../internals/object-create"),oe=n("../internals/object-keys"),ge=n("../internals/object-get-own-property-names"),J=n("../internals/object-get-own-property-names-external"),ue=n("../internals/object-get-own-property-symbols"),he=n("../internals/object-get-own-property-descriptor"),ye=n("../internals/object-define-property"),Oe=n("../internals/object-property-is-enumerable"),de=n("../internals/create-non-enumerable-property"),Ne=n("../internals/redefine"),Le=n("../internals/shared"),Be=n("../internals/shared-key"),$e=n("../internals/hidden-keys"),ut=n("../internals/uid"),Ke=n("../internals/well-known-symbol"),_t=n("../internals/well-known-symbol-wrapped"),at=n("../internals/define-well-known-symbol"),Fe=n("../internals/set-to-string-tag"),ae=n("../internals/internal-state"),me=n("../internals/array-iteration").forEach,Te=Be("hidden"),Me="Symbol",Ve="prototype",je=Ke("toPrimitive"),Pe=ae.set,_e=ae.getterFor(Me),He=Object[Ve],ze=p.Symbol,Ge=u("JSON","stringify"),st=he.f,ht=ye.f,it=J.f,mt=Oe.f,gt=Le("symbols"),St=Le("op-symbols"),bt=Le("string-to-symbol-registry"),Et=Le("symbol-to-string-registry"),i=Le("wks"),e=p.QObject,r=!e||!e[Ve]||!e[Ve].findChild,s=l&&_(function(){return ne(ht({},"a",{get:function(){return ht(this,"a",{value:7}).a}})).a!=7})?function(b,T,O){var L=st(He,T);L&&delete He[T],ht(b,T,O),L&&b!==He&&ht(He,T,L)}:ht,h=d?function(b){return typeof b=="symbol"}:function(b){return Object(b)instanceof ze},y=function(b,T,O){b===He&&y(St,T,O),U(b);var L=B(T,!0);return U(O),k(gt,L)?(O.enumerable?(k(b,Te)&&b[Te][L]&&(b[Te][L]=!1),O=ne(O,{enumerable:se(0,!1)})):(k(b,Te)||ht(b,Te,se(1,{})),b[Te][L]=!0),s(b,L,O)):ht(b,L,O)},v=function(b){var T=B(b,!0),O=mt.call(this,T);return!(this===He&&k(gt,T)&&!k(St,T))&&(!(O||!k(this,T)||!k(gt,T)||k(this,Te)&&this[Te][T])||O)},x=function(b){var T=b===He,O=it(T?St:$(b)),L=[];return me(O,function(D){!k(gt,D)||T&&!k(He,D)||L.push(gt[D])}),L};o||(Ne((ze=function(b){if(this instanceof ze)throw TypeError("Symbol is not a constructor");var T=arguments.length&&b!==void 0?String(b):void 0,O=ut(T),L=function(D){this===He&&L.call(St,D),k(this,Te)&&k(this[Te],O)&&(this[Te][O]=!1),s(this,O,se(1,D))};return l&&r&&s(He,O,{configurable:!0,set:L}),g(O,T)})[Ve],"toString",function(){return _e(this).tag}),Ne(ze,"withoutSetter",function(b){return g(ut(b),b)}),Oe.f=v,ye.f=y,he.f=c,ge.f=J.f=f,ue.f=x,_t.f=function(b){return g(Ke(b),b)},l&&(ht(ze[Ve],"description",{configurable:!0,get:function(){return _e(this).description}}),a||Ne(He,"propertyIsEnumerable",v,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!o,sham:!o},{Symbol:ze}),me(oe(i),function(b){at(b)}),m({target:Me,stat:!0,forced:!o},{for:function(b){var T=String(b);if(k(bt,T))return bt[T];var O=ze(T);return bt[T]=O,Et[O]=T,O},keyFor:function(b){if(!h(b))throw TypeError(b+" is not a symbol");if(k(Et,b))return Et[b]},useSetter:function(){r=!0},useSimple:function(){r=!1}}),m({target:"Object",stat:!0,forced:!o,sham:!l},{create:function(b,T){return T===void 0?ne(b):t(ne(b),T)},defineProperty:y,defineProperties:t,getOwnPropertyDescriptor:c}),m({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:f,getOwnPropertySymbols:x}),m({target:"Object",stat:!0,forced:_(function(){ue.f(1)})},{getOwnPropertySymbols:function(b){return ue.f(V(b))}}),Ge&&m({target:"JSON",stat:!0,forced:!o||_(function(){var b=ze();return Ge([b])!="[null]"||Ge({a:b})!="{}"||Ge(Object(b))!="{}"})},{stringify:function(b,T,O){for(var L,D=[b],N=1;N<arguments.length;)D.push(arguments[N++]);if((I(L=T)||b!==void 0)&&!h(b))return E(T)||(T=function(R,X){if(typeof L=="function"&&(X=L.call(this,R,X)),!h(X))return X}),D[1]=T,Ge.apply(null,D)}}),ze[Ve][je]||de(ze[Ve],je,ze[Ve].valueOf),Fe(ze,Me),$e[Te]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-copy-within"),c=g.aTypedArray;(0,g.exportTypedArrayMethod)("copyWithin",function(f,m,p){return t.call(c(this),f,m,2<arguments.length?p:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-iteration").every,c=g.aTypedArray;(0,g.exportTypedArrayMethod)("every",function(f,m){return t(c(this),f,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-fill"),c=g.aTypedArray;(0,g.exportTypedArrayMethod)("fill",function(f){return t.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-iteration").filter,c=n("../internals/species-constructor"),f=g.aTypedArray,m=g.aTypedArrayConstructor;(0,g.exportTypedArrayMethod)("filter",function(p,u){for(var a=t(f(this),p,1<arguments.length?u:void 0),l=c(this,this.constructor),o=0,d=a.length,_=new(m(l))(d);o<d;)_[o]=a[o++];return _})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-iteration").findIndex,c=g.aTypedArray;(0,g.exportTypedArrayMethod)("findIndex",function(f,m){return t(c(this),f,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-iteration").find,c=g.aTypedArray;(0,g.exportTypedArrayMethod)("find",function(f,m){return t(c(this),f,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(n,C,S){n("../internals/typed-array-constructor")("Float32",function(g){return function(t,c,f){return g(this,t,c,f)}})},{"../internals/typed-array-constructor":140}],204:[function(n,C,S){n("../internals/typed-array-constructor")("Float64",function(g){return function(t,c,f){return g(this,t,c,f)}})},{"../internals/typed-array-constructor":140}],205:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-iteration").forEach,c=g.aTypedArray;(0,g.exportTypedArrayMethod)("forEach",function(f,m){t(c(this),f,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-includes").includes,c=g.aTypedArray;(0,g.exportTypedArrayMethod)("includes",function(f,m){return t(c(this),f,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-includes").indexOf,c=g.aTypedArray;(0,g.exportTypedArrayMethod)("indexOf",function(f,m){return t(c(this),f,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(n,C,S){n("../internals/typed-array-constructor")("Int16",function(g){return function(t,c,f){return g(this,t,c,f)}})},{"../internals/typed-array-constructor":140}],209:[function(n,C,S){n("../internals/typed-array-constructor")("Int32",function(g){return function(t,c,f){return g(this,t,c,f)}})},{"../internals/typed-array-constructor":140}],210:[function(n,C,S){function g(){return u.call(o(this))}var t=n("../internals/global"),c=n("../internals/array-buffer-view-core"),f=n("../modules/es.array.iterator"),m=n("../internals/well-known-symbol")("iterator"),p=t.Uint8Array,u=f.values,a=f.keys,l=f.entries,o=c.aTypedArray,d=c.exportTypedArrayMethod,_=p&&p.prototype[m],k=!!_&&(_.name=="values"||_.name==null);d("entries",function(){return l.call(o(this))}),d("keys",function(){return a.call(o(this))}),d("values",g,!k),d(m,g,!k)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=g.aTypedArray,c=g.exportTypedArrayMethod,f=[].join;c("join",function(m){return f.apply(t(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-last-index-of"),c=g.aTypedArray;(0,g.exportTypedArrayMethod)("lastIndexOf",function(f){return t.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-iteration").map,c=n("../internals/species-constructor"),f=g.aTypedArray,m=g.aTypedArrayConstructor;(0,g.exportTypedArrayMethod)("map",function(p,u){return t(f(this),p,1<arguments.length?u:void 0,function(a,l){return new(m(c(a,a.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-reduce").right,c=g.aTypedArray;(0,g.exportTypedArrayMethod)("reduceRight",function(f,m){return t(c(this),f,arguments.length,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-reduce").left,c=g.aTypedArray;(0,g.exportTypedArrayMethod)("reduce",function(f,m){return t(c(this),f,arguments.length,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=g.aTypedArray,c=g.exportTypedArrayMethod,f=Math.floor;c("reverse",function(){for(var m,p=t(this).length,u=f(p/2),a=0;a<u;)m=this[a],this[a++]=this[--p],this[p]=m;return this})},{"../internals/array-buffer-view-core":12}],217:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/to-length"),c=n("../internals/to-offset"),f=n("../internals/to-object"),m=n("../internals/fails"),p=g.aTypedArray;(0,g.exportTypedArrayMethod)("set",function(u,a){p(this);var l=c(1<arguments.length?a:void 0,1),o=this.length,d=f(u),_=t(d.length),k=0;if(o<_+l)throw RangeError("Wrong length");for(;k<_;)this[l+k]=d[k++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/species-constructor"),c=n("../internals/fails"),f=g.aTypedArray,m=g.aTypedArrayConstructor,p=g.exportTypedArrayMethod,u=[].slice;p("slice",function(a,l){for(var o=u.call(f(this),a,l),d=t(this,this.constructor),_=0,k=o.length,E=new(m(d))(k);_<k;)E[_]=o[_++];return E},c(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":121}],219:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/array-iteration").some,c=g.aTypedArray;(0,g.exportTypedArrayMethod)("some",function(f,m){return t(c(this),f,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=g.aTypedArray,c=g.exportTypedArrayMethod,f=[].sort;c("sort",function(m){return f.call(t(this),m)})},{"../internals/array-buffer-view-core":12}],221:[function(n,C,S){var g=n("../internals/array-buffer-view-core"),t=n("../internals/to-length"),c=n("../internals/to-absolute-index"),f=n("../internals/species-constructor"),m=g.aTypedArray;(0,g.exportTypedArrayMethod)("subarray",function(p,u){var a=m(this),l=a.length,o=c(p,l);return new(f(a,a.constructor))(a.buffer,a.byteOffset+o*a.BYTES_PER_ELEMENT,t((u===void 0?l:c(u,l))-o))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/array-buffer-view-core"),c=n("../internals/fails"),f=g.Int8Array,m=t.aTypedArray,p=t.exportTypedArrayMethod,u=[].toLocaleString,a=[].slice,l=!!f&&c(function(){u.call(new f(1))});p("toLocaleString",function(){return u.apply(l?a.call(m(this)):m(this),arguments)},c(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!c(function(){f.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],223:[function(n,C,S){var g=n("../internals/array-buffer-view-core").exportTypedArrayMethod,t=n("../internals/fails"),c=n("../internals/global").Uint8Array,f=c&&c.prototype||{},m=[].toString,p=[].join;t(function(){m.call({})})&&(m=function(){return p.call(this)}),g("toString",m,f.toString!=m)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],224:[function(n,C,S){n("../internals/typed-array-constructor")("Uint16",function(g){return function(t,c,f){return g(this,t,c,f)}})},{"../internals/typed-array-constructor":140}],225:[function(n,C,S){n("../internals/typed-array-constructor")("Uint32",function(g){return function(t,c,f){return g(this,t,c,f)}})},{"../internals/typed-array-constructor":140}],226:[function(n,C,S){n("../internals/typed-array-constructor")("Uint8",function(g){return function(t,c,f){return g(this,t,c,f)}})},{"../internals/typed-array-constructor":140}],227:[function(n,C,S){n("../internals/typed-array-constructor")("Uint8",function(g){return function(t,c,f){return g(this,t,c,f)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/dom-iterables"),c=n("../internals/array-for-each"),f=n("../internals/create-non-enumerable-property");for(var m in t){var p=g[m],u=p&&p.prototype;if(u&&u.forEach!==c)try{f(u,"forEach",c)}catch{u.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59}],229:[function(n,C,S){var g=n("../internals/global"),t=n("../internals/dom-iterables"),c=n("../modules/es.array.iterator"),f=n("../internals/create-non-enumerable-property"),m=n("../internals/well-known-symbol"),p=m("iterator"),u=m("toStringTag"),a=c.values;for(var l in t){var o=g[l],d=o&&o.prototype;if(d){if(d[p]!==a)try{f(d,p,a)}catch{d[p]=a}if(d[u]||f(d,u,l),t[l]){for(var _ in c)if(d[_]!==c[_])try{f(d,_,c[_])}catch{d[_]=c[_]}}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],230:[function(n,C,S){n("../modules/es.array.iterator");function g(Me){try{return decodeURIComponent(Me)}catch{return Me}}function t(Me){var Ve,je=Me.replace(Ke," "),Pe=4;try{return decodeURIComponent(je)}catch{for(;Pe;)je=je.replace((Ve=Pe--,_t[Ve-1]||(_t[Ve-1]=RegExp("((?:%[\\da-f]{2}){"+Ve+"})","gi"))),g);return je}}function c(Me){return Fe[Me]}function f(Me){return encodeURIComponent(Me).replace(at,c)}function m(Me,Ve){if(Ve)for(var je,Pe,_e=Ve.split("&"),He=0;He<_e.length;)(je=_e[He++]).length&&(Pe=je.split("="),Me.push({key:t(Pe.shift()),value:t(Pe.join("="))}))}function p(Me){this.entries.length=0,m(this.entries,Me)}function u(Me,Ve){if(Me<Ve)throw TypeError("Not enough arguments")}var a=n("../internals/export"),l=n("../internals/get-built-in"),o=n("../internals/native-url"),d=n("../internals/redefine"),_=n("../internals/redefine-all"),k=n("../internals/set-to-string-tag"),E=n("../internals/create-iterator-constructor"),I=n("../internals/internal-state"),U=n("../internals/an-instance"),V=n("../internals/has"),$=n("../internals/function-bind-context"),B=n("../internals/classof"),se=n("../internals/an-object"),ne=n("../internals/is-object"),oe=n("../internals/object-create"),ge=n("../internals/create-property-descriptor"),J=n("../internals/get-iterator"),ue=n("../internals/get-iterator-method"),he=n("../internals/well-known-symbol"),ye=l("fetch"),Oe=l("Headers"),de=he("iterator"),Ne="URLSearchParams",Le=Ne+"Iterator",Be=I.set,$e=I.getterFor(Ne),ut=I.getterFor(Le),Ke=/\+/g,_t=Array(4),at=/[!'()~]|%20/g,Fe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=E(function(Me,Ve){Be(this,{type:Le,iterator:J($e(Me).entries),kind:Ve})},"Iterator",function(){var Me=ut(this),Ve=Me.kind,je=Me.iterator.next(),Pe=je.value;return je.done||(je.value=Ve==="keys"?Pe.key:Ve==="values"?Pe.value:[Pe.key,Pe.value]),je}),me=function(Me){U(this,me,Ne);var Ve,je,Pe,_e,He,ze,Ge,st,ht,it=0<arguments.length?Me:void 0,mt=[];if(Be(this,{type:Ne,entries:mt,updateURL:function(){},updateSearchParams:p}),it!==void 0)if(ne(it))if(typeof(Ve=ue(it))=="function")for(Pe=(je=Ve.call(it)).next;!(_e=Pe.call(je)).done;){if((Ge=(ze=(He=J(se(_e.value))).next).call(He)).done||(st=ze.call(He)).done||!ze.call(He).done)throw TypeError("Expected sequence with length 2");mt.push({key:Ge.value+"",value:st.value+""})}else for(ht in it)V(it,ht)&&mt.push({key:ht,value:it[ht]+""});else m(mt,typeof it=="string"?it.charAt(0)==="?"?it.slice(1):it:it+"")},Te=me.prototype;_(Te,{append:function(Me,Ve){u(arguments.length,2);var je=$e(this);je.entries.push({key:Me+"",value:Ve+""}),je.updateURL()},delete:function(Me){u(arguments.length,1);for(var Ve=$e(this),je=Ve.entries,Pe=Me+"",_e=0;_e<je.length;)je[_e].key===Pe?je.splice(_e,1):_e++;Ve.updateURL()},get:function(Me){u(arguments.length,1);for(var Ve=$e(this).entries,je=Me+"",Pe=0;Pe<Ve.length;Pe++)if(Ve[Pe].key===je)return Ve[Pe].value;return null},getAll:function(Me){u(arguments.length,1);for(var Ve=$e(this).entries,je=Me+"",Pe=[],_e=0;_e<Ve.length;_e++)Ve[_e].key===je&&Pe.push(Ve[_e].value);return Pe},has:function(Me){u(arguments.length,1);for(var Ve=$e(this).entries,je=Me+"",Pe=0;Pe<Ve.length;)if(Ve[Pe++].key===je)return!0;return!1},set:function(Me,Ve){u(arguments.length,1);for(var je,Pe=$e(this),_e=Pe.entries,He=!1,ze=Me+"",Ge=Ve+"",st=0;st<_e.length;st++)(je=_e[st]).key===ze&&(He?_e.splice(st--,1):(He=!0,je.value=Ge));He||_e.push({key:ze,value:Ge}),Pe.updateURL()},sort:function(){var Me,Ve,je,Pe=$e(this),_e=Pe.entries,He=_e.slice();for(je=_e.length=0;je<He.length;je++){for(Me=He[je],Ve=0;Ve<je;Ve++)if(_e[Ve].key>Me.key){_e.splice(Ve,0,Me);break}Ve===je&&_e.push(Me)}Pe.updateURL()},forEach:function(Me,Ve){for(var je,Pe=$e(this).entries,_e=$(Me,1<arguments.length?Ve:void 0,3),He=0;He<Pe.length;)_e((je=Pe[He++]).value,je.key,this)},keys:function(){return new ae(this,"keys")},values:function(){return new ae(this,"values")},entries:function(){return new ae(this,"entries")}},{enumerable:!0}),d(Te,de,Te.entries),d(Te,"toString",function(){for(var Me,Ve=$e(this).entries,je=[],Pe=0;Pe<Ve.length;)Me=Ve[Pe++],je.push(f(Me.key)+"="+f(Me.value));return je.join("&")},{enumerable:!0}),k(me,Ne),a({global:!0,forced:!o},{URLSearchParams:me}),o||typeof ye!="function"||typeof Oe!="function"||a({global:!0,enumerable:!0,forced:!0},{fetch:function(Me,Ve){var je,Pe,_e,He=[Me];return 1<arguments.length&&(ne(je=Ve)&&(Pe=je.body,B(Pe)===Ne&&((_e=je.headers?new Oe(je.headers):new Oe).has("content-type")||_e.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),je=oe(je,{body:ge(0,String(Pe)),headers:ge(0,_e)}))),He.push(je)),ye.apply(this,He)}}),C.exports={URLSearchParams:me,getState:$e}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(n,C,S){n("../modules/es.string.iterator");function g(ke,Ye){var ft,lt,nt;if(Ye.charAt(0)=="["){if(Ye.charAt(Ye.length-1)!="]"||!(ft=ze(Ye.slice(1,-1))))return ut;ke.host=ft}else if(St(ke)){if(Ye=oe(Ye),Ve.test(Ye)||(ft=He(Ye))===null)return ut;ke.host=ft}else{if(je.test(Ye))return ut;for(ft="",lt=se(Ye),nt=0;nt<lt.length;nt++)ft+=mt(lt[nt],Ge);ke.host=ft}}function t(ke){var Ye,ft,lt,nt;if(typeof ke=="number"){for(Ye=[],ft=0;ft<4;ft++)Ye.unshift(ke%256),ke=Le(ke/256);return Ye.join(".")}if(typeof ke!="object")return ke;for(Ye="",lt=function(Ze){for(var xt=null,Tt=1,It=null,Lt=0,pt=0;pt<8;pt++)Ze[pt]!==0?(Tt<Lt&&(xt=It,Tt=Lt),It=null,Lt=0):(It===null&&(It=pt),++Lt);return Tt<Lt&&(xt=It,Tt=Lt),xt}(ke),ft=0;ft<8;ft++)nt&&ke[ft]===0||(nt=nt&&!1,lt===ft?(Ye+=ft?":":"::",nt=!0):(Ye+=ke[ft].toString(16),ft<7&&(Ye+=":")));return"["+Ye+"]"}function c(ke){return ke.username!=""||ke.password!=""}function f(ke){return!ke.host||ke.cannotBeABaseURL||ke.scheme=="file"}function m(ke,Ye){var ft;return ke.length==2&&_t.test(ke.charAt(0))&&((ft=ke.charAt(1))==":"||!Ye&&ft=="|")}function p(ke){var Ye;return 1<ke.length&&m(ke.slice(0,2))&&(ke.length==2||(Ye=ke.charAt(2))==="/"||Ye==="\\"||Ye==="?"||Ye==="#")}function u(ke){var Ye=ke.path,ft=Ye.length;!ft||ke.scheme=="file"&&ft==1&&m(Ye[0],!0)||Ye.pop()}function a(ke,Ye,ft,lt){var nt,Ze,xt,Tt,It,Lt,pt=ft||bt,Dt=0,jt="",Gt=!1,nr=!1,sr=!1;for(ft||(ke.scheme="",ke.username="",ke.password="",ke.host=null,ke.port=null,ke.path=[],ke.query=null,ke.fragment=null,ke.cannotBeABaseURL=!1,Ye=Ye.replace(Pe,"")),Ye=Ye.replace(_e,""),nt=se(Ye);Dt<=nt.length;){switch(Ze=nt[Dt],pt){case bt:if(!Ze||!_t.test(Ze)){if(ft)return $e;pt=i;continue}jt+=Ze.toLowerCase(),pt=Et;break;case Et:if(Ze&&(at.test(Ze)||Ze=="+"||Ze=="-"||Ze=="."))jt+=Ze.toLowerCase();else{if(Ze!=":"){if(ft)return $e;jt="",pt=i,Dt=0;continue}if(ft&&(St(ke)!=$(gt,jt)||jt=="file"&&(c(ke)||ke.port!==null)||ke.scheme=="file"&&!ke.host))return;if(ke.scheme=jt,ft)return void(St(ke)&&gt[ke.scheme]==ke.port&&(ke.port=null));jt="",ke.scheme=="file"?pt=L:St(ke)&&lt&&lt.scheme==ke.scheme?pt=e:St(ke)?pt=y:nt[Dt+1]=="/"?(pt=r,Dt++):(ke.cannotBeABaseURL=!0,ke.path.push(""),pt=Y)}break;case i:if(!lt||lt.cannotBeABaseURL&&Ze!="#")return $e;if(lt.cannotBeABaseURL&&Ze=="#"){ke.scheme=lt.scheme,ke.path=lt.path.slice(),ke.query=lt.query,ke.fragment="",ke.cannotBeABaseURL=!0,pt=H;break}pt=lt.scheme=="file"?L:s;continue;case e:if(Ze!="/"||nt[Dt+1]!="/"){pt=s;continue}pt=v,Dt++;break;case r:if(Ze=="/"){pt=x;break}pt=X;continue;case s:if(ke.scheme=lt.scheme,Ze==o)ke.username=lt.username,ke.password=lt.password,ke.host=lt.host,ke.port=lt.port,ke.path=lt.path.slice(),ke.query=lt.query;else if(Ze=="/"||Ze=="\\"&&St(ke))pt=h;else if(Ze=="?")ke.username=lt.username,ke.password=lt.password,ke.host=lt.host,ke.port=lt.port,ke.path=lt.path.slice(),ke.query="",pt=K;else{if(Ze!="#"){ke.username=lt.username,ke.password=lt.password,ke.host=lt.host,ke.port=lt.port,ke.path=lt.path.slice(),ke.path.pop(),pt=X;continue}ke.username=lt.username,ke.password=lt.password,ke.host=lt.host,ke.port=lt.port,ke.path=lt.path.slice(),ke.query=lt.query,ke.fragment="",pt=H}break;case h:if(!St(ke)||Ze!="/"&&Ze!="\\"){if(Ze!="/"){ke.username=lt.username,ke.password=lt.password,ke.host=lt.host,ke.port=lt.port,pt=X;continue}pt=x}else pt=v;break;case y:if(pt=v,Ze!="/"||jt.charAt(Dt+1)!="/")continue;Dt++;break;case v:if(Ze=="/"||Ze=="\\")break;pt=x;continue;case x:if(Ze=="@"){Gt&&(jt="%40"+jt),Gt=!0,xt=se(jt);for(var ir=0;ir<xt.length;ir++){var Qt=xt[ir];if(Qt!=":"||sr){var Kt=mt(Qt,it);sr?ke.password+=Kt:ke.username+=Kt}else sr=!0}jt=""}else if(Ze==o||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&St(ke)){if(Gt&&jt=="")return"Invalid authority";Dt-=se(jt).length+1,jt="",pt=b}else jt+=Ze;break;case b:case T:if(ft&&ke.scheme=="file"){pt=N;continue}if(Ze!=":"||nr){if(Ze==o||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&St(ke)){if(St(ke)&&jt=="")return ut;if(ft&&jt==""&&(c(ke)||ke.port!==null))return;if(Tt=g(ke,jt))return Tt;if(jt="",pt=R,ft)return;continue}Ze=="["?nr=!0:Ze=="]"&&(nr=!1),jt+=Ze}else{if(jt=="")return ut;if(Tt=g(ke,jt))return Tt;if(jt="",pt=O,ft==T)return}break;case O:if(!Fe.test(Ze)){if(Ze==o||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&St(ke)||ft){if(jt!=""){var ar=parseInt(jt,10);if(65535<ar)return Ke;ke.port=St(ke)&&ar===gt[ke.scheme]?null:ar,jt=""}if(ft)return;pt=R;continue}return Ke}jt+=Ze;break;case L:if(ke.scheme="file",Ze=="/"||Ze=="\\")pt=D;else{if(!lt||lt.scheme!="file"){pt=X;continue}if(Ze==o)ke.host=lt.host,ke.path=lt.path.slice(),ke.query=lt.query;else if(Ze=="?")ke.host=lt.host,ke.path=lt.path.slice(),ke.query="",pt=K;else{if(Ze!="#"){p(nt.slice(Dt).join(""))||(ke.host=lt.host,ke.path=lt.path.slice(),u(ke)),pt=X;continue}ke.host=lt.host,ke.path=lt.path.slice(),ke.query=lt.query,ke.fragment="",pt=H}}break;case D:if(Ze=="/"||Ze=="\\"){pt=N;break}lt&&lt.scheme=="file"&&!p(nt.slice(Dt).join(""))&&(m(lt.path[0],!0)?ke.path.push(lt.path[0]):ke.host=lt.host),pt=X;continue;case N:if(Ze==o||Ze=="/"||Ze=="\\"||Ze=="?"||Ze=="#"){if(!ft&&m(jt))pt=X;else if(jt==""){if(ke.host="",ft)return;pt=R}else{if(Tt=g(ke,jt))return Tt;if(ke.host=="localhost"&&(ke.host=""),ft)return;jt="",pt=R}continue}jt+=Ze;break;case R:if(St(ke)){if(pt=X,Ze!="/"&&Ze!="\\")continue}else if(ft||Ze!="?")if(ft||Ze!="#"){if(Ze!=o&&(pt=X,Ze!="/"))continue}else ke.fragment="",pt=H;else ke.query="",pt=K;break;case X:if(Ze==o||Ze=="/"||Ze=="\\"&&St(ke)||!ft&&(Ze=="?"||Ze=="#")){if((Lt=(Lt=jt).toLowerCase())===".."||Lt==="%2e."||Lt===".%2e"||Lt==="%2e%2e"?(u(ke),Ze=="/"||Ze=="\\"&&St(ke)||ke.path.push("")):(It=jt)==="."||It.toLowerCase()==="%2e"?Ze=="/"||Ze=="\\"&&St(ke)||ke.path.push(""):(ke.scheme=="file"&&!ke.path.length&&m(jt)&&(ke.host&&(ke.host=""),jt=jt.charAt(0)+":"),ke.path.push(jt)),jt="",ke.scheme=="file"&&(Ze==o||Ze=="?"||Ze=="#"))for(;1<ke.path.length&&ke.path[0]==="";)ke.path.shift();Ze=="?"?(ke.query="",pt=K):Ze=="#"&&(ke.fragment="",pt=H)}else jt+=mt(Ze,ht);break;case Y:Ze=="?"?(ke.query="",pt=K):Ze=="#"?(ke.fragment="",pt=H):Ze!=o&&(ke.path[0]+=mt(Ze,Ge));break;case K:ft||Ze!="#"?Ze!=o&&(Ze=="'"&&St(ke)?ke.query+="%27":ke.query+=Ze=="#"?"%23":mt(Ze,Ge)):(ke.fragment="",pt=H);break;case H:Ze!=o&&(ke.fragment+=mt(Ze,st))}Dt++}}function l(ke,Ye){return{get:ke,set:Ye,configurable:!0,enumerable:!0}}var o,d=n("../internals/export"),_=n("../internals/descriptors"),k=n("../internals/native-url"),E=n("../internals/global"),I=n("../internals/object-define-properties"),U=n("../internals/redefine"),V=n("../internals/an-instance"),$=n("../internals/has"),B=n("../internals/object-assign"),se=n("../internals/array-from"),ne=n("../internals/string-multibyte").codeAt,oe=n("../internals/string-punycode-to-ascii"),ge=n("../internals/set-to-string-tag"),J=n("../modules/web.url-search-params"),ue=n("../internals/internal-state"),he=E.URL,ye=J.URLSearchParams,Oe=J.getState,de=ue.set,Ne=ue.getterFor("URL"),Le=Math.floor,Be=Math.pow,$e="Invalid scheme",ut="Invalid host",Ke="Invalid port",_t=/[A-Za-z]/,at=/[\d+-.A-Za-z]/,Fe=/\d/,ae=/^(0x|0X)/,me=/^[0-7]+$/,Te=/^\d+$/,Me=/^[\dA-Fa-f]+$/,Ve=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,je=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Pe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,_e=/[\u0009\u000A\u000D]/g,He=function(ke){var Ye,ft,lt,nt,Ze,xt,Tt,It=ke.split(".");if(It.length&&It[It.length-1]==""&&It.pop(),4<(Ye=It.length))return ke;for(ft=[],lt=0;lt<Ye;lt++){if((nt=It[lt])=="")return ke;if(Ze=10,1<nt.length&&nt.charAt(0)=="0"&&(Ze=ae.test(nt)?16:8,nt=nt.slice(Ze==8?1:2)),nt==="")xt=0;else{if(!(Ze==10?Te:Ze==8?me:Me).test(nt))return ke;xt=parseInt(nt,Ze)}ft.push(xt)}for(lt=0;lt<Ye;lt++)if(xt=ft[lt],lt==Ye-1){if(xt>=Be(256,5-Ye))return null}else if(255<xt)return null;for(Tt=ft.pop(),lt=0;lt<ft.length;lt++)Tt+=ft[lt]*Be(256,3-lt);return Tt},ze=function(ke){function Ye(){return ke.charAt(jt)}var ft,lt,nt,Ze,xt,Tt,It,Lt=[0,0,0,0,0,0,0,0],pt=0,Dt=null,jt=0;if(Ye()==":"){if(ke.charAt(1)!=":")return;jt+=2,Dt=++pt}for(;Ye();){if(pt==8)return;if(Ye()!=":"){for(ft=lt=0;lt<4&&Me.test(Ye());)ft=16*ft+parseInt(Ye(),16),jt++,lt++;if(Ye()=="."){if(lt==0||(jt-=lt,6<pt))return;for(nt=0;Ye();){if(Ze=null,0<nt){if(!(Ye()=="."&&nt<4))return;jt++}if(!Fe.test(Ye()))return;for(;Fe.test(Ye());){if(xt=parseInt(Ye(),10),Ze===null)Ze=xt;else{if(Ze==0)return;Ze=10*Ze+xt}if(255<Ze)return;jt++}Lt[pt]=256*Lt[pt]+Ze,++nt!=2&&nt!=4||pt++}if(nt!=4)return;break}if(Ye()==":"){if(jt++,!Ye())return}else if(Ye())return;Lt[pt++]=ft}else{if(Dt!==null)return;jt++,Dt=++pt}}if(Dt!==null)for(Tt=pt-Dt,pt=7;pt!=0&&0<Tt;)It=Lt[pt],Lt[pt--]=Lt[Dt+Tt-1],Lt[Dt+--Tt]=It;else if(pt!=8)return;return Lt},Ge={},st=B({},Ge,{" ":1,'"':1,"<":1,">":1,"`":1}),ht=B({},st,{"#":1,"?":1,"{":1,"}":1}),it=B({},ht,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),mt=function(ke,Ye){var ft=ne(ke,0);return 32<ft&&ft<127&&!$(Ye,ke)?ke:encodeURIComponent(ke)},gt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},St=function(ke){return $(gt,ke.scheme)},bt={},Et={},i={},e={},r={},s={},h={},y={},v={},x={},b={},T={},O={},L={},D={},N={},R={},X={},Y={},K={},H={},G=function(ke,Ye){var ft,lt,nt=V(this,G,"URL"),Ze=1<arguments.length?Ye:void 0,xt=String(ke),Tt=de(nt,{type:"URL"});if(Ze!==void 0){if(Ze instanceof G)ft=Ne(Ze);else if(lt=a(ft={},String(Ze)))throw TypeError(lt)}if(lt=a(Tt,xt,null,ft))throw TypeError(lt);var It=Tt.searchParams=new ye,Lt=Oe(It);Lt.updateSearchParams(Tt.query),Lt.updateURL=function(){Tt.query=String(It)||null},_||(nt.href=Z.call(nt),nt.origin=ee.call(nt),nt.protocol=le.call(nt),nt.username=ie.call(nt),nt.password=pe.call(nt),nt.host=ve.call(nt),nt.hostname=xe.call(nt),nt.port=Ce.call(nt),nt.pathname=be.call(nt),nt.search=Ee.call(nt),nt.searchParams=Ie.call(nt),nt.hash=Ue.call(nt))},z=G.prototype,Z=function(){var ke=Ne(this),Ye=ke.scheme,ft=ke.username,lt=ke.password,nt=ke.host,Ze=ke.port,xt=ke.path,Tt=ke.query,It=ke.fragment,Lt=Ye+":";return nt!==null?(Lt+="//",c(ke)&&(Lt+=ft+(lt?":"+lt:"")+"@"),Lt+=t(nt),Ze!==null&&(Lt+=":"+Ze)):Ye=="file"&&(Lt+="//"),Lt+=ke.cannotBeABaseURL?xt[0]:xt.length?"/"+xt.join("/"):"",Tt!==null&&(Lt+="?"+Tt),It!==null&&(Lt+="#"+It),Lt},ee=function(){var ke=Ne(this),Ye=ke.scheme,ft=ke.port;if(Ye=="blob")try{return new URL(Ye.path[0]).origin}catch{return"null"}return Ye!="file"&&St(ke)?Ye+"://"+t(ke.host)+(ft!==null?":"+ft:""):"null"},le=function(){return Ne(this).scheme+":"},ie=function(){return Ne(this).username},pe=function(){return Ne(this).password},ve=function(){var ke=Ne(this),Ye=ke.host,ft=ke.port;return Ye===null?"":ft===null?t(Ye):t(Ye)+":"+ft},xe=function(){var ke=Ne(this).host;return ke===null?"":t(ke)},Ce=function(){var ke=Ne(this).port;return ke===null?"":String(ke)},be=function(){var ke=Ne(this),Ye=ke.path;return ke.cannotBeABaseURL?Ye[0]:Ye.length?"/"+Ye.join("/"):""},Ee=function(){var ke=Ne(this).query;return ke?"?"+ke:""},Ie=function(){return Ne(this).searchParams},Ue=function(){var ke=Ne(this).fragment;return ke?"#"+ke:""};if(_&&I(z,{href:l(Z,function(ke){var Ye=Ne(this),ft=String(ke),lt=a(Ye,ft);if(lt)throw TypeError(lt);Oe(Ye.searchParams).updateSearchParams(Ye.query)}),origin:l(ee),protocol:l(le,function(ke){var Ye=Ne(this);a(Ye,String(ke)+":",bt)}),username:l(ie,function(ke){var Ye=Ne(this),ft=se(String(ke));if(!f(Ye)){Ye.username="";for(var lt=0;lt<ft.length;lt++)Ye.username+=mt(ft[lt],it)}}),password:l(pe,function(ke){var Ye=Ne(this),ft=se(String(ke));if(!f(Ye)){Ye.password="";for(var lt=0;lt<ft.length;lt++)Ye.password+=mt(ft[lt],it)}}),host:l(ve,function(ke){var Ye=Ne(this);Ye.cannotBeABaseURL||a(Ye,String(ke),b)}),hostname:l(xe,function(ke){var Ye=Ne(this);Ye.cannotBeABaseURL||a(Ye,String(ke),T)}),port:l(Ce,function(ke){var Ye=Ne(this);f(Ye)||((ke=String(ke))==""?Ye.port=null:a(Ye,ke,O))}),pathname:l(be,function(ke){var Ye=Ne(this);Ye.cannotBeABaseURL||(Ye.path=[],a(Ye,ke+"",R))}),search:l(Ee,function(ke){var Ye=Ne(this);(ke=String(ke))==""?Ye.query=null:(ke.charAt(0)=="?"&&(ke=ke.slice(1)),Ye.query="",a(Ye,ke,K)),Oe(Ye.searchParams).updateSearchParams(Ye.query)}),searchParams:l(Ie),hash:l(Ue,function(ke){var Ye=Ne(this);(ke=String(ke))!=""?(ke.charAt(0)=="#"&&(ke=ke.slice(1)),Ye.fragment="",a(Ye,ke,H)):Ye.fragment=null})}),U(z,"toJSON",function(){return Z.call(this)},{enumerable:!0}),U(z,"toString",function(){return Z.call(this)},{enumerable:!0}),he){var We=he.createObjectURL,rt=he.revokeObjectURL;We&&U(G,"createObjectURL",function(ke){return We.apply(he,arguments)}),rt&&U(G,"revokeObjectURL",function(ke){return rt.apply(he,arguments)})}ge(G,"URL"),d({global:!0,forced:!k,sham:!_},{URL:G})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":230}],232:[function(n,C,S){C.exports=n("./").polyfill()},{"./":233}],233:[function(n,C,S){(function(g,t){var c,f;c=this,f=function(){function m(_e){return typeof _e=="function"}var p=Array.isArray?Array.isArray:function(_e){return Object.prototype.toString.call(_e)==="[object Array]"},u=0,a=void 0,l=void 0,o=function(_e,He){V[u]=_e,V[u+1]=He,(u+=2)===2&&(l?l($):ge())},d=typeof window<"u"?window:void 0,_=d||{},k=_.MutationObserver||_.WebKitMutationObserver,E=typeof self>"u"&&g!==void 0&&{}.toString.call(g)==="[object process]",I=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function U(){var _e=setTimeout;return function(){return _e($,1)}}var V=new Array(1e3);function $(){for(var _e=0;_e<u;_e+=2)(0,V[_e])(V[_e+1]),V[_e]=void 0,V[_e+1]=void 0;u=0}var B,se,ne,oe,ge=void 0;function J(_e,He){var ze=this,Ge=new this.constructor(ye);Ge[he]===void 0&&Te(Ge);var st=ze._state;if(st){var ht=arguments[st-1];o(function(){return ae(st,Ge,ht,ze._result)})}else at(ze,Ge,_e,He);return Ge}function ue(_e){if(_e&&typeof _e=="object"&&_e.constructor===this)return _e;var He=new this(ye);return $e(He,_e),He}ge=E?function(){return g.nextTick($)}:k?(se=0,ne=new k($),oe=document.createTextNode(""),ne.observe(oe,{characterData:!0}),function(){oe.data=se=++se%2}):I?((B=new MessageChannel).port1.onmessage=$,function(){return B.port2.postMessage(0)}):d===void 0&&typeof n=="function"?function(){try{var _e=Function("return this")().require("vertx");return(a=_e.runOnLoop||_e.runOnContext)!==void 0?function(){a($)}:U()}catch{return U()}}():U();var he=Math.random().toString(36).substring(2);function ye(){}var Oe=void 0,de=1,Ne=2;function Le(_e,He,ze){o(function(Ge){var st=!1,ht=function(it,mt,gt,St){try{it.call(mt,gt,St)}catch(bt){return bt}}(ze,He,function(it){st||(st=!0,He!==it?$e(Ge,it):Ke(Ge,it))},function(it){st||(st=!0,_t(Ge,it))},Ge._label);!st&&ht&&(st=!0,_t(Ge,ht))},_e)}function Be(_e,He,ze){var Ge,st;He.constructor===_e.constructor&&ze===J&&He.constructor.resolve===ue?(Ge=_e,(st=He)._state===de?Ke(Ge,st._result):st._state===Ne?_t(Ge,st._result):at(st,void 0,function(ht){return $e(Ge,ht)},function(ht){return _t(Ge,ht)})):ze===void 0?Ke(_e,He):m(ze)?Le(_e,He,ze):Ke(_e,He)}function $e(_e,He){if(_e===He)_t(_e,new TypeError("You cannot resolve a promise with itself"));else if(st=typeof(Ge=He),Ge===null||st!="object"&&st!="function")Ke(_e,He);else{var ze=void 0;try{ze=He.then}catch(ht){return void _t(_e,ht)}Be(_e,He,ze)}var Ge,st}function ut(_e){_e._onerror&&_e._onerror(_e._result),Fe(_e)}function Ke(_e,He){_e._state===Oe&&(_e._result=He,_e._state=de,_e._subscribers.length!==0&&o(Fe,_e))}function _t(_e,He){_e._state===Oe&&(_e._state=Ne,_e._result=He,o(ut,_e))}function at(_e,He,ze,Ge){var st=_e._subscribers,ht=st.length;_e._onerror=null,st[ht]=He,st[ht+de]=ze,st[ht+Ne]=Ge,ht===0&&_e._state&&o(Fe,_e)}function Fe(_e){var He=_e._subscribers,ze=_e._state;if(He.length!==0){for(var Ge=void 0,st=void 0,ht=_e._result,it=0;it<He.length;it+=3)Ge=He[it],st=He[it+ze],Ge?ae(ze,Ge,st,ht):st(ht);_e._subscribers.length=0}}function ae(_e,He,ze,Ge){var st=m(ze),ht=void 0,it=void 0,mt=!0;if(st){try{ht=ze(Ge)}catch(gt){mt=!1,it=gt}if(He===ht)return void _t(He,new TypeError("A promises callback cannot return that same promise."))}else ht=Ge;He._state!==Oe||(st&&mt?$e(He,ht):mt===!1?_t(He,it):_e===de?Ke(He,ht):_e===Ne&&_t(He,ht))}var me=0;function Te(_e){_e[he]=me++,_e._state=void 0,_e._result=void 0,_e._subscribers=[]}var Me=(Ve.prototype._enumerate=function(_e){for(var He=0;this._state===Oe&&He<_e.length;He++)this._eachEntry(_e[He],He)},Ve.prototype._eachEntry=function(_e,He){var ze=this._instanceConstructor,Ge=ze.resolve;if(Ge===ue){var st=void 0,ht=void 0,it=!1;try{st=_e.then}catch(gt){it=!0,ht=gt}if(st===J&&_e._state!==Oe)this._settledAt(_e._state,He,_e._result);else if(typeof st!="function")this._remaining--,this._result[He]=_e;else if(ze===je){var mt=new ze(ye);it?_t(mt,ht):Be(mt,_e,st),this._willSettleAt(mt,He)}else this._willSettleAt(new ze(function(gt){return gt(_e)}),He)}else this._willSettleAt(Ge(_e),He)},Ve.prototype._settledAt=function(_e,He,ze){var Ge=this.promise;Ge._state===Oe&&(this._remaining--,_e===Ne?_t(Ge,ze):this._result[He]=ze),this._remaining===0&&Ke(Ge,this._result)},Ve.prototype._willSettleAt=function(_e,He){var ze=this;at(_e,void 0,function(Ge){return ze._settledAt(de,He,Ge)},function(Ge){return ze._settledAt(Ne,He,Ge)})},Ve);function Ve(_e,He){this._instanceConstructor=_e,this.promise=new _e(ye),this.promise[he]||Te(this.promise),p(He)?(this.length=He.length,this._remaining=He.length,this._result=new Array(this.length),this.length===0?Ke(this.promise,this._result):(this.length=this.length||0,this._enumerate(He),this._remaining===0&&Ke(this.promise,this._result))):_t(this.promise,new Error("Array Methods must be provided an Array"))}var je=(Pe.prototype.catch=function(_e){return this.then(null,_e)},Pe.prototype.finally=function(_e){var He=this.constructor;return m(_e)?this.then(function(ze){return He.resolve(_e()).then(function(){return ze})},function(ze){return He.resolve(_e()).then(function(){throw ze})}):this.then(_e,_e)},Pe);function Pe(_e){this[he]=me++,this._result=this._state=void 0,this._subscribers=[],ye!==_e&&(typeof _e!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Pe?function(He,ze){try{ze(function(Ge){$e(He,Ge)},function(Ge){_t(He,Ge)})}catch(Ge){_t(He,Ge)}}(this,_e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return je.prototype.then=J,je.all=function(_e){return new Me(this,_e).promise},je.race=function(_e){var He=this;return p(_e)?new He(function(ze,Ge){for(var st=_e.length,ht=0;ht<st;ht++)He.resolve(_e[ht]).then(ze,Ge)}):new He(function(ze,Ge){return Ge(new TypeError("You must pass an array to race."))})},je.resolve=ue,je.reject=function(_e){var He=new this(ye);return _t(He,_e),He},je._setScheduler=function(_e){l=_e},je._setAsap=function(_e){o=_e},je._asap=o,je.polyfill=function(){var _e=void 0;if(t!==void 0)_e=t;else if(typeof self<"u")_e=self;else try{_e=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var He=_e.Promise;if(He){var ze=null;try{ze=Object.prototype.toString.call(He.resolve())}catch{}if(ze==="[object Promise]"&&!He.cast)return}_e.Promise=je},je.Promise=je},typeof S=="object"&&C!==void 0?C.exports=f():c.ES6Promise=f()}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:241}],234:[function(n,C,S){(function(g,t){if(S!==void 0&&C!==void 0)t(S,C);else{var c={exports:{}};t(c.exports,c),g.fetchJsonp=c.exports}})(this,function(g,t){var c=5e3,f="callback";function m(u){try{delete window[u]}catch{window[u]=void 0}}function p(u){var a=document.getElementById(u);a&&document.getElementsByTagName("head")[0].removeChild(a)}t.exports=function(u){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],l=u,o=a.timeout||c,d=a.jsonpCallback||f,_=void 0;return new Promise(function(k,E){var I=a.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),U=d+"_"+I;window[I]=function($){k({ok:!0,json:function(){return Promise.resolve($)}}),_&&clearTimeout(_),p(U),m(I)},l+=l.indexOf("?")===-1?"?":"&";var V=document.createElement("script");V.setAttribute("src",""+l+d+"="+I),a.charset&&V.setAttribute("charset",a.charset),V.id=U,document.getElementsByTagName("head")[0].appendChild(V),_=setTimeout(function(){E(new Error("JSONP request to "+u+" timed out")),m(I),p(U),window[I]=function(){m(I)}},o),V.onerror=function(){E(new Error("JSONP request to "+u+" failed")),m(I),p(U),_&&clearTimeout(_)}})}})},{}],235:[function(n,C,S){var g=g||function(t){if(!(t===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var c=t.document,f=function(){return t.URL||t.webkitURL||t},m=c.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in m,u=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(E){(t.setImmediate||t.setTimeout)(function(){throw E},0)},o=function(E){setTimeout(function(){typeof E=="string"?f().revokeObjectURL(E):E.remove()},4e4)},d=function(E){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(E.type)?new Blob([String.fromCharCode(65279),E],{type:E.type}):E},_=function(E,I,U){U||(E=d(E));function V(){(function(ne,oe,ge){for(var J=(oe=[].concat(oe)).length;J--;){var ue=ne["on"+oe[J]];if(typeof ue=="function")try{ue.call(ne,ge||ne)}catch(he){l(he)}}})(B,"writestart progress write writeend".split(" "))}var $,B=this,se=E.type==="application/octet-stream";if(B.readyState=B.INIT,p)return $=f().createObjectURL(E),void setTimeout(function(){var ne,oe;m.href=$,m.download=I,ne=m,oe=new MouseEvent("click"),ne.dispatchEvent(oe),V(),o($),B.readyState=B.DONE});(function(){if((a||se&&u)&&t.FileReader){var ne=new FileReader;return ne.onloadend=function(){var oe=a?ne.result:ne.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(oe,"_blank")||(t.location.href=oe),oe=void 0,B.readyState=B.DONE,V()},ne.readAsDataURL(E),B.readyState=B.INIT}$=$||f().createObjectURL(E),se?t.location.href=$:t.open($,"_blank")||(t.location.href=$),B.readyState=B.DONE,V(),o($)})()},k=_.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(E,I,U){return I=I||E.name||"download",U||(E=d(E)),navigator.msSaveOrOpenBlob(E,I)}:(k.abort=function(){},k.readyState=k.INIT=0,k.WRITING=1,k.DONE=2,k.error=k.onwritestart=k.onprogress=k.onwrite=k.onabort=k.onerror=k.onwriteend=null,function(E,I,U){return new _(E,I||E.name||"download",U)})}}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);C!==void 0&&C.exports?C.exports.saveAs=g:P!=null},{}],236:[function(n,C,S){S.read=function(g,t,c,f,m){var p,u,a=8*m-f-1,l=(1<<a)-1,o=l>>1,d=-7,_=c?m-1:0,k=c?-1:1,E=g[t+_];for(_+=k,p=E&(1<<-d)-1,E>>=-d,d+=a;0<d;p=256*p+g[t+_],_+=k,d-=8);for(u=p&(1<<-d)-1,p>>=-d,d+=f;0<d;u=256*u+g[t+_],_+=k,d-=8);if(p===0)p=1-o;else{if(p===l)return u?NaN:1/0*(E?-1:1);u+=Math.pow(2,f),p-=o}return(E?-1:1)*u*Math.pow(2,p-f)},S.write=function(g,t,c,f,m,p){var u,a,l,o=8*p-m-1,d=(1<<o)-1,_=d>>1,k=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=f?0:p-1,I=f?1:-1,U=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,u=d):(u=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-u))<1&&(u--,l*=2),2<=(t+=1<=u+_?k/l:k*Math.pow(2,1-_))*l&&(u++,l/=2),d<=u+_?(a=0,u=d):1<=u+_?(a=(t*l-1)*Math.pow(2,m),u+=_):(a=t*Math.pow(2,_-1)*Math.pow(2,m),u=0));8<=m;g[c+E]=255&a,E+=I,a/=256,m-=8);for(u=u<<m|a,o+=m;0<o;g[c+E]=255&u,E+=I,u/=256,o-=8);g[c+E-I]|=128*U}},{}],237:[function(n,C,S){var g;function t(v,x){return v.b===x.b&&v.a===x.a}function c(v,x){return v.b<x.b||v.b===x.b&&v.a<=x.a}function f(v,x,b){var T=x.b-v.b,O=b.b-x.b;return 0<T+O?T<O?x.a-v.a+T/(T+O)*(v.a-b.a):x.a-b.a+O/(T+O)*(b.a-v.a):0}function m(v,x,b){var T=x.b-v.b,O=b.b-x.b;return 0<T+O?(x.a-b.a)*T+(x.a-v.a)*O:0}function p(v,x){return v.a<x.a||v.a===x.a&&v.b<=x.b}function u(v,x,b){var T=x.a-v.a,O=b.a-x.a;return 0<T+O?T<O?x.b-v.b+T/(T+O)*(v.b-b.b):x.b-b.b+O/(T+O)*(b.b-v.b):0}function a(v,x,b){var T=x.a-v.a,O=b.a-x.a;return 0<T+O?(x.b-b.b)*T+(x.b-v.b)*O:0}function l(v,x,b,T){return(v=v<0?0:v)<=(b=b<0?0:b)?b===0?(x+T)/2:x+v/(v+b)*(T-x):T+b/(v+b)*(x-T)}function o(v){var x=I(v.b);return V(x,v.c),V(x.b,v.c),$(x,v.a),x}function d(v,x){var b=!1,T=!1;v!==x&&(x.a!==v.a&&(T=!0,se(x.a,v.a)),x.d!==v.d&&(b=!0,ne(x.d,v.d)),U(x,v),T||(V(x,v.a),v.a.c=v),b||($(x,v.d),v.d.a=v))}function _(v){var x=v.b,b=!1;v.d!==v.b.d&&(b=!0,ne(v.d,v.b.d)),v.c===v?se(v.a,null):(v.b.d.a=Ge(v),v.a.c=v.c,U(v,Ge(v)),b||$(v,v.d)),x.c===x?(se(x.a,null),ne(x.d,null)):(v.d.a=Ge(x),x.a.c=x.c,U(x,Ge(x))),B(v)}function k(v){var x=I(v),b=x.b;return U(x,v.e),x.a=v.b.a,V(b,x.a),x.d=b.d=v.d,x=x.b,U(v.b,Ge(v.b)),U(v.b,x),v.b.a=x.a,x.b.a.c=x.b,x.b.d=v.b.d,x.f=v.f,x.b.f=v.b.f,x}function E(v,x){var b=!1,T=I(v),O=T.b;return x.d!==v.d&&(b=!0,ne(x.d,v.d)),U(T,v.e),U(O,x),T.a=v.b.a,O.a=x.a,T.d=O.d=v.d,v.d.a=O,b||$(T,v.d),T}function I(v){var x=new ze,b=new ze,T=v.b.h;return(((b.h=T).b.h=x).h=v).b.h=b,x.b=b,((x.c=x).e=b).b=x,(b.c=b).e=x}function U(v,x){var b=v.c,T=x.c;b.b.e=x,(T.b.e=v).c=T,x.c=b}function V(v,x){var b=x.f,T=new ht(x,b);for(b.e=T,b=(x.f=T).c=v;b.a=T,(b=b.c)!==v;);}function $(v,x){var b=x.d,T=new He(x,b);for(b.b=T,(x.d=T).a=v,T.c=x.c,b=v;b.d=T,(b=b.e)!==v;);}function B(v){var x=v.h;v=v.b.h,(x.b.h=v).b.h=x}function se(v,x){for(var b=v.c,T=b;T.a=x,(T=T.c)!==b;);b=v.f,((T=v.e).f=b).e=T}function ne(v,x){for(var b=v.a,T=b;T.d=x,(T=T.e)!==b;);b=v.d,((T=v.b).d=b).b=T}function oe(v){var x=0;return Math.abs(v[1])>Math.abs(v[0])&&(x=1),Math.abs(v[2])>Math.abs(v[x])&&(x=2),x}function ge(v,x){v.f+=x.f,v.b.f+=x.b.f}function J(v,x,b){return v=v.a,x=x.a,b=b.a,x.b.a===v?b.b.a===v?c(x.a,b.a)?m(b.b.a,x.a,b.a)<=0:0<=m(x.b.a,b.a,x.a):m(b.b.a,v,b.a)<=0:b.b.a===v?0<=m(x.b.a,v,x.a):(x=f(x.b.a,v,x.a),(v=f(b.b.a,v,b.a))<=x)}function ue(v){v.a.i=null;var x=v.e;x.a.c=x.c,x.c.a=x.a,v.e=null}function he(v,x){_(v.a),v.c=!1,(v.a=x).i=v}function ye(v){for(var x=v.a.a;(v=y(v)).a.a===x;);return v.c&&(he(v,x=E(h(v).a.b,v.a.e)),v=y(v)),v}function Oe(v,x,b){var T=new s;return T.a=b,T.e=Me(v.f,x.e,T),b.i=T}function de(v,x){switch(v.s){case 100130:return(1&x)!=0;case 100131:return x!==0;case 100132:return 0<x;case 100133:return x<0;case 100134:return 2<=x||x<=-2}return!1}function Ne(v){var x=v.a,b=x.d;b.c=v.d,b.a=x,ue(v)}function Le(v,x,b){for(x=(v=x).a;v!==b;){v.c=!1;var T=h(v),O=T.a;if(O.a!==x.a){if(!T.c){Ne(v);break}he(T,O=E(x.c.b,O.b))}x.c!==O&&(d(Ge(O),O),d(x,O)),Ne(v),x=T.a,v=T}return x}function Be(v,x,b,T,O,L){for(var D=!0;Oe(v,x,b.b),(b=b.c)!==T;);for(O===null&&(O=h(x).a.b.c);(b=(T=h(x)).a.b).a===O.a;)b.c!==O&&(d(Ge(b),b),d(Ge(O),b)),T.f=x.f-b.f,T.d=de(v,T.f),x.b=!0,!D&&_t(v,x)&&(ge(b,O),ue(x),_(O)),D=!1,x=T,O=b;x.b=!0,L&&Fe(v,x)}function $e(v,x,b,T,O){var L=[x.g[0],x.g[1],x.g[2]];x.d=null,x.d=v.o&&v.o(L,b,T,v.c)||null,x.d===null&&(O?v.n||(_e(v,100156),v.n=!0):x.d=b[0])}function ut(v,x,b){var T=[null,null,null,null];T[0]=x.a.d,T[1]=b.a.d,$e(v,x.a,T,[.5,.5,0,0],!1),d(x,b)}function Ke(v,x,b,T,O){var L=Math.abs(x.b-v.b)+Math.abs(x.a-v.a),D=Math.abs(b.b-v.b)+Math.abs(b.a-v.a),N=O+1;T[O]=.5*D/(L+D),T[N]=.5*L/(L+D),v.g[0]+=T[O]*x.g[0]+T[N]*b.g[0],v.g[1]+=T[O]*x.g[1]+T[N]*b.g[1],v.g[2]+=T[O]*x.g[2]+T[N]*b.g[2]}function _t(v,x){var b=h(x),T=x.a,O=b.a;if(c(T.a,O.a)){if(0<m(O.b.a,T.a,O.a))return!1;if(t(T.a,O.a)){if(T.a!==O.a){b=v.e;var L=T.a.h;if(0<=L){var D=(b=b.b).d,N=b.e,R=b.c,X=R[L];D[X]=D[b.a],(R[D[X]]=X)<=--b.a&&(X<=1||c(N[D[X>>1]],N[D[X]])?e(b,X):r(b,X)),N[L]=null,R[L]=b.b,b.b=L}else for(b.c[-(L+1)]=null;0<b.a&&b.c[b.d[b.a-1]]===null;)--b.a;ut(v,Ge(O),T)}}else k(O.b),d(T,Ge(O)),x.b=b.b=!0}else{if(m(T.b.a,O.a,T.a)<0)return!1;y(x).b=x.b=!0,k(T.b),d(Ge(O),T)}return!0}function at(v,x){var b=h(x),T=x.a,O=b.a,L=T.a,D=O.a,N=T.b.a,R=O.b.a,X=new ht;if(m(N,v.a,L),m(R,v.a,D),L===D||Math.min(L.a,N.a)>Math.max(D.a,R.a))return!1;if(c(L,D)){if(0<m(R,L,D))return!1}else if(m(N,D,L)<0)return!1;var Y,K,H=N,G=L,z=R,Z=D;if(c(H,G)||(Y=H,H=G,G=Y),c(z,Z)||(Y=z,z=Z,Z=Y),c(H,z)||(Y=H,H=z,z=Y,Y=G,G=Z,Z=Y),c(z,G)?c(G,Z)?((Y=f(H,z,G))+(K=f(z,G,Z))<0&&(Y=-Y,K=-K),X.b=l(Y,z.b,K,G.b)):((Y=m(H,z,G))+(K=-m(H,Z,G))<0&&(Y=-Y,K=-K),X.b=l(Y,z.b,K,Z.b)):X.b=(z.b+G.b)/2,p(H,G)||(Y=H,H=G,G=Y),p(z,Z)||(Y=z,z=Z,Z=Y),p(H,z)||(Y=H,H=z,z=Y,Y=G,G=Z,Z=Y),p(z,G)?p(G,Z)?((Y=u(H,z,G))+(K=u(z,G,Z))<0&&(Y=-Y,K=-K),X.a=l(Y,z.a,K,G.a)):((Y=a(H,z,G))+(K=-a(H,Z,G))<0&&(Y=-Y,K=-K),X.a=l(Y,z.a,K,Z.a)):X.a=(z.a+G.a)/2,c(X,v.a)&&(X.b=v.a.b,X.a=v.a.a),H=c(L,D)?L:D,c(H,X)&&(X.b=H.b,X.a=H.a),t(X,L)||t(X,D))return _t(v,x),!1;if(!t(N,v.a)&&0<=m(N,v.a,X)||!t(R,v.a)&&m(R,v.a,X)<=0){if(R===v.a)return k(T.b),d(O.b,T),T=h(x=ye(x)).a,Le(v,h(x),b),Be(v,x,Ge(T),T,T,!0),!0;if(N!==v.a)return 0<=m(N,v.a,X)&&(y(x).b=x.b=!0,k(T.b),T.a.b=v.a.b,T.a.a=v.a.a),m(R,v.a,X)<=0&&(x.b=b.b=!0,k(O.b),O.a.b=v.a.b,O.a.a=v.a.a),!1;for(k(O.b),d(T.e,Ge(O)),D=(L=b=x).a.b.a;(L=y(L)).a.b.a===D;);return L=h(x=L).a.b.c,b.a=Ge(O),Be(v,x,(O=Le(v,b,null)).c,T.b.c,L,!0),!0}return k(T.b),k(O.b),d(Ge(O),T),T.a.b=X.b,T.a.a=X.a,T.a.h=mt(v.e,T.a),T=T.a,O=[0,0,0,0],X=[L.d,N.d,D.d,R.d],T.g[0]=T.g[1]=T.g[2]=0,Ke(T,L,N,O,0),Ke(T,D,R,O,2),$e(v,T,X,O,!0),y(x).b=x.b=b.b=!0,!1}function Fe(v,x){for(var b=h(x);;){for(;b.b;)b=h(x=b);if(!x.b&&((x=y(b=x))===null||!x.b))break;x.b=!1;var T,O=x.a,L=b.a;if(T=O.b.a!==L.b.a)e:{var D=h(T=x),N=T.a,R=D.a,X=void 0;if(c(N.b.a,R.b.a)){if(m(N.b.a,R.b.a,N.a)<0){T=!1;break e}y(T).b=T.b=!0,X=k(N),d(R.b,X),X.d.c=T.d}else{if(0<m(R.b.a,N.b.a,R.a)){T=!1;break e}T.b=D.b=!0,X=k(R),d(N.e,R.b),X.b.d.c=T.d}T=!0}if(T&&(b.c?(ue(b),_(L),L=(b=h(x)).a):x.c&&(ue(x),_(O),O=(x=y(b)).a)),O.a!==L.a){if(O.b.a===L.b.a||x.c||b.c||O.b.a!==v.a&&L.b.a!==v.a)_t(v,x);else if(at(v,x))break}O.a===L.a&&O.b.a===L.b.a&&(ge(L,O),ue(x),_(O),x=y(b))}}function ae(v,x){for(var b=(v.a=x).c;b.i===null;)if((b=b.c)===x.c){b=v;var T=x;(D=new s).a=T.c.b;for(var O=(R=b.f).a;(O=O.a).b!==null&&!R.c(R.b,D,O.b););var L=h(R=O.b),D=R.a;if(O=L.a,m(D.b.a,T,D.a)===0)t((D=R.a).a,T)||t(D.b.a,T)||(k(D.b),R.c&&(_(D.c),R.c=!1),d(T.c,D),ae(b,T));else{var N=c(O.b.a,D.b.a)?R:L;L=void 0,R.d||N.c?(L=N===R?E(T.c.b,D.e):E(O.b.c.b,T.c).b,N.c?he(N,L):((R=Oe(D=b,R,L)).f=y(R).f+R.a.f,R.d=de(D,R.f)),ae(b,T)):Be(b,R,T.c,T.c,null,!0)}return}if(R=(D=h(b=ye(b.i))).a,(D=Le(v,D,null)).c===R){D=(R=D).c,O=h(b),L=b.a,N=O.a;var R,X=!1;L.b.a!==N.b.a&&at(v,b),t(L.a,v.a)&&(d(Ge(D),L),D=h(b=ye(b)).a,Le(v,h(b),O),X=!0),t(N.a,v.a)&&(d(R,Ge(N)),R=Le(v,O,null),X=!0),X?Be(v,b,R.c,D,D,!0):(T=c(N.a,L.a)?Ge(N):L,Be(v,b,T=E(R.c.b,T),T.c,T.c,!1),T.b.i.c=!0,Fe(v,b))}else Be(v,b,D.c,R,R,!0)}function me(v,x){var b=new s,T=o(v.b);T.a.b=4e150,T.a.a=x,T.b.a.b=-4e150,T.b.a.a=x,v.a=T.b.a,b.a=T,b.f=0,b.d=!1,b.c=!1,b.h=!0,b.b=!1,T=Me(T=v.f,T.a,b),b.e=T}function Te(v){this.a=new Ve,this.b=v,this.c=J}function Me(v,x,b){for(;(x=x.c).b!==null&&!v.c(v.b,x.b,b););return v=new Ve(b,x.a,x),x.a.c=v,x.a=v}function Ve(v,x,b){this.b=v||null,this.a=x||this,this.c=b||this}function je(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Pe(v,x){if(v.d!==x)for(;v.d!==x;)if(v.d<x)switch(v.d){case 0:_e(v,100151),v.u(null);break;case 1:_e(v,100152),v.t()}else switch(v.d){case 2:_e(v,100154),v.v();break;case 1:_e(v,100153),v.w()}}function _e(v,x){v.p&&v.p(x,v.c)}function He(v,x){this.b=v||this,this.d=x||this,this.a=null,this.c=!1}function ze(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ge(v){return v.b.e}function st(){this.c=new ht,this.a=new He,this.b=new ze,this.d=new ze,this.b.b=this.d,this.d.b=this.b}function ht(v,x){this.e=v||this,this.f=x||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function it(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new St}function mt(v,x){if(v.e){var b,T=v.b,O=++T.a;return 2*O>T.f&&(T.f*=2,T.c=bt(T.c,T.f+1)),T.b===0?b=O:(b=T.b,T.b=T.c[T.b]),T.e[b]=x,T.c[b]=O,T.d[O]=b,T.h&&r(T,O),b}return T=v.a++,v.c[T]=x,-(T+1)}function gt(v){if(v.a===0)return i(v.b);var x=v.c[v.d[v.a-1]];if(v.b.a!==0&&c(Et(v.b),x))return i(v.b);for(;--v.a,0<v.a&&v.c[v.d[v.a-1]]===null;);return x}function St(){this.d=bt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function bt(v,x){for(var b=Array(x),T=0;T<v.length;T++)b[T]=v[T];for(;T<x;T++)b[T]=0;return b}function Et(v){return v.e[v.d[1]]}function i(v){var x=v.d,b=v.e,T=v.c,O=x[1],L=b[O];return 0<v.a&&(x[1]=x[v.a],T[x[1]]=1,b[O]=null,T[O]=v.b,v.b=O,0<--v.a&&e(v,1)),L}function e(v,x){for(var b=v.d,T=v.e,O=v.c,L=x,D=b[L];;){var N=L<<1;N<v.a&&c(T[b[N+1]],T[b[N]])&&(N+=1);var R=b[N];if(N>v.a||c(T[D],T[R])){O[b[L]=D]=L;break}O[b[L]=R]=L,L=N}}function r(v,x){for(var b=v.d,T=v.e,O=v.c,L=x,D=b[L];;){var N=L>>1,R=b[N];if(N==0||c(T[R],T[D])){O[b[L]=D]=L;break}O[b[L]=R]=L,L=N}}function s(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function h(v){return v.e.c.b}function y(v){return v.e.a.b}(g=je.prototype).x=function(){Pe(this,0)},g.B=function(v,x){switch(v){case 100142:return;case 100140:switch(x){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=x)}break;case 100141:return void(this.m=!!x);default:return void _e(this,100900)}_e(this,100901)},g.y=function(v){switch(v){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:_e(this,100900)}return!1},g.A=function(v,x,b){this.j[0]=v,this.j[1]=x,this.j[2]=b},g.z=function(v,x){var b=x||null;switch(v){case 100100:case 100106:this.h=b;break;case 100104:case 100110:this.l=b;break;case 100101:case 100107:this.k=b;break;case 100102:case 100108:this.i=b;break;case 100103:case 100109:this.p=b;break;case 100105:case 100111:this.o=b;break;case 100112:this.r=b;break;default:_e(this,100900)}},g.C=function(v,x){var b=!1,T=[0,0,0];Pe(this,2);for(var O=0;O<3;++O){var L=v[O];L<-1e150&&(L=-1e150,b=!0),1e150<L&&(L=1e150,b=!0),T[O]=L}b&&_e(this,100155),(b=this.q)===null?d(b=o(this.b),b.b):(k(b),b=b.e),b.a.d=x,b.a.g[0]=T[0],b.a.g[1]=T[1],b.a.g[2]=T[2],b.f=1,b.b.f=-1,this.q=b},g.u=function(v){Pe(this,0),this.d=1,this.b=new st,this.c=v},g.t=function(){Pe(this,1),this.d=2,this.q=null},g.v=function(){Pe(this,2),this.d=1},g.w=function(){Pe(this,1),this.d=0;var v,x,b=!1,T=[R=this.j[0],O=this.j[1],D=this.j[2]];if(R===0&&O===0&&D===0){for(var O=[-2e150,-2e150,-2e150],L=[2e150,2e150,2e150],D=[],N=[],R=(b=this.b.c).e;R!==b;R=R.e)for(var X=0;X<3;++X){var Y=R.g[X];Y<L[X]&&(L[X]=Y,N[X]=R),Y>O[X]&&(O[X]=Y,D[X]=R)}if(R=0,O[1]-L[1]>O[0]-L[0]&&(R=1),O[2]-L[2]>O[R]-L[R]&&(R=2),L[R]>=O[R])T[0]=0,T[1]=0,T[2]=1;else{for(O=0,L=N[R],D=D[R],N=[0,0,0],L=[L.g[0]-D.g[0],L.g[1]-D.g[1],L.g[2]-D.g[2]],X=[0,0,0],R=b.e;R!==b;R=R.e)X[0]=R.g[0]-D.g[0],X[1]=R.g[1]-D.g[1],X[2]=R.g[2]-D.g[2],N[0]=L[1]*X[2]-L[2]*X[1],N[1]=L[2]*X[0]-L[0]*X[2],N[2]=L[0]*X[1]-L[1]*X[0],O<(Y=N[0]*N[0]+N[1]*N[1]+N[2]*N[2])&&(O=Y,T[0]=N[0],T[1]=N[1],T[2]=N[2]);O<=0&&(T[0]=T[1]=T[2]=0,T[oe(L)]=1)}b=!0}for(N=oe(T),R=this.b.c,O=(N+1)%3,D=(N+2)%3,N=0<T[N]?1:-1,T=R.e;T!==R;T=T.e)T.b=T.g[O],T.a=N*T.g[D];if(b){for(T=0,R=(b=this.b.a).b;R!==b;R=R.b)if(!((O=R.a).f<=0))for(;T+=(O.a.b-O.b.a.b)*(O.a.a+O.b.a.a),(O=O.e)!==R.a;);if(T<0)for(b=(T=this.b.c).e;b!==T;b=b.e)b.a=-b.a}for(this.n=!1,R=(T=this.b.b).h;R!==T;R=b)b=R.h,O=R.e,t(R.a,R.b.a)&&R.e.e!==R&&(ut(this,O,R),_(R),O=(R=O).e),O.e===R&&(O!==R&&(O!==b&&O!==b.b||(b=b.h),_(O)),R!==b&&R!==b.b||(b=b.h),_(R));for(this.e=T=new it,R=(b=this.b.c).e;R!==b;R=R.e)R.h=mt(T,R);for(function(K){K.d=[];for(var H=0;H<K.a;H++)K.d[H]=H;K.d.sort(function(G){return function(z,Z){return c(G[z],G[Z])?1:-1}}(K.c)),K.e=!0,function(G){for(var z=G.a;1<=z;--z)e(G,z);G.h=!0}(K.b)}(T),this.f=new Te(this),me(this,-4e150),me(this,4e150);(T=gt(this.e))!==null;){for(;;){e:if(R=this.e,R.a===0)b=Et(R.b);else if(b=R.c[R.d[R.a-1]],R.b.a!==0&&(R=Et(R.b),c(R,b))){b=R;break e}if(b===null||!t(b,T))break;b=gt(this.e),ut(this,T.c,b.c)}ae(this,T)}for(this.a=this.f.a.a.b.a.a,T=0;(b=this.f.a.a.b)!==null;)b.h||++T,ue(b);for(this.f=null,(T=this.e).b=null,T.d=null,this.e=T.c=null,R=(T=this.b).a.b;R!==T.a;R=b)b=R.b,(R=R.a).e.e===R&&(ge(R.c,R),_(R));if(!this.n){if(T=this.b,this.m)for(R=T.b.h;R!==T.b;R=b)b=R.h,R.b.d.c!==R.d.c?R.f=R.d.c?1:-1:_(R);else for(R=T.a.b;R!==T.a;R=b)if(b=R.b,R.c){for(R=R.a;c(R.b.a,R.a);R=R.c.b);for(;c(R.a,R.b.a);R=R.e);for(O=R.c.b,D=void 0;R.e!==O;)if(c(R.b.a,O.a)){for(;O.e!==R&&(c((x=O.e).b.a,x.a)||m(O.a,O.b.a,O.e.b.a)<=0);)O=(D=E(O.e,O)).b;O=O.c.b}else{for(;O.e!==R&&(c((v=R.c.b).a,v.b.a)||0<=m(R.b.a,R.a,R.c.b.a));)R=(D=E(R,R.c.b)).b;R=R.e}for(;O.e.e!==R;)O=(D=E(O.e,O)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(b=(T=this.b).a.b;b!==T.a;b=b.b)if(b.c){for(this.h&&this.h(2,this.c),R=b.a;this.k&&this.k(R.a.d,this.c),(R=R.e)!==b.a;);this.i&&this.i(this.c)}}else{for(T=this.b,b=!!this.l,R=!1,O=-1,D=T.a.d;D!==T.a;D=D.d)if(D.c)for(R||(this.h&&this.h(4,this.c),R=!0),N=D.a;b&&O!==(L=N.b.d.c?0:1)&&(O=L,this.l&&this.l(!!O,this.c)),this.k&&this.k(N.a.d,this.c),(N=N.e)!==D.a;);R&&this.i&&this.i(this.c)}if(this.r){for(R=(T=this.b).a.b;R!==T.a;R=b)if(b=R.b,!R.c){for(D=(O=R.a).e,N=void 0;D=(N=D).e,(N.d=null)===N.b.d&&(N.c===N?se(N.a,null):(N.a.c=N.c,U(N,Ge(N))),(L=N.b).c===L?se(L.a,null):(L.a.c=L.c,U(L,Ge(L))),B(N)),N!==O;);O=R.d,((R=R.b).d=O).b=R}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:je,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},je.prototype.gluDeleteTess=je.prototype.x,je.prototype.gluTessProperty=je.prototype.B,je.prototype.gluGetTessProperty=je.prototype.y,je.prototype.gluTessNormal=je.prototype.A,je.prototype.gluTessCallback=je.prototype.z,je.prototype.gluTessVertex=je.prototype.C,je.prototype.gluTessBeginPolygon=je.prototype.u,je.prototype.gluTessBeginContour=je.prototype.t,je.prototype.gluTessEndContour=je.prototype.v,je.prototype.gluTessEndPolygon=je.prototype.w,C!==void 0&&(C.exports=this.libtess)},{}],238:[function(n,C,S){function g(t,c,f,m){for(var p=t[c++],u=1<<p,a=1+u,l=1+a,o=p+1,d=(1<<o)-1,_=0,k=0,E=0,I=t[c++],U=new Int32Array(4096),V=null;;){for(;_<16&&I!==0;)k|=t[c++]<<_,_+=8,I===1?I=t[c++]:--I;if(_<o)break;var $=k&d;if(k>>=o,_-=o,$!=u){if($==a)break;for(var B=$<l?$:V,se=0,ne=B;u<ne;)ne=U[ne]>>8,++se;var oe=ne;if(m<E+se+(B!==$?1:0))return void console.log("Warning, gif stream longer than expected.");f[E++]=oe;var ge=E+=se;for(B!==$&&(f[E++]=oe),ne=B;se--;)ne=U[ne],f[--ge]=255&ne,ne>>=8;V!==null&&l<4096&&(U[l++]=V<<8|oe,d+1<=l&&o<12&&(++o,d=d<<1|1)),V=$}else l=1+a,d=(1<<(o=p+1))-1,V=null}return E!==m&&console.log("Warning, gif stream shorter than expected."),f}try{S.GifWriter=function(t,c,f,m){var p=0,u=(m=m===void 0?{}:m).loop===void 0?null:m.loop,a=m.palette===void 0?null:m.palette;if(c<=0||f<=0||65535<c||65535<f)throw new Error("Width/Height invalid.");function l(V){var $=V.length;if($<2||256<$||$&$-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return $}t[p++]=71,t[p++]=73,t[p++]=70,t[p++]=56,t[p++]=57,t[p++]=97;var o=0,d=0;if(a!==null){for(var _=l(a);_>>=1;)++o;if(_=1<<o,--o,m.background!==void 0){if(_<=(d=m.background))throw new Error("Background index out of range.");if(d===0)throw new Error("Background index explicitly passed as 0.")}}if(t[p++]=255&c,t[p++]=c>>8&255,t[p++]=255&f,t[p++]=f>>8&255,t[p++]=(a!==null?128:0)|o,t[p++]=d,t[p++]=0,a!==null)for(var k=0,E=a.length;k<E;++k){var I=a[k];t[p++]=I>>16&255,t[p++]=I>>8&255,t[p++]=255&I}if(u!==null){if(u<0||65535<u)throw new Error("Loop count invalid.");t[p++]=33,t[p++]=255,t[p++]=11,t[p++]=78,t[p++]=69,t[p++]=84,t[p++]=83,t[p++]=67,t[p++]=65,t[p++]=80,t[p++]=69,t[p++]=50,t[p++]=46,t[p++]=48,t[p++]=3,t[p++]=1,t[p++]=255&u,t[p++]=u>>8&255,t[p++]=0}var U=!1;this.addFrame=function(V,$,B,se,ne,oe){if(U===!0&&(--p,U=!1),oe=oe===void 0?{}:oe,V<0||$<0||65535<V||65535<$)throw new Error("x/y invalid.");if(B<=0||se<=0||65535<B||65535<se)throw new Error("Width/Height invalid.");if(ne.length<B*se)throw new Error("Not enough pixels for the frame size.");var ge=!0,J=oe.palette;if(J==null&&(ge=!1,J=a),J==null)throw new Error("Must supply either a local or global palette.");for(var ue=l(J),he=0;ue>>=1;)++he;ue=1<<he;var ye=oe.delay===void 0?0:oe.delay,Oe=oe.disposal===void 0?0:oe.disposal;if(Oe<0||3<Oe)throw new Error("Disposal out of range.");var de=!1,Ne=0;if(oe.transparent!==void 0&&oe.transparent!==null&&(de=!0,(Ne=oe.transparent)<0||ue<=Ne))throw new Error("Transparent color index.");if(Oe===0&&!de&&ye===0||(t[p++]=33,t[p++]=249,t[p++]=4,t[p++]=Oe<<2|(de===!0?1:0),t[p++]=255&ye,t[p++]=ye>>8&255,t[p++]=Ne,t[p++]=0),t[p++]=44,t[p++]=255&V,t[p++]=V>>8&255,t[p++]=255&$,t[p++]=$>>8&255,t[p++]=255&B,t[p++]=B>>8&255,t[p++]=255&se,t[p++]=se>>8&255,t[p++]=ge===!0?128|he-1:0,ge===!0)for(var Le=0,Be=J.length;Le<Be;++Le){var $e=J[Le];t[p++]=$e>>16&255,t[p++]=$e>>8&255,t[p++]=255&$e}return p=function(ut,Ke,_t,at){ut[Ke++]=_t;var Fe=Ke++,ae=1<<_t,me=ae-1,Te=1+ae,Me=1+Te,Ve=_t+1,je=0,Pe=0;function _e(St){for(;St<=je;)ut[Ke++]=255&Pe,Pe>>=8,je-=8,Ke===Fe+256&&(ut[Fe]=255,Fe=Ke++)}function He(St){Pe|=St<<je,je+=Ve,_e(8)}var ze=at[0]&me,Ge={};He(ae);for(var st=1,ht=at.length;st<ht;++st){var it=at[st]&me,mt=ze<<8|it,gt=Ge[mt];if(gt===void 0){for(Pe|=ze<<je,je+=Ve;8<=je;)ut[Ke++]=255&Pe,Pe>>=8,je-=8,Ke===Fe+256&&(ut[Fe]=255,Fe=Ke++);Me===4096?(He(ae),Me=1+Te,Ve=_t+1,Ge={}):(1<<Ve<=Me&&++Ve,Ge[mt]=Me++),ze=it}else ze=gt}return He(ze),He(Te),_e(1),Fe+1===Ke?ut[Fe]=0:(ut[Fe]=Ke-Fe-1,ut[Ke++]=0),Ke}(t,p,he<2?2:he,ne)},this.end=function(){return U===!1&&(t[p++]=59,U=!0),p},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(V){t=V},this.getOutputBufferPosition=function(){return p},this.setOutputBufferPosition=function(V){p=V}},S.GifReader=function(t){var c=0;if(t[c++]!==71||t[c++]!==73||t[c++]!==70||t[c++]!==56||(t[c++]+1&253)!=56||t[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var f=t[c++]|t[c++]<<8,m=t[c++]|t[c++]<<8,p=t[c++],u=p>>7,a=1<<1+(7&p);t[c++],t[c++];var l=null,o=null;u&&(l=c,c+=3*(o=a));var d=!0,_=[],k=0,E=null,I=0,U=null;for(this.width=f,this.height=m;d&&c<t.length;)switch(t[c++]){case 33:switch(t[c++]){case 255:if(t[c]!==11||t[c+1]==78&&t[c+2]==69&&t[c+3]==84&&t[c+4]==83&&t[c+5]==67&&t[c+6]==65&&t[c+7]==80&&t[c+8]==69&&t[c+9]==50&&t[c+10]==46&&t[c+11]==48&&t[c+12]==3&&t[c+13]==1&&t[c+16]==0)c+=14,U=t[c++]|t[c++]<<8,c++;else for(c+=12;;){if(!(0<=(de=t[c++])))throw Error("Invalid block size");if(de===0)break;c+=de}break;case 249:if(t[c++]!==4||t[c+4]!==0)throw new Error("Invalid graphics extension block.");var V=t[c++];k=t[c++]|t[c++]<<8,E=t[c++],(1&V)==0&&(E=null),I=V>>2&7,c++;break;case 254:for(;;){if(!(0<=(de=t[c++])))throw Error("Invalid block size");if(de===0)break;c+=de}break;default:throw new Error("Unknown graphic control label: 0x"+t[c-1].toString(16))}break;case 44:var $=t[c++]|t[c++]<<8,B=t[c++]|t[c++]<<8,se=t[c++]|t[c++]<<8,ne=t[c++]|t[c++]<<8,oe=t[c++],ge=oe>>6&1,J=1<<1+(7&oe),ue=l,he=o,ye=!1;oe>>7&&(ye=!0,ue=c,c+=3*(he=J));var Oe=c;for(c++;;){var de;if(!(0<=(de=t[c++])))throw Error("Invalid block size");if(de===0)break;c+=de}_.push({x:$,y:B,width:se,height:ne,has_local_palette:ye,palette_offset:ue,palette_size:he,data_offset:Oe,data_length:c-Oe,transparent_index:E,interlaced:!!ge,delay:k,disposal:I});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[c-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return U},this.frameInfo=function(Ne){if(Ne<0||Ne>=_.length)throw new Error("Frame index out of range.");return _[Ne]},this.decodeAndBlitFrameBGRA=function(Ne,Le){var Be=this.frameInfo(Ne),$e=Be.width*Be.height,ut=new Uint8Array($e);g(t,Be.data_offset,ut,$e);var Ke=Be.palette_offset,_t=Be.transparent_index;_t===null&&(_t=256);var at=Be.width,Fe=f-at,ae=at,me=4*(Be.y*f+Be.x),Te=4*((Be.y+Be.height)*f+Be.x),Me=me,Ve=4*Fe;Be.interlaced===!0&&(Ve+=4*f*7);for(var je=8,Pe=0,_e=ut.length;Pe<_e;++Pe){var He=ut[Pe];if(ae===0&&(ae=at,Te<=(Me+=Ve)&&(Ve=4*Fe+4*f*(je-1),Me=me+(at+Fe)*(je<<1),je>>=1)),He===_t)Me+=4;else{var ze=t[Ke+3*He],Ge=t[Ke+3*He+1],st=t[Ke+3*He+2];Le[Me++]=st,Le[Me++]=Ge,Le[Me++]=ze,Le[Me++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(Ne,Le){var Be=this.frameInfo(Ne),$e=Be.width*Be.height,ut=new Uint8Array($e);g(t,Be.data_offset,ut,$e);var Ke=Be.palette_offset,_t=Be.transparent_index;_t===null&&(_t=256);var at=Be.width,Fe=f-at,ae=at,me=4*(Be.y*f+Be.x),Te=4*((Be.y+Be.height)*f+Be.x),Me=me,Ve=4*Fe;Be.interlaced===!0&&(Ve+=4*f*7);for(var je=8,Pe=0,_e=ut.length;Pe<_e;++Pe){var He=ut[Pe];if(ae===0&&(ae=at,Te<=(Me+=Ve)&&(Ve=4*Fe+4*f*(je-1),Me=me+(at+Fe)*(je<<1),je>>=1)),He===_t)Me+=4;else{var ze=t[Ke+3*He],Ge=t[Ke+3*He+1],st=t[Ke+3*He+2];Le[Me++]=ze,Le[Me++]=Ge,Le[Me++]=st,Le[Me++]=255}--ae}}}}catch{}},{}],239:[function(n,C,S){(function(g){var t,c;t=this,c=function(f){function m(w){if(this==null)throw TypeError();var j=String(this),F=j.length,W=w?Number(w):0;if(W!=W&&(W=0),!(W<0||F<=W)){var re,ce=j.charCodeAt(W);return 55296<=ce&&ce<=56319&&W+1<F&&56320<=(re=j.charCodeAt(W+1))&&re<=57343?1024*(ce-55296)+re-56320+65536:ce}}var p;String.prototype.codePointAt||((p=function(){try{var w={},j=Object.defineProperty,F=j(w,w,w)&&j}catch{}return F}())?p(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var u=0,a=-3;function l(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function o(w,j){this.source=w,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=j,this.destLen=0,this.ltree=new l,this.dtree=new l}var d=new l,_=new l,k=new Uint8Array(30),E=new Uint16Array(30),I=new Uint8Array(30),U=new Uint16Array(30),V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$=new l,B=new Uint8Array(320);function se(w,j,F,W){var re,ce;for(re=0;re<F;++re)w[re]=0;for(re=0;re<30-F;++re)w[re+F]=re/F|0;for(ce=W,re=0;re<30;++re)j[re]=ce,ce+=1<<w[re]}var ne=new Uint16Array(16);function oe(w,j,F,W){var re,ce;for(re=0;re<16;++re)w.table[re]=0;for(re=0;re<W;++re)w.table[j[F+re]]++;for(re=ce=w.table[0]=0;re<16;++re)ne[re]=ce,ce+=w.table[re];for(re=0;re<W;++re)j[F+re]&&(w.trans[ne[j[F+re]]++]=re)}function ge(w){w.bitcount--||(w.tag=w.source[w.sourceIndex++],w.bitcount=7);var j=1&w.tag;return w.tag>>>=1,j}function J(w,j,F){if(!j)return F;for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;var W=w.tag&65535>>>16-j;return w.tag>>>=j,w.bitcount-=j,W+F}function ue(w,j){for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;for(var F=0,W=0,re=0,ce=w.tag;W=2*W+(1&ce),ce>>>=1,++re,F+=j.table[re],0<=(W-=j.table[re]););return w.tag=ce,w.bitcount-=re,j.trans[F+W]}function he(w,j,F){var W,re,ce,we,Re,qe;for(W=J(w,5,257),re=J(w,5,1),ce=J(w,4,4),we=0;we<19;++we)B[we]=0;for(we=0;we<ce;++we){var Qe=J(w,3,0);B[V[we]]=Qe}for(oe($,B,0,19),Re=0;Re<W+re;){var dt=ue(w,$);switch(dt){case 16:var vt=B[Re-1];for(qe=J(w,2,3);qe;--qe)B[Re++]=vt;break;case 17:for(qe=J(w,3,3);qe;--qe)B[Re++]=0;break;case 18:for(qe=J(w,7,11);qe;--qe)B[Re++]=0;break;default:B[Re++]=dt}}oe(j,B,0,W),oe(F,B,W,re)}function ye(w,j,F){for(;;){var W,re,ce,we,Re=ue(w,j);if(Re===256)return u;if(Re<256)w.dest[w.destLen++]=Re;else for(W=J(w,k[Re-=257],E[Re]),re=ue(w,F),we=ce=w.destLen-J(w,I[re],U[re]);we<ce+W;++we)w.dest[w.destLen++]=w.dest[we]}}function Oe(w){for(var j,F;8<w.bitcount;)w.sourceIndex--,w.bitcount-=8;if((j=256*(j=w.source[w.sourceIndex+1])+w.source[w.sourceIndex])!==(65535&~(256*w.source[w.sourceIndex+3]+w.source[w.sourceIndex+2])))return a;for(w.sourceIndex+=4,F=j;F;--F)w.dest[w.destLen++]=w.source[w.sourceIndex++];return w.bitcount=0,u}(function(w,j){var F;for(F=0;F<7;++F)w.table[F]=0;for(w.table[7]=24,w.table[8]=152,w.table[9]=112,F=0;F<24;++F)w.trans[F]=256+F;for(F=0;F<144;++F)w.trans[24+F]=F;for(F=0;F<8;++F)w.trans[168+F]=280+F;for(F=0;F<112;++F)w.trans[176+F]=144+F;for(F=0;F<5;++F)j.table[F]=0;for(j.table[5]=32,F=0;F<32;++F)j.trans[F]=F})(d,_),se(k,E,4,3),se(I,U,2,1),k[28]=0,E[28]=258;var de=function(w,j){var F,W,re=new o(w,j);do{switch(F=ge(re),J(re,2,0)){case 0:W=Oe(re);break;case 1:W=ye(re,d,_);break;case 2:he(re,re.ltree,re.dtree),W=ye(re,re.ltree,re.dtree);break;default:W=a}if(W!==u)throw new Error("Data error")}while(!F);return re.destLen<re.dest.length?typeof re.dest.slice=="function"?re.dest.slice(0,re.destLen):re.dest.subarray(0,re.destLen):re.dest};function Ne(w,j,F,W,re){return Math.pow(1-re,3)*w+3*Math.pow(1-re,2)*re*j+3*(1-re)*Math.pow(re,2)*F+Math.pow(re,3)*W}function Le(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Be(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function $e(w){throw new Error(w)}function ut(w,j){w||$e(j)}Le.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Le.prototype.addPoint=function(w,j){typeof w=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=w,this.x2=w),w<this.x1&&(this.x1=w),w>this.x2&&(this.x2=w)),typeof j=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=j,this.y2=j),j<this.y1&&(this.y1=j),j>this.y2&&(this.y2=j))},Le.prototype.addX=function(w){this.addPoint(w,null)},Le.prototype.addY=function(w){this.addPoint(null,w)},Le.prototype.addBezier=function(w,j,F,W,re,ce,we,Re){var qe=[w,j],Qe=[F,W],dt=[re,ce],vt=[we,Re];this.addPoint(w,j),this.addPoint(we,Re);for(var Xe=0;Xe<=1;Xe++){var Ut=6*qe[Xe]-12*Qe[Xe]+6*dt[Xe],Ft=-3*qe[Xe]+9*Qe[Xe]-9*dt[Xe]+3*vt[Xe],Rt=3*Qe[Xe]-3*qe[Xe];if(Ft!=0){var Pt=Math.pow(Ut,2)-4*Rt*Ft;if(!(Pt<0)){var kt=(-Ut+Math.sqrt(Pt))/(2*Ft);0<kt&&kt<1&&(Xe===0&&this.addX(Ne(qe[Xe],Qe[Xe],dt[Xe],vt[Xe],kt)),Xe===1&&this.addY(Ne(qe[Xe],Qe[Xe],dt[Xe],vt[Xe],kt)));var Xt=(-Ut-Math.sqrt(Pt))/(2*Ft);0<Xt&&Xt<1&&(Xe===0&&this.addX(Ne(qe[Xe],Qe[Xe],dt[Xe],vt[Xe],Xt)),Xe===1&&this.addY(Ne(qe[Xe],Qe[Xe],dt[Xe],vt[Xe],Xt)))}}else{if(Ut==0)continue;var Zt=-Rt/Ut;0<Zt&&Zt<1&&(Xe===0&&this.addX(Ne(qe[Xe],Qe[Xe],dt[Xe],vt[Xe],Zt)),Xe===1&&this.addY(Ne(qe[Xe],Qe[Xe],dt[Xe],vt[Xe],Zt)))}}},Le.prototype.addQuad=function(w,j,F,W,re,ce){var we=w+.6666666666666666*(F-w),Re=j+2/3*(W-j),qe=we+1/3*(re-w),Qe=Re+1/3*(ce-j);this.addBezier(w,j,we,Re,qe,Qe,re,ce)},Be.prototype.moveTo=function(w,j){this.commands.push({type:"M",x:w,y:j})},Be.prototype.lineTo=function(w,j){this.commands.push({type:"L",x:w,y:j})},Be.prototype.curveTo=Be.prototype.bezierCurveTo=function(w,j,F,W,re,ce){this.commands.push({type:"C",x1:w,y1:j,x2:F,y2:W,x:re,y:ce})},Be.prototype.quadTo=Be.prototype.quadraticCurveTo=function(w,j,F,W){this.commands.push({type:"Q",x1:w,y1:j,x:F,y:W})},Be.prototype.close=Be.prototype.closePath=function(){this.commands.push({type:"Z"})},Be.prototype.extend=function(w){if(w.commands)w=w.commands;else if(w instanceof Le){var j=w;return this.moveTo(j.x1,j.y1),this.lineTo(j.x2,j.y1),this.lineTo(j.x2,j.y2),this.lineTo(j.x1,j.y2),void this.close()}Array.prototype.push.apply(this.commands,w)},Be.prototype.getBoundingBox=function(){for(var w=new Le,j=0,F=0,W=0,re=0,ce=0;ce<this.commands.length;ce++){var we=this.commands[ce];switch(we.type){case"M":w.addPoint(we.x,we.y),j=W=we.x,F=re=we.y;break;case"L":w.addPoint(we.x,we.y),W=we.x,re=we.y;break;case"Q":w.addQuad(W,re,we.x1,we.y1,we.x,we.y),W=we.x,re=we.y;break;case"C":w.addBezier(W,re,we.x1,we.y1,we.x2,we.y2,we.x,we.y),W=we.x,re=we.y;break;case"Z":W=j,re=F;break;default:throw new Error("Unexpected path command "+we.type)}}return w.isEmpty()&&w.addPoint(0,0),w},Be.prototype.draw=function(w){w.beginPath();for(var j=0;j<this.commands.length;j+=1){var F=this.commands[j];F.type==="M"?w.moveTo(F.x,F.y):F.type==="L"?w.lineTo(F.x,F.y):F.type==="C"?w.bezierCurveTo(F.x1,F.y1,F.x2,F.y2,F.x,F.y):F.type==="Q"?w.quadraticCurveTo(F.x1,F.y1,F.x,F.y):F.type==="Z"&&w.closePath()}this.fill&&(w.fillStyle=this.fill,w.fill()),this.stroke&&(w.strokeStyle=this.stroke,w.lineWidth=this.strokeWidth,w.stroke())},Be.prototype.toPathData=function(w){function j(){for(var ce,we=arguments,Re="",qe=0;qe<arguments.length;qe+=1){var Qe=we[qe];0<=Qe&&0<qe&&(Re+=" "),Re+=(ce=Qe,Math.round(ce)===ce?""+Math.round(ce):ce.toFixed(w))}return Re}w=w!==void 0?w:2;for(var F="",W=0;W<this.commands.length;W+=1){var re=this.commands[W];re.type==="M"?F+="M"+j(re.x,re.y):re.type==="L"?F+="L"+j(re.x,re.y):re.type==="C"?F+="C"+j(re.x1,re.y1,re.x2,re.y2,re.x,re.y):re.type==="Q"?F+="Q"+j(re.x1,re.y1,re.x,re.y):re.type==="Z"&&(F+="Z")}return F},Be.prototype.toSVG=function(w){var j='<path d="';return j+=this.toPathData(w),j+='"',this.fill&&this.fill!=="black"&&(this.fill===null?j+=' fill="none"':j+=' fill="'+this.fill+'"'),this.stroke&&(j+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),j+="/>"},Be.prototype.toDOMElement=function(w){var j=this.toPathData(w),F=document.createElementNS("http://www.w3.org/2000/svg","path");return F.setAttribute("d",j),F};var Ke={fail:$e,argument:ut,assert:ut},_t={},at={},Fe={};function ae(w){return function(){return w}}at.BYTE=function(w){return Ke.argument(0<=w&&w<=255,"Byte value should be between 0 and 255."),[w]},Fe.BYTE=ae(1),at.CHAR=function(w){return[w.charCodeAt(0)]},Fe.CHAR=ae(1),at.CHARARRAY=function(w){for(var j=[],F=0;F<w.length;F+=1)j[F]=w.charCodeAt(F);return j},Fe.CHARARRAY=function(w){return w.length},at.USHORT=function(w){return[w>>8&255,255&w]},Fe.USHORT=ae(2),at.SHORT=function(w){return 32768<=w&&(w=-(65536-w)),[w>>8&255,255&w]},Fe.SHORT=ae(2),at.UINT24=function(w){return[w>>16&255,w>>8&255,255&w]},Fe.UINT24=ae(3),at.ULONG=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},Fe.ULONG=ae(4),at.LONG=function(w){return 2147483648<=w&&(w=-(4294967296-w)),[w>>24&255,w>>16&255,w>>8&255,255&w]},Fe.LONG=ae(4),at.FIXED=at.ULONG,Fe.FIXED=Fe.ULONG,at.FWORD=at.SHORT,Fe.FWORD=Fe.SHORT,at.UFWORD=at.USHORT,Fe.UFWORD=Fe.USHORT,at.LONGDATETIME=function(w){return[0,0,0,0,w>>24&255,w>>16&255,w>>8&255,255&w]},Fe.LONGDATETIME=ae(8),at.TAG=function(w){return Ke.argument(w.length===4,"Tag should be exactly 4 ASCII characters."),[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]},Fe.TAG=ae(4),at.Card8=at.BYTE,Fe.Card8=Fe.BYTE,at.Card16=at.USHORT,Fe.Card16=Fe.USHORT,at.OffSize=at.BYTE,Fe.OffSize=Fe.BYTE,at.SID=at.USHORT,Fe.SID=Fe.USHORT,at.NUMBER=function(w){return-107<=w&&w<=107?[w+139]:108<=w&&w<=1131?[247+((w-=108)>>8),255&w]:-1131<=w&&w<=-108?[251+((w=-w-108)>>8),255&w]:-32768<=w&&w<=32767?at.NUMBER16(w):at.NUMBER32(w)},Fe.NUMBER=function(w){return at.NUMBER(w).length},at.NUMBER16=function(w){return[28,w>>8&255,255&w]},Fe.NUMBER16=ae(3),at.NUMBER32=function(w){return[29,w>>24&255,w>>16&255,w>>8&255,255&w]},Fe.NUMBER32=ae(5),at.REAL=function(w){var j=w.toString(),F=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(j);if(F){var W=parseFloat("1e"+((F[2]?+F[2]:0)+F[1].length));j=(Math.round(w*W)/W).toString()}for(var re="",ce=0,we=j.length;ce<we;ce+=1){var Re=j[ce];re+=Re==="e"?j[++ce]==="-"?"c":"b":Re==="."?"a":Re==="-"?"e":Re}for(var qe=[30],Qe=0,dt=(re+=1&re.length?"f":"ff").length;Qe<dt;Qe+=2)qe.push(parseInt(re.substr(Qe,2),16));return qe},Fe.REAL=function(w){return at.REAL(w).length},at.NAME=at.CHARARRAY,Fe.NAME=Fe.CHARARRAY,at.STRING=at.CHARARRAY,Fe.STRING=Fe.CHARARRAY,_t.UTF8=function(w,j,F){for(var W=[],re=F,ce=0;ce<re;ce++,j+=1)W[ce]=w.getUint8(j);return String.fromCharCode.apply(null,W)},_t.UTF16=function(w,j,F){for(var W=[],re=F/2,ce=0;ce<re;ce++,j+=2)W[ce]=w.getUint16(j);return String.fromCharCode.apply(null,W)},at.UTF16=function(w){for(var j=[],F=0;F<w.length;F+=1){var W=w.charCodeAt(F);j[j.length]=W>>8&255,j[j.length]=255&W}return j},Fe.UTF16=function(w){return 2*w.length};var me={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};_t.MACSTRING=function(w,j,F,W){var re=me[W];if(re!==void 0){for(var ce="",we=0;we<F;we++){var Re=w.getUint8(j+we);ce+=Re<=127?String.fromCharCode(Re):re[127&Re]}return ce}};var Te,Me=typeof WeakMap=="function"&&new WeakMap;function Ve(w){return-128<=w&&w<=127}function je(w,j,F){for(var W=0,re=w.length;j<re&&W<64&&w[j]===0;)++j,++W;return F.push(128|W-1),j}function Pe(w,j,F){for(var W=0,re=w.length,ce=j;ce<re&&W<64;){var we=w[ce];if(!Ve(we)||we===0&&ce+1<re&&w[ce+1]===0)break;++ce,++W}F.push(W-1);for(var Re=j;Re<ce;++Re)F.push(w[Re]+256&255);return ce}function _e(w,j,F){for(var W=0,re=w.length,ce=j;ce<re&&W<64;){var we=w[ce];if(we===0||Ve(we)&&ce+1<re&&Ve(w[ce+1]))break;++ce,++W}F.push(64|W-1);for(var Re=j;Re<ce;++Re){var qe=w[Re];F.push(qe+65536>>8&255,qe+256&255)}return ce}at.MACSTRING=function(w,j){var F=function(we){if(!Te)for(var Re in Te={},me)Te[Re]=new String(Re);var qe=Te[we];if(qe!==void 0){if(Me){var Qe=Me.get(qe);if(Qe!==void 0)return Qe}var dt=me[we];if(dt!==void 0){for(var vt={},Xe=0;Xe<dt.length;Xe++)vt[dt.charCodeAt(Xe)]=Xe+128;return Me&&Me.set(qe,vt),vt}}}(j);if(F!==void 0){for(var W=[],re=0;re<w.length;re++){var ce=w.charCodeAt(re);if(128<=ce&&(ce=F[ce])===void 0)return;W[re]=ce}return W}},Fe.MACSTRING=function(w,j){var F=at.MACSTRING(w,j);return F!==void 0?F.length:0},at.VARDELTAS=function(w){for(var j=0,F=[];j<w.length;){var W=w[j];j=W===0?je(w,j,F):-128<=W&&W<=127?Pe(w,j,F):_e(w,j,F)}return F},at.INDEX=function(w){for(var j=1,F=[j],W=[],re=0;re<w.length;re+=1){var ce=at.OBJECT(w[re]);Array.prototype.push.apply(W,ce),j+=ce.length,F.push(j)}if(W.length===0)return[0,0];for(var we=[],Re=1+Math.floor(Math.log(j)/Math.log(2))/8|0,qe=[void 0,at.BYTE,at.USHORT,at.UINT24,at.ULONG][Re],Qe=0;Qe<F.length;Qe+=1){var dt=qe(F[Qe]);Array.prototype.push.apply(we,dt)}return Array.prototype.concat(at.Card16(w.length),at.OffSize(Re),we,W)},Fe.INDEX=function(w){return at.INDEX(w).length},at.DICT=function(w){for(var j=[],F=Object.keys(w),W=F.length,re=0;re<W;re+=1){var ce=parseInt(F[re],0),we=w[ce];j=(j=j.concat(at.OPERAND(we.value,we.type))).concat(at.OPERATOR(ce))}return j},Fe.DICT=function(w){return at.DICT(w).length},at.OPERATOR=function(w){return w<1200?[w]:[12,w-1200]},at.OPERAND=function(w,j){var F=[];if(Array.isArray(j))for(var W=0;W<j.length;W+=1)Ke.argument(w.length===j.length,"Not enough arguments given for type"+j),F=F.concat(at.OPERAND(w[W],j[W]));else if(j==="SID")F=F.concat(at.NUMBER(w));else if(j==="offset")F=F.concat(at.NUMBER32(w));else if(j==="number")F=F.concat(at.NUMBER(w));else{if(j!=="real")throw new Error("Unknown operand type "+j);F=F.concat(at.REAL(w))}return F},at.OP=at.BYTE,Fe.OP=Fe.BYTE;var He=typeof WeakMap=="function"&&new WeakMap;function ze(w,j,F){for(var W=0;W<j.length;W+=1){var re=j[W];this[re.name]=re.value}if(this.tableName=w,this.fields=j,F)for(var ce=Object.keys(F),we=0;we<ce.length;we+=1){var Re=ce[we],qe=F[Re];this[Re]!==void 0&&(this[Re]=qe)}}function Ge(w,j,F){F===void 0&&(F=j.length);var W=new Array(j.length+1);W[0]={name:w+"Count",type:"USHORT",value:F};for(var re=0;re<j.length;re++)W[re+1]={name:w+re,type:"USHORT",value:j[re]};return W}function st(w,j,F){var W=j.length,re=new Array(W+1);re[0]={name:w+"Count",type:"USHORT",value:W};for(var ce=0;ce<W;ce++)re[ce+1]={name:w+ce,type:"TABLE",value:F(j[ce],ce)};return re}function ht(w,j,F){var W=j.length,re=[];re[0]={name:w+"Count",type:"USHORT",value:W};for(var ce=0;ce<W;ce++)re=re.concat(F(j[ce],ce));return re}function it(w){w.format===1?ze.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ge("glyph",w.glyphs))):Ke.assert(!1,"Can't create coverage table format 2 yet.")}function mt(w){ze.call(this,"scriptListTable",ht("scriptRecord",w,function(j,F){var W=j.script,re=W.defaultLangSys;return Ke.assert(!!re,"Unable to write GSUB: script "+j.tag+" has no default language system."),[{name:"scriptTag"+F,type:"TAG",value:j.tag},{name:"script"+F,type:"TABLE",value:new ze("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ze("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:re.reqFeatureIndex}].concat(Ge("featureIndex",re.featureIndexes)))}].concat(ht("langSys",W.langSysRecords,function(ce,we){var Re=ce.langSys;return[{name:"langSysTag"+we,type:"TAG",value:ce.tag},{name:"langSys"+we,type:"TABLE",value:new ze("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Re.reqFeatureIndex}].concat(Ge("featureIndex",Re.featureIndexes)))}]})))}]}))}function gt(w){ze.call(this,"featureListTable",ht("featureRecord",w,function(j,F){var W=j.feature;return[{name:"featureTag"+F,type:"TAG",value:j.tag},{name:"feature"+F,type:"TABLE",value:new ze("featureTable",[{name:"featureParams",type:"USHORT",value:W.featureParams}].concat(Ge("lookupListIndex",W.lookupListIndexes)))}]}))}function St(w,j){ze.call(this,"lookupListTable",st("lookup",w,function(F){var W=j[F.lookupType];return Ke.assert(!!W,"Unable to write GSUB lookup type "+F.lookupType+" tables."),new ze("lookupTable",[{name:"lookupType",type:"USHORT",value:F.lookupType},{name:"lookupFlag",type:"USHORT",value:F.lookupFlag}].concat(st("subtable",F.subtables,W)))}))}at.CHARSTRING=function(w){if(He){var j=He.get(w);if(j!==void 0)return j}for(var F=[],W=w.length,re=0;re<W;re+=1){var ce=w[re];F=F.concat(at[ce.type](ce.value))}return He&&He.set(w,F),F},Fe.CHARSTRING=function(w){return at.CHARSTRING(w).length},at.OBJECT=function(w){var j=at[w.type];return Ke.argument(j!==void 0,"No encoding function for type "+w.type),j(w.value)},Fe.OBJECT=function(w){var j=Fe[w.type];return Ke.argument(j!==void 0,"No sizeOf function for type "+w.type),j(w.value)},at.TABLE=function(w){for(var j=[],F=w.fields.length,W=[],re=[],ce=0;ce<F;ce+=1){var we=w.fields[ce],Re=at[we.type];Ke.argument(Re!==void 0,"No encoding function for field type "+we.type+" ("+we.name+")");var qe=w[we.name];qe===void 0&&(qe=we.value);var Qe=Re(qe);we.type==="TABLE"?(re.push(j.length),j=j.concat([0,0]),W.push(Qe)):j=j.concat(Qe)}for(var dt=0;dt<W.length;dt+=1){var vt=re[dt],Xe=j.length;Ke.argument(Xe<65536,"Table "+w.tableName+" too big."),j[vt]=Xe>>8,j[vt+1]=255&Xe,j=j.concat(W[dt])}return j},Fe.TABLE=function(w){for(var j=0,F=w.fields.length,W=0;W<F;W+=1){var re=w.fields[W],ce=Fe[re.type];Ke.argument(ce!==void 0,"No sizeOf function for field type "+re.type+" ("+re.name+")");var we=w[re.name];we===void 0&&(we=re.value),j+=ce(we),re.type==="TABLE"&&(j+=2)}return j},at.RECORD=at.TABLE,Fe.RECORD=Fe.TABLE,at.LITERAL=function(w){return w},Fe.LITERAL=function(w){return w.length},ze.prototype.encode=function(){return at.TABLE(this)},ze.prototype.sizeOf=function(){return Fe.TABLE(this)};var bt={Table:ze,Record:ze,Coverage:(it.prototype=Object.create(ze.prototype)).constructor=it,ScriptList:(mt.prototype=Object.create(ze.prototype)).constructor=mt,FeatureList:(gt.prototype=Object.create(ze.prototype)).constructor=gt,LookupList:(St.prototype=Object.create(ze.prototype)).constructor=St,ushortList:Ge,tableList:st,recordList:ht};function Et(w,j){return w.getUint8(j)}function i(w,j){return w.getUint16(j,!1)}function e(w,j){return w.getUint32(j,!1)}function r(w,j){return w.getInt16(j,!1)+w.getUint16(j+2,!1)/65535}var s={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function h(w,j){this.data=w,this.offset=j,this.relativeOffset=0}h.prototype.parseByte=function(){var w=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},h.prototype.parseChar=function(){var w=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},h.prototype.parseCard8=h.prototype.parseByte,h.prototype.parseCard16=h.prototype.parseUShort=function(){var w=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},h.prototype.parseSID=h.prototype.parseUShort,h.prototype.parseOffset16=h.prototype.parseUShort,h.prototype.parseShort=function(){var w=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},h.prototype.parseF2Dot14=function(){var w=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,w},h.prototype.parseOffset32=h.prototype.parseULong=function(){var w=e(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},h.prototype.parseFixed=function(){var w=r(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},h.prototype.parseString=function(w){var j=this.data,F=this.offset+this.relativeOffset,W="";this.relativeOffset+=w;for(var re=0;re<w;re++)W+=String.fromCharCode(j.getUint8(F+re));return W},h.prototype.parseTag=function(){return this.parseString(4)},h.prototype.parseLongDateTime=function(){var w=e(this.data,this.offset+this.relativeOffset+4);return w-=2082844800,this.relativeOffset+=8,w},h.prototype.parseVersion=function(w){var j=i(this.data,this.offset+this.relativeOffset),F=i(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,w===void 0&&(w=4096),j+F/w/10},h.prototype.skip=function(w,j){j===void 0&&(j=1),this.relativeOffset+=s[w]*j},h.prototype.parseULongList=function(w){w===void 0&&(w=this.parseULong());for(var j=new Array(w),F=this.data,W=this.offset+this.relativeOffset,re=0;re<w;re++)j[re]=F.getUint32(W),W+=4;return this.relativeOffset+=4*w,j},h.prototype.parseOffset16List=h.prototype.parseUShortList=function(w){w===void 0&&(w=this.parseUShort());for(var j=new Array(w),F=this.data,W=this.offset+this.relativeOffset,re=0;re<w;re++)j[re]=F.getUint16(W),W+=2;return this.relativeOffset+=2*w,j},h.prototype.parseShortList=function(w){for(var j=new Array(w),F=this.data,W=this.offset+this.relativeOffset,re=0;re<w;re++)j[re]=F.getInt16(W),W+=2;return this.relativeOffset+=2*w,j},h.prototype.parseByteList=function(w){for(var j=new Array(w),F=this.data,W=this.offset+this.relativeOffset,re=0;re<w;re++)j[re]=F.getUint8(W++);return this.relativeOffset+=w,j},h.prototype.parseList=function(w,j){j||(j=w,w=this.parseUShort());for(var F=new Array(w),W=0;W<w;W++)F[W]=j.call(this);return F},h.prototype.parseList32=function(w,j){j||(j=w,w=this.parseULong());for(var F=new Array(w),W=0;W<w;W++)F[W]=j.call(this);return F},h.prototype.parseRecordList=function(w,j){j||(j=w,w=this.parseUShort());for(var F=new Array(w),W=Object.keys(j),re=0;re<w;re++){for(var ce={},we=0;we<W.length;we++){var Re=W[we],qe=j[Re];ce[Re]=qe.call(this)}F[re]=ce}return F},h.prototype.parseRecordList32=function(w,j){j||(j=w,w=this.parseULong());for(var F=new Array(w),W=Object.keys(j),re=0;re<w;re++){for(var ce={},we=0;we<W.length;we++){var Re=W[we],qe=j[Re];ce[Re]=qe.call(this)}F[re]=ce}return F},h.prototype.parseStruct=function(w){if(typeof w=="function")return w.call(this);for(var j=Object.keys(w),F={},W=0;W<j.length;W++){var re=j[W],ce=w[re];F[re]=ce.call(this)}return F},h.prototype.parseValueRecord=function(w){if(w===void 0&&(w=this.parseUShort()),w!==0){var j={};return 1&w&&(j.xPlacement=this.parseShort()),2&w&&(j.yPlacement=this.parseShort()),4&w&&(j.xAdvance=this.parseShort()),8&w&&(j.yAdvance=this.parseShort()),16&w&&(j.xPlaDevice=void 0,this.parseShort()),32&w&&(j.yPlaDevice=void 0,this.parseShort()),64&w&&(j.xAdvDevice=void 0,this.parseShort()),128&w&&(j.yAdvDevice=void 0,this.parseShort()),j}},h.prototype.parseValueRecordList=function(){for(var w=this.parseUShort(),j=this.parseUShort(),F=new Array(j),W=0;W<j;W++)F[W]=this.parseValueRecord(w);return F},h.prototype.parsePointer=function(w){var j=this.parseOffset16();if(0<j)return new h(this.data,this.offset+j).parseStruct(w)},h.prototype.parsePointer32=function(w){var j=this.parseOffset32();if(0<j)return new h(this.data,this.offset+j).parseStruct(w)},h.prototype.parseListOfLists=function(w){for(var j=this.parseOffset16List(),F=j.length,W=this.relativeOffset,re=new Array(F),ce=0;ce<F;ce++){var we=j[ce];if(we!==0)if(this.relativeOffset=we,w){for(var Re=this.parseOffset16List(),qe=new Array(Re.length),Qe=0;Qe<Re.length;Qe++)this.relativeOffset=we+Re[Qe],qe[Qe]=w.call(this);re[ce]=qe}else re[ce]=this.parseUShortList();else re[ce]=void 0}return this.relativeOffset=W,re},h.prototype.parseCoverage=function(){var w=this.offset+this.relativeOffset,j=this.parseUShort(),F=this.parseUShort();if(j===1)return{format:1,glyphs:this.parseUShortList(F)};if(j!==2)throw new Error("0x"+w.toString(16)+": Coverage format must be 1 or 2.");for(var W=new Array(F),re=0;re<F;re++)W[re]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:W}},h.prototype.parseClassDef=function(){var w=this.offset+this.relativeOffset,j=this.parseUShort();if(j===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(j===2)return{format:2,ranges:this.parseRecordList({start:h.uShort,end:h.uShort,classId:h.uShort})};throw new Error("0x"+w.toString(16)+": ClassDef format must be 1 or 2.")},h.list=function(w,j){return function(){return this.parseList(w,j)}},h.list32=function(w,j){return function(){return this.parseList32(w,j)}},h.recordList=function(w,j){return function(){return this.parseRecordList(w,j)}},h.recordList32=function(w,j){return function(){return this.parseRecordList32(w,j)}},h.pointer=function(w){return function(){return this.parsePointer(w)}},h.pointer32=function(w){return function(){return this.parsePointer32(w)}},h.tag=h.prototype.parseTag,h.byte=h.prototype.parseByte,h.uShort=h.offset16=h.prototype.parseUShort,h.uShortList=h.prototype.parseUShortList,h.uLong=h.offset32=h.prototype.parseULong,h.uLongList=h.prototype.parseULongList,h.struct=h.prototype.parseStruct,h.coverage=h.prototype.parseCoverage,h.classDef=h.prototype.parseClassDef;var y={reserved:h.uShort,reqFeatureIndex:h.uShort,featureIndexes:h.uShortList};h.prototype.parseScriptList=function(){return this.parsePointer(h.recordList({tag:h.tag,script:h.pointer({defaultLangSys:h.pointer(y),langSysRecords:h.recordList({tag:h.tag,langSys:h.pointer(y)})})}))||[]},h.prototype.parseFeatureList=function(){return this.parsePointer(h.recordList({tag:h.tag,feature:h.pointer({featureParams:h.offset16,lookupListIndexes:h.uShortList})}))||[]},h.prototype.parseLookupList=function(w){return this.parsePointer(h.list(h.pointer(function(){var j=this.parseUShort();Ke.argument(1<=j&&j<=9,"GPOS/GSUB lookup type "+j+" unknown.");var F=this.parseUShort(),W=16&F;return{lookupType:j,lookupFlag:F,subtables:this.parseList(h.pointer(w[j])),markFilteringSet:W?this.parseUShort():void 0}})))||[]},h.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var w=this.parseUShort(),j=this.parseUShort();return Ke.argument(w===1&&j<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:h.offset32,featureTableSubstitutionOffset:h.offset32})})||[]};var v={getByte:Et,getCard8:Et,getUShort:i,getCard16:i,getShort:function(w,j){return w.getInt16(j,!1)},getULong:e,getFixed:r,getTag:function(w,j){for(var F="",W=j;W<j+4;W+=1)F+=String.fromCharCode(w.getInt8(W));return F},getOffset:function(w,j,F){for(var W=0,re=0;re<F;re+=1)W<<=8,W+=w.getUint8(j+re);return W},getBytes:function(w,j,F){for(var W=[],re=j;re<F;re+=1)W.push(w.getUint8(re));return W},bytesToString:function(w){for(var j="",F=0;F<w.length;F+=1)j+=String.fromCharCode(w[F]);return j},Parser:h},x={parse:function(w,j){var F={};F.version=v.getUShort(w,j),Ke.argument(F.version===0,"cmap table version should be 0."),F.numTables=v.getUShort(w,j+2);for(var W=-1,re=F.numTables-1;0<=re;--re){var ce=v.getUShort(w,j+4+8*re),we=v.getUShort(w,j+4+8*re+2);if(ce===3&&(we===0||we===1||we===10)||ce===0&&(we===0||we===1||we===2||we===3||we===4)){W=v.getULong(w,j+4+8*re+4);break}}if(W===-1)throw new Error("No valid cmap sub-tables found.");var Re=new v.Parser(w,j+W);if(F.format=Re.parseUShort(),F.format===12)(function(qe,Qe){var dt;Qe.parseUShort(),qe.length=Qe.parseULong(),qe.language=Qe.parseULong(),qe.groupCount=dt=Qe.parseULong(),qe.glyphIndexMap={};for(var vt=0;vt<dt;vt+=1)for(var Xe=Qe.parseULong(),Ut=Qe.parseULong(),Ft=Qe.parseULong(),Rt=Xe;Rt<=Ut;Rt+=1)qe.glyphIndexMap[Rt]=Ft,Ft++})(F,Re);else{if(F.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+F.format+").");(function(qe,Qe,dt,vt,Xe){var Ut;qe.length=Qe.parseUShort(),qe.language=Qe.parseUShort(),qe.segCount=Ut=Qe.parseUShort()>>1,Qe.skip("uShort",3),qe.glyphIndexMap={};for(var Ft=new v.Parser(dt,vt+Xe+14),Rt=new v.Parser(dt,vt+Xe+16+2*Ut),Pt=new v.Parser(dt,vt+Xe+16+4*Ut),kt=new v.Parser(dt,vt+Xe+16+6*Ut),Xt=vt+Xe+16+8*Ut,Zt=0;Zt<Ut-1;Zt+=1)for(var hr=void 0,Yt=Ft.parseUShort(),Jt=Rt.parseUShort(),Rr=Pt.parseShort(),ur=kt.parseUShort(),cr=Jt;cr<=Yt;cr+=1)ur!==0?(Xt=kt.offset+kt.relativeOffset-2,Xt+=ur,Xt+=2*(cr-Jt),(hr=v.getUShort(dt,Xt))!==0&&(hr=hr+Rr&65535)):hr=cr+Rr&65535,qe.glyphIndexMap[cr]=hr})(F,Re,w,j,W)}return F},make:function(w){var j,F=!0;for(j=w.length-1;0<j;--j)if(65535<w.get(j).unicode){console.log("Adding CMAP format 12 (needed!)"),F=!1;break}var W=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:F?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:F?12:20}];F||(W=W.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),W=W.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var re,ce,we,Re=new bt.Table("cmap",W);for(Re.segments=[],j=0;j<w.length;j+=1){for(var qe=w.get(j),Qe=0;Qe<qe.unicodes.length;Qe+=1)re=Re,ce=qe.unicodes[Qe],we=j,re.segments.push({end:ce,start:ce,delta:-(ce-we),offset:0,glyphIndex:we});Re.segments=Re.segments.sort(function(hr,Yt){return hr.start-Yt.start})}Re.segments.push({end:65535,start:65535,delta:1,offset:0});var dt=Re.segments.length,vt=0,Xe=[],Ut=[],Ft=[],Rt=[],Pt=[],kt=[];for(j=0;j<dt;j+=1){var Xt=Re.segments[j];Xt.end<=65535&&Xt.start<=65535?(Xe=Xe.concat({name:"end_"+j,type:"USHORT",value:Xt.end}),Ut=Ut.concat({name:"start_"+j,type:"USHORT",value:Xt.start}),Ft=Ft.concat({name:"idDelta_"+j,type:"SHORT",value:Xt.delta}),Rt=Rt.concat({name:"idRangeOffset_"+j,type:"USHORT",value:Xt.offset}),Xt.glyphId!==void 0&&(Pt=Pt.concat({name:"glyph_"+j,type:"USHORT",value:Xt.glyphId}))):vt+=1,F||Xt.glyphIndex===void 0||(kt=(kt=(kt=kt.concat({name:"cmap12Start_"+j,type:"ULONG",value:Xt.start})).concat({name:"cmap12End_"+j,type:"ULONG",value:Xt.end})).concat({name:"cmap12Glyph_"+j,type:"ULONG",value:Xt.glyphIndex}))}if(Re.segCountX2=2*(dt-vt),Re.searchRange=2*Math.pow(2,Math.floor(Math.log(dt-vt)/Math.log(2))),Re.entrySelector=Math.log(Re.searchRange/2)/Math.log(2),Re.rangeShift=Re.segCountX2-Re.searchRange,Re.fields=Re.fields.concat(Xe),Re.fields.push({name:"reservedPad",type:"USHORT",value:0}),Re.fields=Re.fields.concat(Ut),Re.fields=Re.fields.concat(Ft),Re.fields=Re.fields.concat(Rt),Re.fields=Re.fields.concat(Pt),Re.cmap4Length=14+2*Xe.length+2+2*Ut.length+2*Ft.length+2*Rt.length+2*Pt.length,!F){var Zt=16+4*kt.length;Re.cmap12Offset=20+Re.cmap4Length,Re.fields=Re.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Zt},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:kt.length/3}]),Re.fields=Re.fields.concat(kt)}return Re}},b=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],T=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],O=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],L=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function D(w){this.font=w}function N(w){this.cmap=w}function R(w,j){this.encoding=w,this.charset=j}function X(w){switch(w.version){case 1:this.names=L.slice();break;case 2:this.names=new Array(w.numberOfGlyphs);for(var j=0;j<w.numberOfGlyphs;j++)w.glyphNameIndex[j]<L.length?this.names[j]=L[w.glyphNameIndex[j]]:this.names[j]=w.names[w.glyphNameIndex[j]-L.length];break;case 2.5:this.names=new Array(w.numberOfGlyphs);for(var F=0;F<w.numberOfGlyphs;F++)this.names[F]=L[F+w.glyphNameIndex[F]];break;case 3:default:this.names=[]}}D.prototype.charToGlyphIndex=function(w){var j=w.codePointAt(0),F=this.font.glyphs;if(F){for(var W=0;W<F.length;W+=1)for(var re=F.get(W),ce=0;ce<re.unicodes.length;ce+=1)if(re.unicodes[ce]===j)return W}return null},N.prototype.charToGlyphIndex=function(w){return this.cmap.glyphIndexMap[w.codePointAt(0)]||0},R.prototype.charToGlyphIndex=function(w){var j=w.codePointAt(0),F=this.encoding[j];return this.charset.indexOf(F)},X.prototype.nameToGlyphIndex=function(w){return this.names.indexOf(w)},X.prototype.glyphIndexToName=function(w){return this.names[w]};var Y={line:function(w,j,F,W,re){w.beginPath(),w.moveTo(j,F),w.lineTo(W,re),w.stroke()}};function K(w){this.bindConstructorValues(w)}function H(w,j,F){Object.defineProperty(w,j,{get:function(){return w.path,w[F]},set:function(W){w[F]=W},enumerable:!0,configurable:!0})}function G(w,j){if(this.font=w,this.glyphs={},Array.isArray(j))for(var F=0;F<j.length;F++)this.glyphs[F]=j[F];this.length=j&&j.length||0}K.prototype.bindConstructorValues=function(w){var j,F;this.index=w.index||0,this.name=w.name||null,this.unicode=w.unicode||void 0,this.unicodes=w.unicodes||w.unicode!==void 0?[w.unicode]:[],w.xMin&&(this.xMin=w.xMin),w.yMin&&(this.yMin=w.yMin),w.xMax&&(this.xMax=w.xMax),w.yMax&&(this.yMax=w.yMax),w.advanceWidth&&(this.advanceWidth=w.advanceWidth),Object.defineProperty(this,"path",(j=w.path,F=j||new Be,{configurable:!0,get:function(){return typeof F=="function"&&(F=F()),F},set:function(W){F=W}}))},K.prototype.addUnicode=function(w){this.unicodes.length===0&&(this.unicode=w),this.unicodes.push(w)},K.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},K.prototype.getPath=function(w,j,F,W,re){var ce,we;w=w!==void 0?w:0,j=j!==void 0?j:0,F=F!==void 0?F:72;var Re=(W=W||{}).xScale,qe=W.yScale;if(W.hinting&&re&&re.hinting&&(we=this.path&&re.hinting.exec(this,F)),we)ce=re.hinting.getCommands(we),w=Math.round(w),j=Math.round(j),Re=qe=1;else{ce=this.path.commands;var Qe=1/this.path.unitsPerEm*F;Re===void 0&&(Re=Qe),qe===void 0&&(qe=Qe)}for(var dt=new Be,vt=0;vt<ce.length;vt+=1){var Xe=ce[vt];Xe.type==="M"?dt.moveTo(w+Xe.x*Re,j+-Xe.y*qe):Xe.type==="L"?dt.lineTo(w+Xe.x*Re,j+-Xe.y*qe):Xe.type==="Q"?dt.quadraticCurveTo(w+Xe.x1*Re,j+-Xe.y1*qe,w+Xe.x*Re,j+-Xe.y*qe):Xe.type==="C"?dt.curveTo(w+Xe.x1*Re,j+-Xe.y1*qe,w+Xe.x2*Re,j+-Xe.y2*qe,w+Xe.x*Re,j+-Xe.y*qe):Xe.type==="Z"&&dt.closePath()}return dt},K.prototype.getContours=function(){if(this.points===void 0)return[];for(var w=[],j=[],F=0;F<this.points.length;F+=1){var W=this.points[F];j.push(W),W.lastPointOfContour&&(w.push(j),j=[])}return Ke.argument(j.length===0,"There are still points left in the current contour."),w},K.prototype.getMetrics=function(){for(var w=this.path.commands,j=[],F=[],W=0;W<w.length;W+=1){var re=w[W];re.type!=="Z"&&(j.push(re.x),F.push(re.y)),re.type!=="Q"&&re.type!=="C"||(j.push(re.x1),F.push(re.y1)),re.type==="C"&&(j.push(re.x2),F.push(re.y2))}var ce={xMin:Math.min.apply(null,j),yMin:Math.min.apply(null,F),xMax:Math.max.apply(null,j),yMax:Math.max.apply(null,F),leftSideBearing:this.leftSideBearing};return isFinite(ce.xMin)||(ce.xMin=0),isFinite(ce.xMax)||(ce.xMax=this.advanceWidth),isFinite(ce.yMin)||(ce.yMin=0),isFinite(ce.yMax)||(ce.yMax=0),ce.rightSideBearing=this.advanceWidth-ce.leftSideBearing-(ce.xMax-ce.xMin),ce},K.prototype.draw=function(w,j,F,W,re){this.getPath(j,F,W,re).draw(w)},K.prototype.drawPoints=function(w,j,F,W){function re(vt,Xe,Ut,Ft){var Rt=2*Math.PI;w.beginPath();for(var Pt=0;Pt<vt.length;Pt+=1)w.moveTo(Xe+vt[Pt].x*Ft,Ut+vt[Pt].y*Ft),w.arc(Xe+vt[Pt].x*Ft,Ut+vt[Pt].y*Ft,2,0,Rt,!1);w.closePath(),w.fill()}j=j!==void 0?j:0,F=F!==void 0?F:0,W=W!==void 0?W:24;for(var ce=1/this.path.unitsPerEm*W,we=[],Re=[],qe=this.path,Qe=0;Qe<qe.commands.length;Qe+=1){var dt=qe.commands[Qe];dt.x!==void 0&&we.push({x:dt.x,y:-dt.y}),dt.x1!==void 0&&Re.push({x:dt.x1,y:-dt.y1}),dt.x2!==void 0&&Re.push({x:dt.x2,y:-dt.y2})}w.fillStyle="blue",re(we,j,F,ce),w.fillStyle="red",re(Re,j,F,ce)},K.prototype.drawMetrics=function(w,j,F,W){var re;j=j!==void 0?j:0,F=F!==void 0?F:0,W=W!==void 0?W:24,re=1/this.path.unitsPerEm*W,w.lineWidth=1,w.strokeStyle="black",Y.line(w,j,-1e4,j,1e4),Y.line(w,-1e4,F,1e4,F);var ce=this.xMin||0,we=this.yMin||0,Re=this.xMax||0,qe=this.yMax||0,Qe=this.advanceWidth||0;w.strokeStyle="blue",Y.line(w,j+ce*re,-1e4,j+ce*re,1e4),Y.line(w,j+Re*re,-1e4,j+Re*re,1e4),Y.line(w,-1e4,F+-we*re,1e4,F+-we*re),Y.line(w,-1e4,F+-qe*re,1e4,F+-qe*re),w.strokeStyle="green",Y.line(w,j+Qe*re,-1e4,j+Qe*re,1e4)},G.prototype.get=function(w){return typeof this.glyphs[w]=="function"&&(this.glyphs[w]=this.glyphs[w]()),this.glyphs[w]},G.prototype.push=function(w,j){this.glyphs[w]=j,this.length++};var z={GlyphSet:G,glyphLoader:function(w,j){return new K({index:j,font:w})},ttfGlyphLoader:function(w,j,F,W,re,ce){return function(){var we=new K({index:j,font:w});return we.path=function(){F(we,W,re);var Re=ce(w.glyphs,we);return Re.unitsPerEm=w.unitsPerEm,Re},H(we,"xMin","_xMin"),H(we,"xMax","_xMax"),H(we,"yMin","_yMin"),H(we,"yMax","_yMax"),we}},cffGlyphLoader:function(w,j,F,W){return function(){var re=new K({index:j,font:w});return re.path=function(){var ce=F(w,re,W);return ce.unitsPerEm=w.unitsPerEm,ce},re}}};function Z(w,j){if(w===j)return!0;if(Array.isArray(w)&&Array.isArray(j)){if(w.length!==j.length)return!1;for(var F=0;F<w.length;F+=1)if(!Z(w[F],j[F]))return!1;return!0}return!1}function ee(w){return w.length<1240?107:w.length<33900?1131:32768}function le(w,j,F){var W,re,ce=[],we=[],Re=v.getCard16(w,j);if(Re!==0){var qe=v.getByte(w,j+2);W=j+(Re+1)*qe+2;for(var Qe=j+3,dt=0;dt<Re+1;dt+=1)ce.push(v.getOffset(w,Qe,qe)),Qe+=qe;re=W+ce[Re]}else re=j+2;for(var vt=0;vt<ce.length-1;vt+=1){var Xe=v.getBytes(w,W+ce[vt],W+ce[vt+1]);F&&(Xe=F(Xe)),we.push(Xe)}return{objects:we,startOffset:j,endOffset:re}}function ie(w,j){if(j===28)return w.parseByte()<<8|w.parseByte();if(j===29)return w.parseByte()<<24|w.parseByte()<<16|w.parseByte()<<8|w.parseByte();if(j===30)return function(F){for(var W="",re=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ce=F.parseByte(),we=ce>>4,Re=15&ce;if(we==15||(W+=re[we],Re==15))break;W+=re[Re]}return parseFloat(W)}(w);if(32<=j&&j<=246)return j-139;if(247<=j&&j<=250)return 256*(j-247)+w.parseByte()+108;if(251<=j&&j<=254)return 256*-(j-251)-w.parseByte()-108;throw new Error("Invalid b0 "+j)}function pe(w,j,F){j=j!==void 0?j:0;var W=new v.Parser(w,j),re=[],ce=[];for(F=F!==void 0?F:w.length;W.relativeOffset<F;){var we=W.parseByte();we<=21?(we===12&&(we=1200+W.parseByte()),re.push([we,ce]),ce=[]):ce.push(ie(W,we))}return function(Re){for(var qe={},Qe=0;Qe<Re.length;Qe+=1){var dt=Re[Qe][0],vt=Re[Qe][1],Xe=void 0;if(Xe=vt.length===1?vt[0]:vt,qe.hasOwnProperty(dt)&&!isNaN(qe[dt]))throw new Error("Object "+qe+" already has key "+dt);qe[dt]=Xe}return qe}(re)}function ve(w,j){return j=j<=390?b[j]:w[j-391]}function xe(w,j,F){for(var W,re={},ce=0;ce<j.length;ce+=1){var we=j[ce];if(Array.isArray(we.type)){var Re=[];Re.length=we.type.length;for(var qe=0;qe<we.type.length;qe++)(W=w[we.op]!==void 0?w[we.op][qe]:void 0)===void 0&&(W=we.value!==void 0&&we.value[qe]!==void 0?we.value[qe]:null),we.type[qe]==="SID"&&(W=ve(F,W)),Re[qe]=W;re[we.name]=Re}else(W=w[we.op])===void 0&&(W=we.value!==void 0?we.value:null),we.type==="SID"&&(W=ve(F,W)),re[we.name]=W}return re}var Ce=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],be=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ee(w,j,F,W){return xe(pe(w,j,F),be,W)}function Ie(w,j,F,W){for(var re,ce,we=[],Re=0;Re<F.length;Re+=1){var qe=new DataView(new Uint8Array(F[Re]).buffer),Qe=(ce=W,xe(pe(re=qe,0,re.byteLength),Ce,ce));Qe._subrs=[],Qe._subrsBias=0;var dt=Qe.private[0],vt=Qe.private[1];if(dt!==0&&vt!==0){var Xe=Ee(w,vt+j,dt,W);if(Qe._defaultWidthX=Xe.defaultWidthX,Qe._nominalWidthX=Xe.nominalWidthX,Xe.subrs!==0){var Ut=le(w,vt+Xe.subrs+j);Qe._subrs=Ut.objects,Qe._subrsBias=ee(Qe._subrs)}Qe._privateDict=Xe}we.push(Qe)}return we}function Ue(w,j,F){var W,re,ce,we,Re,qe,Qe,dt,vt=new Be,Xe=[],Ut=0,Ft=!1,Rt=!1,Pt=0,kt=0;if(w.isCIDFont){var Xt=w.tables.cff.topDict._fdSelect[j.index],Zt=w.tables.cff.topDict._fdArray[Xt];Re=Zt._subrs,qe=Zt._subrsBias,Qe=Zt._defaultWidthX,dt=Zt._nominalWidthX}else Re=w.tables.cff.topDict._subrs,qe=w.tables.cff.topDict._subrsBias,Qe=w.tables.cff.topDict._defaultWidthX,dt=w.tables.cff.topDict._nominalWidthX;var hr=Qe;function Yt(Rr,ur){Rt&&vt.closePath(),vt.moveTo(Rr,ur),Rt=!0}function Jt(){Xe.length%2==0||Ft||(hr=Xe.shift()+dt),Ut+=Xe.length>>1,Xe.length=0,Ft=!0}return function Rr(ur){for(var cr,gr,Pr,wr,Mr,Sr,fr,Je,ot,Ct,At,Wt,zt=0;zt<ur.length;){var Ht=ur[zt];switch(zt+=1,Ht){case 1:case 3:Jt();break;case 4:1<Xe.length&&!Ft&&(hr=Xe.shift()+dt,Ft=!0),kt+=Xe.pop(),Yt(Pt,kt);break;case 5:for(;0<Xe.length;)Pt+=Xe.shift(),kt+=Xe.shift(),vt.lineTo(Pt,kt);break;case 6:for(;0<Xe.length&&(Pt+=Xe.shift(),vt.lineTo(Pt,kt),Xe.length!==0);)kt+=Xe.shift(),vt.lineTo(Pt,kt);break;case 7:for(;0<Xe.length&&(kt+=Xe.shift(),vt.lineTo(Pt,kt),Xe.length!==0);)Pt+=Xe.shift(),vt.lineTo(Pt,kt);break;case 8:for(;0<Xe.length;)W=Pt+Xe.shift(),re=kt+Xe.shift(),ce=W+Xe.shift(),we=re+Xe.shift(),Pt=ce+Xe.shift(),kt=we+Xe.shift(),vt.curveTo(W,re,ce,we,Pt,kt);break;case 10:Mr=Xe.pop()+qe,(Sr=Re[Mr])&&Rr(Sr);break;case 11:return;case 12:switch(Ht=ur[zt],zt+=1,Ht){case 35:W=Pt+Xe.shift(),re=kt+Xe.shift(),ce=W+Xe.shift(),we=re+Xe.shift(),fr=ce+Xe.shift(),Je=we+Xe.shift(),ot=fr+Xe.shift(),Ct=Je+Xe.shift(),At=ot+Xe.shift(),Wt=Ct+Xe.shift(),Pt=At+Xe.shift(),kt=Wt+Xe.shift(),Xe.shift(),vt.curveTo(W,re,ce,we,fr,Je),vt.curveTo(ot,Ct,At,Wt,Pt,kt);break;case 34:W=Pt+Xe.shift(),re=kt,ce=W+Xe.shift(),we=re+Xe.shift(),fr=ce+Xe.shift(),Je=we,ot=fr+Xe.shift(),Ct=we,At=ot+Xe.shift(),Wt=kt,Pt=At+Xe.shift(),vt.curveTo(W,re,ce,we,fr,Je),vt.curveTo(ot,Ct,At,Wt,Pt,kt);break;case 36:W=Pt+Xe.shift(),re=kt+Xe.shift(),ce=W+Xe.shift(),we=re+Xe.shift(),fr=ce+Xe.shift(),Je=we,ot=fr+Xe.shift(),Ct=we,At=ot+Xe.shift(),Wt=Ct+Xe.shift(),Pt=At+Xe.shift(),vt.curveTo(W,re,ce,we,fr,Je),vt.curveTo(ot,Ct,At,Wt,Pt,kt);break;case 37:W=Pt+Xe.shift(),re=kt+Xe.shift(),ce=W+Xe.shift(),we=re+Xe.shift(),fr=ce+Xe.shift(),Je=we+Xe.shift(),ot=fr+Xe.shift(),Ct=Je+Xe.shift(),At=ot+Xe.shift(),Wt=Ct+Xe.shift(),Math.abs(At-Pt)>Math.abs(Wt-kt)?Pt=At+Xe.shift():kt=Wt+Xe.shift(),vt.curveTo(W,re,ce,we,fr,Je),vt.curveTo(ot,Ct,At,Wt,Pt,kt);break;default:console.log("Glyph "+j.index+": unknown operator 1200"+Ht),Xe.length=0}break;case 14:0<Xe.length&&!Ft&&(hr=Xe.shift()+dt,Ft=!0),Rt&&(vt.closePath(),Rt=!1);break;case 18:Jt();break;case 19:case 20:Jt(),zt+=Ut+7>>3;break;case 21:2<Xe.length&&!Ft&&(hr=Xe.shift()+dt,Ft=!0),kt+=Xe.pop(),Yt(Pt+=Xe.pop(),kt);break;case 22:1<Xe.length&&!Ft&&(hr=Xe.shift()+dt,Ft=!0),Yt(Pt+=Xe.pop(),kt);break;case 23:Jt();break;case 24:for(;2<Xe.length;)W=Pt+Xe.shift(),re=kt+Xe.shift(),ce=W+Xe.shift(),we=re+Xe.shift(),Pt=ce+Xe.shift(),kt=we+Xe.shift(),vt.curveTo(W,re,ce,we,Pt,kt);Pt+=Xe.shift(),kt+=Xe.shift(),vt.lineTo(Pt,kt);break;case 25:for(;6<Xe.length;)Pt+=Xe.shift(),kt+=Xe.shift(),vt.lineTo(Pt,kt);W=Pt+Xe.shift(),re=kt+Xe.shift(),ce=W+Xe.shift(),we=re+Xe.shift(),Pt=ce+Xe.shift(),kt=we+Xe.shift(),vt.curveTo(W,re,ce,we,Pt,kt);break;case 26:for(Xe.length%2&&(Pt+=Xe.shift());0<Xe.length;)W=Pt,re=kt+Xe.shift(),ce=W+Xe.shift(),we=re+Xe.shift(),Pt=ce,kt=we+Xe.shift(),vt.curveTo(W,re,ce,we,Pt,kt);break;case 27:for(Xe.length%2&&(kt+=Xe.shift());0<Xe.length;)W=Pt+Xe.shift(),re=kt,ce=W+Xe.shift(),we=re+Xe.shift(),Pt=ce+Xe.shift(),kt=we,vt.curveTo(W,re,ce,we,Pt,kt);break;case 28:cr=ur[zt],gr=ur[zt+1],Xe.push((cr<<24|gr<<16)>>16),zt+=2;break;case 29:Mr=Xe.pop()+w.gsubrsBias,(Sr=w.gsubrs[Mr])&&Rr(Sr);break;case 30:for(;0<Xe.length&&(W=Pt,re=kt+Xe.shift(),ce=W+Xe.shift(),we=re+Xe.shift(),Pt=ce+Xe.shift(),kt=we+(Xe.length===1?Xe.shift():0),vt.curveTo(W,re,ce,we,Pt,kt),Xe.length!==0);)W=Pt+Xe.shift(),re=kt,ce=W+Xe.shift(),we=re+Xe.shift(),kt=we+Xe.shift(),Pt=ce+(Xe.length===1?Xe.shift():0),vt.curveTo(W,re,ce,we,Pt,kt);break;case 31:for(;0<Xe.length&&(W=Pt+Xe.shift(),re=kt,ce=W+Xe.shift(),we=re+Xe.shift(),kt=we+Xe.shift(),Pt=ce+(Xe.length===1?Xe.shift():0),vt.curveTo(W,re,ce,we,Pt,kt),Xe.length!==0);)W=Pt,re=kt+Xe.shift(),ce=W+Xe.shift(),we=re+Xe.shift(),Pt=ce+Xe.shift(),kt=we+(Xe.length===1?Xe.shift():0),vt.curveTo(W,re,ce,we,Pt,kt);break;default:Ht<32?console.log("Glyph "+j.index+": unknown operator "+Ht):Ht<247?Xe.push(Ht-139):Ht<251?(cr=ur[zt],zt+=1,Xe.push(256*(Ht-247)+cr+108)):Ht<255?(cr=ur[zt],zt+=1,Xe.push(256*-(Ht-251)-cr-108)):(cr=ur[zt],gr=ur[zt+1],Pr=ur[zt+2],wr=ur[zt+3],zt+=4,Xe.push((cr<<24|gr<<16|Pr<<8|wr)/65536))}}}(F),j.advanceWidth=hr,vt}function We(w,j){var F,W=b.indexOf(w);return 0<=W&&(F=W),0<=(W=j.indexOf(w))?F=W+b.length:(F=b.length+j.length,j.push(w)),F}function rt(w,j,F){for(var W={},re=0;re<w.length;re+=1){var ce=w[re],we=j[ce.name];we===void 0||Z(we,ce.value)||(ce.type==="SID"&&(we=We(we,F)),W[ce.op]={name:ce.name,type:ce.type,value:we})}return W}function ke(w,j){var F=new bt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return F.dict=rt(Ce,w,j),F}function Ye(w){var j=new bt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return j.topDicts=[{name:"topDict_0",type:"TABLE",value:w}],j}function ft(w){var j=[],F=w.path;j.push({name:"width",type:"NUMBER",value:w.advanceWidth});for(var W=0,re=0,ce=0;ce<F.commands.length;ce+=1){var we=void 0,Re=void 0,qe=F.commands[ce];if(qe.type==="Q"&&(qe={type:"C",x:qe.x,y:qe.y,x1:1/3*W+2/3*qe.x1,y1:1/3*re+2/3*qe.y1,x2:1/3*qe.x+2/3*qe.x1,y2:1/3*qe.y+2/3*qe.y1}),qe.type==="M")we=Math.round(qe.x-W),Re=Math.round(qe.y-re),j.push({name:"dx",type:"NUMBER",value:we}),j.push({name:"dy",type:"NUMBER",value:Re}),j.push({name:"rmoveto",type:"OP",value:21}),W=Math.round(qe.x),re=Math.round(qe.y);else if(qe.type==="L")we=Math.round(qe.x-W),Re=Math.round(qe.y-re),j.push({name:"dx",type:"NUMBER",value:we}),j.push({name:"dy",type:"NUMBER",value:Re}),j.push({name:"rlineto",type:"OP",value:5}),W=Math.round(qe.x),re=Math.round(qe.y);else if(qe.type==="C"){var Qe=Math.round(qe.x1-W),dt=Math.round(qe.y1-re),vt=Math.round(qe.x2-qe.x1),Xe=Math.round(qe.y2-qe.y1);we=Math.round(qe.x-qe.x2),Re=Math.round(qe.y-qe.y2),j.push({name:"dx1",type:"NUMBER",value:Qe}),j.push({name:"dy1",type:"NUMBER",value:dt}),j.push({name:"dx2",type:"NUMBER",value:vt}),j.push({name:"dy2",type:"NUMBER",value:Xe}),j.push({name:"dx",type:"NUMBER",value:we}),j.push({name:"dy",type:"NUMBER",value:Re}),j.push({name:"rrcurveto",type:"OP",value:8}),W=Math.round(qe.x),re=Math.round(qe.y)}}return j.push({name:"endchar",type:"OP",value:14}),j}var lt={parse:function(w,j,F){F.tables.cff={};var W,re,ce,we=le(w,(W=w,re=j,(ce={}).formatMajor=v.getCard8(W,re),ce.formatMinor=v.getCard8(W,re+1),ce.size=v.getCard8(W,re+2),ce.offsetSize=v.getCard8(W,re+3),ce.startOffset=re,ce.endOffset=re+4,ce).endOffset,v.bytesToString),Re=le(w,we.endOffset),qe=le(w,Re.endOffset,v.bytesToString),Qe=le(w,qe.endOffset);F.gsubrs=Qe.objects,F.gsubrsBias=ee(F.gsubrs);var dt=Ie(w,j,Re.objects,qe.objects);if(dt.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+dt.length);var vt=dt[0];if((F.tables.cff.topDict=vt)._privateDict&&(F.defaultWidthX=vt._privateDict.defaultWidthX,F.nominalWidthX=vt._privateDict.nominalWidthX),vt.ros[0]!==void 0&&vt.ros[1]!==void 0&&(F.isCIDFont=!0),F.isCIDFont){var Xe=vt.fdArray,Ut=vt.fdSelect;if(Xe===0||Ut===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var Ft=Ie(w,j,le(w,Xe+=j).objects,qe.objects);vt._fdArray=Ft,Ut+=j,vt._fdSelect=function(Jt,Rr,ur,cr){var gr,Pr=[],wr=new v.Parser(Jt,Rr),Mr=wr.parseCard8();if(Mr===0)for(var Sr=0;Sr<ur;Sr++){if(cr<=(gr=wr.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+gr+" (FD count "+cr+")");Pr.push(gr)}else{if(Mr!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Mr);var fr,Je=wr.parseCard16(),ot=wr.parseCard16();if(ot!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+ot);for(var Ct=0;Ct<Je;Ct++){if(gr=wr.parseCard8(),fr=wr.parseCard16(),cr<=gr)throw new Error("CFF table CID Font FDSelect has bad FD index value "+gr+" (FD count "+cr+")");if(ur<fr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+fr);for(;ot<fr;ot++)Pr.push(gr);ot=fr}if(fr!==ur)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+fr)}return Pr}(w,Ut,F.numGlyphs,Ft.length)}var Rt=j+vt.private[1],Pt=Ee(w,Rt,vt.private[0],qe.objects);if(F.defaultWidthX=Pt.defaultWidthX,F.nominalWidthX=Pt.nominalWidthX,Pt.subrs!==0){var kt=le(w,Rt+Pt.subrs);F.subrs=kt.objects,F.subrsBias=ee(F.subrs)}else F.subrs=[],F.subrsBias=0;var Xt=le(w,j+vt.charStrings);F.nGlyphs=Xt.objects.length;var Zt=function(Jt,Rr,ur,cr){var gr,Pr,wr=new v.Parser(Jt,Rr);--ur;var Mr=[".notdef"],Sr=wr.parseCard8();if(Sr===0)for(var fr=0;fr<ur;fr+=1)gr=wr.parseSID(),Mr.push(ve(cr,gr));else if(Sr===1)for(;Mr.length<=ur;){gr=wr.parseSID(),Pr=wr.parseCard8();for(var Je=0;Je<=Pr;Je+=1)Mr.push(ve(cr,gr)),gr+=1}else{if(Sr!==2)throw new Error("Unknown charset format "+Sr);for(;Mr.length<=ur;){gr=wr.parseSID(),Pr=wr.parseCard16();for(var ot=0;ot<=Pr;ot+=1)Mr.push(ve(cr,gr)),gr+=1}}return Mr}(w,j+vt.charset,F.nGlyphs,qe.objects);vt.encoding===0?F.cffEncoding=new R(T,Zt):vt.encoding===1?F.cffEncoding=new R(O,Zt):F.cffEncoding=function(Jt,Rr,ur){var cr,gr={},Pr=new v.Parser(Jt,Rr),wr=Pr.parseCard8();if(wr===0)for(var Mr=Pr.parseCard8(),Sr=0;Sr<Mr;Sr+=1)gr[cr=Pr.parseCard8()]=Sr;else{if(wr!==1)throw new Error("Unknown encoding format "+wr);var fr=Pr.parseCard8();cr=1;for(var Je=0;Je<fr;Je+=1)for(var ot=Pr.parseCard8(),Ct=Pr.parseCard8(),At=ot;At<=ot+Ct;At+=1)gr[At]=cr,cr+=1}return new R(gr,ur)}(w,j+vt.encoding,Zt),F.encoding=F.encoding||F.cffEncoding,F.glyphs=new z.GlyphSet(F);for(var hr=0;hr<F.nGlyphs;hr+=1){var Yt=Xt.objects[hr];F.glyphs.push(hr,z.cffGlyphLoader(F,hr,Ue,Yt))}},make:function(w,j){for(var F,W=new bt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),re=1/j.unitsPerEm,ce={version:j.version,fullName:j.fullName,familyName:j.familyName,weight:j.weightName,fontBBox:j.fontBBox||[0,0,0,0],fontMatrix:[re,0,0,re,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},we=[],Re=1;Re<w.length;Re+=1)F=w.get(Re),we.push(F.name);var qe=[];W.header=new bt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),W.nameIndex=function(Ft){var Rt=new bt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Rt.names=[];for(var Pt=0;Pt<Ft.length;Pt+=1)Rt.names.push({name:"name_"+Pt,type:"NAME",value:Ft[Pt]});return Rt}([j.postScriptName]);var Qe,dt,vt,Xe=ke(ce,qe);W.topDictIndex=Ye(Xe),W.globalSubrIndex=new bt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),W.charsets=function(Ft,Rt){for(var Pt=new bt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),kt=0;kt<Ft.length;kt+=1){var Xt=We(Ft[kt],Rt);Pt.fields.push({name:"glyph_"+kt,type:"SID",value:Xt})}return Pt}(we,qe),W.charStringsIndex=function(Ft){for(var Rt=new bt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Pt=0;Pt<Ft.length;Pt+=1){var kt=Ft.get(Pt),Xt=ft(kt);Rt.charStrings.push({name:kt.name,type:"CHARSTRING",value:Xt})}return Rt}(w),W.privateDict=(Qe={},dt=qe,(vt=new bt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=rt(be,Qe,dt),vt),W.stringIndex=function(Ft){var Rt=new bt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Rt.strings=[];for(var Pt=0;Pt<Ft.length;Pt+=1)Rt.strings.push({name:"string_"+Pt,type:"STRING",value:Ft[Pt]});return Rt}(qe);var Ut=W.header.sizeOf()+W.nameIndex.sizeOf()+W.topDictIndex.sizeOf()+W.stringIndex.sizeOf()+W.globalSubrIndex.sizeOf();return ce.charset=Ut,ce.encoding=0,ce.charStrings=ce.charset+W.charsets.sizeOf(),ce.private[1]=ce.charStrings+W.charStringsIndex.sizeOf(),Xe=ke(ce,qe),W.topDictIndex=Ye(Xe),W}},nt={parse:function(w,j){var F={},W=new v.Parser(w,j);return F.version=W.parseVersion(),F.fontRevision=Math.round(1e3*W.parseFixed())/1e3,F.checkSumAdjustment=W.parseULong(),F.magicNumber=W.parseULong(),Ke.argument(F.magicNumber===1594834165,"Font header has wrong magic number."),F.flags=W.parseUShort(),F.unitsPerEm=W.parseUShort(),F.created=W.parseLongDateTime(),F.modified=W.parseLongDateTime(),F.xMin=W.parseShort(),F.yMin=W.parseShort(),F.xMax=W.parseShort(),F.yMax=W.parseShort(),F.macStyle=W.parseUShort(),F.lowestRecPPEM=W.parseUShort(),F.fontDirectionHint=W.parseShort(),F.indexToLocFormat=W.parseShort(),F.glyphDataFormat=W.parseShort(),F},make:function(w){var j=Math.round(new Date().getTime()/1e3)+2082844800,F=j;return w.createdTimestamp&&(F=w.createdTimestamp+2082844800),new bt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:F},{name:"modified",type:"LONGDATETIME",value:j},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],w)}},Ze={parse:function(w,j){var F={},W=new v.Parser(w,j);return F.version=W.parseVersion(),F.ascender=W.parseShort(),F.descender=W.parseShort(),F.lineGap=W.parseShort(),F.advanceWidthMax=W.parseUShort(),F.minLeftSideBearing=W.parseShort(),F.minRightSideBearing=W.parseShort(),F.xMaxExtent=W.parseShort(),F.caretSlopeRise=W.parseShort(),F.caretSlopeRun=W.parseShort(),F.caretOffset=W.parseShort(),W.relativeOffset+=8,F.metricDataFormat=W.parseShort(),F.numberOfHMetrics=W.parseUShort(),F},make:function(w){return new bt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],w)}},xt={parse:function(w,j,F,W,re){for(var ce,we,Re=new v.Parser(w,j),qe=0;qe<W;qe+=1){qe<F&&(ce=Re.parseUShort(),we=Re.parseShort());var Qe=re.get(qe);Qe.advanceWidth=ce,Qe.leftSideBearing=we}},make:function(w){for(var j=new bt.Table("hmtx",[]),F=0;F<w.length;F+=1){var W=w.get(F),re=W.advanceWidth||0,ce=W.leftSideBearing||0;j.fields.push({name:"advanceWidth_"+F,type:"USHORT",value:re}),j.fields.push({name:"leftSideBearing_"+F,type:"SHORT",value:ce})}return j}},Tt={make:function(w){for(var j=new bt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:w.length}]),F="",W=12+4*w.length,re=0;re<w.length;++re){var ce=F.indexOf(w[re]);ce<0&&(ce=F.length,F+=w[re]),j.fields.push({name:"offset "+re,type:"USHORT",value:W+ce}),j.fields.push({name:"length "+re,type:"USHORT",value:w[re].length})}return j.fields.push({name:"stringPool",type:"CHARARRAY",value:F}),j},parse:function(w,j){var F=new v.Parser(w,j),W=F.parseULong();Ke.argument(W===1,"Unsupported ltag table version."),F.skip("uLong",1);for(var re=F.parseULong(),ce=[],we=0;we<re;we++){for(var Re="",qe=j+F.parseUShort(),Qe=F.parseUShort(),dt=qe;dt<qe+Qe;++dt)Re+=String.fromCharCode(w.getInt8(dt));ce.push(Re)}return ce}},It={parse:function(w,j){var F={},W=new v.Parser(w,j);return F.version=W.parseVersion(),F.numGlyphs=W.parseUShort(),F.version===1&&(F.maxPoints=W.parseUShort(),F.maxContours=W.parseUShort(),F.maxCompositePoints=W.parseUShort(),F.maxCompositeContours=W.parseUShort(),F.maxZones=W.parseUShort(),F.maxTwilightPoints=W.parseUShort(),F.maxStorage=W.parseUShort(),F.maxFunctionDefs=W.parseUShort(),F.maxInstructionDefs=W.parseUShort(),F.maxStackElements=W.parseUShort(),F.maxSizeOfInstructions=W.parseUShort(),F.maxComponentElements=W.parseUShort(),F.maxComponentDepth=W.parseUShort()),F},make:function(w){return new bt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:w}])}},Lt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],pt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Dt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},jt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Gt(w,j,F){switch(w){case 0:if(j===65535)return"und";if(F)return F[j];break;case 1:return pt[j];case 3:return jt[j]}}var nr="utf-16",sr={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ir={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Qt(w,j,F){switch(w){case 0:return nr;case 1:return ir[F]||sr[j];case 3:if(j===1||j===10)return nr}}function Kt(w){var j={};for(var F in w)j[w[F]]=parseInt(F);return j}function ar(w,j,F,W,re,ce){return new bt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:w},{name:"encodingID",type:"USHORT",value:j},{name:"languageID",type:"USHORT",value:F},{name:"nameID",type:"USHORT",value:W},{name:"length",type:"USHORT",value:re},{name:"offset",type:"USHORT",value:ce}])}function or(w,j){var F=function(ce,we){var Re=ce.length,qe=we.length-Re+1;e:for(var Qe=0;Qe<qe;Qe++)for(;Qe<qe;Qe++){for(var dt=0;dt<Re;dt++)if(we[Qe+dt]!==ce[dt])continue e;return Qe}return-1}(w,j);if(F<0){F=j.length;for(var W=0,re=w.length;W<re;++W)j.push(w[W])}return F}var vr={parse:function(w,j,F){for(var W={},re=new v.Parser(w,j),ce=re.parseUShort(),we=re.parseUShort(),Re=re.offset+re.parseUShort(),qe=0;qe<we;qe++){var Qe=re.parseUShort(),dt=re.parseUShort(),vt=re.parseUShort(),Xe=re.parseUShort(),Ut=Lt[Xe]||Xe,Ft=re.parseUShort(),Rt=re.parseUShort(),Pt=Gt(Qe,vt,F),kt=Qt(Qe,dt,vt);if(kt!==void 0&&Pt!==void 0){var Xt=void 0;if(Xt=kt===nr?_t.UTF16(w,Re+Rt,Ft):_t.MACSTRING(w,Re+Rt,Ft,kt)){var Zt=W[Ut];Zt===void 0&&(Zt=W[Ut]={}),Zt[Pt]=Xt}}}return ce===1&&re.parseUShort(),W},make:function(w,j){var F,W=[],re={},ce=Kt(Lt);for(var we in w){var Re=ce[we];if(Re===void 0&&(Re=we),F=parseInt(Re),isNaN(F))throw new Error('Name table entry "'+we+'" does not exist, see nameTableNames for complete list.');re[F]=w[we],W.push(F)}for(var qe=Kt(pt),Qe=Kt(jt),dt=[],vt=[],Xe=0;Xe<W.length;Xe++){var Ut=re[F=W[Xe]];for(var Ft in Ut){var Rt=Ut[Ft],Pt=1,kt=qe[Ft],Xt=Dt[kt],Zt=Qt(Pt,Xt,kt),hr=at.MACSTRING(Rt,Zt);hr===void 0&&(Pt=0,(kt=j.indexOf(Ft))<0&&(kt=j.length,j.push(Ft)),Xt=4,hr=at.UTF16(Rt));var Yt=or(hr,vt);dt.push(ar(Pt,Xt,kt,F,hr.length,Yt));var Jt=Qe[Ft];if(Jt!==void 0){var Rr=at.UTF16(Rt),ur=or(Rr,vt);dt.push(ar(3,1,Jt,F,Rr.length,ur))}}}dt.sort(function(Pr,wr){return Pr.platformID-wr.platformID||Pr.encodingID-wr.encodingID||Pr.languageID-wr.languageID||Pr.nameID-wr.nameID});for(var cr=new bt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:dt.length},{name:"stringOffset",type:"USHORT",value:6+12*dt.length}]),gr=0;gr<dt.length;gr++)cr.fields.push({name:"record_"+gr,type:"RECORD",value:dt[gr]});return cr.fields.push({name:"strings",type:"LITERAL",value:vt}),cr}},Ir=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Lr={parse:function(w,j){var F={},W=new v.Parser(w,j);F.version=W.parseUShort(),F.xAvgCharWidth=W.parseShort(),F.usWeightClass=W.parseUShort(),F.usWidthClass=W.parseUShort(),F.fsType=W.parseUShort(),F.ySubscriptXSize=W.parseShort(),F.ySubscriptYSize=W.parseShort(),F.ySubscriptXOffset=W.parseShort(),F.ySubscriptYOffset=W.parseShort(),F.ySuperscriptXSize=W.parseShort(),F.ySuperscriptYSize=W.parseShort(),F.ySuperscriptXOffset=W.parseShort(),F.ySuperscriptYOffset=W.parseShort(),F.yStrikeoutSize=W.parseShort(),F.yStrikeoutPosition=W.parseShort(),F.sFamilyClass=W.parseShort(),F.panose=[];for(var re=0;re<10;re++)F.panose[re]=W.parseByte();return F.ulUnicodeRange1=W.parseULong(),F.ulUnicodeRange2=W.parseULong(),F.ulUnicodeRange3=W.parseULong(),F.ulUnicodeRange4=W.parseULong(),F.achVendID=String.fromCharCode(W.parseByte(),W.parseByte(),W.parseByte(),W.parseByte()),F.fsSelection=W.parseUShort(),F.usFirstCharIndex=W.parseUShort(),F.usLastCharIndex=W.parseUShort(),F.sTypoAscender=W.parseShort(),F.sTypoDescender=W.parseShort(),F.sTypoLineGap=W.parseShort(),F.usWinAscent=W.parseUShort(),F.usWinDescent=W.parseUShort(),1<=F.version&&(F.ulCodePageRange1=W.parseULong(),F.ulCodePageRange2=W.parseULong()),2<=F.version&&(F.sxHeight=W.parseShort(),F.sCapHeight=W.parseShort(),F.usDefaultChar=W.parseUShort(),F.usBreakChar=W.parseUShort(),F.usMaxContent=W.parseUShort()),F},make:function(w){return new bt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],w)},unicodeRanges:Ir,getUnicodeRange:function(w){for(var j=0;j<Ir.length;j+=1){var F=Ir[j];if(w>=F.begin&&w<F.end)return j}return-1}},Ar={parse:function(w,j){var F={},W=new v.Parser(w,j);switch(F.version=W.parseVersion(),F.italicAngle=W.parseFixed(),F.underlinePosition=W.parseShort(),F.underlineThickness=W.parseShort(),F.isFixedPitch=W.parseULong(),F.minMemType42=W.parseULong(),F.maxMemType42=W.parseULong(),F.minMemType1=W.parseULong(),F.maxMemType1=W.parseULong(),F.version){case 1:F.names=L.slice();break;case 2:F.numberOfGlyphs=W.parseUShort(),F.glyphNameIndex=new Array(F.numberOfGlyphs);for(var re=0;re<F.numberOfGlyphs;re++)F.glyphNameIndex[re]=W.parseUShort();F.names=[];for(var ce=0;ce<F.numberOfGlyphs;ce++)if(F.glyphNameIndex[ce]>=L.length){var we=W.parseChar();F.names.push(W.parseString(we))}break;case 2.5:F.numberOfGlyphs=W.parseUShort(),F.offset=new Array(F.numberOfGlyphs);for(var Re=0;Re<F.numberOfGlyphs;Re++)F.offset[Re]=W.parseChar()}return F},make:function(){return new bt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},qt=new Array(9);qt[1]=function(){var w=this.offset+this.relativeOffset,j=this.parseUShort();return j===1?{substFormat:1,coverage:this.parsePointer(h.coverage),deltaGlyphId:this.parseUShort()}:j===2?{substFormat:2,coverage:this.parsePointer(h.coverage),substitute:this.parseOffset16List()}:void Ke.assert(!1,"0x"+w.toString(16)+": lookup type 1 format must be 1 or 2.")},qt[2]=function(){var w=this.parseUShort();return Ke.argument(w===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(h.coverage),sequences:this.parseListOfLists()}},qt[3]=function(){var w=this.parseUShort();return Ke.argument(w===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(h.coverage),alternateSets:this.parseListOfLists()}},qt[4]=function(){var w=this.parseUShort();return Ke.argument(w===1,"GSUB ligature table identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(h.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var yr={sequenceIndex:h.uShort,lookupListIndex:h.uShort};qt[5]=function(){var w=this.offset+this.relativeOffset,j=this.parseUShort();if(j===1)return{substFormat:j,coverage:this.parsePointer(h.coverage),ruleSets:this.parseListOfLists(function(){var re=this.parseUShort(),ce=this.parseUShort();return{input:this.parseUShortList(re-1),lookupRecords:this.parseRecordList(ce,yr)}})};if(j===2)return{substFormat:j,coverage:this.parsePointer(h.coverage),classDef:this.parsePointer(h.classDef),classSets:this.parseListOfLists(function(){var re=this.parseUShort(),ce=this.parseUShort();return{classes:this.parseUShortList(re-1),lookupRecords:this.parseRecordList(ce,yr)}})};if(j===3){var F=this.parseUShort(),W=this.parseUShort();return{substFormat:j,coverages:this.parseList(F,h.pointer(h.coverage)),lookupRecords:this.parseRecordList(W,yr)}}Ke.assert(!1,"0x"+w.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},qt[6]=function(){var w=this.offset+this.relativeOffset,j=this.parseUShort();return j===1?{substFormat:1,coverage:this.parsePointer(h.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(yr)}})}:j===2?{substFormat:2,coverage:this.parsePointer(h.coverage),backtrackClassDef:this.parsePointer(h.classDef),inputClassDef:this.parsePointer(h.classDef),lookaheadClassDef:this.parsePointer(h.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(yr)}})}:j===3?{substFormat:3,backtrackCoverage:this.parseList(h.pointer(h.coverage)),inputCoverage:this.parseList(h.pointer(h.coverage)),lookaheadCoverage:this.parseList(h.pointer(h.coverage)),lookupRecords:this.parseRecordList(yr)}:void Ke.assert(!1,"0x"+w.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},qt[7]=function(){var w=this.parseUShort();Ke.argument(w===1,"GSUB Extension Substitution subtable identifier-format must be 1");var j=this.parseUShort(),F=new h(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:j,extension:qt[j].call(F)}},qt[8]=function(){var w=this.parseUShort();return Ke.argument(w===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(h.coverage),backtrackCoverage:this.parseList(h.pointer(h.coverage)),lookaheadCoverage:this.parseList(h.pointer(h.coverage)),substitutes:this.parseUShortList()}};var kr=new Array(9);kr[1]=function(w){return w.substFormat===1?new bt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new bt.Coverage(w.coverage)},{name:"deltaGlyphID",type:"USHORT",value:w.deltaGlyphId}]):new bt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new bt.Coverage(w.coverage)}].concat(bt.ushortList("substitute",w.substitute)))},kr[3]=function(w){return Ke.assert(w.substFormat===1,"Lookup type 3 substFormat must be 1."),new bt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new bt.Coverage(w.coverage)}].concat(bt.tableList("altSet",w.alternateSets,function(j){return new bt.Table("alternateSetTable",bt.ushortList("alternate",j))})))},kr[4]=function(w){return Ke.assert(w.substFormat===1,"Lookup type 4 substFormat must be 1."),new bt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new bt.Coverage(w.coverage)}].concat(bt.tableList("ligSet",w.ligatureSets,function(j){return new bt.Table("ligatureSetTable",bt.tableList("ligature",j,function(F){return new bt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:F.ligGlyph}].concat(bt.ushortList("component",F.components,F.components.length+1)))}))})))};var Dr={parse:function(w,j){var F=new h(w,j=j||0),W=F.parseVersion(1);return Ke.argument(W===1||W===1.1,"Unsupported GSUB table version."),W===1?{version:W,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(qt)}:{version:W,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(qt),variations:F.parseFeatureVariationsList()}},make:function(w){return new bt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new bt.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new bt.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new bt.LookupList(w.lookups,kr)}])}},Gr={parse:function(w,j){var F=new v.Parser(w,j),W=F.parseULong();Ke.argument(W===1,"Unsupported META table version."),F.parseULong(),F.parseULong();for(var re=F.parseULong(),ce={},we=0;we<re;we++){var Re=F.parseTag(),qe=F.parseULong(),Qe=F.parseULong(),dt=_t.UTF8(w,j+qe,Qe);ce[Re]=dt}return ce},make:function(w){var j=Object.keys(w).length,F="",W=16+12*j,re=new bt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:W},{name:"numTags",type:"ULONG",value:j}]);for(var ce in w){var we=F.length;F+=w[ce],re.fields.push({name:"tag "+ce,type:"TAG",value:ce}),re.fields.push({name:"offset "+ce,type:"ULONG",value:W+we}),re.fields.push({name:"length "+ce,type:"ULONG",value:w[ce].length})}return re.fields.push({name:"stringPool",type:"CHARARRAY",value:F}),re}};function _n(w){return Math.log(w)/Math.log(2)|0}function Tn(w){for(;w.length%4!=0;)w.push(0);for(var j=0,F=0;F<w.length;F+=4)j+=(w[F]<<24)+(w[F+1]<<16)+(w[F+2]<<8)+w[F+3];return j%=Math.pow(2,32)}function Rn(w,j,F,W){return new bt.Record("Table Record",[{name:"tag",type:"TAG",value:w!==void 0?w:""},{name:"checkSum",type:"ULONG",value:j!==void 0?j:0},{name:"offset",type:"ULONG",value:F!==void 0?F:0},{name:"length",type:"ULONG",value:W!==void 0?W:0}])}function M(w){var j=new bt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);j.tables=w,j.numTables=w.length;var F=Math.pow(2,_n(j.numTables));j.searchRange=16*F,j.entrySelector=_n(F),j.rangeShift=16*j.numTables-j.searchRange;for(var W=[],re=[],ce=j.sizeOf()+Rn().sizeOf()*j.numTables;ce%4!=0;)ce+=1,re.push({name:"padding",type:"BYTE",value:0});for(var we=0;we<w.length;we+=1){var Re=w[we];Ke.argument(Re.tableName.length===4,"Table name"+Re.tableName+" is invalid.");var qe=Re.sizeOf(),Qe=Rn(Re.tableName,Tn(Re.encode()),ce,qe);for(W.push({name:Qe.tag+" Table Record",type:"RECORD",value:Qe}),re.push({name:Re.tableName+" table",type:"RECORD",value:Re}),ce+=qe,Ke.argument(!isNaN(ce),"Something went wrong calculating the offset.");ce%4!=0;)ce+=1,re.push({name:"padding",type:"BYTE",value:0})}return W.sort(function(dt,vt){return dt.value.tag>vt.value.tag?1:-1}),j.fields=j.fields.concat(W),j.fields=j.fields.concat(re),j}function te(w,j,F){for(var W=0;W<j.length;W+=1){var re=w.charToGlyphIndex(j[W]);if(0<re)return w.glyphs.get(re).getMetrics()}return F}var Se={make:M,fontToTable:function(w){for(var j,F=[],W=[],re=[],ce=[],we=[],Re=[],qe=[],Qe=0,dt=0,vt=0,Xe=0,Ut=0,Ft=0;Ft<w.glyphs.length;Ft+=1){var Rt=w.glyphs.get(Ft),Pt=0|Rt.unicode;if(isNaN(Rt.advanceWidth))throw new Error("Glyph "+Rt.name+" ("+Ft+"): advanceWidth is not a number.");(Pt<j||j===void 0)&&0<Pt&&(j=Pt),Qe<Pt&&(Qe=Pt);var kt=Lr.getUnicodeRange(Pt);if(kt<32)dt|=1<<kt;else if(kt<64)vt|=1<<kt-32;else if(kt<96)Xe|=1<<kt-64;else{if(!(kt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ut|=1<<kt-96}if(Rt.name!==".notdef"){var Xt=Rt.getMetrics();F.push(Xt.xMin),W.push(Xt.yMin),re.push(Xt.xMax),ce.push(Xt.yMax),Re.push(Xt.leftSideBearing),qe.push(Xt.rightSideBearing),we.push(Rt.advanceWidth)}}var Zt={xMin:Math.min.apply(null,F),yMin:Math.min.apply(null,W),xMax:Math.max.apply(null,re),yMax:Math.max.apply(null,ce),advanceWidthMax:Math.max.apply(null,we),advanceWidthAvg:function(li){for(var ao=0,ua=0;ua<li.length;ua+=1)ao+=li[ua];return ao/li.length}(we),minLeftSideBearing:Math.min.apply(null,Re),maxLeftSideBearing:Math.max.apply(null,Re),minRightSideBearing:Math.min.apply(null,qe)};Zt.ascender=w.ascender,Zt.descender=w.descender;var hr=nt.make({flags:3,unitsPerEm:w.unitsPerEm,xMin:Zt.xMin,yMin:Zt.yMin,xMax:Zt.xMax,yMax:Zt.yMax,lowestRecPPEM:3,createdTimestamp:w.createdTimestamp}),Yt=Ze.make({ascender:Zt.ascender,descender:Zt.descender,advanceWidthMax:Zt.advanceWidthMax,minLeftSideBearing:Zt.minLeftSideBearing,minRightSideBearing:Zt.minRightSideBearing,xMaxExtent:Zt.maxLeftSideBearing+(Zt.xMax-Zt.xMin),numberOfHMetrics:w.glyphs.length}),Jt=It.make(w.glyphs.length),Rr=Lr.make({xAvgCharWidth:Math.round(Zt.advanceWidthAvg),usWeightClass:w.tables.os2.usWeightClass,usWidthClass:w.tables.os2.usWidthClass,usFirstCharIndex:j,usLastCharIndex:Qe,ulUnicodeRange1:dt,ulUnicodeRange2:vt,ulUnicodeRange3:Xe,ulUnicodeRange4:Ut,fsSelection:w.tables.os2.fsSelection,sTypoAscender:Zt.ascender,sTypoDescender:Zt.descender,sTypoLineGap:0,usWinAscent:Zt.yMax,usWinDescent:Math.abs(Zt.yMin),ulCodePageRange1:1,sxHeight:te(w,"xyvw",{yMax:Math.round(Zt.ascender/2)}).yMax,sCapHeight:te(w,"HIKLEFJMNTZBDPRAGOQSUVWXY",Zt).yMax,usDefaultChar:w.hasChar(" ")?32:0,usBreakChar:w.hasChar(" ")?32:0}),ur=xt.make(w.glyphs),cr=x.make(w.glyphs),gr=w.getEnglishName("fontFamily"),Pr=w.getEnglishName("fontSubfamily"),wr=gr+" "+Pr,Mr=w.getEnglishName("postScriptName");Mr=Mr||gr.replace(/\s/g,"")+"-"+Pr;var Sr={};for(var fr in w.names)Sr[fr]=w.names[fr];Sr.uniqueID||(Sr.uniqueID={en:w.getEnglishName("manufacturer")+":"+wr}),Sr.postScriptName||(Sr.postScriptName={en:Mr}),Sr.preferredFamily||(Sr.preferredFamily=w.names.fontFamily),Sr.preferredSubfamily||(Sr.preferredSubfamily=w.names.fontSubfamily);var Je=[],ot=vr.make(Sr,Je),Ct=0<Je.length?Tt.make(Je):void 0,At=Ar.make(),Wt=lt.make(w.glyphs,{version:w.getEnglishName("version"),fullName:wr,familyName:gr,weightName:Pr,postScriptName:Mr,unitsPerEm:w.unitsPerEm,fontBBox:[0,Zt.yMin,Zt.ascender,Zt.advanceWidthMax]}),zt=w.metas&&0<Object.keys(w.metas).length?Gr.make(w.metas):void 0,Ht=[hr,Yt,Jt,Rr,ot,cr,At,Wt,ur];Ct&&Ht.push(Ct),w.tables.gsub&&Ht.push(Dr.make(w.tables.gsub)),zt&&Ht.push(zt);for(var lr=M(Ht),Yr=Tn(lr.encode()),on=lr.fields,Jr=!1,Cn=0;Cn<on.length;Cn+=1)if(on[Cn].name==="head table"){on[Cn].value.checkSumAdjustment=2981146554-Yr,Jr=!0;break}if(!Jr)throw new Error("Could not find head table with checkSum to adjust.");return lr},computeCheckSum:Tn};function De(w,j){for(var F=0,W=w.length-1;F<=W;){var re=F+W>>>1,ce=w[re].tag;if(ce===j)return re;ce<j?F=1+re:W=re-1}return-F-1}function tt(w,j){for(var F=0,W=w.length-1;F<=W;){var re=F+W>>>1,ce=w[re];if(ce===j)return re;ce<j?F=1+re:W=re-1}return-F-1}function wt(w,j){for(var F,W=0,re=w.length-1;W<=re;){var ce=W+re>>>1,we=(F=w[ce]).start;if(we===j)return F;we<j?W=1+ce:re=ce-1}if(0<W)return j>(F=w[W-1]).end?0:F}function Mt(w,j){this.font=w,this.tableName=j}function Bt(w){Mt.call(this,w,"gpos")}function Vt(w){Mt.call(this,w,"gsub")}function er(w,j){var F=w.length;if(F!==j.length)return!1;for(var W=0;W<F;W++)if(w[W]!==j[W])return!1;return!0}function tr(w,j,F){for(var W=w.subtables,re=0;re<W.length;re++){var ce=W[re];if(ce.substFormat===j)return ce}if(F)return W.push(F),F}function Tr(w){for(var j=new ArrayBuffer(w.length),F=new Uint8Array(j),W=0;W<w.length;++W)F[W]=w[W];return j}function jr(w,j){if(!w)throw j}function Xr(w,j,F,W,re){var ce;return ce=0<(j&W)?(ce=w.parseByte(),(j&re)==0&&(ce=-ce),F+ce):0<(j&re)?F:F+w.parseShort()}function $r(w,j,F){var W,re,ce=new v.Parser(j,F);if(w.numberOfContours=ce.parseShort(),w._xMin=ce.parseShort(),w._yMin=ce.parseShort(),w._xMax=ce.parseShort(),w._yMax=ce.parseShort(),0<w.numberOfContours){for(var we=w.endPointIndices=[],Re=0;Re<w.numberOfContours;Re+=1)we.push(ce.parseUShort());w.instructionLength=ce.parseUShort(),w.instructions=[];for(var qe=0;qe<w.instructionLength;qe+=1)w.instructions.push(ce.parseByte());var Qe=we[we.length-1]+1;W=[];for(var dt=0;dt<Qe;dt+=1)if(re=ce.parseByte(),W.push(re),0<(8&re))for(var vt=ce.parseByte(),Xe=0;Xe<vt;Xe+=1)W.push(re),dt+=1;if(Ke.argument(W.length===Qe,"Bad flags."),0<we.length){var Ut,Ft=[];if(0<Qe){for(var Rt=0;Rt<Qe;Rt+=1)re=W[Rt],(Ut={}).onCurve=!!(1&re),Ut.lastPointOfContour=0<=we.indexOf(Rt),Ft.push(Ut);for(var Pt=0,kt=0;kt<Qe;kt+=1)re=W[kt],(Ut=Ft[kt]).x=Xr(ce,re,Pt,2,16),Pt=Ut.x;for(var Xt=0,Zt=0;Zt<Qe;Zt+=1)re=W[Zt],(Ut=Ft[Zt]).y=Xr(ce,re,Xt,4,32),Xt=Ut.y}w.points=Ft}else w.points=[]}else if(w.numberOfContours===0)w.points=[];else{w.isComposite=!0,w.points=[],w.components=[];for(var hr=!0;hr;){W=ce.parseUShort();var Yt={glyphIndex:ce.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&W)?0<(2&W)?(Yt.dx=ce.parseShort(),Yt.dy=ce.parseShort()):Yt.matchedPoints=[ce.parseUShort(),ce.parseUShort()]:0<(2&W)?(Yt.dx=ce.parseChar(),Yt.dy=ce.parseChar()):Yt.matchedPoints=[ce.parseByte(),ce.parseByte()],0<(8&W)?Yt.xScale=Yt.yScale=ce.parseF2Dot14():0<(64&W)?(Yt.xScale=ce.parseF2Dot14(),Yt.yScale=ce.parseF2Dot14()):0<(128&W)&&(Yt.xScale=ce.parseF2Dot14(),Yt.scale01=ce.parseF2Dot14(),Yt.scale10=ce.parseF2Dot14(),Yt.yScale=ce.parseF2Dot14()),w.components.push(Yt),hr=!!(32&W)}if(256&W){w.instructionLength=ce.parseUShort(),w.instructions=[];for(var Jt=0;Jt<w.instructionLength;Jt+=1)w.instructions.push(ce.parseByte())}}}function nn(w,j){for(var F=[],W=0;W<w.length;W+=1){var re=w[W],ce={x:j.xScale*re.x+j.scale01*re.y+j.dx,y:j.scale10*re.x+j.yScale*re.y+j.dy,onCurve:re.onCurve,lastPointOfContour:re.lastPointOfContour};F.push(ce)}return F}function Zr(w){var j=new Be;if(!w)return j;for(var F=function(vt){for(var Xe=[],Ut=[],Ft=0;Ft<vt.length;Ft+=1){var Rt=vt[Ft];Ut.push(Rt),Rt.lastPointOfContour&&(Xe.push(Ut),Ut=[])}return Ke.argument(Ut.length===0,"There are still points left in the current contour."),Xe}(w),W=0;W<F.length;++W){var re=F[W],ce=null,we=re[re.length-1],Re=re[0];if(we.onCurve)j.moveTo(we.x,we.y);else if(Re.onCurve)j.moveTo(Re.x,Re.y);else{var qe={x:.5*(we.x+Re.x),y:.5*(we.y+Re.y)};j.moveTo(qe.x,qe.y)}for(var Qe=0;Qe<re.length;++Qe)if(ce=we,we=Re,Re=re[(Qe+1)%re.length],we.onCurve)j.lineTo(we.x,we.y);else{var dt=Re;ce.onCurve||(.5*(we.x+ce.x),.5*(we.y+ce.y)),Re.onCurve||(dt={x:.5*(we.x+Re.x),y:.5*(we.y+Re.y)}),j.quadraticCurveTo(we.x,we.y,dt.x,dt.y)}j.closePath()}return j}function hn(w,j){if(j.isComposite)for(var F=0;F<j.components.length;F+=1){var W=j.components[F],re=w.get(W.glyphIndex);if(re.getPath(),re.points){var ce=void 0;if(W.matchedPoints===void 0)ce=nn(re.points,W);else{if(W.matchedPoints[0]>j.points.length-1||W.matchedPoints[1]>re.points.length-1)throw Error("Matched points out of range in "+j.name);var we=j.points[W.matchedPoints[0]],Re=re.points[W.matchedPoints[1]],qe={xScale:W.xScale,scale01:W.scale01,scale10:W.scale10,yScale:W.yScale,dx:0,dy:0};Re=nn([Re],qe)[0],qe.dx=we.x-Re.x,qe.dy=we.y-Re.y,ce=nn(re.points,qe)}j.points=j.points.concat(ce)}}return Zr(j.points)}(Bt.prototype=Mt.prototype={searchTag:De,binSearch:tt,getTable:function(w){var j=this.font.tables[this.tableName];return!j&&w&&(j=this.font.tables[this.tableName]=this.createDefaultTable()),j},getScriptNames:function(){var w=this.getTable();return w?w.scripts.map(function(j){return j.tag}):[]},getDefaultScriptName:function(){var w=this.getTable();if(w){for(var j=!1,F=0;F<w.scripts.length;F++){var W=w.scripts[F].tag;if(W==="DFLT")return W;W==="latn"&&(j=!0)}return j?"latn":void 0}},getScriptTable:function(w,j){var F=this.getTable(j);if(F){w=w||"DFLT";var W=F.scripts,re=De(F.scripts,w);if(0<=re)return W[re].script;if(j){var ce={tag:w,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return W.splice(-1-re,0,ce),ce.script}}},getLangSysTable:function(w,j,F){var W=this.getScriptTable(w,F);if(W){if(!j||j==="dflt"||j==="DFLT")return W.defaultLangSys;var re=De(W.langSysRecords,j);if(0<=re)return W.langSysRecords[re].langSys;if(F){var ce={tag:j,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return W.langSysRecords.splice(-1-re,0,ce),ce.langSys}}},getFeatureTable:function(w,j,F,W){var re=this.getLangSysTable(w,j,W);if(re){for(var ce,we=re.featureIndexes,Re=this.font.tables[this.tableName].features,qe=0;qe<we.length;qe++)if((ce=Re[we[qe]]).tag===F)return ce.feature;if(W){var Qe=Re.length;return Ke.assert(Qe===0||F>=Re[Qe-1].tag,"Features must be added in alphabetical order."),ce={tag:F,feature:{params:0,lookupListIndexes:[]}},Re.push(ce),we.push(Qe),ce.feature}}},getLookupTables:function(w,j,F,W,re){var ce=this.getFeatureTable(w,j,F,re),we=[];if(ce){for(var Re,qe=ce.lookupListIndexes,Qe=this.font.tables[this.tableName].lookups,dt=0;dt<qe.length;dt++)(Re=Qe[qe[dt]]).lookupType===W&&we.push(Re);if(we.length===0&&re){Re={lookupType:W,lookupFlag:0,subtables:[],markFilteringSet:void 0};var vt=Qe.length;return Qe.push(Re),qe.push(vt),[Re]}}return we},getGlyphClass:function(w,j){switch(w.format){case 1:return w.startGlyph<=j&&j<w.startGlyph+w.classes.length?w.classes[j-w.startGlyph]:0;case 2:var F=wt(w.ranges,j);return F?F.classId:0}},getCoverageIndex:function(w,j){switch(w.format){case 1:var F=tt(w.glyphs,j);return 0<=F?F:-1;case 2:var W=wt(w.ranges,j);return W?W.index+j-W.start:-1}},expandCoverage:function(w){if(w.format===1)return w.glyphs;for(var j=[],F=w.ranges,W=0;W<F.length;W++)for(var re=F[W],ce=re.start,we=re.end,Re=ce;Re<=we;Re++)j.push(Re);return j}}).init=function(){var w=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(w)},Bt.prototype.getKerningValue=function(w,j,F){for(var W=0;W<w.length;W++)for(var re=w[W].subtables,ce=0;ce<re.length;ce++){var we=re[ce],Re=this.getCoverageIndex(we.coverage,j);if(!(Re<0))switch(we.posFormat){case 1:for(var qe=we.pairSets[Re],Qe=0;Qe<qe.length;Qe++){var dt=qe[Qe];if(dt.secondGlyph===F)return dt.value1&&dt.value1.xAdvance||0}break;case 2:var vt=this.getGlyphClass(we.classDef1,j),Xe=this.getGlyphClass(we.classDef2,F),Ut=we.classRecords[vt][Xe];return Ut.value1&&Ut.value1.xAdvance||0}}return 0},Bt.prototype.getKerningTables=function(w,j){if(this.font.tables.gpos)return this.getLookupTables(w,j,"kern",2)},(Vt.prototype=Mt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Vt.prototype.getSingle=function(w,j,F){for(var W=[],re=this.getLookupTables(j,F,w,1),ce=0;ce<re.length;ce++)for(var we=re[ce].subtables,Re=0;Re<we.length;Re++){var qe=we[Re],Qe=this.expandCoverage(qe.coverage),dt=void 0;if(qe.substFormat===1){var vt=qe.deltaGlyphId;for(dt=0;dt<Qe.length;dt++){var Xe=Qe[dt];W.push({sub:Xe,by:Xe+vt})}}else{var Ut=qe.substitute;for(dt=0;dt<Qe.length;dt++)W.push({sub:Qe[dt],by:Ut[dt]})}}return W},Vt.prototype.getAlternates=function(w,j,F){for(var W=[],re=this.getLookupTables(j,F,w,3),ce=0;ce<re.length;ce++)for(var we=re[ce].subtables,Re=0;Re<we.length;Re++)for(var qe=we[Re],Qe=this.expandCoverage(qe.coverage),dt=qe.alternateSets,vt=0;vt<Qe.length;vt++)W.push({sub:Qe[vt],by:dt[vt]});return W},Vt.prototype.getLigatures=function(w,j,F){for(var W=[],re=this.getLookupTables(j,F,w,4),ce=0;ce<re.length;ce++)for(var we=re[ce].subtables,Re=0;Re<we.length;Re++)for(var qe=we[Re],Qe=this.expandCoverage(qe.coverage),dt=qe.ligatureSets,vt=0;vt<Qe.length;vt++)for(var Xe=Qe[vt],Ut=dt[vt],Ft=0;Ft<Ut.length;Ft++){var Rt=Ut[Ft];W.push({sub:[Xe].concat(Rt.components),by:Rt.ligGlyph})}return W},Vt.prototype.addSingle=function(w,j,F,W){var re=tr(this.getLookupTables(F,W,w,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Ke.assert(re.coverage.format===1,"Ligature: unable to modify coverage table format "+re.coverage.format);var ce=j.sub,we=this.binSearch(re.coverage.glyphs,ce);we<0&&(we=-1-we,re.coverage.glyphs.splice(we,0,ce),re.substitute.splice(we,0,0)),re.substitute[we]=j.by},Vt.prototype.addAlternate=function(w,j,F,W){var re=tr(this.getLookupTables(F,W,w,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Ke.assert(re.coverage.format===1,"Ligature: unable to modify coverage table format "+re.coverage.format);var ce=j.sub,we=this.binSearch(re.coverage.glyphs,ce);we<0&&(we=-1-we,re.coverage.glyphs.splice(we,0,ce),re.alternateSets.splice(we,0,0)),re.alternateSets[we]=j.by},Vt.prototype.addLigature=function(w,j,F,W){var re=this.getLookupTables(F,W,w,4,!0)[0],ce=re.subtables[0];ce||(ce={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},re.subtables[0]=ce),Ke.assert(ce.coverage.format===1,"Ligature: unable to modify coverage table format "+ce.coverage.format);var we=j.sub[0],Re=j.sub.slice(1),qe={ligGlyph:j.by,components:Re},Qe=this.binSearch(ce.coverage.glyphs,we);if(0<=Qe){for(var dt=ce.ligatureSets[Qe],vt=0;vt<dt.length;vt++)if(er(dt[vt].components,Re))return;dt.push(qe)}else Qe=-1-Qe,ce.coverage.glyphs.splice(Qe,0,we),ce.ligatureSets.splice(Qe,0,[qe])},Vt.prototype.getFeature=function(w,j,F){if(/ss\d\d/.test(w))return this.getSingle(w,j,F);switch(w){case"aalt":case"salt":return this.getSingle(w,j,F).concat(this.getAlternates(w,j,F));case"dlig":case"liga":case"rlig":return this.getLigatures(w,j,F)}},Vt.prototype.add=function(w,j,F,W){if(/ss\d\d/.test(w))return this.addSingle(w,j,F,W);switch(w){case"aalt":case"salt":return typeof j.by=="number"?this.addSingle(w,j,F,W):this.addAlternate(w,j,F,W);case"dlig":case"liga":case"rlig":return this.addLigature(w,j,F,W)}};var bn,Pn,si,ai,oi={getPath:Zr,parse:function(w,j,F,W){for(var re=new z.GlyphSet(W),ce=0;ce<F.length-1;ce+=1){var we=F[ce];we!==F[ce+1]?re.push(ce,z.ttfGlyphLoader(W,ce,$r,w,j+we,hn)):re.push(ce,z.glyphLoader(W,ce))}return re}};function bi(w){this.font=w,this.getCommands=function(j){return oi.getPath(j).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function as(w){return w}function xi(w){return Math.sign(w)*Math.round(Math.abs(w))}function ui(w){return Math.sign(w)*Math.round(Math.abs(2*w))/2}function Fi(w){return Math.sign(w)*(Math.round(Math.abs(w)+.5)-.5)}function os(w){return Math.sign(w)*Math.ceil(Math.abs(w))}function Bi(w){return Math.sign(w)*Math.floor(Math.abs(w))}function wi(w){var j=this.srPeriod,F=this.srPhase,W=1;return w<0&&(w=-w,W=-1),w+=this.srThreshold-F,w=Math.trunc(w/j)*j,(w+=F)<0?F*W:w*W}var Qr={x:1,y:0,axis:"x",distance:function(w,j,F,W){return(F?w.xo:w.x)-(W?j.xo:j.x)},interpolate:function(w,j,F,W){var re,ce,we,Re,qe,Qe,dt;if(!W||W===this)return re=w.xo-j.xo,ce=w.xo-F.xo,qe=j.x-j.xo,Qe=F.x-F.xo,(dt=(we=Math.abs(re))+(Re=Math.abs(ce)))===0?void(w.x=w.xo+(qe+Qe)/2):void(w.x=w.xo+(qe*Re+Qe*we)/dt);re=W.distance(w,j,!0,!0),ce=W.distance(w,F,!0,!0),qe=W.distance(j,j,!1,!0),Qe=W.distance(F,F,!1,!0),(dt=(we=Math.abs(re))+(Re=Math.abs(ce)))!==0?Qr.setRelative(w,w,(qe*Re+Qe*we)/dt,W,!0):Qr.setRelative(w,w,(qe+Qe)/2,W,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(w,j,F,W,re){if(W&&W!==this){var ce=re?j.xo:j.x,we=re?j.yo:j.y,Re=ce+F*W.x,qe=we+F*W.y;w.x=Re+(w.y-qe)/W.normalSlope}else w.x=(re?j.xo:j.x)+F},slope:0,touch:function(w){w.xTouched=!0},touched:function(w){return w.xTouched},untouch:function(w){w.xTouched=!1}},Wr={x:0,y:1,axis:"y",distance:function(w,j,F,W){return(F?w.yo:w.y)-(W?j.yo:j.y)},interpolate:function(w,j,F,W){var re,ce,we,Re,qe,Qe,dt;if(!W||W===this)return re=w.yo-j.yo,ce=w.yo-F.yo,qe=j.y-j.yo,Qe=F.y-F.yo,(dt=(we=Math.abs(re))+(Re=Math.abs(ce)))===0?void(w.y=w.yo+(qe+Qe)/2):void(w.y=w.yo+(qe*Re+Qe*we)/dt);re=W.distance(w,j,!0,!0),ce=W.distance(w,F,!0,!0),qe=W.distance(j,j,!1,!0),Qe=W.distance(F,F,!1,!0),(dt=(we=Math.abs(re))+(Re=Math.abs(ce)))!==0?Wr.setRelative(w,w,(qe*Re+Qe*we)/dt,W,!0):Wr.setRelative(w,w,(qe+Qe)/2,W,!0)},normalSlope:0,setRelative:function(w,j,F,W,re){if(W&&W!==this){var ce=re?j.xo:j.x,we=re?j.yo:j.y,Re=ce+F*W.x,qe=we+F*W.y;w.y=qe+W.normalSlope*(w.x-Re)}else w.y=(re?j.yo:j.y)+F},slope:Number.POSITIVE_INFINITY,touch:function(w){w.yTouched=!0},touched:function(w){return w.yTouched},untouch:function(w){w.yTouched=!1}};function Hn(w,j){this.x=w,this.y=j,this.axis=void 0,this.slope=j/w,this.normalSlope=-w/j,Object.freeze(this)}function Nn(w,j){var F=Math.sqrt(w*w+j*j);return j/=F,(w/=F)===1&&j===0?Qr:w===0&&j===1?Wr:new Hn(w,j)}function sn(w,j,F,W){this.x=this.xo=Math.round(64*w)/64,this.y=this.yo=Math.round(64*j)/64,this.lastPointOfContour=F,this.onCurve=W,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Qr),Object.freeze(Wr),Hn.prototype.distance=function(w,j,F,W){return this.x*Qr.distance(w,j,F,W)+this.y*Wr.distance(w,j,F,W)},Hn.prototype.interpolate=function(w,j,F,W){var re,ce,we,Re,qe,Qe,dt;we=W.distance(w,j,!0,!0),Re=W.distance(w,F,!0,!0),re=W.distance(j,j,!1,!0),ce=W.distance(F,F,!1,!0),(dt=(qe=Math.abs(we))+(Qe=Math.abs(Re)))!==0?this.setRelative(w,w,(re*Qe+ce*qe)/dt,W,!0):this.setRelative(w,w,(re+ce)/2,W,!0)},Hn.prototype.setRelative=function(w,j,F,W,re){W=W||this;var ce=re?j.xo:j.x,we=re?j.yo:j.y,Re=ce+F*W.x,qe=we+F*W.y,Qe=W.normalSlope,dt=this.slope,vt=w.x,Xe=w.y;w.x=(dt*vt-Qe*Re+qe-Xe)/(dt-Qe),w.y=dt*(w.x-vt)+Xe},Hn.prototype.touch=function(w){w.xTouched=!0,w.yTouched=!0},sn.prototype.nextTouched=function(w){for(var j=this.nextPointOnContour;!w.touched(j)&&j!==this;)j=j.nextPointOnContour;return j},sn.prototype.prevTouched=function(w){for(var j=this.prevPointOnContour;!w.touched(j)&&j!==this;)j=j.prevPointOnContour;return j};var xn=Object.freeze(new sn(0,0)),Ui={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function an(w,j){switch(this.env=w,this.stack=[],this.prog=j,w){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Qr,this.round=xi}}function Dn(w){for(var j=w.tZone=new Array(w.gZone.length),F=0;F<j.length;F++)j[F]=new sn(0,0)}function Si(w,j){var F,W=w.prog,re=w.ip,ce=1;do if((F=W[++re])===88)ce++;else if(F===89)ce--;else if(F===64)re+=W[re+1]+1;else if(F===65)re+=2*W[re+1]+1;else if(176<=F&&F<=183)re+=F-176+1;else if(184<=F&&F<=191)re+=2*(F-184+1);else if(j&&ce===1&&F===27)break;while(0<ce);w.ip=re}function Ci(w,j){f.DEBUG&&console.log(j.step,"SVTCA["+w.axis+"]"),j.fv=j.pv=j.dpv=w}function Ti(w,j){f.DEBUG&&console.log(j.step,"SPVTCA["+w.axis+"]"),j.pv=j.dpv=w}function Wn(w,j){f.DEBUG&&console.log(j.step,"SFVTCA["+w.axis+"]"),j.fv=w}function wn(w,j){var F,W,re=j.stack,ce=re.pop(),we=re.pop(),Re=j.z2[ce],qe=j.z1[we];f.DEBUG&&console.log("SPVTL["+w+"]",ce,we),W=w?(F=Re.y-qe.y,qe.x-Re.x):(F=qe.x-Re.x,qe.y-Re.y),j.pv=j.dpv=Nn(F,W)}function Fn(w,j){var F,W,re=j.stack,ce=re.pop(),we=re.pop(),Re=j.z2[ce],qe=j.z1[we];f.DEBUG&&console.log("SFVTL["+w+"]",ce,we),W=w?(F=Re.y-qe.y,qe.x-Re.x):(F=qe.x-Re.x,qe.y-Re.y),j.fv=Nn(F,W)}function Xn(w){f.DEBUG&&console.log(w.step,"POP[]"),w.stack.pop()}function gn(w,j){var F=j.stack.pop(),W=j.z0[F],re=j.fv,ce=j.pv;f.DEBUG&&console.log(j.step,"MDAP["+w+"]",F);var we=ce.distance(W,xn);w&&(we=j.round(we)),re.setRelative(W,xn,we,ce),re.touch(W),j.rp0=j.rp1=F}function Zn(w,j){var F,W,re,ce=j.z2,we=ce.length-2;f.DEBUG&&console.log(j.step,"IUP["+w.axis+"]");for(var Re=0;Re<we;Re++)F=ce[Re],w.touched(F)||(W=F.prevTouched(w))!==F&&(W===(re=F.nextTouched(w))&&w.setRelative(F,F,w.distance(W,W,!1,!0),w,!0),w.interpolate(F,W,re,w))}function Br(w,j){for(var F=j.stack,W=w?j.rp1:j.rp2,re=(w?j.z0:j.z1)[W],ce=j.fv,we=j.pv,Re=j.loop,qe=j.z2;Re--;){var Qe=F.pop(),dt=qe[Qe],vt=we.distance(re,re,!1,!0);ce.setRelative(dt,dt,vt,we),ce.touch(dt),f.DEBUG&&console.log(j.step,(1<j.loop?"loop "+(j.loop-Re)+": ":"")+"SHP["+(w?"rp1":"rp2")+"]",Qe)}j.loop=1}function Yn(w,j){var F=j.stack,W=w?j.rp1:j.rp2,re=(w?j.z0:j.z1)[W],ce=j.fv,we=j.pv,Re=F.pop(),qe=j.z2[j.contours[Re]],Qe=qe;f.DEBUG&&console.log(j.step,"SHC["+w+"]",Re);for(var dt=we.distance(re,re,!1,!0);Qe!==re&&ce.setRelative(Qe,Qe,dt,we),(Qe=Qe.nextPointOnContour)!==qe;);}function Kn(w,j){var F,W,re=j.stack,ce=w?j.rp1:j.rp2,we=(w?j.z0:j.z1)[ce],Re=j.fv,qe=j.pv,Qe=re.pop();switch(f.DEBUG&&console.log(j.step,"SHZ["+w+"]",Qe),Qe){case 0:F=j.tZone;break;case 1:F=j.gZone;break;default:throw new Error("Invalid zone")}for(var dt=qe.distance(we,we,!1,!0),vt=F.length-2,Xe=0;Xe<vt;Xe++)W=F[Xe],Re.setRelative(W,W,dt,qe)}function kn(w,j){var F=j.stack,W=F.pop()/64,re=F.pop(),ce=j.z1[re],we=j.z0[j.rp0],Re=j.fv,qe=j.pv;Re.setRelative(ce,we,W,qe),Re.touch(ce),f.DEBUG&&console.log(j.step,"MSIRP["+w+"]",W,re),j.rp1=j.rp0,j.rp2=re,w&&(j.rp0=re)}function Pi(w,j){var F=j.stack,W=F.pop(),re=F.pop(),ce=j.z0[re],we=j.fv,Re=j.pv,qe=j.cvt[W];f.DEBUG&&console.log(j.step,"MIAP["+w+"]",W,"(",qe,")",re);var Qe=Re.distance(ce,xn);w&&(Math.abs(Qe-qe)<j.cvCutIn&&(Qe=qe),Qe=j.round(Qe)),we.setRelative(ce,xn,Qe,Re),j.zp0===0&&(ce.xo=ce.x,ce.yo=ce.y),we.touch(ce),j.rp0=j.rp1=re}function Vi(w,j){var F=j.stack,W=F.pop(),re=j.z2[W];f.DEBUG&&console.log(j.step,"GC["+w+"]",W),F.push(64*j.dpv.distance(re,xn,w,!1))}function ki(w,j){var F=j.stack,W=F.pop(),re=F.pop(),ce=j.z1[W],we=j.z0[re],Re=j.dpv.distance(we,ce,w,w);f.DEBUG&&console.log(j.step,"MD["+w+"]",W,re,"->",Re),j.stack.push(Math.round(64*Re))}function Ei(w,j){var F=j.stack,W=F.pop(),re=j.fv,ce=j.pv,we=j.ppem,Re=j.deltaBase+16*(w-1),qe=j.deltaShift,Qe=j.z0;f.DEBUG&&console.log(j.step,"DELTAP["+w+"]",W,F);for(var dt=0;dt<W;dt++){var vt=F.pop(),Xe=F.pop();if(Re+((240&Xe)>>4)===we){var Ut=(15&Xe)-8;0<=Ut&&Ut++,f.DEBUG&&console.log(j.step,"DELTAPFIX",vt,"by",Ut*qe);var Ft=Qe[vt];re.setRelative(Ft,Ft,Ut*qe,ce)}}}function $n(w,j){var F=j.stack,W=F.pop();f.DEBUG&&console.log(j.step,"ROUND[]"),F.push(64*j.round(W/64))}function fe(w,j){var F=j.stack,W=F.pop(),re=j.ppem,ce=j.deltaBase+16*(w-1),we=j.deltaShift;f.DEBUG&&console.log(j.step,"DELTAC["+w+"]",W,F);for(var Re=0;Re<W;Re++){var qe=F.pop(),Qe=F.pop();if(ce+((240&Qe)>>4)===re){var dt=(15&Qe)-8;0<=dt&&dt++;var vt=dt*we;f.DEBUG&&console.log(j.step,"DELTACFIX",qe,"by",vt),j.cvt[qe]+=vt}}}function A(w,j){var F,W,re=j.stack,ce=re.pop(),we=re.pop(),Re=j.z2[ce],qe=j.z1[we];f.DEBUG&&console.log(j.step,"SDPVTL["+w+"]",ce,we),W=w?(F=Re.y-qe.y,qe.x-Re.x):(F=qe.x-Re.x,qe.y-Re.y),j.dpv=Nn(F,W)}function q(w,j){var F=j.stack,W=j.prog,re=j.ip;f.DEBUG&&console.log(j.step,"PUSHB["+w+"]");for(var ce=0;ce<w;ce++)F.push(W[++re]);j.ip=re}function Q(w,j){var F=j.ip,W=j.prog,re=j.stack;f.DEBUG&&console.log(j.ip,"PUSHW["+w+"]");for(var ce=0;ce<w;ce++){var we=W[++F]<<8|W[++F];32768&we&&(we=-(1+(65535^we))),re.push(we)}j.ip=F}function Ae(w,j,F,W,re,ce){var we,Re,qe,Qe,dt=ce.stack,vt=w&&dt.pop(),Xe=dt.pop(),Ut=ce.rp0,Ft=ce.z0[Ut],Rt=ce.z1[Xe],Pt=ce.minDis,kt=ce.fv,Xt=ce.dpv;qe=0<=(Re=we=Xt.distance(Rt,Ft,!0,!0))?1:-1,Re=Math.abs(Re),w&&(Qe=ce.cvt[vt],W&&Math.abs(Re-Qe)<ce.cvCutIn&&(Re=Qe)),F&&Re<Pt&&(Re=Pt),W&&(Re=ce.round(Re)),kt.setRelative(Rt,Ft,qe*Re,Xt),kt.touch(Rt),f.DEBUG&&console.log(ce.step,(w?"MIRP[":"MDRP[")+(j?"M":"m")+(F?">":"_")+(W?"R":"_")+(re===0?"Gr":re===1?"Bl":re===2?"Wh":"")+"]",w?vt+"("+ce.cvt[vt]+","+Qe+")":"",Xe,"(d =",we,"->",qe*Re,")"),ce.rp1=ce.rp0,ce.rp2=Xe,j&&(ce.rp0=Xe)}bi.prototype.exec=function(w,j){if(typeof j!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var F=this.font,W=this._prepState;if(!W||W.ppem!==j){var re=this._fpgmState;if(!re){an.prototype=Ui,(re=this._fpgmState=new an("fpgm",F.tables.fpgm)).funcs=[],re.font=F,f.DEBUG&&(console.log("---EXEC FPGM---"),re.step=-1);try{Pn(re)}catch(Qe){return console.log("Hinting error in FPGM:"+Qe),void(this._errorState=3)}}an.prototype=re,(W=this._prepState=new an("prep",F.tables.prep)).ppem=j;var ce=F.tables.cvt;if(ce)for(var we=W.cvt=new Array(ce.length),Re=j/F.unitsPerEm,qe=0;qe<ce.length;qe++)we[qe]=ce[qe]*Re;else W.cvt=[];f.DEBUG&&(console.log("---EXEC PREP---"),W.step=-1);try{Pn(W)}catch(Qe){this._errorState<2&&console.log("Hinting error in PREP:"+Qe),this._errorState=2}}if(!(1<this._errorState))try{return si(w,W)}catch(Qe){return this._errorState<1&&(console.log("Hinting error:"+Qe),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},si=function(w,j){var F,W,re,ce=j.ppem/j.font.unitsPerEm,we=ce,Re=w.components;if(an.prototype=j,Re){var qe=j.font;W=[],F=[];for(var Qe=0;Qe<Re.length;Qe++){var dt=Re[Qe],vt=qe.glyphs.get(dt.glyphIndex);re=new an("glyf",vt.instructions),f.DEBUG&&(console.log("---EXEC COMP "+Qe+"---"),re.step=-1),ai(vt,re,ce,we);for(var Xe=Math.round(dt.dx*ce),Ut=Math.round(dt.dy*we),Ft=re.gZone,Rt=re.contours,Pt=0;Pt<Ft.length;Pt++){var kt=Ft[Pt];kt.xTouched=kt.yTouched=!1,kt.xo=kt.x=kt.x+Xe,kt.yo=kt.y=kt.y+Ut}var Xt=W.length;W.push.apply(W,Ft);for(var Zt=0;Zt<Rt.length;Zt++)F.push(Rt[Zt]+Xt)}w.instructions&&!re.inhibitGridFit&&((re=new an("glyf",w.instructions)).gZone=re.z0=re.z1=re.z2=W,re.contours=F,W.push(new sn(0,0),new sn(Math.round(w.advanceWidth*ce),0)),f.DEBUG&&(console.log("---EXEC COMPOSITE---"),re.step=-1),Pn(re),W.length-=2)}else re=new an("glyf",w.instructions),f.DEBUG&&(console.log("---EXEC GLYPH---"),re.step=-1),ai(w,re,ce,we),W=re.gZone;return W},ai=function(w,j,F,W){for(var re,ce,we,Re=w.points||[],qe=Re.length,Qe=j.gZone=j.z0=j.z1=j.z2=[],dt=j.contours=[],vt=0;vt<qe;vt++)re=Re[vt],Qe[vt]=new sn(re.x*F,re.y*W,re.lastPointOfContour,re.onCurve);for(var Xe=0;Xe<qe;Xe++)re=Qe[Xe],ce||(ce=re,dt.push(Xe)),re.lastPointOfContour?((re.nextPointOnContour=ce).prevPointOnContour=re,ce=void 0):(we=Qe[Xe+1],(re.nextPointOnContour=we).prevPointOnContour=re);if(!j.inhibitGridFit){if(f.DEBUG){console.log("PROCESSING GLYPH",j.stack);for(var Ut=0;Ut<qe;Ut++)console.log(Ut,Qe[Ut].x,Qe[Ut].y)}if(Qe.push(new sn(0,0),new sn(Math.round(w.advanceWidth*F),0)),Pn(j),Qe.length-=2,f.DEBUG){console.log("FINISHED GLYPH",j.stack);for(var Ft=0;Ft<qe;Ft++)console.log(Ft,Qe[Ft].x,Qe[Ft].y)}}},Pn=function(w){var j=w.prog;if(j){var F,W=j.length;for(w.ip=0;w.ip<W;w.ip++){if(f.DEBUG&&w.step++,!(F=bn[j[w.ip]]))throw new Error("unknown instruction: 0x"+Number(j[w.ip]).toString(16));F(w)}}},bn=[Ci.bind(void 0,Wr),Ci.bind(void 0,Qr),Ti.bind(void 0,Wr),Ti.bind(void 0,Qr),Wn.bind(void 0,Wr),Wn.bind(void 0,Qr),wn.bind(void 0,0),wn.bind(void 0,1),Fn.bind(void 0,0),Fn.bind(void 0,1),function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"SPVFS[]",F,W),w.pv=w.dpv=Nn(W,F)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"SPVFS[]",F,W),w.fv=Nn(W,F)},function(w){var j=w.stack,F=w.pv;f.DEBUG&&console.log(w.step,"GPV[]"),j.push(16384*F.x),j.push(16384*F.y)},function(w){var j=w.stack,F=w.fv;f.DEBUG&&console.log(w.step,"GFV[]"),j.push(16384*F.x),j.push(16384*F.y)},function(w){w.fv=w.pv,f.DEBUG&&console.log(w.step,"SFVTPV[]")},function(w){var j=w.stack,F=j.pop(),W=j.pop(),re=j.pop(),ce=j.pop(),we=j.pop(),Re=w.z0,qe=w.z1,Qe=Re[F],dt=Re[W],vt=qe[re],Xe=qe[ce],Ut=w.z2[we];f.DEBUG&&console.log("ISECT[], ",F,W,re,ce,we);var Ft=Qe.x,Rt=Qe.y,Pt=dt.x,kt=dt.y,Xt=vt.x,Zt=vt.y,hr=Xe.x,Yt=Xe.y,Jt=(Ft-Pt)*(Zt-Yt)-(Rt-kt)*(Xt-hr),Rr=Ft*kt-Rt*Pt,ur=Xt*Yt-Zt*hr;Ut.x=(Rr*(Xt-hr)-ur*(Ft-Pt))/Jt,Ut.y=(Rr*(Zt-Yt)-ur*(Rt-kt))/Jt},function(w){w.rp0=w.stack.pop(),f.DEBUG&&console.log(w.step,"SRP0[]",w.rp0)},function(w){w.rp1=w.stack.pop(),f.DEBUG&&console.log(w.step,"SRP1[]",w.rp1)},function(w){w.rp2=w.stack.pop(),f.DEBUG&&console.log(w.step,"SRP2[]",w.rp2)},function(w){var j=w.stack.pop();switch(f.DEBUG&&console.log(w.step,"SZP0[]",j),w.zp0=j){case 0:w.tZone||Dn(w),w.z0=w.tZone;break;case 1:w.z0=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var j=w.stack.pop();switch(f.DEBUG&&console.log(w.step,"SZP1[]",j),w.zp1=j){case 0:w.tZone||Dn(w),w.z1=w.tZone;break;case 1:w.z1=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var j=w.stack.pop();switch(f.DEBUG&&console.log(w.step,"SZP2[]",j),w.zp2=j){case 0:w.tZone||Dn(w),w.z2=w.tZone;break;case 1:w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var j=w.stack.pop();switch(f.DEBUG&&console.log(w.step,"SZPS[]",j),w.zp0=w.zp1=w.zp2=j,j){case 0:w.tZone||Dn(w),w.z0=w.z1=w.z2=w.tZone;break;case 1:w.z0=w.z1=w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){w.loop=w.stack.pop(),f.DEBUG&&console.log(w.step,"SLOOP[]",w.loop)},function(w){f.DEBUG&&console.log(w.step,"RTG[]"),w.round=xi},function(w){f.DEBUG&&console.log(w.step,"RTHG[]"),w.round=Fi},function(w){var j=w.stack.pop();f.DEBUG&&console.log(w.step,"SMD[]",j),w.minDis=j/64},function(w){f.DEBUG&&console.log(w.step,"ELSE[]"),Si(w,!1)},function(w){var j=w.stack.pop();f.DEBUG&&console.log(w.step,"JMPR[]",j),w.ip+=j-1},function(w){var j=w.stack.pop();f.DEBUG&&console.log(w.step,"SCVTCI[]",j),w.cvCutIn=j/64},void 0,void 0,function(w){var j=w.stack;f.DEBUG&&console.log(w.step,"DUP[]"),j.push(j[j.length-1])},Xn,function(w){f.DEBUG&&console.log(w.step,"CLEAR[]"),w.stack.length=0},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"SWAP[]"),j.push(F),j.push(W)},function(w){var j=w.stack;f.DEBUG&&console.log(w.step,"DEPTH[]"),j.push(j.length)},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"CINDEX[]",F),j.push(j[j.length-F])},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"MINDEX[]",F),j.push(j.splice(j.length-F,1)[0])},void 0,void 0,void 0,function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"LOOPCALL[]",F,W);var re=w.ip,ce=w.prog;w.prog=w.funcs[F];for(var we=0;we<W;we++)Pn(w),f.DEBUG&&console.log(++w.step,we+1<W?"next loopcall":"done loopcall",we);w.ip=re,w.prog=ce},function(w){var j=w.stack.pop();f.DEBUG&&console.log(w.step,"CALL[]",j);var F=w.ip,W=w.prog;w.prog=w.funcs[j],Pn(w),w.ip=F,w.prog=W,f.DEBUG&&console.log(++w.step,"returning from",j)},function(w){if(w.env!=="fpgm")throw new Error("FDEF not allowed here");var j=w.stack,F=w.prog,W=w.ip,re=j.pop(),ce=W;for(f.DEBUG&&console.log(w.step,"FDEF[]",re);F[++W]!==45;);w.ip=W,w.funcs[re]=F.slice(ce+1,W)},void 0,gn.bind(void 0,0),gn.bind(void 0,1),Zn.bind(void 0,Wr),Zn.bind(void 0,Qr),Br.bind(void 0,0),Br.bind(void 0,1),Yn.bind(void 0,0),Yn.bind(void 0,1),Kn.bind(void 0,0),Kn.bind(void 0,1),function(w){for(var j=w.stack,F=w.loop,W=w.fv,re=j.pop()/64,ce=w.z2;F--;){var we=j.pop(),Re=ce[we];f.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-F)+": ":"")+"SHPIX[]",we,re),W.setRelative(Re,Re,re),W.touch(Re)}w.loop=1},function(w){for(var j=w.stack,F=w.rp1,W=w.rp2,re=w.loop,ce=w.z0[F],we=w.z1[W],Re=w.fv,qe=w.dpv,Qe=w.z2;re--;){var dt=j.pop(),vt=Qe[dt];f.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-re)+": ":"")+"IP[]",dt,F,"<->",W),Re.interpolate(vt,ce,we,qe),Re.touch(vt)}w.loop=1},kn.bind(void 0,0),kn.bind(void 0,1),function(w){for(var j=w.stack,F=w.rp0,W=w.z0[F],re=w.loop,ce=w.fv,we=w.pv,Re=w.z1;re--;){var qe=j.pop(),Qe=Re[qe];f.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-re)+": ":"")+"ALIGNRP[]",qe),ce.setRelative(Qe,W,0,we),ce.touch(Qe)}w.loop=1},function(w){f.DEBUG&&console.log(w.step,"RTDG[]"),w.round=ui},Pi.bind(void 0,0),Pi.bind(void 0,1),function(w){var j=w.prog,F=w.ip,W=w.stack,re=j[++F];f.DEBUG&&console.log(w.step,"NPUSHB[]",re);for(var ce=0;ce<re;ce++)W.push(j[++F]);w.ip=F},function(w){var j=w.ip,F=w.prog,W=w.stack,re=F[++j];f.DEBUG&&console.log(w.step,"NPUSHW[]",re);for(var ce=0;ce<re;ce++){var we=F[++j]<<8|F[++j];32768&we&&(we=-(1+(65535^we))),W.push(we)}w.ip=j},function(w){var j=w.stack,F=w.store;F=F||(w.store=[]);var W=j.pop(),re=j.pop();f.DEBUG&&console.log(w.step,"WS",W,re),F[re]=W},function(w){var j=w.stack,F=w.store,W=j.pop();f.DEBUG&&console.log(w.step,"RS",W);var re=F&&F[W]||0;j.push(re)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"WCVTP",F,W),w.cvt[W]=F/64},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"RCVT",F),j.push(64*w.cvt[F])},Vi.bind(void 0,0),Vi.bind(void 0,1),void 0,ki.bind(void 0,0),ki.bind(void 0,1),function(w){f.DEBUG&&console.log(w.step,"MPPEM[]"),w.stack.push(w.ppem)},void 0,function(w){f.DEBUG&&console.log(w.step,"FLIPON[]"),w.autoFlip=!0},void 0,void 0,function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"LT[]",F,W),j.push(W<F?1:0)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"LTEQ[]",F,W),j.push(W<=F?1:0)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"GT[]",F,W),j.push(F<W?1:0)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"GTEQ[]",F,W),j.push(F<=W?1:0)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"EQ[]",F,W),j.push(F===W?1:0)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"NEQ[]",F,W),j.push(F!==W?1:0)},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"ODD[]",F),j.push(Math.trunc(F)%2?1:0)},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"EVEN[]",F),j.push(Math.trunc(F)%2?0:1)},function(w){var j=w.stack.pop();f.DEBUG&&console.log(w.step,"IF[]",j),j||(Si(w,!0),f.DEBUG&&console.log(w.step,"EIF[]"))},function(w){f.DEBUG&&console.log(w.step,"EIF[]")},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"AND[]",F,W),j.push(F&&W?1:0)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"OR[]",F,W),j.push(F||W?1:0)},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"NOT[]",F),j.push(F?0:1)},Ei.bind(void 0,1),function(w){var j=w.stack.pop();f.DEBUG&&console.log(w.step,"SDB[]",j),w.deltaBase=j},function(w){var j=w.stack.pop();f.DEBUG&&console.log(w.step,"SDS[]",j),w.deltaShift=Math.pow(.5,j)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"ADD[]",F,W),j.push(W+F)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"SUB[]",F,W),j.push(W-F)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"DIV[]",F,W),j.push(64*W/F)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"MUL[]",F,W),j.push(W*F/64)},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"ABS[]",F),j.push(Math.abs(F))},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"NEG[]",F),j.push(-F)},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"FLOOR[]",F),j.push(64*Math.floor(F/64))},function(w){var j=w.stack,F=j.pop();f.DEBUG&&console.log(w.step,"CEILING[]",F),j.push(64*Math.ceil(F/64))},$n.bind(void 0,0),$n.bind(void 0,1),$n.bind(void 0,2),$n.bind(void 0,3),void 0,void 0,void 0,void 0,function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"WCVTF[]",F,W),w.cvt[W]=F*w.ppem/w.font.unitsPerEm},Ei.bind(void 0,2),Ei.bind(void 0,3),fe.bind(void 0,1),fe.bind(void 0,2),fe.bind(void 0,3),function(w){var j,F=w.stack.pop();switch(f.DEBUG&&console.log(w.step,"SROUND[]",F),w.round=wi,192&F){case 0:j=.5;break;case 64:j=1;break;case 128:j=2;break;default:throw new Error("invalid SROUND value")}switch(w.srPeriod=j,48&F){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*j;break;case 32:w.srPhase=.5*j;break;case 48:w.srPhase=.75*j;break;default:throw new Error("invalid SROUND value")}F&=15,w.srThreshold=F===0?0:(F/8-.5)*j},function(w){var j,F=w.stack.pop();switch(f.DEBUG&&console.log(w.step,"S45ROUND[]",F),w.round=wi,192&F){case 0:j=Math.sqrt(2)/2;break;case 64:j=Math.sqrt(2);break;case 128:j=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(w.srPeriod=j,48&F){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*j;break;case 32:w.srPhase=.5*j;break;case 48:w.srPhase=.75*j;break;default:throw new Error("invalid S45ROUND value")}F&=15,w.srThreshold=F===0?0:(F/8-.5)*j},void 0,void 0,function(w){f.DEBUG&&console.log(w.step,"ROFF[]"),w.round=as},void 0,function(w){f.DEBUG&&console.log(w.step,"RUTG[]"),w.round=os},function(w){f.DEBUG&&console.log(w.step,"RDTG[]"),w.round=Bi},Xn,Xn,void 0,void 0,void 0,void 0,void 0,function(w){var j=w.stack.pop();f.DEBUG&&console.log(w.step,"SCANCTRL[]",j)},A.bind(void 0,0),A.bind(void 0,1),function(w){var j=w.stack,F=j.pop(),W=0;f.DEBUG&&console.log(w.step,"GETINFO[]",F),1&F&&(W=35),32&F&&(W|=4096),j.push(W)},void 0,function(w){var j=w.stack,F=j.pop(),W=j.pop(),re=j.pop();f.DEBUG&&console.log(w.step,"ROLL[]"),j.push(W),j.push(F),j.push(re)},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"MAX[]",F,W),j.push(Math.max(W,F))},function(w){var j=w.stack,F=j.pop(),W=j.pop();f.DEBUG&&console.log(w.step,"MIN[]",F,W),j.push(Math.min(W,F))},function(w){var j=w.stack.pop();f.DEBUG&&console.log(w.step,"SCANTYPE[]",j)},function(w){var j=w.stack.pop(),F=w.stack.pop();switch(f.DEBUG&&console.log(w.step,"INSTCTRL[]",j,F),j){case 1:return void(w.inhibitGridFit=!!F);case 2:return void(w.ignoreCvt=!!F);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,q.bind(void 0,1),q.bind(void 0,2),q.bind(void 0,3),q.bind(void 0,4),q.bind(void 0,5),q.bind(void 0,6),q.bind(void 0,7),q.bind(void 0,8),Q.bind(void 0,1),Q.bind(void 0,2),Q.bind(void 0,3),Q.bind(void 0,4),Q.bind(void 0,5),Q.bind(void 0,6),Q.bind(void 0,7),Q.bind(void 0,8),Ae.bind(void 0,0,0,0,0,0),Ae.bind(void 0,0,0,0,0,1),Ae.bind(void 0,0,0,0,0,2),Ae.bind(void 0,0,0,0,0,3),Ae.bind(void 0,0,0,0,1,0),Ae.bind(void 0,0,0,0,1,1),Ae.bind(void 0,0,0,0,1,2),Ae.bind(void 0,0,0,0,1,3),Ae.bind(void 0,0,0,1,0,0),Ae.bind(void 0,0,0,1,0,1),Ae.bind(void 0,0,0,1,0,2),Ae.bind(void 0,0,0,1,0,3),Ae.bind(void 0,0,0,1,1,0),Ae.bind(void 0,0,0,1,1,1),Ae.bind(void 0,0,0,1,1,2),Ae.bind(void 0,0,0,1,1,3),Ae.bind(void 0,0,1,0,0,0),Ae.bind(void 0,0,1,0,0,1),Ae.bind(void 0,0,1,0,0,2),Ae.bind(void 0,0,1,0,0,3),Ae.bind(void 0,0,1,0,1,0),Ae.bind(void 0,0,1,0,1,1),Ae.bind(void 0,0,1,0,1,2),Ae.bind(void 0,0,1,0,1,3),Ae.bind(void 0,0,1,1,0,0),Ae.bind(void 0,0,1,1,0,1),Ae.bind(void 0,0,1,1,0,2),Ae.bind(void 0,0,1,1,0,3),Ae.bind(void 0,0,1,1,1,0),Ae.bind(void 0,0,1,1,1,1),Ae.bind(void 0,0,1,1,1,2),Ae.bind(void 0,0,1,1,1,3),Ae.bind(void 0,1,0,0,0,0),Ae.bind(void 0,1,0,0,0,1),Ae.bind(void 0,1,0,0,0,2),Ae.bind(void 0,1,0,0,0,3),Ae.bind(void 0,1,0,0,1,0),Ae.bind(void 0,1,0,0,1,1),Ae.bind(void 0,1,0,0,1,2),Ae.bind(void 0,1,0,0,1,3),Ae.bind(void 0,1,0,1,0,0),Ae.bind(void 0,1,0,1,0,1),Ae.bind(void 0,1,0,1,0,2),Ae.bind(void 0,1,0,1,0,3),Ae.bind(void 0,1,0,1,1,0),Ae.bind(void 0,1,0,1,1,1),Ae.bind(void 0,1,0,1,1,2),Ae.bind(void 0,1,0,1,1,3),Ae.bind(void 0,1,1,0,0,0),Ae.bind(void 0,1,1,0,0,1),Ae.bind(void 0,1,1,0,0,2),Ae.bind(void 0,1,1,0,0,3),Ae.bind(void 0,1,1,0,1,0),Ae.bind(void 0,1,1,0,1,1),Ae.bind(void 0,1,1,0,1,2),Ae.bind(void 0,1,1,0,1,3),Ae.bind(void 0,1,1,1,0,0),Ae.bind(void 0,1,1,1,0,1),Ae.bind(void 0,1,1,1,0,2),Ae.bind(void 0,1,1,1,0,3),Ae.bind(void 0,1,1,1,1,0),Ae.bind(void 0,1,1,1,1,1),Ae.bind(void 0,1,1,1,1,2),Ae.bind(void 0,1,1,1,1,3)];var et=Array.from||function(w){return w.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function ct(w){(w=w||{}).empty||(jr(w.familyName,"When creating a new Font object, familyName is required."),jr(w.styleName,"When creating a new Font object, styleName is required."),jr(w.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),jr(w.ascender,"When creating a new Font object, ascender is required."),jr(w.descender,"When creating a new Font object, descender is required."),jr(w.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:w.familyName||" "},fontSubfamily:{en:w.styleName||" "},fullName:{en:w.fullName||w.familyName+" "+w.styleName},postScriptName:{en:w.postScriptName||(w.familyName+w.styleName).replace(/\s/g,"")},designer:{en:w.designer||" "},designerURL:{en:w.designerURL||" "},manufacturer:{en:w.manufacturer||" "},manufacturerURL:{en:w.manufacturerURL||" "},license:{en:w.license||" "},licenseURL:{en:w.licenseURL||" "},version:{en:w.version||"Version 0.1"},description:{en:w.description||" "},copyright:{en:w.copyright||" "},trademark:{en:w.trademark||" "}},this.unitsPerEm=w.unitsPerEm||1e3,this.ascender=w.ascender,this.descender=w.descender,this.createdTimestamp=w.createdTimestamp,this.tables={os2:{usWeightClass:w.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:w.widthClass||this.usWidthClasses.MEDIUM,fsSelection:w.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new z.GlyphSet(this,w.glyphs||[]),this.encoding=new D(this),this.position=new Bt(this),this.substitution=new Vt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:this.outlinesFormat==="truetype"?this._hinting=new bi(this):void 0}})}function Ot(w,j){var F=JSON.stringify(w),W=256;for(var re in j){var ce=parseInt(re);if(ce&&!(ce<256)){if(JSON.stringify(j[re])===F)return ce;W<=ce&&(W=ce+1)}}return j[W]=w,W}function Nt(w,j,F,W){for(var re=[{name:"nameID_"+w,type:"USHORT",value:Ot(j.name,W)},{name:"flags_"+w,type:"USHORT",value:0}],ce=0;ce<F.length;++ce){var we=F[ce].tag;re.push({name:"axis_"+w+" "+we,type:"FIXED",value:j.coordinates[we]<<16})}return re}function $t(w,j,F,W){var re={},ce=new v.Parser(w,j);re.name=W[ce.parseUShort()]||{},ce.skip("uShort",1),re.coordinates={};for(var we=0;we<F.length;++we)re.coordinates[F[we].tag]=ce.parseFixed();return re}ct.prototype.hasChar=function(w){return this.encoding.charToGlyphIndex(w)!==null},ct.prototype.charToGlyphIndex=function(w){return this.encoding.charToGlyphIndex(w)},ct.prototype.charToGlyph=function(w){var j=this.charToGlyphIndex(w),F=this.glyphs.get(j);return F=F||this.glyphs.get(0)},ct.prototype.stringToGlyphs=function(w,j){j=j||this.defaultRenderOptions;for(var F=et(w),W=[],re=0;re<F.length;re+=1){var ce=F[re];W.push(this.charToGlyphIndex(ce))}var we=W.length;if(j.features){var Re=j.script||this.substitution.getDefaultScriptName(),qe=[];j.features.liga&&(qe=qe.concat(this.substitution.getFeature("liga",Re,j.language))),j.features.rlig&&(qe=qe.concat(this.substitution.getFeature("rlig",Re,j.language)));for(var Qe=0;Qe<we;Qe+=1)for(var dt=0;dt<qe.length;dt++){for(var vt=qe[dt],Xe=vt.sub,Ut=Xe.length,Ft=0;Ft<Ut&&Xe[Ft]===W[Qe+Ft];)Ft++;Ft===Ut&&(W.splice(Qe,Ut,vt.by),we=we-Ut+1)}}for(var Rt=new Array(we),Pt=this.glyphs.get(0),kt=0;kt<we;kt+=1)Rt[kt]=this.glyphs.get(W[kt])||Pt;return Rt},ct.prototype.nameToGlyphIndex=function(w){return this.glyphNames.nameToGlyphIndex(w)},ct.prototype.nameToGlyph=function(w){var j=this.nameToGlyphIndex(w),F=this.glyphs.get(j);return F=F||this.glyphs.get(0)},ct.prototype.glyphIndexToName=function(w){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(w):""},ct.prototype.getKerningValue=function(w,j){w=w.index||w,j=j.index||j;var F=this.position.defaultKerningTables;return F?this.position.getKerningValue(F,w,j):this.kerningPairs[w+","+j]||0},ct.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},ct.prototype.forEachGlyph=function(w,j,F,W,re,ce){j=j!==void 0?j:0,F=F!==void 0?F:0,W=W!==void 0?W:72,re=re||this.defaultRenderOptions;var we,Re=1/this.unitsPerEm*W,qe=this.stringToGlyphs(w,re);if(re.kerning){var Qe=re.script||this.position.getDefaultScriptName();we=this.position.getKerningTables(Qe,re.language)}for(var dt=0;dt<qe.length;dt+=1){var vt=qe[dt];ce.call(this,vt,j,F,W,re),vt.advanceWidth&&(j+=vt.advanceWidth*Re),re.kerning&&dt<qe.length-1&&(j+=(we?this.position.getKerningValue(we,vt.index,qe[dt+1].index):this.getKerningValue(vt,qe[dt+1]))*Re),re.letterSpacing?j+=re.letterSpacing*W:re.tracking&&(j+=re.tracking/1e3*W)}return j},ct.prototype.getPath=function(w,j,F,W,re){var ce=new Be;return this.forEachGlyph(w,j,F,W,re,function(we,Re,qe,Qe){var dt=we.getPath(Re,qe,Qe,re,this);ce.extend(dt)}),ce},ct.prototype.getPaths=function(w,j,F,W,re){var ce=[];return this.forEachGlyph(w,j,F,W,re,function(we,Re,qe,Qe){var dt=we.getPath(Re,qe,Qe,re,this);ce.push(dt)}),ce},ct.prototype.getAdvanceWidth=function(w,j,F){return this.forEachGlyph(w,0,0,j,F,function(){})},ct.prototype.draw=function(w,j,F,W,re,ce){this.getPath(j,F,W,re,ce).draw(w)},ct.prototype.drawPoints=function(w,j,F,W,re,ce){this.forEachGlyph(j,F,W,re,ce,function(we,Re,qe,Qe){we.drawPoints(w,Re,qe,Qe)})},ct.prototype.drawMetrics=function(w,j,F,W,re,ce){this.forEachGlyph(j,F,W,re,ce,function(we,Re,qe,Qe){we.drawMetrics(w,Re,qe,Qe)})},ct.prototype.getEnglishName=function(w){var j=this.names[w];if(j)return j.en},ct.prototype.validate=function(){var w=this;function j(F){var W=w.getEnglishName(F);W&&W.trim().length}j("fontFamily"),j("weightName"),j("manufacturer"),j("copyright"),j("version"),this.unitsPerEm},ct.prototype.toTables=function(){return Se.fontToTable(this)},ct.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},ct.prototype.toArrayBuffer=function(){for(var w=this.toTables().encode(),j=new ArrayBuffer(w.length),F=new Uint8Array(j),W=0;W<w.length;W++)F[W]=w[W];return j},ct.prototype.download=function(w){var j=this.getEnglishName("fontFamily"),F=this.getEnglishName("fontSubfamily");w=w||j.replace(/\s/g,"")+"-"+F+".otf";var W=this.toArrayBuffer();if(typeof window<"u")window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,W.byteLength,function(we){we.root.getFile(w,{create:!0},function(Re){Re.createWriter(function(qe){var Qe=new DataView(W),dt=new Blob([Qe],{type:"font/opentype"});qe.write(dt),qe.addEventListener("writeend",function(){location.href=Re.toURL()},!1)})})},function(we){throw new Error(we.name+": "+we.message)});else{var re=n("fs"),ce=function(we){for(var Re=new g(we.byteLength),qe=new Uint8Array(we),Qe=0;Qe<Re.length;++Qe)Re[Qe]=qe[Qe];return Re}(W);re.writeFileSync(w,ce)}},ct.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},ct.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},ct.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var br={make:function(w,j){var F,W,re,ce,we=new bt.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:w.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:w.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*w.axes.length}]);we.offsetToData=we.sizeOf();for(var Re=0;Re<w.axes.length;Re++)we.fields=we.fields.concat((F=Re,W=w.axes[Re],re=j,ce=Ot(W.name,re),[{name:"tag_"+F,type:"TAG",value:W.tag},{name:"minValue_"+F,type:"FIXED",value:W.minValue<<16},{name:"defaultValue_"+F,type:"FIXED",value:W.defaultValue<<16},{name:"maxValue_"+F,type:"FIXED",value:W.maxValue<<16},{name:"flags_"+F,type:"USHORT",value:0},{name:"nameID_"+F,type:"USHORT",value:ce}]));for(var qe=0;qe<w.instances.length;qe++)we.fields=we.fields.concat(Nt(qe,w.instances[qe],w.axes,j));return we},parse:function(w,j,F){var W=new v.Parser(w,j),re=W.parseULong();Ke.argument(re===65536,"Unsupported fvar table version.");var ce=W.parseOffset16();W.skip("uShort",1);for(var we,Re,qe,Qe,dt,vt=W.parseUShort(),Xe=W.parseUShort(),Ut=W.parseUShort(),Ft=W.parseUShort(),Rt=[],Pt=0;Pt<vt;Pt++)Rt.push((we=w,Re=j+ce+Pt*Xe,qe=F,dt=Qe=void 0,Qe={},dt=new v.Parser(we,Re),Qe.tag=dt.parseTag(),Qe.minValue=dt.parseFixed(),Qe.defaultValue=dt.parseFixed(),Qe.maxValue=dt.parseFixed(),dt.skip("uShort",1),Qe.name=qe[dt.parseUShort()]||{},Qe));for(var kt=[],Xt=j+ce+vt*Xe,Zt=0;Zt<Ut;Zt++)kt.push($t(w,Xt+Zt*Ft,Rt,F));return{axes:Rt,instances:kt}}},xr=new Array(10);xr[1]=function(){var w=this.offset+this.relativeOffset,j=this.parseUShort();return j===1?{posFormat:1,coverage:this.parsePointer(h.coverage),value:this.parseValueRecord()}:j===2?{posFormat:2,coverage:this.parsePointer(h.coverage),values:this.parseValueRecordList()}:void Ke.assert(!1,"0x"+w.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},xr[2]=function(){var w=this.offset+this.relativeOffset,j=this.parseUShort();Ke.assert(j===1||j===2,"0x"+w.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var F=this.parsePointer(h.coverage),W=this.parseUShort(),re=this.parseUShort();if(j===1)return{posFormat:j,coverage:F,valueFormat1:W,valueFormat2:re,pairSets:this.parseList(h.pointer(h.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(W),value2:this.parseValueRecord(re)}})))};if(j===2){var ce=this.parsePointer(h.classDef),we=this.parsePointer(h.classDef),Re=this.parseUShort(),qe=this.parseUShort();return{posFormat:j,coverage:F,valueFormat1:W,valueFormat2:re,classDef1:ce,classDef2:we,class1Count:Re,class2Count:qe,classRecords:this.parseList(Re,h.list(qe,function(){return{value1:this.parseValueRecord(W),value2:this.parseValueRecord(re)}}))}}},xr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},xr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},xr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},xr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},xr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},xr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},xr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Vr=new Array(10),En={parse:function(w,j){var F=new h(w,j=j||0),W=F.parseVersion(1);return Ke.argument(W===1||W===1.1,"Unsupported GPOS table version "+W),W===1?{version:W,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(xr)}:{version:W,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(xr),variations:F.parseFeatureVariationsList()}},make:function(w){return new bt.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new bt.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new bt.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new bt.LookupList(w.lookups,Vr)}])}},Qn={parse:function(w,j){var F=new v.Parser(w,j),W=F.parseUShort();if(W===0)return function(re){var ce={};re.skip("uShort");var we=re.parseUShort();Ke.argument(we===0,"Unsupported kern sub-table version."),re.skip("uShort",2);var Re=re.parseUShort();re.skip("uShort",3);for(var qe=0;qe<Re;qe+=1){var Qe=re.parseUShort(),dt=re.parseUShort(),vt=re.parseShort();ce[Qe+","+dt]=vt}return ce}(F);if(W===1)return function(re){var ce={};re.skip("uShort"),1<re.parseULong()&&console.warn("Only the first kern subtable is supported."),re.skip("uLong");var we=255&re.parseUShort();if(re.skip("uShort"),we==0){var Re=re.parseUShort();re.skip("uShort",3);for(var qe=0;qe<Re;qe+=1){var Qe=re.parseUShort(),dt=re.parseUShort(),vt=re.parseShort();ce[Qe+","+dt]=vt}}return ce}(F);throw new Error("Unsupported kern table version ("+W+").")}},_r={parse:function(w,j,F,W){for(var re=new v.Parser(w,j),ce=W?re.parseUShort:re.parseULong,we=[],Re=0;Re<F+1;Re+=1){var qe=ce.call(re);W&&(qe*=2),we.push(qe)}return we}};function us(w,j){n("fs").readFile(w,function(F,W){if(F)return j(F.message);j(null,Tr(W))})}function Ms(w,j){var F=new XMLHttpRequest;F.open("get",w,!0),F.responseType="arraybuffer",F.onload=function(){return F.response?j(null,F.response):j("Font could not be loaded: "+F.statusText)},F.onerror=function(){j("Font could not be loaded")},F.send()}function ls(w,j){for(var F=[],W=12,re=0;re<j;re+=1){var ce=v.getTag(w,W),we=v.getULong(w,W+4),Re=v.getULong(w,W+8),qe=v.getULong(w,W+12);F.push({tag:ce,checksum:we,offset:Re,length:qe,compression:!1}),W+=16}return F}function mr(w,j){if(j.compression!=="WOFF")return{data:w,offset:j.offset};var F=new Uint8Array(w.buffer,j.offset+2,j.compressedLength-2),W=new Uint8Array(j.length);if(de(F,W),W.byteLength!==j.length)throw new Error("Decompression error: "+j.tag+" decompressed length doesn't match recorded length");return{data:new DataView(W.buffer,0),offset:0}}function Sn(w){var j,F,W,re,ce,we,Re,qe,Qe,dt,vt,Xe,Ut,Ft,Rt=new ct({empty:!0}),Pt=new DataView(w,0),kt=[],Xt=v.getTag(Pt,0);if(Xt===String.fromCharCode(0,1,0,0)||Xt==="true"||Xt==="typ1")Rt.outlinesFormat="truetype",kt=ls(Pt,W=v.getUShort(Pt,4));else if(Xt==="OTTO")Rt.outlinesFormat="cff",kt=ls(Pt,W=v.getUShort(Pt,4));else{if(Xt!=="wOFF")throw new Error("Unsupported OpenType signature "+Xt);var Zt=v.getTag(Pt,4);if(Zt===String.fromCharCode(0,1,0,0))Rt.outlinesFormat="truetype";else{if(Zt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Xt);Rt.outlinesFormat="cff"}kt=function(At,Wt){for(var zt=[],Ht=44,lr=0;lr<Wt;lr+=1){var Yr=v.getTag(At,Ht),on=v.getULong(At,Ht+4),Jr=v.getULong(At,Ht+8),Cn=v.getULong(At,Ht+12),li=void 0;li=Jr<Cn&&"WOFF",zt.push({tag:Yr,offset:on,compression:li,compressedLength:Jr,length:Cn}),Ht+=20}return zt}(Pt,W=v.getUShort(Pt,12))}for(var hr=0;hr<W;hr+=1){var Yt=kt[hr],Jt=void 0;switch(Yt.tag){case"cmap":Jt=mr(Pt,Yt),Rt.tables.cmap=x.parse(Jt.data,Jt.offset),Rt.encoding=new N(Rt.tables.cmap);break;case"cvt ":Jt=mr(Pt,Yt),Ft=new v.Parser(Jt.data,Jt.offset),Rt.tables.cvt=Ft.parseShortList(Yt.length/2);break;case"fvar":ce=Yt;break;case"fpgm":Jt=mr(Pt,Yt),Ft=new v.Parser(Jt.data,Jt.offset),Rt.tables.fpgm=Ft.parseByteList(Yt.length);break;case"head":Jt=mr(Pt,Yt),Rt.tables.head=nt.parse(Jt.data,Jt.offset),Rt.unitsPerEm=Rt.tables.head.unitsPerEm,j=Rt.tables.head.indexToLocFormat;break;case"hhea":Jt=mr(Pt,Yt),Rt.tables.hhea=Ze.parse(Jt.data,Jt.offset),Rt.ascender=Rt.tables.hhea.ascender,Rt.descender=Rt.tables.hhea.descender,Rt.numberOfHMetrics=Rt.tables.hhea.numberOfHMetrics;break;case"hmtx":Qe=Yt;break;case"ltag":Jt=mr(Pt,Yt),F=Tt.parse(Jt.data,Jt.offset);break;case"maxp":Jt=mr(Pt,Yt),Rt.tables.maxp=It.parse(Jt.data,Jt.offset),Rt.numGlyphs=Rt.tables.maxp.numGlyphs;break;case"name":Xe=Yt;break;case"OS/2":Jt=mr(Pt,Yt),Rt.tables.os2=Lr.parse(Jt.data,Jt.offset);break;case"post":Jt=mr(Pt,Yt),Rt.tables.post=Ar.parse(Jt.data,Jt.offset),Rt.glyphNames=new X(Rt.tables.post);break;case"prep":Jt=mr(Pt,Yt),Ft=new v.Parser(Jt.data,Jt.offset),Rt.tables.prep=Ft.parseByteList(Yt.length);break;case"glyf":we=Yt;break;case"loca":vt=Yt;break;case"CFF ":re=Yt;break;case"kern":dt=Yt;break;case"GPOS":Re=Yt;break;case"GSUB":qe=Yt;break;case"meta":Ut=Yt}}var Rr=mr(Pt,Xe);if(Rt.tables.name=vr.parse(Rr.data,Rr.offset,F),Rt.names=Rt.tables.name,we&&vt){var ur=j===0,cr=mr(Pt,vt),gr=_r.parse(cr.data,cr.offset,Rt.numGlyphs,ur),Pr=mr(Pt,we);Rt.glyphs=oi.parse(Pr.data,Pr.offset,gr,Rt)}else{if(!re)throw new Error("Font doesn't contain TrueType or CFF outlines.");var wr=mr(Pt,re);lt.parse(wr.data,wr.offset,Rt)}var Mr=mr(Pt,Qe);if(xt.parse(Mr.data,Mr.offset,Rt.numberOfHMetrics,Rt.numGlyphs,Rt.glyphs),function(At){for(var Wt,zt=At.tables.cmap.glyphIndexMap,Ht=Object.keys(zt),lr=0;lr<Ht.length;lr+=1){var Yr=Ht[lr],on=zt[Yr];(Wt=At.glyphs.get(on)).addUnicode(parseInt(Yr))}for(var Jr=0;Jr<At.glyphs.length;Jr+=1)Wt=At.glyphs.get(Jr),At.cffEncoding?At.isCIDFont?Wt.name="gid"+Jr:Wt.name=At.cffEncoding.charset[Jr]:At.glyphNames.names&&(Wt.name=At.glyphNames.glyphIndexToName(Jr))}(Rt),dt){var Sr=mr(Pt,dt);Rt.kerningPairs=Qn.parse(Sr.data,Sr.offset)}else Rt.kerningPairs={};if(Re){var fr=mr(Pt,Re);Rt.tables.gpos=En.parse(fr.data,fr.offset),Rt.position.init()}if(qe){var Je=mr(Pt,qe);Rt.tables.gsub=Dr.parse(Je.data,Je.offset)}if(ce){var ot=mr(Pt,ce);Rt.tables.fvar=br.parse(ot.data,ot.offset,Rt.names)}if(Ut){var Ct=mr(Pt,Ut);Rt.tables.meta=Gr.parse(Ct.data,Ct.offset),Rt.metas=Rt.tables.meta}return Rt}f.Font=ct,f.Glyph=K,f.Path=Be,f.BoundingBox=Le,f._parse=v,f.parse=Sn,f.load=function(w,j){(typeof window>"u"?us:Ms)(w,function(F,W){if(F)return j(F);var re;try{re=Sn(W)}catch(ce){return j(ce,null)}return j(null,re)})},f.loadSync=function(w){return Sn(Tr(n("fs").readFileSync(w)))},Object.defineProperty(f,"__esModule",{value:!0})},c(typeof S=="object"&&C!==void 0?S:t.opentype={})}).call(this,n("buffer").Buffer)},{buffer:4,fs:2}],240:[function(n,C,S){(function(g){function t(m,p){for(var u=0,a=m.length-1;0<=a;a--){var l=m[a];l==="."?m.splice(a,1):l===".."?(m.splice(a,1),u++):u&&(m.splice(a,1),u--)}if(p)for(;u--;)m.unshift("..");return m}function c(m,p){if(m.filter)return m.filter(p);for(var u=[],a=0;a<m.length;a++)p(m[a],a,m)&&u.push(m[a]);return u}S.resolve=function(){for(var m="",p=!1,u=arguments.length-1;-1<=u&&!p;u--){var a=0<=u?arguments[u]:g.cwd();if(typeof a!="string")throw new TypeError("Arguments to path.resolve must be strings");a&&(m=a+"/"+m,p=a.charAt(0)==="/")}return(p?"/":"")+(m=t(c(m.split("/"),function(l){return!!l}),!p).join("/"))||"."},S.normalize=function(m){var p=S.isAbsolute(m),u=f(m,-1)==="/";return(m=t(c(m.split("/"),function(a){return!!a}),!p).join("/"))||p||(m="."),m&&u&&(m+="/"),(p?"/":"")+m},S.isAbsolute=function(m){return m.charAt(0)==="/"},S.join=function(){var m=Array.prototype.slice.call(arguments,0);return S.normalize(c(m,function(p,u){if(typeof p!="string")throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},S.relative=function(m,p){function u(E){for(var I=0;I<E.length&&E[I]==="";I++);for(var U=E.length-1;0<=U&&E[U]==="";U--);return U<I?[]:E.slice(I,U-I+1)}m=S.resolve(m).substr(1),p=S.resolve(p).substr(1);for(var a=u(m.split("/")),l=u(p.split("/")),o=Math.min(a.length,l.length),d=o,_=0;_<o;_++)if(a[_]!==l[_]){d=_;break}var k=[];for(_=d;_<a.length;_++)k.push("..");return(k=k.concat(l.slice(d))).join("/")},S.sep="/",S.delimiter=":",S.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var p=m.charCodeAt(0),u=p===47,a=-1,l=!0,o=m.length-1;1<=o;--o)if((p=m.charCodeAt(o))===47){if(!l){a=o;break}}else l=!1;return a===-1?u?"/":".":u&&a===1?"/":m.slice(0,a)},S.basename=function(m,p){var u=function(a){typeof a!="string"&&(a+="");var l,o=0,d=-1,_=!0;for(l=a.length-1;0<=l;--l)if(a.charCodeAt(l)===47){if(!_){o=l+1;break}}else d===-1&&(_=!1,d=l+1);return d===-1?"":a.slice(o,d)}(m);return p&&u.substr(-1*p.length)===p&&(u=u.substr(0,u.length-p.length)),u},S.extname=function(m){typeof m!="string"&&(m+="");for(var p=-1,u=0,a=-1,l=!0,o=0,d=m.length-1;0<=d;--d){var _=m.charCodeAt(d);if(_===47){if(l)continue;u=d+1;break}a===-1&&(l=!1,a=d+1),_===46?p===-1?p=d:o!==1&&(o=1):p!==-1&&(o=-1)}return p===-1||a===-1||o===0||o===1&&p===a-1&&p===u+1?"":m.slice(p,a)};var f="ab".substr(-1)==="b"?function(m,p,u){return m.substr(p,u)}:function(m,p,u){return p<0&&(p=m.length+p),m.substr(p,u)}}).call(this,n("_process"))},{_process:241}],241:[function(n,C,S){var g,t,c=C.exports={};function f(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function p(I){if(g===setTimeout)return setTimeout(I,0);if((g===f||!g)&&setTimeout)return g=setTimeout,setTimeout(I,0);try{return g(I,0)}catch{try{return g.call(null,I,0)}catch{return g.call(this,I,0)}}}(function(){try{g=typeof setTimeout=="function"?setTimeout:f}catch{g=f}try{t=typeof clearTimeout=="function"?clearTimeout:m}catch{t=m}})();var u,a=[],l=!1,o=-1;function d(){l&&u&&(l=!1,u.length?a=u.concat(a):o=-1,a.length&&_())}function _(){if(!l){var I=p(d);l=!0;for(var U=a.length;U;){for(u=a,a=[];++o<U;)u&&u[o].run();o=-1,U=a.length}u=null,l=!1,function(V){if(t===clearTimeout)return clearTimeout(V);if((t===m||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(V);try{t(V)}catch{try{return t.call(null,V)}catch{return t.call(this,V)}}}(I)}}function k(I,U){this.fun=I,this.array=U}function E(){}c.nextTick=function(I){var U=new Array(arguments.length-1);if(1<arguments.length)for(var V=1;V<arguments.length;V++)U[V-1]=arguments[V];a.push(new k(I,U)),a.length!==1||l||p(_)},k.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=E,c.addListener=E,c.once=E,c.off=E,c.removeListener=E,c.removeAllListeners=E,c.emit=E,c.prependListener=E,c.prependOnceListener=E,c.listeners=function(I){return[]},c.binding=function(I){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(I){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],242:[function(n,C,S){(function(g){if(!g.fetch){var t="URLSearchParams"in g,c="Symbol"in g&&"iterator"in Symbol,f="FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in g,p="ArrayBuffer"in g;if(p)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(J){return J&&DataView.prototype.isPrototypeOf(J)},l=ArrayBuffer.isView||function(J){return J&&-1<u.indexOf(Object.prototype.toString.call(J))};I.prototype.append=function(J,ue){J=_(J),ue=k(ue);var he=this.map[J];this.map[J]=he?he+","+ue:ue},I.prototype.delete=function(J){delete this.map[_(J)]},I.prototype.get=function(J){return J=_(J),this.has(J)?this.map[J]:null},I.prototype.has=function(J){return this.map.hasOwnProperty(_(J))},I.prototype.set=function(J,ue){this.map[_(J)]=k(ue)},I.prototype.forEach=function(J,ue){for(var he in this.map)this.map.hasOwnProperty(he)&&J.call(ue,this.map[he],he,this)},I.prototype.keys=function(){var J=[];return this.forEach(function(ue,he){J.push(he)}),E(J)},I.prototype.values=function(){var J=[];return this.forEach(function(ue){J.push(ue)}),E(J)},I.prototype.entries=function(){var J=[];return this.forEach(function(ue,he){J.push([he,ue])}),E(J)},c&&(I.prototype[Symbol.iterator]=I.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];ne.prototype.clone=function(){return new ne(this,{body:this._bodyInit})},se.call(ne.prototype),se.call(ge.prototype),ge.prototype.clone=function(){return new ge(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new I(this.headers),url:this.url})},ge.error=function(){var J=new ge(null,{status:0,statusText:""});return J.type="error",J};var d=[301,302,303,307,308];ge.redirect=function(J,ue){if(d.indexOf(ue)===-1)throw new RangeError("Invalid status code");return new ge(null,{status:ue,headers:{location:J}})},g.Headers=I,g.Request=ne,g.Response=ge,g.fetch=function(J,ue){return new Promise(function(he,ye){var Oe=new ne(J,ue),de=new XMLHttpRequest;de.onload=function(){var Ne,Le,Be={status:de.status,statusText:de.statusText,headers:(Ne=de.getAllResponseHeaders()||"",Le=new I,Ne.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(ut){var Ke=ut.split(":"),_t=Ke.shift().trim();if(_t){var at=Ke.join(":").trim();Le.append(_t,at)}}),Le)};Be.url="responseURL"in de?de.responseURL:Be.headers.get("X-Request-URL");var $e="response"in de?de.response:de.responseText;he(new ge($e,Be))},de.onerror=function(){ye(new TypeError("Network request failed"))},de.ontimeout=function(){ye(new TypeError("Network request failed"))},de.open(Oe.method,Oe.url,!0),Oe.credentials==="include"?de.withCredentials=!0:Oe.credentials==="omit"&&(de.withCredentials=!1),"responseType"in de&&f&&(de.responseType="blob"),Oe.headers.forEach(function(Ne,Le){de.setRequestHeader(Le,Ne)}),de.send(Oe._bodyInit===void 0?null:Oe._bodyInit)})},g.fetch.polyfill=!0}function _(J){if(typeof J!="string"&&(J=String(J)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(J))throw new TypeError("Invalid character in header field name");return J.toLowerCase()}function k(J){return typeof J!="string"&&(J=String(J)),J}function E(J){var ue={next:function(){var he=J.shift();return{done:he===void 0,value:he}}};return c&&(ue[Symbol.iterator]=function(){return ue}),ue}function I(J){this.map={},J instanceof I?J.forEach(function(ue,he){this.append(he,ue)},this):Array.isArray(J)?J.forEach(function(ue){this.append(ue[0],ue[1])},this):J&&Object.getOwnPropertyNames(J).forEach(function(ue){this.append(ue,J[ue])},this)}function U(J){if(J.bodyUsed)return Promise.reject(new TypeError("Already read"));J.bodyUsed=!0}function V(J){return new Promise(function(ue,he){J.onload=function(){ue(J.result)},J.onerror=function(){he(J.error)}})}function $(J){var ue=new FileReader,he=V(ue);return ue.readAsArrayBuffer(J),he}function B(J){if(J.slice)return J.slice(0);var ue=new Uint8Array(J.byteLength);return ue.set(new Uint8Array(J)),ue.buffer}function se(){return this.bodyUsed=!1,this._initBody=function(J){if(this._bodyInit=J)if(typeof J=="string")this._bodyText=J;else if(f&&Blob.prototype.isPrototypeOf(J))this._bodyBlob=J;else if(m&&FormData.prototype.isPrototypeOf(J))this._bodyFormData=J;else if(t&&URLSearchParams.prototype.isPrototypeOf(J))this._bodyText=J.toString();else if(p&&f&&a(J))this._bodyArrayBuffer=B(J.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p||!ArrayBuffer.prototype.isPrototypeOf(J)&&!l(J))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=B(J)}else this._bodyText="";this.headers.get("content-type")||(typeof J=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(J)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f&&(this.blob=function(){var J=U(this);if(J)return J;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?U(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then($)}),this.text=function(){var J,ue,he,ye=U(this);if(ye)return ye;if(this._bodyBlob)return J=this._bodyBlob,ue=new FileReader,he=V(ue),ue.readAsText(J),he;if(this._bodyArrayBuffer)return Promise.resolve(function(Oe){for(var de=new Uint8Array(Oe),Ne=new Array(de.length),Le=0;Le<de.length;Le++)Ne[Le]=String.fromCharCode(de[Le]);return Ne.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(oe)}),this.json=function(){return this.text().then(JSON.parse)},this}function ne(J,ue){var he,ye,Oe=(ue=ue||{}).body;if(J instanceof ne){if(J.bodyUsed)throw new TypeError("Already read");this.url=J.url,this.credentials=J.credentials,ue.headers||(this.headers=new I(J.headers)),this.method=J.method,this.mode=J.mode,Oe||J._bodyInit==null||(Oe=J._bodyInit,J.bodyUsed=!0)}else this.url=String(J);if(this.credentials=ue.credentials||this.credentials||"omit",!ue.headers&&this.headers||(this.headers=new I(ue.headers)),this.method=(he=ue.method||this.method||"GET",ye=he.toUpperCase(),-1<o.indexOf(ye)?ye:he),this.mode=ue.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Oe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Oe)}function oe(J){var ue=new FormData;return J.trim().split("&").forEach(function(he){if(he){var ye=he.split("="),Oe=ye.shift().replace(/\+/g," "),de=ye.join("=").replace(/\+/g," ");ue.append(decodeURIComponent(Oe),decodeURIComponent(de))}}),ue}function ge(J,ue){ue=ue||{},this.type="default",this.status=ue.status===void 0?200:ue.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in ue?ue.statusText:"OK",this.headers=new I(ue.headers),this.url=ue.url||"",this._initBody(J)}})(typeof self<"u"?self:this)},{}],243:[function(n,C,S){n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=f(n("../core/main")),c=f(n("../color/color_conversion"));function f(a){return a&&a.__esModule?a:{default:a}}var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],p=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];t.default.prototype._rgbColorName=function(a){var l=c.default._rgbaToHSBA(a);return function(o){var d;if(o[0]!==0){o[0]=Math.round(100*o[0]);var _=o[0].toString().split(""),k=_.length-1;_[k]=parseInt(_[k]),_[k]<2.5?_[k]=0:2.5<=_[k]&&_[k]<7.5&&(_[k]=5),_.length===2?(_[0]=parseInt(_[0]),7.5<=_[k]&&(_[k]=0,_[0]=_[0]+1),o[0]=10*_[0]+_[1]):7.5<=_[k]?o[0]=10:o[0]=_[k]}o[2]=o[2]/255;for(var E=o.length-1;1<=E;E--)o[E]<=.25?o[E]=0:.25<o[E]&&o[E]<.75?o[E]=.5:o[E]=1;if(o[0]===0&&o[1]===0&&o[2]===1){for(var I=2;0<=I;I--)g[I]=Math.round(1e4*g[I])/1e4;for(var U=0;U<m.length;U++){if(m[U].h===g[0]&&m[U].s===g[1]&&m[U].b===g[2]){d=m[U].name;break}d="white"}}else for(var V=0;V<p.length;V++)if(p[V].h===o[0]&&p[V].s===o[1]&&p[V].b===o[2]){d=p[V].name;break}return d}([(g=l)[0],l[1],l[2]])};var u=t.default;S.default=u},{"../color/color_conversion":249,"../core/main":264,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],244:[function(n,C,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.replace"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g},c="_Description",f="_fallbackDesc",m="_fallbackTable",p="_Label",u="_labelDesc",a="_labelTable";function l(d){if(d==="label"||d==="fallback")throw new Error("description should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")||d.endsWith("?")||d.endsWith("!")||(d+="."),d}t.default.prototype.describe=function(d,_){if(t.default._validateParameters("describe",arguments),typeof d=="string"){var k=this.canvas.id;d=l(d),this.dummyDOM||(this.dummyDOM=document.getElementById(k).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),_===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d))}},t.default.prototype.describeElement=function(d,_,k){if(t.default._validateParameters("describeElement",arguments),typeof _=="string"&&typeof d=="string"){var E=this.canvas.id;_=l(_);var I=function(V){if(V==="label"||V==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return V.endsWith(".")||V.endsWith(";")||V.endsWith(",")?V=V.replace(/.$/,":"):V.endsWith(":")||(V+=":"),V}(d);d=d.replace(/[^a-zA-Z0-9]/g,"");var U='<th scope="row">'.concat(I,"</th><td>").concat(_,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(E).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==U&&(this.descriptions.fallbackElements[d].innerHTML=U):this._describeElementHTML("fallback",d,U),k===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==U&&(this.descriptions.labelElements[d].innerHTML=U):this._describeElementHTML("label",d,U))}},t.default.prototype._describeHTML=function(d,_){var k=this.canvas.id;if(d==="fallback"){if(this.dummyDOM.querySelector("#".concat(k+c)))this.dummyDOM.querySelector("#"+k+m).insertAdjacentHTML("beforebegin",'<p id="'.concat(k+f,'"></p>'));else{var E='<div id="'.concat(k).concat(c,'" role="region" aria-label="Canvas Description"><p id="').concat(k).concat(f,'"></p></div>');this.dummyDOM.querySelector("#".concat(k,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(k,"accessibleOutput")).insertAdjacentHTML("beforebegin",E):this.dummyDOM.querySelector("#".concat(k)).innerHTML=E}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(k).concat(f)),void(this.descriptions.fallback.innerHTML=_)}if(d==="label"){if(this.dummyDOM.querySelector("#".concat(k+p)))this.dummyDOM.querySelector("#".concat(k+a))&&this.dummyDOM.querySelector("#".concat(k+a)).insertAdjacentHTML("beforebegin",'<p id="'.concat(k).concat(u,'"></p>'));else{var I='<div id="'.concat(k).concat(p,'" class="p5Label"><p id="').concat(k).concat(u,'"></p></div>');this.dummyDOM.querySelector("#".concat(k,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(k,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",I):this.dummyDOM.querySelector("#"+k).insertAdjacentHTML("afterend",I)}return this.descriptions.label=this.dummyDOM.querySelector("#"+k+u),void(this.descriptions.label.innerHTML=_)}},t.default.prototype._describeElementHTML=function(d,_,k){var E=this.canvas.id;if(d==="fallback"){if(this.dummyDOM.querySelector("#".concat(E+c)))this.dummyDOM.querySelector("#"+E+m)||this.dummyDOM.querySelector("#"+E+f).insertAdjacentHTML("afterend",'<table id="'.concat(E).concat(m,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var I='<div id="'.concat(E).concat(c,'" role="region" aria-label="Canvas Description"><table id="').concat(E).concat(m,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(E,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(E,"accessibleOutput")).insertAdjacentHTML("beforebegin",I):this.dummyDOM.querySelector("#"+E).innerHTML=I}var U=document.createElement("tr");return U.id=E+"_fte_"+_,this.dummyDOM.querySelector("#"+E+m).appendChild(U),this.descriptions.fallbackElements[_]=this.dummyDOM.querySelector("#".concat(E).concat("_fte_").concat(_)),void(this.descriptions.fallbackElements[_].innerHTML=k)}if(d==="label"){if(this.dummyDOM.querySelector("#".concat(E+p)))this.dummyDOM.querySelector("#".concat(E+a))||this.dummyDOM.querySelector("#"+E+u).insertAdjacentHTML("afterend",'<table id="'.concat(E+a,'"></table>'));else{var V='<div id="'.concat(E).concat(p,'" class="p5Label"><table id="').concat(E).concat(a,'"></table></div>');this.dummyDOM.querySelector("#".concat(E,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(E,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",V):this.dummyDOM.querySelector("#"+E).insertAdjacentHTML("afterend",V)}var $=document.createElement("tr");$.id=E+"_lte_"+_,this.dummyDOM.querySelector("#"+E+a).appendChild($),this.descriptions.labelElements[_]=this.dummyDOM.querySelector("#".concat(E).concat("_lte_").concat(_)),this.descriptions.labelElements[_].innerHTML=k}};var o=t.default;S.default=o},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],245:[function(n,C,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.prototype._updateGridOutput=function(f){if(this.dummyDOM.querySelector("#".concat(f,"_summary"))){var m=this._accessibleOutputs[f],p=function(l,o){var d="",_="",k=0;for(var E in o){var I=0;for(var U in o[E]){var V='<li id="'.concat(l,"shape").concat(k,'">').concat(o[E][U].color," ").concat(E,",");E==="line"?V+=" location = ".concat(o[E][U].pos,", length = ").concat(o[E][U].length," pixels"):(V+=" location = ".concat(o[E][U].pos),E!=="point"&&(V+=", area = ".concat(o[E][U].area," %")),V+="</li>"),d+=V,I++,k++}_=1<I?"".concat(_," ").concat(I," ").concat(E,"s"):"".concat(_," ").concat(I," ").concat(E)}return{numShapes:[k,_],details:d}}(f,this.ingredients.shapes),u=function(l,o,d,_){var k="".concat(o," canvas, ").concat(d," by ").concat(_," pixels, contains ").concat(l[0]);return k=l[0]===1?"".concat(k," shape: ").concat(l[1]):"".concat(k," shapes: ").concat(l[1]),k}(p.numShapes,this.ingredients.colors.background,this.width,this.height),a=function(l,o){var d=0,_="",k=Array.apply(null,Array(10)).map(function(){});for(var E in k)k[E]=Array.apply(null,Array(10)).map(function(){});for(var I in o)for(var U in o[I]){var V=void 0;V=I!=="line"?'<a href="#'.concat(l,"shape").concat(d,'">').concat(o[I][U].color," ").concat(I,"</a>"):'<a href="#'.concat(l,"shape").concat(d,'">').concat(o[I][U].color," ").concat(I," midpoint</a>"),k[o[I][U].loc.locY][o[I][U].loc.locX]?k[o[I][U].loc.locY][o[I][U].loc.locX]=k[o[I][U].loc.locY][o[I][U].loc.locX]+"  "+V:k[o[I][U].loc.locY][o[I][U].loc.locX]=V,d++}for(var $ in k){var B="<tr>";for(var se in k[$])B+="<td>",k[$][se]!==void 0&&(B+=k[$][se]),B+="</td>";_=_+B+"</tr>"}return _}(f,this.ingredients.shapes);u!==m.summary.innerHTML&&(m.summary.innerHTML=u),a!==m.map.innerHTML&&(m.map.innerHTML=a),p.details!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=p.details),this._accessibleOutputs[f]=m}};var c=t.default;S.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],246:[function(n,C,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.map"),n("core-js/modules/es.number.to-fixed"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(p,u,a){return p[0]<.4*u?p[1]<.4*a?"top left":p[1]>.6*a?"bottom left":"mid left":p[0]>.6*u?p[1]<.4*a?"top right":p[1]>.6*a?"bottom right":"mid right":p[1]<.4*a?"top middle":p[1]>.6*a?"bottom middle":"middle"}function f(p,u,a){var l=Math.floor(p[0]/u*10),o=Math.floor(p[1]/a*10);return l===10&&--l,o===10&&--o,{locX:l,locY:o}}t.default.prototype.textOutput=function(p){t.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},t.default.prototype.gridOutput=function(p){t.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},t.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t.default.prototype._createOutput=function(p,u){var a,l,o,d=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode);var _="";u==="Fallback"?(a=d+p,l=d+"accessibleOutput",this.dummyDOM.querySelector("#".concat(l))||(this.dummyDOM.querySelector("#".concat(d,"_Description"))?this.dummyDOM.querySelector("#".concat(d,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(l,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(d)).innerHTML='<div id="'.concat(l,'" role="region" aria-label="Canvas Outputs"></div>'))):u==="Label"&&(a=d+p+(_=u),l=d+"accessibleOutput"+u,this.dummyDOM.querySelector("#".concat(l))||(this.dummyDOM.querySelector("#".concat(d,"_Label"))?this.dummyDOM.querySelector("#".concat(d,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(l,'"></div>')):this.dummyDOM.querySelector("#".concat(d)).insertAdjacentHTML("afterend",'<div id="'.concat(l,'"></div>')))),this._accessibleOutputs[a]={},p==="textOutput"?(_="#".concat(d,"gridOutput").concat(_),o='<div id="'.concat(a,'">Text Output<div id="').concat(a,'Summary" aria-label="text output summary"><p id="').concat(a,'_summary"></p><ul id="').concat(a,'_list"></ul></div><table id="').concat(a,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(_)?this.dummyDOM.querySelector(_).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#".concat(l)).innerHTML=o,this._accessibleOutputs[a].list=this.dummyDOM.querySelector("#".concat(a,"_list"))):p==="gridOutput"&&(_="#".concat(d,"textOutput").concat(_),o='<div id="'.concat(a,'">Grid Output<p id="').concat(a,'_summary" aria-label="grid output summary"><table id="').concat(a,'_map" summary="grid output content"></table><ul id="').concat(a,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(_)?this.dummyDOM.querySelector(_).insertAdjacentHTML("afterend",o):this.dummyDOM.querySelector("#".concat(l)).innerHTML=o,this._accessibleOutputs[a].map=this.dummyDOM.querySelector("#".concat(a,"_map"))),this._accessibleOutputs[a].shapeDetails=this.dummyDOM.querySelector("#".concat(a,"_shapeDetails")),this._accessibleOutputs[a].summary=this.dummyDOM.querySelector("#".concat(a,"_summary"))},t.default.prototype._updateAccsOutput=function(){var p=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(p+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(p+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(p+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(p+"gridOutputLabel"))},t.default.prototype._accsBackground=function(p){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==p&&(this.ingredients.colors.backgroundRGBA=p,this.ingredients.colors.background=this._rgbColorName(p))},t.default.prototype._accsCanvasColors=function(p,u){p==="fill"?this.ingredients.colors.fillRGBA!==u&&(this.ingredients.colors.fillRGBA=u,this.ingredients.colors.fill=this._rgbColorName(u)):p==="stroke"&&this.ingredients.colors.strokeRGBA!==u&&(this.ingredients.colors.strokeRGBA=u,this.ingredients.colors.stroke=this._rgbColorName(u))},t.default.prototype._accsOutput=function(p,u){p==="ellipse"&&u[2]===u[3]?p="circle":p==="rectangle"&&u[2]===u[3]&&(p="square");var a={},l=!0,o=function(E,I){var U,V;return V=E==="rectangle"||E==="ellipse"||E==="arc"||E==="circle"||E==="square"?(U=Math.round(I[0]+I[2]/2),Math.round(I[1]+I[3]/2)):E==="triangle"?(U=(I[0]+I[2]+I[4])/3,(I[1]+I[3]+I[5])/3):E==="quadrilateral"?(U=(I[0]+I[2]+I[4]+I[6])/4,(I[1]+I[3]+I[5]+I[7])/4):E==="line"?(U=(I[0]+I[2])/2,(I[1]+I[3])/2):(U=I[0],I[1]),[U,V]}(p,u);if(p==="line"){a.color=this.ingredients.colors.stroke,a.length=Math.round(this.dist(u[0],u[1],u[2],u[3]));var d=c([u[0],[1]],this.width,this.height),_=c([u[2],[3]],this.width,this.height);a.loc=f(o,this.width,this.height),a.pos=d===_?"at ".concat(d):"from ".concat(d," to ").concat(_)}else p==="point"?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=function(E,I,U,V){var $=0;if(E==="arc"){var B=((I[5]-I[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if($=B*I[2]*I[3]/8,I[6]==="open"||I[6]==="chord"){var se=I[0],ne=I[1],oe=I[0]+I[2]/2*Math.cos(I[4]).toFixed(2),ge=I[1]+I[3]/2*Math.sin(I[4]).toFixed(2),J=I[0]+I[2]/2*Math.cos(I[5]).toFixed(2),ue=I[1]+I[3]/2*Math.sin(I[5]).toFixed(2),he=Math.abs(se*(ge-ue)+oe*(ue-ne)+J*(ne-ge))/2;B>Math.PI?$+=he:$-=he}}else E==="ellipse"||E==="circle"?$=3.14*I[2]/2*I[3]/2:E==="line"||E==="point"?$=0:E==="quadrilateral"?$=Math.abs((I[6]+I[0])*(I[7]-I[1])+(I[0]+I[2])*(I[1]-I[3])+(I[2]+I[4])*(I[3]-I[5])+(I[4]+I[6])*(I[5]-I[7]))/2:E==="rectangle"||E==="square"?$=I[2]*I[3]:E==="triangle"&&($=Math.abs(I[0]*(I[3]-I[5])+I[2]*(I[5]-I[1])+I[4]*(I[1]-I[3]))/2);return Math.round(100*$/(U*V))}(p,u,this.width,this.height)),a.pos=c(o,this.width,this.height),a.loc=f(o,this.width,this.height);if(this.ingredients.shapes[p]){if(this.ingredients.shapes[p]!==[a]){for(var k in this.ingredients.shapes[p])JSON.stringify(this.ingredients.shapes[p][k])===JSON.stringify(a)&&(l=!1);l===!0&&this.ingredients.shapes[p].push(a)}}else this.ingredients.shapes[p]=[a]};var m=t.default;S.default=m},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":172}],247:[function(n,C,S){n("core-js/modules/es.array.concat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.prototype._updateTextOutput=function(f){if(this.dummyDOM.querySelector("#".concat(f,"_summary"))){var m=this._accessibleOutputs[f],p=function(l,o){var d="",_=0;for(var k in o)for(var E in o[k]){var I='<li><a href="#'.concat(l,"shape").concat(_,'">').concat(o[k][E].color," ").concat(k,"</a>");k==="line"?I+=", ".concat(o[k][E].pos,", ").concat(o[k][E].length," pixels long.</li>"):(I+=", at ".concat(o[k][E].pos),k!=="point"&&(I+=", covering ".concat(o[k][E].area,"% of the canvas")),I+=".</li>"),d+=I,_++}return{numShapes:_,listShapes:d}}(f,this.ingredients.shapes),u=function(l,o,d,_){var k="Your output is a, ".concat(d," by ").concat(_," pixels, ").concat(o," canvas containing the following");return k=l===1?"".concat(k," shape:"):"".concat(k," ").concat(l," shapes:"),k}(p.numShapes,this.ingredients.colors.background,this.width,this.height),a=function(l,o){var d="",_=0;for(var k in o)for(var E in o[k]){var I='<tr id="'.concat(l,"shape").concat(_,'"><th>').concat(o[k][E].color," ").concat(k,"</th>");k==="line"?I+="<td>location = ".concat(o[k][E].pos,"</td><td>length = ").concat(o[k][E].length," pixels</td></tr>"):(I+="<td>location = ".concat(o[k][E].pos,"</td>"),k!=="point"&&(I+="<td> area = ".concat(o[k][E].area,"%</td>")),I+="</tr>"),d+=I,_++}return d}(f,this.ingredients.shapes);u!==m.summary.innerHTML&&(m.summary.innerHTML=u),p.listShapes!==m.list.innerHTML&&(m.list.innerHTML=p.listShapes),a!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=a),this._accessibleOutputs[f]=m}};var c=t.default;S.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149}],248:[function(n,C,S){var g,t=(g=n("./core/main"))&&g.__esModule?g:{default:g};n("./core/constants"),n("./core/environment"),n("./core/friendly_errors/stacktrace"),n("./core/friendly_errors/validate_params"),n("./core/friendly_errors/file_errors"),n("./core/friendly_errors/fes_core"),n("./core/friendly_errors/sketch_reader"),n("./core/helpers"),n("./core/legacy"),n("./core/preload"),n("./core/p5.Element"),n("./core/p5.Graphics"),n("./core/p5.Renderer"),n("./core/p5.Renderer2D"),n("./core/rendering"),n("./core/shim"),n("./core/structure"),n("./core/transform"),n("./core/shape/2d_primitives"),n("./core/shape/attributes"),n("./core/shape/curves"),n("./core/shape/vertex"),n("./accessibility/outputs"),n("./accessibility/textOutput"),n("./accessibility/gridOutput"),n("./accessibility/color_namer"),n("./color/color_conversion"),n("./color/creating_reading"),n("./color/p5.Color"),n("./color/setting"),n("./data/p5.TypedDict"),n("./data/local_storage.js"),n("./dom/dom"),n("./accessibility/describe"),n("./events/acceleration"),n("./events/keyboard"),n("./events/mouse"),n("./events/touch"),n("./image/filters"),n("./image/image"),n("./image/loading_displaying"),n("./image/p5.Image"),n("./image/pixels"),n("./io/files"),n("./io/p5.Table"),n("./io/p5.TableRow"),n("./io/p5.XML"),n("./math/calculation"),n("./math/math"),n("./math/noise"),n("./math/p5.Vector"),n("./math/random"),n("./math/trigonometry"),n("./typography/attributes"),n("./typography/loading_displaying"),n("./typography/p5.Font"),n("./utilities/array_functions"),n("./utilities/conversion"),n("./utilities/string_functions"),n("./utilities/time_date"),n("./webgl/3d_primitives"),n("./webgl/interaction"),n("./webgl/light"),n("./webgl/loading"),n("./webgl/material"),n("./webgl/p5.Camera"),n("./webgl/p5.Geometry"),n("./webgl/p5.Matrix"),n("./webgl/p5.RendererGL.Immediate"),n("./webgl/p5.RendererGL"),n("./webgl/p5.RendererGL.Retained"),n("./webgl/p5.Shader"),n("./webgl/p5.RenderBuffer"),n("./webgl/p5.Texture"),n("./webgl/text"),n("./core/init"),C.exports=t.default},{"./accessibility/color_namer":243,"./accessibility/describe":244,"./accessibility/gridOutput":245,"./accessibility/outputs":246,"./accessibility/textOutput":247,"./color/color_conversion":249,"./color/creating_reading":250,"./color/p5.Color":251,"./color/setting":252,"./core/constants":253,"./core/environment":254,"./core/friendly_errors/fes_core":255,"./core/friendly_errors/file_errors":256,"./core/friendly_errors/sketch_reader":257,"./core/friendly_errors/stacktrace":258,"./core/friendly_errors/validate_params":259,"./core/helpers":260,"./core/init":261,"./core/legacy":263,"./core/main":264,"./core/p5.Element":265,"./core/p5.Graphics":266,"./core/p5.Renderer":267,"./core/p5.Renderer2D":268,"./core/preload":269,"./core/rendering":270,"./core/shape/2d_primitives":271,"./core/shape/attributes":272,"./core/shape/curves":273,"./core/shape/vertex":274,"./core/shim":275,"./core/structure":276,"./core/transform":277,"./data/local_storage.js":278,"./data/p5.TypedDict":279,"./dom/dom":280,"./events/acceleration":281,"./events/keyboard":282,"./events/mouse":283,"./events/touch":284,"./image/filters":285,"./image/image":286,"./image/loading_displaying":287,"./image/p5.Image":288,"./image/pixels":289,"./io/files":290,"./io/p5.Table":291,"./io/p5.TableRow":292,"./io/p5.XML":293,"./math/calculation":294,"./math/math":295,"./math/noise":296,"./math/p5.Vector":297,"./math/random":298,"./math/trigonometry":299,"./typography/attributes":300,"./typography/loading_displaying":301,"./typography/p5.Font":302,"./utilities/array_functions":303,"./utilities/conversion":304,"./utilities/string_functions":305,"./utilities/time_date":306,"./webgl/3d_primitives":307,"./webgl/interaction":308,"./webgl/light":309,"./webgl/loading":310,"./webgl/material":311,"./webgl/p5.Camera":312,"./webgl/p5.Geometry":313,"./webgl/p5.Matrix":314,"./webgl/p5.RenderBuffer":315,"./webgl/p5.RendererGL":318,"./webgl/p5.RendererGL.Immediate":316,"./webgl/p5.RendererGL.Retained":317,"./webgl/p5.Shader":319,"./webgl/p5.Texture":320,"./webgl/text":321}],249:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.ColorConversion={},t.default.ColorConversion._hsbaToHSLA=function(f){var m=f[0],p=f[1],u=f[2],a=(2-p)*u/2;return a!=0&&(a==1?p=0:a<.5?p/=2-p:p=p*u/(2-2*a)),[m,p,a,f[3]]},t.default.ColorConversion._hsbaToRGBA=function(f){var m=6*f[0],p=f[1],u=f[2],a=[];if(p===0)a=[u,u,u,f[3]];else{var l,o,d,_=Math.floor(m),k=u*(1-p),E=u*(1-p*(m-_)),I=u*(1-p*(1+_-m));d=_===1?(l=E,o=u,k):_===2?(l=k,o=u,I):_===3?(l=k,o=E,u):_===4?(l=I,o=k,u):_===5?(l=u,o=k,E):(l=u,o=I,k),a=[l,o,d,f[3]]}return a},t.default.ColorConversion._hslaToHSBA=function(f){var m,p=f[0],u=f[1],a=f[2];return[p,u=2*((m=a<.5?(1+u)*a:a+u-a*u)-a)/m,m,f[3]]},t.default.ColorConversion._hslaToRGBA=function(f){var m=6*f[0],p=f[1],u=f[2],a=[];if(p===0)a=[u,u,u,f[3]];else{var l,o=2*u-(l=u<.5?(1+p)*u:u+p-u*p),d=function(_,k,E){return _<0?_+=6:6<=_&&(_-=6),_<1?k+(E-k)*_:_<3?E:_<4?k+(E-k)*(4-_):k};a=[d(2+m,o,l),d(m,o,l),d(m-2,o,l),f[3]]}return a},t.default.ColorConversion._rgbaToHSBA=function(f){var m,p,u=f[0],a=f[1],l=f[2],o=Math.max(u,a,l),d=o-Math.min(u,a,l);return d==0?p=m=0:(p=d/o,u===o?m=(a-l)/d:a===o?m=2+(l-u)/d:l===o&&(m=4+(u-a)/d),m<0?m+=6:6<=m&&(m-=6)),[m/6,p,o,f[3]]},t.default.ColorConversion._rgbaToHSLA=function(f){var m,p,u=f[0],a=f[1],l=f[2],o=Math.max(u,a,l),d=Math.min(u,a,l),_=o+d,k=o-d;return k==0?p=m=0:(p=_<1?k/_:k/(2-_),u===o?m=(a-l)/k:a===o?m=2+(l-u)/k:l===o&&(m=4+(u-a)/k),m<0?m+=6:6<=m&&(m-=6)),[m/6,p,_/2,f[3]]};var c=t.default.ColorConversion;S.default=c},{"../core/main":264}],250:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}n("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}n("./p5.Color"),n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),c.default.prototype.alpha=function(u){return c.default._validateParameters("alpha",arguments),this.color(u)._getAlpha()},c.default.prototype.blue=function(u){return c.default._validateParameters("blue",arguments),this.color(u)._getBlue()},c.default.prototype.brightness=function(u){return c.default._validateParameters("brightness",arguments),this.color(u)._getBrightness()},c.default.prototype.color=function(){if(c.default._validateParameters("color",arguments),arguments[0]instanceof c.default.Color)return arguments[0];var u=arguments[0]instanceof Array?arguments[0]:arguments;return new c.default.Color(this,u)},c.default.prototype.green=function(u){return c.default._validateParameters("green",arguments),this.color(u)._getGreen()},c.default.prototype.hue=function(u){return c.default._validateParameters("hue",arguments),this.color(u)._getHue()},c.default.prototype.lerpColor=function(u,a,l){c.default._validateParameters("lerpColor",arguments);var o,d,_,k,E,I,U=this._colorMode,V=this._colorMaxes;if(U===f.RGB)E=u.levels.map(function($){return $/255}),I=a.levels.map(function($){return $/255});else if(U===f.HSB)u._getBrightness(),a._getBrightness(),E=u.hsba,I=a.hsba;else{if(U!==f.HSL)throw new Error("".concat(U,"cannot be used for interpolation."));u._getLightness(),a._getLightness(),E=u.hsla,I=a.hsla}return l=Math.max(Math.min(l,1),0),this.lerp===void 0&&(this.lerp=function($,B,se){return se*(B-$)+$}),o=this.lerp(E[0],I[0],l),d=this.lerp(E[1],I[1],l),_=this.lerp(E[2],I[2],l),k=this.lerp(E[3],I[3],l),o*=V[U][0],d*=V[U][1],_*=V[U][2],k*=V[U][3],this.color(o,d,_,k)},c.default.prototype.lightness=function(u){return c.default._validateParameters("lightness",arguments),this.color(u)._getLightness()},c.default.prototype.red=function(u){return c.default._validateParameters("red",arguments),this.color(u)._getRed()},c.default.prototype.saturation=function(u){return c.default._validateParameters("saturation",arguments),this.color(u)._getSaturation()};var p=c.default;S.default=p},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.map":161}],251:[function(n,C,S){function g(E){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(E)}n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t=p(n("../core/main")),c=function(E){if(E&&E.__esModule)return E;if(E===null||g(E)!=="object"&&typeof E!="function")return{default:E};var I=m();if(I&&I.has(E))return I.get(E);var U={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in E)if(Object.prototype.hasOwnProperty.call(E,$)){var B=V?Object.getOwnPropertyDescriptor(E,$):null;B&&(B.get||B.set)?Object.defineProperty(U,$,B):U[$]=E[$]}return U.default=E,I&&I.set(E,U),U}(n("../core/constants")),f=p(n("./color_conversion"));function m(){if(typeof WeakMap!="function")return null;var E=new WeakMap;return m=function(){return E},E}function p(E){return E&&E.__esModule?E:{default:E}}t.default.Color=function(E,I){if(this._storeModeAndMaxes(E._colorMode,E._colorMaxes),this.mode!==c.RGB&&this.mode!==c.HSL&&this.mode!==c.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=t.default.Color._parseInputs.apply(this,I),this._calculateLevels(),this},t.default.Color.prototype.toString=function(E){var I=this.levels,U=this._array,V=U[3];switch(E){case"#rrggbb":return"#".concat(I[0]<16?"0".concat(I[0].toString(16)):I[0].toString(16),I[1]<16?"0".concat(I[1].toString(16)):I[1].toString(16),I[2]<16?"0".concat(I[2].toString(16)):I[2].toString(16));case"#rrggbbaa":return"#".concat(I[0]<16?"0".concat(I[0].toString(16)):I[0].toString(16),I[1]<16?"0".concat(I[1].toString(16)):I[1].toString(16),I[2]<16?"0".concat(I[2].toString(16)):I[2].toString(16),I[3]<16?"0".concat(I[3].toString(16)):I[3].toString(16));case"#rgb":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16),Math.round(15*U[3]).toString(16));case"rgb":return"rgb(".concat(I[0],", ",I[1],", ",I[2],")");case"rgb%":return"rgb(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%, ",(100*U[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",V,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*V).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",V,")");case"hsla%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*V).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(I[0],",",I[1],",",I[2],",",V,")")}},t.default.Color.prototype.setRed=function(E){this._array[0]=E/this.maxes[c.RGB][0],this._calculateLevels()},t.default.Color.prototype.setGreen=function(E){this._array[1]=E/this.maxes[c.RGB][1],this._calculateLevels()},t.default.Color.prototype.setBlue=function(E){this._array[2]=E/this.maxes[c.RGB][2],this._calculateLevels()},t.default.Color.prototype.setAlpha=function(E){this._array[3]=E/this.maxes[this.mode][3],this._calculateLevels()},t.default.Color.prototype._calculateLevels=function(){for(var E=this._array,I=this.levels=new Array(E.length),U=E.length-1;0<=U;--U)I[U]=Math.round(255*E[U]);this.hsla=null,this.hsba=null},t.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},t.default.Color.prototype._storeModeAndMaxes=function(E,I){this.mode=E,this.maxes=I},t.default.Color.prototype._getMode=function(){return this.mode},t.default.Color.prototype._getMaxes=function(){return this.maxes},t.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[c.RGB][2]},t.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]},t.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[c.RGB][1]},t.default.Color.prototype._getHue=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])},t.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]},t.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[c.RGB][0]},t.default.Color.prototype._getSaturation=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])};var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a=/\s*/,l=/(\d{1,3})/,o=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,d=new RegExp("".concat(o.source,"%")),_={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(a.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(a.source),"i"),RGBA:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",o.source,"\\)$"].join(a.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",o.source,"\\)$"].join(a.source),"i"),HSL:new RegExp(["^hsl\\(",l.source,",",d.source,",",d.source,"\\)$"].join(a.source),"i"),HSLA:new RegExp(["^hsla\\(",l.source,",",d.source,",",d.source,",",o.source,"\\)$"].join(a.source),"i"),HSB:new RegExp(["^hsb\\(",l.source,",",d.source,",",d.source,"\\)$"].join(a.source),"i"),HSBA:new RegExp(["^hsba\\(",l.source,",",d.source,",",d.source,",",o.source,"\\)$"].join(a.source),"i")};t.default.Color._parseInputs=function(E,I,U,V){var $,B=arguments.length,se=this.mode,ne=this.maxes[se],oe=[];if(3<=B){for(oe[0]=E/ne[0],oe[1]=I/ne[1],oe[2]=U/ne[2],oe[3]=typeof V=="number"?V/ne[3]:1,$=oe.length-1;0<=$;--$){var ge=oe[$];ge<0?oe[$]=0:1<ge&&(oe[$]=1)}return se===c.HSL?f.default._hslaToRGBA(oe):se===c.HSB?f.default._hsbaToRGBA(oe):oe}if(B===1&&typeof E=="string"){var J=E.trim().toLowerCase();if(u[J])return t.default.Color._parseInputs.call(this,u[J]);if(_.HEX3.test(J))return(oe=_.HEX3.exec(J).slice(1).map(function(ue){return parseInt(ue+ue,16)/255}))[3]=1,oe;if(_.HEX6.test(J))return(oe=_.HEX6.exec(J).slice(1).map(function(ue){return parseInt(ue,16)/255}))[3]=1,oe;if(_.HEX4.test(J))return oe=_.HEX4.exec(J).slice(1).map(function(ue){return parseInt(ue+ue,16)/255});if(_.HEX8.test(J))return oe=_.HEX8.exec(J).slice(1).map(function(ue){return parseInt(ue,16)/255});if(_.RGB.test(J))return(oe=_.RGB.exec(J).slice(1).map(function(ue){return ue/255}))[3]=1,oe;if(_.RGB_PERCENT.test(J))return(oe=_.RGB_PERCENT.exec(J).slice(1).map(function(ue){return parseFloat(ue)/100}))[3]=1,oe;if(_.RGBA.test(J))return oe=_.RGBA.exec(J).slice(1).map(function(ue,he){return he===3?parseFloat(ue):ue/255});if(_.RGBA_PERCENT.test(J))return oe=_.RGBA_PERCENT.exec(J).slice(1).map(function(ue,he){return he===3?parseFloat(ue):parseFloat(ue)/100});if(_.HSL.test(J)?(oe=_.HSL.exec(J).slice(1).map(function(ue,he){return he===0?parseInt(ue,10)/360:parseInt(ue,10)/100}))[3]=1:_.HSLA.test(J)&&(oe=_.HSLA.exec(J).slice(1).map(function(ue,he){return he===0?parseInt(ue,10)/360:he===3?parseFloat(ue):parseInt(ue,10)/100})),(oe=oe.map(function(ue){return Math.max(Math.min(ue,1),0)})).length)return f.default._hslaToRGBA(oe);if(_.HSB.test(J)?(oe=_.HSB.exec(J).slice(1).map(function(ue,he){return he===0?parseInt(ue,10)/360:parseInt(ue,10)/100}))[3]=1:_.HSBA.test(J)&&(oe=_.HSBA.exec(J).slice(1).map(function(ue,he){return he===0?parseInt(ue,10)/360:he===3?parseFloat(ue):parseInt(ue,10)/100})),oe.length){for($=oe.length-1;0<=$;--$)oe[$]=Math.max(Math.min(oe[$],1),0);return f.default._hsbaToRGBA(oe)}oe=[1,1,1,1]}else{if(B!==1&&B!==2||typeof E!="number")throw new Error("".concat(arguments,"is not a valid color representation."));oe[0]=E/ne[2],oe[1]=E/ne[2],oe[2]=E/ne[2],oe[3]=typeof I=="number"?I/ne[3]:1,oe=oe.map(function(ue){return Math.max(Math.min(ue,1),0)})}return oe};var k=t.default.Color;S.default=k},{"../core/constants":253,"../core/main":264,"./color_conversion":249,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.trim":193}],252:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}n("core-js/modules/es.array.fill"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}n("./p5.Color"),c.default.prototype.background=function(){var u;return(u=this._renderer).background.apply(u,arguments),this},c.default.prototype.clear=function(){var u=(arguments.length<=0?void 0:arguments[0])||0,a=(arguments.length<=1?void 0:arguments[1])||0,l=(arguments.length<=2?void 0:arguments[2])||0,o=(arguments.length<=3?void 0:arguments[3])||0;return this._renderer.clear(u,a,l,o),this},c.default.prototype.colorMode=function(u,a,l,o,d){if(c.default._validateParameters("colorMode",arguments),u===f.RGB||u===f.HSB||u===f.HSL){this._colorMode=u;var _=this._colorMaxes[u];arguments.length===2?(_[0]=a,_[1]=a,_[2]=a,_[3]=a):arguments.length===4?(_[0]=a,_[1]=l,_[2]=o):arguments.length===5&&(_[0]=a,_[1]=l,_[2]=o,_[3]=d)}return this},c.default.prototype.fill=function(){var u;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(u=this._renderer).fill.apply(u,arguments),this},c.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},c.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},c.default.prototype.stroke=function(){var u;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(u=this._renderer).stroke.apply(u,arguments),this},c.default.prototype.erase=function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255;return this._renderer.erase(u,a),this},c.default.prototype.noErase=function(){return this._renderer.noErase(),this};var p=c.default;S.default=p},{"../core/constants":253,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.fill":151}],253:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.BEZIER=S.QUADRATIC=S.LINEAR=S._CTX_MIDDLE=S._DEFAULT_LEADMULT=S._DEFAULT_TEXT_FILL=S.WORD=S.CHAR=S.BOLDITALIC=S.BOLD=S.ITALIC=S.NORMAL=S.BLUR=S.ERODE=S.DILATE=S.POSTERIZE=S.INVERT=S.OPAQUE=S.GRAY=S.THRESHOLD=S.BURN=S.DODGE=S.SOFT_LIGHT=S.HARD_LIGHT=S.OVERLAY=S.REPLACE=S.SCREEN=S.MULTIPLY=S.EXCLUSION=S.SUBTRACT=S.DIFFERENCE=S.LIGHTEST=S.DARKEST=S.ADD=S.REMOVE=S.BLEND=S.UP_ARROW=S.TAB=S.SHIFT=S.RIGHT_ARROW=S.RETURN=S.OPTION=S.LEFT_ARROW=S.ESCAPE=S.ENTER=S.DOWN_ARROW=S.DELETE=S.CONTROL=S.BACKSPACE=S.ALT=S.AUTO=S.HSL=S.HSB=S.RGB=S.MITER=S.BEVEL=S.ROUND=S.SQUARE=S.PROJECT=S.PIE=S.CHORD=S.OPEN=S.CLOSE=S.TESS=S.QUAD_STRIP=S.QUADS=S.TRIANGLE_STRIP=S.TRIANGLE_FAN=S.TRIANGLES=S.LINE_LOOP=S.LINE_STRIP=S.LINES=S.POINTS=S.BASELINE=S.BOTTOM=S.TOP=S.CENTER=S.LEFT=S.RIGHT=S.RADIUS=S.CORNERS=S.CORNER=S.RAD_TO_DEG=S.DEG_TO_RAD=S.RADIANS=S.DEGREES=S.TWO_PI=S.TAU=S.QUARTER_PI=S.PI=S.HALF_PI=S.WAIT=S.TEXT=S.MOVE=S.HAND=S.CROSS=S.ARROW=S.WEBGL=S.P2D=S.VERSION=void 0,S.FALLBACK=S.LABEL=S.AXES=S.GRID=S._DEFAULT_FILL=S._DEFAULT_STROKE=S.PORTRAIT=S.LANDSCAPE=S.MIRROR=S.CLAMP=S.REPEAT=S.NEAREST=S.IMAGE=S.IMMEDIATE=S.TEXTURE=S.FILL=S.STROKE=S.CURVE=void 0;var g=Math.PI;S.VERSION="1.4.2",S.P2D="p2d",S.WEBGL="webgl",S.ARROW="default",S.CROSS="crosshair",S.HAND="pointer",S.MOVE="move",S.TEXT="text",S.WAIT="wait";var t=g/2;S.HALF_PI=t;var c=g;S.PI=c;var f=g/4;S.QUARTER_PI=f;var m=2*g;S.TAU=m;var p=2*g;S.TWO_PI=p,S.DEGREES="degrees",S.RADIANS="radians";var u=g/180;S.DEG_TO_RAD=u;var a=180/g;S.RAD_TO_DEG=a,S.CORNER="corner",S.CORNERS="corners",S.RADIUS="radius",S.RIGHT="right",S.LEFT="left",S.CENTER="center",S.TOP="top",S.BOTTOM="bottom",S.BASELINE="alphabetic",S.POINTS=0,S.LINES=1,S.LINE_STRIP=3,S.LINE_LOOP=2,S.TRIANGLES=4,S.TRIANGLE_FAN=6,S.TRIANGLE_STRIP=5,S.QUADS="quads",S.QUAD_STRIP="quad_strip",S.TESS="tess",S.CLOSE="close",S.OPEN="open",S.CHORD="chord",S.PIE="pie",S.PROJECT="square",S.SQUARE="butt",S.ROUND="round",S.BEVEL="bevel",S.MITER="miter",S.RGB="rgb",S.HSB="hsb",S.HSL="hsl",S.AUTO="auto",S.ALT=18,S.BACKSPACE=8,S.CONTROL=17,S.DELETE=46,S.DOWN_ARROW=40,S.ENTER=13,S.ESCAPE=27,S.LEFT_ARROW=37,S.OPTION=18,S.RETURN=13,S.RIGHT_ARROW=39,S.SHIFT=16,S.TAB=9,S.UP_ARROW=38,S.BLEND="source-over",S.REMOVE="destination-out",S.ADD="lighter",S.DARKEST="darken",S.LIGHTEST="lighten",S.DIFFERENCE="difference",S.SUBTRACT="subtract",S.EXCLUSION="exclusion",S.MULTIPLY="multiply",S.SCREEN="screen",S.REPLACE="copy",S.OVERLAY="overlay",S.HARD_LIGHT="hard-light",S.SOFT_LIGHT="soft-light",S.DODGE="color-dodge",S.BURN="color-burn",S.THRESHOLD="threshold",S.GRAY="gray",S.OPAQUE="opaque",S.INVERT="invert",S.POSTERIZE="posterize",S.DILATE="dilate",S.ERODE="erode",S.BLUR="blur",S.NORMAL="normal",S.ITALIC="italic",S.BOLD="bold",S.BOLDITALIC="bold italic",S.CHAR="CHAR",S.WORD="WORD",S._DEFAULT_TEXT_FILL="#000000",S._DEFAULT_LEADMULT=1.25,S._CTX_MIDDLE="middle",S.LINEAR="linear",S.QUADRATIC="quadratic",S.BEZIER="bezier",S.CURVE="curve",S.STROKE="stroke",S.FILL="fill",S.TEXTURE="texture",S.IMMEDIATE="immediate",S.IMAGE="image",S.NEAREST="nearest",S.REPEAT="repeat",S.CLAMP="clamp",S.MIRROR="mirror",S.LANDSCAPE="landscape",S.PORTRAIT="portrait",S._DEFAULT_STROKE="#000000",S._DEFAULT_FILL="#FFFFFF",S.GRID="grid",S.AXES="axes",S.LABEL="label",S.FALLBACK="fallback"},{}],254:[function(n,C,S){function g(d){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.search"),n("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("./main"))&&t.__esModule?t:{default:t},f=function(d){if(d&&d.__esModule)return d;if(d===null||g(d)!=="object"&&typeof d!="function")return{default:d};var _=m();if(_&&_.has(d))return _.get(d);var k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in d)if(Object.prototype.hasOwnProperty.call(d,I)){var U=E?Object.getOwnPropertyDescriptor(d,I):null;U&&(U.get||U.set)?Object.defineProperty(k,I,U):k[I]=d[I]}return k.default=d,_&&_.set(d,k),k}(n("./constants"));function m(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return m=function(){return d},d}var p=[f.ARROW,f.CROSS,f.HAND,f.MOVE,f.TEXT,f.WAIT];c.default.prototype._frameRate=0,c.default.prototype._lastFrameTime=window.performance.now(),c.default.prototype._targetFrameRate=60;var u=window.print;function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function l(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}c.default.prototype.print=function(){var d;arguments.length?(d=console).log.apply(d,arguments):u()},c.default.prototype.frameCount=0,c.default.prototype.deltaTime=0,c.default.prototype.focused=document.hasFocus(),c.default.prototype.cursor=function(d,_,k){var E="auto",I=this._curElement.elt;if(p.includes(d))E=d;else if(typeof d=="string"){var U="";_&&k&&typeof _=="number"&&typeof k=="number"&&(U="".concat(_," ").concat(k)),E=d.substring(0,7)==="http://"||d.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(d)?"url(".concat(d,") ").concat(U,", auto"):d}I.style.cursor=E},c.default.prototype.frameRate=function(d){return c.default._validateParameters("frameRate",arguments),typeof d!="number"||d<0?this._frameRate:(this._setProperty("_targetFrameRate",d),d===0&&this._setProperty("_frameRate",d),this)},c.default.prototype.getFrameRate=function(){return this.frameRate()},c.default.prototype.setFrameRate=function(d){return this.frameRate(d)},c.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},c.default.prototype.displayWidth=screen.width,c.default.prototype.displayHeight=screen.height,c.default.prototype.windowWidth=a(),c.default.prototype.windowHeight=l(),c.default.prototype._onresize=function(d){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",l());var _,k=this._isGlobal?window:this;typeof k.windowResized=="function"&&((_=k.windowResized(d))===void 0||_||d.preventDefault())},c.default.prototype.width=0,c.default.prototype.height=0,c.default.prototype.fullscreen=function(d){if(c.default._validateParameters("fullscreen",arguments),d===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;d?function(_){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");_.requestFullscreen?_.requestFullscreen():_.mozRequestFullScreen?_.mozRequestFullScreen():_.webkitRequestFullscreen?_.webkitRequestFullscreen():_.msRequestFullscreen&&_.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},c.default.prototype.pixelDensity=function(d){var _;return c.default._validateParameters("pixelDensity",arguments),typeof d=="number"?(d!==this._pixelDensity&&(this._pixelDensity=d),(_=this).resizeCanvas(this.width,this.height,!0)):_=this._pixelDensity,_},c.default.prototype.displayDensity=function(){return window.devicePixelRatio},c.default.prototype.getURL=function(){return location.href},c.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(d){return d!==""})},c.default.prototype.getURLParams=function(){for(var d,_=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,k={};(d=_.exec(location.search))!=null;)d.index===_.lastIndex&&_.lastIndex++,k[d[1]]=d[2];return k};var o=c.default;S.default=o},{"./constants":253,"./main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.includes":156,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191}],255:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.search"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../main"))&&g.__esModule?g:{default:g};n("../internationalization");var c=null,f=null;t.default._friendlyError=t.default._checkForUserDefinedFunctions=t.default._fesErrorMonitor=function(){},c=null;var m="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";f=function(){function a(o){return Object.getOwnPropertyNames(o).filter(function(d){return d[0]!=="_"&&!(d in l)&&(l[d]=!0)}).map(function(d){var _;return _=typeof o[d]=="function"?"function":d===d.toUpperCase()?"constant":"variable",{name:d,type:_}})}var l={};(c=[].concat(a(t.default.prototype),a(n("../constants")))).sort(function(o,d){return d.name.length-o.name.length})};function p(a,l){l=l||console.log.bind(console),c||f(),c.some(function(o){if(a.message&&a.message.match("\\W?".concat(o.name,"\\W"))!==null){var d=o.type==="function"?"".concat(o.name,"()"):o.name;return l("Did you just try to use p5.js's ".concat(d," ").concat(o.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(m)),!0}})}t.default.prototype._helpForMisusedAtTopLevelCode=p,document.readyState!=="complete"&&(window.addEventListener("error",p,!1),window.addEventListener("load",function(){window.removeEventListener("error",p,!1)}));var u=t.default;S.default=u},{"../constants":253,"../internationalization":262,"../main":264,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":166,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],256:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../main"))&&g.__esModule?g:{default:g};n("../internationalization"),t.default._friendlyFileLoadError=function(){};var c=t.default;S.default=c},{"../internationalization":262,"../main":264}],257:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.flat-map"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.unscopables.flat-map"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t=m(n("../main"));n("../internationalization"),f(n("../constants"));function c(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return c=function(){return u},u}function f(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=c();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}function m(u){return u&&u.__esModule?u:{default:u}}t.default._fesCodeReader=function(){};var p=t.default;S.default=p},{"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.flat-map":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.unscopables.flat-map":165,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],258:[function(n,C,S){n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../main"))&&g.__esModule?g:{default:g};function c(){var m=/(^|@)\S+:\d+/,p=/^\s*at .*(\S+:\d+|\(native\))/m,u=/^(eval@)?(\[native code])?$/;return{parse:function(a){return a.stacktrace!==void 0||a["opera#sourceloc"]!==void 0?this.parseOpera(a):a.stack&&a.stack.match(p)?this.parseV8OrIE(a):a.stack?this.parseFFOrSafari(a):void 0},extractLocation:function(a){if(a.indexOf(":")===-1)return[a];var l=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(a.replace(/[()]/g,""));return[l[1],l[2]||void 0,l[3]||void 0]},parseV8OrIE:function(a){return a.stack.split(`
`).filter(function(l){return!!l.match(p)},this).map(function(l){-1<l.indexOf("(eval ")&&(l=l.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var o=l.replace(/^\s+/,"").replace(/\(eval code/g,"("),d=o.match(/ (\((.+):(\d+):(\d+)\)$)/),_=(o=d?o.replace(d[0],""):o).split(/\s+/).slice(1),k=this.extractLocation(d?d[1]:_.pop());return{functionName:_.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(k[0])?void 0:k[0],lineNumber:k[1],columnNumber:k[2],source:l}},this)},parseFFOrSafari:function(a){return a.stack.split(`
`).filter(function(l){return!l.match(u)},this).map(function(l){if(-1<l.indexOf(" > eval")&&(l=l.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),l.indexOf("@")===-1&&l.indexOf(":")===-1)return{functionName:l};var o=/((.*".+"[^@]*)?[^@]*)(?:@)/,d=l.match(o),_=d&&d[1]?d[1]:void 0,k=this.extractLocation(l.replace(o,""));return{functionName:_,fileName:k[0],lineNumber:k[1],columnNumber:k[2],source:l}},this)},parseOpera:function(a){return!a.stacktrace||-1<a.message.indexOf(`
`)&&a.message.split(`
`).length>a.stacktrace.split(`
`).length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(a){for(var l=/Line (\d+).*script (?:in )?(\S+)/i,o=a.message.split(`
`),d=[],_=2,k=o.length;_<k;_+=2){var E=l.exec(o[_]);E&&d.push({fileName:E[2],lineNumber:E[1],source:o[_]})}return d},parseOpera10:function(a){for(var l=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=a.stacktrace.split(`
`),d=[],_=0,k=o.length;_<k;_+=2){var E=l.exec(o[_]);E&&d.push({functionName:E[3]||void 0,fileName:E[2],lineNumber:E[1],source:o[_]})}return d},parseOpera11:function(a){return a.stack.split(`
`).filter(function(l){return!!l.match(m)&&!l.match(/^Error created at/)},this).map(function(l){var o,d=l.split("@"),_=this.extractLocation(d.pop()),k=d.shift()||"",E=k.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return k.match(/\(([^)]*)\)/)&&(o=k.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:E,args:o===void 0||o==="[arguments not available]"?void 0:o.split(","),fileName:_[0],lineNumber:_[1],columnNumber:_[2],source:l}},this)}}}t.default._getErrorStackParser=function(){return new c};var f=t.default;S.default=f},{"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],259:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../main"))&&g.__esModule?g:{default:g};(function(p){if(!(p&&p.__esModule)&&!(p===null||f(p)!=="object"&&typeof p!="function")){var u=c();if(u&&u.has(p))return u.get(p);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in p)if(Object.prototype.hasOwnProperty.call(p,o)){var d=l?Object.getOwnPropertyDescriptor(p,o):null;d&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=p[o]}a.default=p,u&&u.set(p,a)}})(n("../constants")),n("../internationalization");function c(){if(typeof WeakMap!="function")return null;var p=new WeakMap;return c=function(){return p},p}function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(p)}t.default._validateParameters=t.default._clearValidateParamsCache=function(){};var m=t.default;S.default=m},{"../../../docs/parameterData.json":void 0,"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.map":167,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],260:[function(n,C,S){function g(m){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t=function(m){if(m&&m.__esModule)return m;if(m===null||g(m)!=="object"&&typeof m!="function")return{default:m};var p=c();if(p&&p.has(m))return p.get(m);var u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in m)if(Object.prototype.hasOwnProperty.call(m,l)){var o=a?Object.getOwnPropertyDescriptor(m,l):null;o&&(o.get||o.set)?Object.defineProperty(u,l,o):u[l]=m[l]}return u.default=m,p&&p.set(m,u),u}(n("./constants"));function c(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return c=function(){return m},m}var f={modeAdjust:function(m,p,u,a,l){return l===t.CORNER?{x:m,y:p,w:u,h:a}:l===t.CORNERS?{x:m,y:p,w:u-m,h:a-p}:l===t.RADIUS?{x:m-u,y:p-a,w:2*u,h:2*a}:l===t.CENTER?{x:m-.5*u,y:p-.5*a,w:u,h:a}:void 0}};S.default=f},{"./constants":253}],261:[function(n,C,S){n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator");var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};n("./internationalization");var c=Promise.resolve();Promise.all([new Promise(function(f,m){document.readyState==="complete"?f():window.addEventListener("load",f,!1)}),c]).then(function(){window._setupDone===void 0?window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!t.default.instance&&new t.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":264,"./internationalization":262,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":229}],262:[function(n,C,S){n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.setTranslatorLanguage=S.currentTranslatorLanguage=S.availableTranslatorLanguages=S.initialize=S.translator=void 0;var g,t,c=m(n("i18next")),f=m(n("i18next-browser-languagedetector"));function m(l){return l&&l.__esModule?l:{default:l}}function p(l,o){for(var d=0;d<o.length;d++){var _=o[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,_.key,_)}}var u=function(){function l(_,k){(function(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")})(this,l),this.init(_,k)}var o,d;return o=l,(d=[{key:"fetchWithTimeout",value:function(_,k,E){var I=2<arguments.length&&E!==void 0?E:2e3;return Promise.race([fetch(_,k),new Promise(function(U,V){return setTimeout(function(){return V(new Error("timeout"))},I)})])}},{key:"init",value:function(_,k){var E=1<arguments.length&&k!==void 0?k:{};this.services=_,this.options=E}},{key:"read",value:function(_,k,E){var I=this.options.loadPath;if(_===this.options.fallback)E(null,g[_][k]);else if(t.includes(_)){var U=this.services.interpolator.interpolate(I,{lng:_,ns:k});this.loadUrl(U,E)}else E("Not found",!1)}},{key:"loadUrl",value:function(_,k){this.fetchWithTimeout(_).then(function(E){if(!E.ok)throw new Error("failed loading ".concat(_));return E.json()},function(){throw new Error("failed loading ".concat(_))}).then(function(E){return k(null,E)}).catch(k)}}])&&p(o.prototype,d),l}();u.type="backend";var a=function(l,o){console.debug("p5.js translator called before translations were loaded"),c.default.t(l,o)};S.translator=a,S.initialize=function(){return c.default.use(f.default).use(u).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:g}).then(function(l){S.translator=a=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},S.availableTranslatorLanguages=function(){return c.default.languages},S.currentTranslatorLanguage=function(){return c.default.language},S.setTranslatorLanguage=function(l){return c.default.changeLanguage(l||void 0,function(o){return console.debug("Translations failed to load (".concat(o,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":229,i18next:3,"i18next-browser-languagedetector":3}],263:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("./main"))&&g.__esModule?g:{default:g};t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var c=t.default;S.default=c},{"./main":264}],264:[function(n,C,S){function g(a){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n("./shim");var t=function(a){if(a&&a.__esModule)return a;if(a===null||g(a)!=="object"&&typeof a!="function")return{default:a};var l=c();if(l&&l.has(a))return l.get(a);var o={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in a)if(Object.prototype.hasOwnProperty.call(a,_)){var k=d?Object.getOwnPropertyDescriptor(a,_):null;k&&(k.get||k.set)?Object.defineProperty(o,_,k):o[_]=a[_]}return o.default=a,l&&l.set(a,o),o}(n("./constants"));function c(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return c=function(){return a},a}function f(a,l){for(var o=0;o<l.length;o++){var d=l[o];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var m=function(){function a(d,_,k){var E=this;(function(Le,Be){if(!(Le instanceof Be))throw new TypeError("Cannot call a class as a function")})(this,a),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=_,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var I=Object.getOwnPropertyNames(a.prototype._registeredMethods),U=!0,V=!1,$=void 0;try{for(var B,se=I[Symbol.iterator]();!(U=(B=se.next()).done);U=!0){var ne=B.value;this._registeredMethods[ne]=a.prototype._registeredMethods[ne].slice()}}catch(Le){V=!0,$=Le}finally{try{U||se.return==null||se.return()}finally{if(V)throw $}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){E._userNode&&typeof E._userNode=="string"&&(E._userNode=document.getElementById(E._userNode));var Le=E._isGlobal?window:E;if(Le.preload){var Be=document.getElementById(E._loadingScreenId);Be||((Be=document.createElement("div")).innerHTML="Loading...",Be.style.position="absolute",Be.id=E._loadingScreenId,(E._userNode||document.body).appendChild(Be));var $e=E._preloadMethods;for(var ut in $e){$e[ut]=$e[ut]||a;var Ke=$e[ut];Ke!==a.prototype&&Ke!==a||(E._isGlobal&&(window[ut]=E._wrapPreload(E,ut)),Ke=E),E._registeredPreloadMethods[ut]=Ke[ut],Ke[ut]=E._wrapPreload(Ke,ut)}Le.preload(),E._runIfPreloadsAreDone()}else E._setup(),E._draw()},this._runIfPreloadsAreDone=function(){var Le=this._isGlobal?window:this;if(Le._preloadCount===0){var Be=document.getElementById(Le._loadingScreenId);Be&&Be.parentNode.removeChild(Be),this._setupDone||(this._lastFrameTime=window.performance.now(),Le._setup(),Le._draw())}},this._decrementPreload=function(){var Le=this._isGlobal?window:this;typeof Le.preload=="function"&&(Le._setProperty("_preloadCount",Le._preloadCount-1),Le._runIfPreloadsAreDone())},this._wrapPreload=function(Le,Be){var $e=this;return function(){$e._incrementPreload();for(var ut=arguments.length,Ke=new Array(ut),_t=0;_t<ut;_t++)Ke[_t]=arguments[_t];return $e._registeredPreloadMethods[Be].apply(Le,Ke)}},this._incrementPreload=function(){var Le=this._isGlobal?window:this;Le._setProperty("_preloadCount",Le._preloadCount+1)},this._setup=function(){E.createCanvas(E._defaultCanvasSize.width,E._defaultCanvasSize.height,"p2d");var Le=E._isGlobal?window:E;if(typeof Le.preload=="function")for(var Be in E._preloadMethods)Le[Be]=E._preloadMethods[Be][Be],Le[Be]&&E&&(Le[Be]=Le[Be].bind(E));E._millisStart=window.performance.now(),typeof Le.setup=="function"&&Le.setup();var $e=document.getElementsByTagName("canvas"),ut=!0,Ke=!1,_t=void 0;try{for(var at,Fe=$e[Symbol.iterator]();!(ut=(at=Fe.next()).done);ut=!0){var ae=at.value;ae.dataset.hidden==="true"&&(ae.style.visibility="",delete ae.dataset.hidden)}}catch(me){Ke=!0,_t=me}finally{try{ut||Fe.return==null||Fe.return()}finally{if(Ke)throw _t}}E._lastFrameTime=window.performance.now(),E._setupDone=!0,(E._accessibleOutputs.grid||E._accessibleOutputs.text)&&E._updateAccsOutput()},this._draw=function(){var Le=window.performance.now(),Be=Le-E._lastFrameTime,$e=1e3/E._targetFrameRate;(!E._loop||$e-5<=Be)&&(E.redraw(),E._frameRate=1e3/(Le-E._lastFrameTime),E.deltaTime=Le-E._lastFrameTime,E._setProperty("deltaTime",E.deltaTime),E._lastFrameTime=Le,E._updateMouseCoords!==void 0&&(E._updateMouseCoords(),E._setProperty("movedX",0),E._setProperty("movedY",0))),E._loop&&(E._requestAnimId=window.requestAnimationFrame(E._draw))},this._setProperty=function(Le,Be){E[Le]=Be,E._isGlobal&&(window[Le]=Be)},this.remove=function(){var Le=document.getElementById(E._loadingScreenId);if(Le&&(Le.parentNode.removeChild(Le),E._incrementPreload()),E._curElement){for(var Be in E._loop=!1,E._requestAnimId&&window.cancelAnimationFrame(E._requestAnimId),E._events)window.removeEventListener(Be,E._events[Be]);var $e=!0,ut=!1,Ke=void 0;try{for(var _t,at=E._elements[Symbol.iterator]();!($e=(_t=at.next()).done);$e=!0){var Fe=_t.value;for(var ae in Fe.elt&&Fe.elt.parentNode&&Fe.elt.parentNode.removeChild(Fe.elt),Fe._events)Fe.elt.removeEventListener(ae,Fe._events[ae])}}catch(Ve){ut=!0,Ke=Ve}finally{try{$e||at.return==null||at.return()}finally{if(ut)throw Ke}}var me=E;E._registeredMethods.remove.forEach(function(Ve){Ve!==void 0&&Ve.call(me)})}if(E._isGlobal){for(var Te in a.prototype)try{delete window[Te]}catch{window[Te]=void 0}for(var Me in E)if(E.hasOwnProperty(Me))try{delete window[Me]}catch{window[Me]=void 0}a.instance=null}},this._registeredMethods.init.forEach(function(Le){Le!==void 0&&Le.call(this)},this),this._setupPromisePreloads();var oe=this._createFriendlyGlobalFunctionBinder();if(d)d(this),a._checkForUserDefinedFunctions(this);else{for(var ge in this._isGlobal=!0,a.instance=this,a.prototype)if(typeof a.prototype[ge]=="function"){var J=ge.substring(2);this._events.hasOwnProperty(J)||(Math.hasOwnProperty(ge)&&Math[ge]===a.prototype[ge]?oe(ge,a.prototype[ge]):oe(ge,a.prototype[ge].bind(this)))}else oe(ge,a.prototype[ge]);for(var ue in this)this.hasOwnProperty(ue)&&oe(ue,this[ue])}for(var he in this._events){var ye=this["_on".concat(he)];if(ye){var Oe=ye.bind(this);window.addEventListener(he,Oe,{passive:!1}),this._events[he]=Oe}}function de(){E._setProperty("focused",!0)}function Ne(){E._setProperty("focused",!1)}window.addEventListener("focus",de),window.addEventListener("blur",Ne),this.registerMethod("remove",function(){window.removeEventListener("focus",de),window.removeEventListener("blur",Ne)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var l,o;return l=a,(o=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=t.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(d,_){a.prototype._preloadMethods.hasOwnProperty(d)||(a.prototype._preloadMethods[d]=_)}},{key:"registerMethod",value:function(d,_){var k=this||a.prototype;k._registeredMethods.hasOwnProperty(d)||(k._registeredMethods[d]=[]),k._registeredMethods[d].push(_)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(d){var _=0<arguments.length&&d!==void 0?d:{},k=_.globalObject||window;return _.log||console.log.bind(console),function(E,I){k[E]=I}}}])&&f(l.prototype,o),a}();for(var p in m.instance=null,m.disableFriendlyErrors=!1,t)m.prototype[p]=t[p];m.VERSION=t.VERSION,m.prototype._preloadMethods={loadJSON:m.prototype,loadImage:m.prototype,loadStrings:m.prototype,loadXML:m.prototype,loadBytes:m.prototype,loadTable:m.prototype,loadFont:m.prototype,loadModel:m.prototype,loadShader:m.prototype},m.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},m.prototype._registeredPreloadMethods={};var u=m;S.default=u},{"./constants":253,"./shim":275,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],265:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("./main"))&&g.__esModule?g:{default:g};t.default.Element=function(f,m){this.elt=f,this._pInst=this._pixelsState=m,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},t.default.Element.prototype.parent=function(f){return f===void 0?this.elt.parentNode:(typeof f=="string"?(f[0]==="#"&&(f=f.substring(1)),f=document.getElementById(f)):f instanceof t.default.Element&&(f=f.elt),f.appendChild(this.elt),this)},t.default.Element.prototype.id=function(f){return f===void 0?this.elt.id:(this.elt.id=f,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},t.default.Element.prototype.class=function(f){return f===void 0?this.elt.className:(this.elt.className=f,this)},t.default.Element.prototype.mousePressed=function(f){return t.default.Element._adjustListener("mousedown",function(m){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(m),f.call(this,m)},this),this},t.default.Element.prototype.doubleClicked=function(f){return t.default.Element._adjustListener("dblclick",f,this),this},t.default.Element.prototype.mouseWheel=function(f){return t.default.Element._adjustListener("wheel",f,this),this},t.default.Element.prototype.mouseReleased=function(f){return t.default.Element._adjustListener("mouseup",f,this),this},t.default.Element.prototype.mouseClicked=function(f){return t.default.Element._adjustListener("click",f,this),this},t.default.Element.prototype.mouseMoved=function(f){return t.default.Element._adjustListener("mousemove",f,this),this},t.default.Element.prototype.mouseOver=function(f){return t.default.Element._adjustListener("mouseover",f,this),this},t.default.Element.prototype.mouseOut=function(f){return t.default.Element._adjustListener("mouseout",f,this),this},t.default.Element.prototype.touchStarted=function(f){return t.default.Element._adjustListener("touchstart",f,this),this},t.default.Element.prototype.touchMoved=function(f){return t.default.Element._adjustListener("touchmove",f,this),this},t.default.Element.prototype.touchEnded=function(f){return t.default.Element._adjustListener("touchend",f,this),this},t.default.Element.prototype.dragOver=function(f){return t.default.Element._adjustListener("dragover",f,this),this},t.default.Element.prototype.dragLeave=function(f){return t.default.Element._adjustListener("dragleave",f,this),this},t.default.Element._adjustListener=function(f,m,p){return m===!1?t.default.Element._detachListener(f,p):t.default.Element._attachListener(f,m,p),this},t.default.Element._attachListener=function(f,m,p){p._events[f]&&t.default.Element._detachListener(f,p);var u=m.bind(p);p.elt.addEventListener(f,u,!1),p._events[f]=u},t.default.Element._detachListener=function(f,m){var p=m._events[f];m.elt.removeEventListener(f,p,!1),m._events[f]=null},t.default.Element.prototype._setProperty=function(f,m){this[f]=m};var c=t.default.Element;S.default=c},{"./main":264}],266:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.splice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("./main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("./constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}c.default.Graphics=function(u,a,l,o){var d=l||f.P2D;this.canvas=document.createElement("canvas");var _=o._userNode||document.body;for(var k in _.appendChild(this.canvas),c.default.Element.call(this,this.canvas,o),c.default.prototype)this[k]||(typeof c.default.prototype[k]=="function"?this[k]=c.default.prototype[k].bind(this):this[k]=c.default.prototype[k]);return c.default.prototype._initializeInstanceVariables.apply(this),this.width=u,this.height=a,this._pixelDensity=o._pixelDensity,d===f.WEBGL?this._renderer=new c.default.RendererGL(this.canvas,this,!1):this._renderer=new c.default.Renderer2D(this.canvas,this,!1),o._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(u,a),this._renderer._applyDefaults(),this},c.default.Graphics.prototype=Object.create(c.default.Element.prototype),c.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},c.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var u=this._pInst._elements.indexOf(this);for(var a in u!==-1&&this._pInst._elements.splice(u,1),this._events)this.elt.removeEventListener(a,this._events[a])};var p=c.default.Graphics;S.default=p},{"./constants":253,"./main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.splice":164}],267:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("./main"))&&g.__esModule?g:{default:g},c=function(a){if(a&&a.__esModule)return a;if(a===null||m(a)!=="object"&&typeof a!="function")return{default:a};var l=f();if(l&&l.has(a))return l.get(a);var o={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in a)if(Object.prototype.hasOwnProperty.call(a,_)){var k=d?Object.getOwnPropertyDescriptor(a,_):null;k&&(k.get||k.set)?Object.defineProperty(o,_,k):o[_]=a[_]}return o.default=a,l&&l.set(a,o),o}(n("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return f=function(){return a},a}function m(a){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function p(a){var l=0,o=0;if(a.offsetParent)for(;l+=a.offsetLeft,o+=a.offsetTop,a=a.offsetParent;);else l+=a.offsetLeft,o+=a.offsetTop;return[l,o]}t.default.Renderer=function(a,l,o){t.default.Element.call(this,a,l),this.canvas=a,this._pixelsState=l,o?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=c.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=c.LEFT,this._textBaseline=c.BASELINE,this._textWrap=c.WORD,this._rectMode=c.CORNER,this._ellipseMode=c.CENTER,this._curveTightness=0,this._imageMode=c.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},t.default.Renderer.prototype=Object.create(t.default.Element.prototype),t.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},t.default.Renderer.prototype.pop=function(a){a.properties&&Object.assign(this,a.properties)},t.default.Renderer.prototype.resize=function(a,l){this.width=a,this.height=l,this.elt.width=a*this._pInst._pixelDensity,this.elt.height=l*this._pInst._pixelDensity,this.elt.style.width="".concat(a,"px"),this.elt.style.height="".concat(l,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},t.default.Renderer.prototype.get=function(a,l,o,d){var _=this._pixelsState,k=_._pixelDensity,E=this.canvas;if(a===void 0&&l===void 0)a=l=0,o=_.width,d=_.height;else if(a*=k,l*=k,o===void 0&&d===void 0)return a<0||l<0||a>=E.width||l>=E.height?[0,0,0,0]:this._getPixel(a,l);var I=new t.default.Image(o,d);return I.canvas.getContext("2d").drawImage(E,a,l,o*k,d*k,0,0,o,d),I},t.default.Renderer.prototype.textLeading=function(a){return typeof a=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",a),this._pInst):this._textLeading},t.default.Renderer.prototype.textSize=function(a){return typeof a=="number"?(this._setProperty("_textSize",a),this._leadingSet||this._setProperty("_textLeading",a*c._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},t.default.Renderer.prototype.textStyle=function(a){return a?(a!==c.NORMAL&&a!==c.ITALIC&&a!==c.BOLD&&a!==c.BOLDITALIC||this._setProperty("_textStyle",a),this._applyTextProperties()):this._textStyle},t.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},t.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},t.default.Renderer.prototype.textAlign=function(a,l){return a!==void 0?(this._setProperty("_textAlign",a),l!==void 0&&this._setProperty("_textBaseline",l),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},t.default.Renderer.prototype.textWrap=function(a){return this._setProperty("_textWrap",a),this._textWrap},t.default.Renderer.prototype.text=function(a,l,o,d,_){var k,E,I,U,V,$,B,se=this._pInst,ne=this._textWrap,oe=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&a!==void 0){if(typeof a!="string"&&(a=a.toString()),k=(a=a.replace(/(\t)/g,"  ")).split(`
`),d!==void 0){switch(this._rectMode===c.CENTER&&(l-=d/2),this._textAlign){case c.CENTER:l+=d/2;break;case c.RIGHT:l+=d}var ge=!1;if(_!==void 0){switch(this._rectMode===c.CENTER&&(o-=_/2),this._textBaseline){case c.BOTTOM:B=o+_,o=Math.max(B,o);break;case c.CENTER:B=o+_/2,o=Math.max(B,o);break;case c.BASELINE:ge=!0,this._textBaseline=c.TOP}oe=o+_-se.textAscent()}if(ne===c.WORD){for(var J=[],ue=0;ue<k.length;ue++){E="",V=k[ue].split(" ");for(var he=0;he<V.length;he++)I="".concat(E+V[he])+" ",E=d<(U=this.textWidth(I))&&0<E.length?(J.push(E),"".concat(V[he])+" "):I;J.push(E)}var ye=0,Oe=se.textAlign().vertical;Oe===c.CENTER?ye=(J.length-1)*se.textLeading()/2:Oe===c.BOTTOM&&(ye=(J.length-1)*se.textLeading());for(var de=0;de<k.length;de++){E="",V=k[de].split(" ");for(var Ne=0;Ne<V.length;Ne++)I="".concat(E+V[Ne])+" ",d<(U=this.textWidth(I))&&0<E.length?(this._renderText(se,E.trim(),l,o-ye,oe),E="".concat(V[Ne])+" ",o+=se.textLeading()):E=I;this._renderText(se,E.trim(),l,o-ye,oe),o+=se.textLeading(),ge&&(this._textBaseline=c.BASELINE)}}else{for(var Le=[],Be=0;Be<k.length;Be++){E="",$=k[Be].split("");for(var $e=0;$e<$.length;$e++)I="".concat(E+$[$e]),(U=this.textWidth(I))<=d?E+=$[$e]:d<U&&0<E.length&&(Le.push(E),E="".concat($[$e]))}Le.push(E);var ut=0,Ke=se.textAlign().vertical;Ke===c.CENTER?ut=(Le.length-1)*se.textLeading()/2:Ke===c.BOTTOM&&(ut=(Le.length-1)*se.textLeading());for(var _t=0;_t<k.length;_t++){E="",$=k[_t].split("");for(var at=0;at<$.length;at++)I="".concat(E+$[at]),(U=this.textWidth(I))<=d?E+=$[at]:d<U&&0<E.length&&(this._renderText(se,E.trim(),l,o-ut,oe),o+=se.textLeading(),E="".concat($[at]))}this._renderText(se,E.trim(),l,o-ut,oe),o+=se.textLeading(),ge&&(this._textBaseline=c.BASELINE)}}else{var Fe=0,ae=se.textAlign().vertical;ae===c.CENTER?Fe=(k.length-1)*se.textLeading()/2:ae===c.BOTTOM&&(Fe=(k.length-1)*se.textLeading());for(var me=0;me<k.length;me++)this._renderText(se,k[me],l,o-Fe,oe),o+=se.textLeading()}return se}},t.default.Renderer.prototype._applyDefaults=function(){return this},t.default.Renderer.prototype._isOpenType=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(a)==="object"&&a.font&&a.font.supported},t.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var a=document.createElement("span");a.style.fontFamily=this._textFont,a.style.fontSize="".concat(this._textSize,"px"),a.innerHTML="ABCjgq|";var l=document.createElement("div");l.style.display="inline-block",l.style.width="1px",l.style.height="0px";var o=document.createElement("div");o.appendChild(a),o.appendChild(l),o.style.height="0px",o.style.overflow="hidden",document.body.appendChild(o),l.style.verticalAlign="baseline";var d=p(l),_=p(a),k=d[1]-_[1];l.style.verticalAlign="bottom",d=p(l),_=p(a);var E=d[1]-_[1]-k;return document.body.removeChild(o),this._setProperty("_textAscent",k),this._setProperty("_textDescent",E),this};var u=t.default.Renderer;S.default=u},{"../core/constants":253,"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],268:[function(n,C,S){function g(l){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(l)}n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t=p(n("./main")),c=function(l){if(l&&l.__esModule)return l;if(l===null||g(l)!=="object"&&typeof l!="function")return{default:l};var o=m();if(o&&o.has(l))return o.get(l);var d={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in l)if(Object.prototype.hasOwnProperty.call(l,k)){var E=_?Object.getOwnPropertyDescriptor(l,k):null;E&&(E.get||E.set)?Object.defineProperty(d,k,E):d[k]=l[k]}return d.default=l,o&&o.set(l,d),d}(n("./constants")),f=p(n("../image/filters"));function m(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return m=function(){return l},l}function p(l){return l&&l.__esModule?l:{default:l}}n("./p5.Renderer");var u="rgba(0,0,0,0)";t.default.Renderer2D=function(l,o,d){return t.default.Renderer.call(this,l,o,d),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},t.default.Renderer2D.prototype=Object.create(t.default.Renderer.prototype),t.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"},t.default.Renderer2D.prototype.resize=function(l,o){t.default.Renderer.prototype.resize.call(this,l,o),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},t.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof t.default.Image)if(0<=(arguments.length<=1?void 0:arguments[1])){var l=arguments.length<=0?void 0:arguments[0];this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(l,0,0,this.width,this.height)}else this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var o,d=this._getFill(),_=(o=this._pInst).color.apply(o,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(_.levels);var k=_.toString();this._setFill(k),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(d),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},t.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},t.default.Renderer2D.prototype.fill=function(){var l,o=(l=this._pInst).color.apply(l,arguments);this._setFill(o.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",o.levels)},t.default.Renderer2D.prototype.stroke=function(){var l,o=(l=this._pInst).color.apply(l,arguments);this._setStroke(o.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",o.levels)},t.default.Renderer2D.prototype.erase=function(l,o){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var d=this._pInst.color(255,l).toString();this.drawingContext.fillStyle=d,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var _=this._pInst.color(255,o).toString();this.drawingContext.strokeStyle=_;var k=this._cachedBlendMode;this.blendMode(c.REMOVE),this._cachedBlendMode=k,this._isErasing=!0}},t.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},t.default.Renderer2D.prototype.image=function(l,o,d,_,k,E,I,U,V){var $;l.gifProperties&&l._animateGif(this._pInst);try{this._tint&&(t.default.MediaElement&&l instanceof t.default.MediaElement&&l.loadPixels(),l.canvas&&($=this._getTintedImageCanvas(l))),$=$||l.canvas||l.elt;var B=1;l.width&&0<l.width&&(B=$.width/l.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage($,B*o,B*d,B*_,B*k,E,I,U,V),this._isErasing&&this._pInst.erase()}catch(se){if(se.name!=="NS_ERROR_NOT_AVAILABLE")throw se}},t.default.Renderer2D.prototype._getTintedImageCanvas=function(l){if(!l.canvas)return l;var o=f.default._toPixels(l.canvas),d=document.createElement("canvas");d.width=l.canvas.width,d.height=l.canvas.height;for(var _=d.getContext("2d"),k=_.createImageData(l.canvas.width,l.canvas.height),E=k.data,I=0;I<o.length;I+=4){var U=o[I],V=o[I+1],$=o[I+2],B=o[I+3];E[I]=U*this._tint[0]/255,E[I+1]=V*this._tint[1]/255,E[I+2]=$*this._tint[2]/255,E[I+3]=B*this._tint[3]/255}return _.putImageData(k,0,0),d},t.default.Renderer2D.prototype.blendMode=function(l){if(l===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(l!==c.BLEND&&l!==c.REMOVE&&l!==c.DARKEST&&l!==c.LIGHTEST&&l!==c.DIFFERENCE&&l!==c.MULTIPLY&&l!==c.EXCLUSION&&l!==c.SCREEN&&l!==c.REPLACE&&l!==c.OVERLAY&&l!==c.HARD_LIGHT&&l!==c.SOFT_LIGHT&&l!==c.DODGE&&l!==c.BURN&&l!==c.ADD)throw new Error("Mode ".concat(l," not recognized."));this._cachedBlendMode=l,this.drawingContext.globalCompositeOperation=l}},t.default.Renderer2D.prototype.blend=function(){for(var l=this.drawingContext.globalCompositeOperation,o=arguments.length,d=new Array(o),_=0;_<o;_++)d[_]=arguments[_];var k=d[d.length-1],E=Array.prototype.slice.call(d,0,d.length-1);this.drawingContext.globalCompositeOperation=k,t.default.prototype.copy.apply(this,E),this.drawingContext.globalCompositeOperation=l},t.default.Renderer2D.prototype._getPixel=function(l,o){var d;return[(d=this.drawingContext.getImageData(l,o,1,1).data)[0],d[1],d[2],d[3]]},t.default.Renderer2D.prototype.loadPixels=function(){var l=this._pixelsState,o=l._pixelDensity,d=this.width*o,_=this.height*o,k=this.drawingContext.getImageData(0,0,d,_);l._setProperty("imageData",k),l._setProperty("pixels",k.data)},t.default.Renderer2D.prototype.set=function(l,o,d){l=Math.floor(l),o=Math.floor(o);var _=this._pixelsState;if(d instanceof t.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(_._pixelDensity,_._pixelDensity),this.drawingContext.clearRect(l,o,d.width,d.height),this.drawingContext.drawImage(d.canvas,l,o),this.drawingContext.restore();else{var k=0,E=0,I=0,U=0,V=4*(o*_._pixelDensity*(this.width*_._pixelDensity)+l*_._pixelDensity);if(_.imageData||_.loadPixels.call(_),typeof d=="number")V<_.pixels.length&&(I=E=k=d,U=255);else if(d instanceof Array){if(d.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");V<_.pixels.length&&(k=d[0],E=d[1],I=d[2],U=d[3])}else d instanceof t.default.Color&&V<_.pixels.length&&(k=d.levels[0],E=d.levels[1],I=d.levels[2],U=d.levels[3]);for(var $=0;$<_._pixelDensity;$++)for(var B=0;B<_._pixelDensity;B++)V=4*((o*_._pixelDensity+B)*this.width*_._pixelDensity+(l*_._pixelDensity+$)),_.pixels[V]=k,_.pixels[V+1]=E,_.pixels[V+2]=I,_.pixels[V+3]=U}},t.default.Renderer2D.prototype.updatePixels=function(l,o,d,_){var k=this._pixelsState,E=k._pixelDensity;l===void 0&&o===void 0&&d===void 0&&_===void 0&&(o=l=0,d=this.width,_=this.height),l*=E,o*=E,d*=E,_*=E,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=k.imageData),this.drawingContext.putImageData(k.imageData,l,o,0,0,d,_)},t.default.Renderer2D.prototype._acuteArcToBezier=function(l,o){var d=o/2,_=Math.cos(d),k=Math.sin(d),E=1/Math.tan(d),I=l+d,U=Math.cos(I),V=Math.sin(I),$=(4-_)/3,B=k+(_-$)*E;return{ax:Math.cos(l).toFixed(7),ay:Math.sin(l).toFixed(7),bx:($*U+B*V).toFixed(7),by:($*V-B*U).toFixed(7),cx:($*U-B*V).toFixed(7),cy:($*V+B*U).toFixed(7),dx:Math.cos(l+o).toFixed(7),dy:Math.sin(l+o).toFixed(7)}},t.default.Renderer2D.prototype.arc=function(l,o,d,_,k,E,I){var U=this.drawingContext,V=d/2,$=_/2,B=0,se=[];for(l+=V,o+=$;1e-5<=E-k;)B=Math.min(E-k,c.HALF_PI),se.push(this._acuteArcToBezier(k,B)),k+=B;return this._doFill&&(U.beginPath(),se.forEach(function(ne,oe){oe===0&&U.moveTo(l+ne.ax*V,o+ne.ay*$),U.bezierCurveTo(l+ne.bx*V,o+ne.by*$,l+ne.cx*V,o+ne.cy*$,l+ne.dx*V,o+ne.dy*$)}),I!==c.PIE&&I!=null||U.lineTo(l,o),U.closePath(),U.fill()),this._doStroke&&(U.beginPath(),se.forEach(function(ne,oe){oe===0&&U.moveTo(l+ne.ax*V,o+ne.ay*$),U.bezierCurveTo(l+ne.bx*V,o+ne.by*$,l+ne.cx*V,o+ne.cy*$,l+ne.dx*V,o+ne.dy*$)}),I===c.PIE?(U.lineTo(l,o),U.closePath()):I===c.CHORD&&U.closePath(),U.stroke()),this},t.default.Renderer2D.prototype.ellipse=function(l){var o=this.drawingContext,d=this._doFill,_=this._doStroke,k=parseFloat(l[0]),E=parseFloat(l[1]),I=parseFloat(l[2]),U=parseFloat(l[3]);if(d&&!_){if(this._getFill()===u)return this}else if(!d&&_&&this._getStroke()===u)return this;var V=I/2*.5522847498,$=U/2*.5522847498,B=k+I,se=E+U,ne=k+I/2,oe=E+U/2;o.beginPath(),o.moveTo(k,oe),o.bezierCurveTo(k,oe-$,ne-V,E,ne,E),o.bezierCurveTo(ne+V,E,B,oe-$,B,oe),o.bezierCurveTo(B,oe+$,ne+V,se,ne,se),o.bezierCurveTo(ne-V,se,k,oe+$,k,oe),d&&o.fill(),_&&o.stroke()},t.default.Renderer2D.prototype.line=function(l,o,d,_){var k=this.drawingContext;return this._doStroke&&(this._getStroke()===u||(k.beginPath(),k.moveTo(l,o),k.lineTo(d,_),k.stroke())),this},t.default.Renderer2D.prototype.point=function(l,o){var d=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===u)return this;var _=this._getStroke(),k=this._getFill();this._setFill(_),d.beginPath(),d.arc(l,o,d.lineWidth/2,0,c.TWO_PI,!1),d.fill(),this._setFill(k)},t.default.Renderer2D.prototype.quad=function(l,o,d,_,k,E,I,U){var V=this.drawingContext,$=this._doFill,B=this._doStroke;if($&&!B){if(this._getFill()===u)return this}else if(!$&&B&&this._getStroke()===u)return this;return V.beginPath(),V.moveTo(l,o),V.lineTo(d,_),V.lineTo(k,E),V.lineTo(I,U),V.closePath(),$&&V.fill(),B&&V.stroke(),this},t.default.Renderer2D.prototype.rect=function(l){var o=l[0],d=l[1],_=l[2],k=l[3],E=l[4],I=l[5],U=l[6],V=l[7],$=this.drawingContext,B=this._doFill,se=this._doStroke;if(B&&!se){if(this._getFill()===u)return this}else if(!B&&se&&this._getStroke()===u)return this;if($.beginPath(),E===void 0)$.rect(o,d,_,k);else{I===void 0&&(I=E),U===void 0&&(U=I),V===void 0&&(V=U);var ne=Math.abs(_),oe=Math.abs(k),ge=ne/2,J=oe/2;ne<2*E&&(E=ge),oe<2*E&&(E=J),ne<2*I&&(I=ge),oe<2*I&&(I=J),ne<2*U&&(U=ge),oe<2*U&&(U=J),ne<2*V&&(V=ge),oe<2*V&&(V=J),$.beginPath(),$.moveTo(o+E,d),$.arcTo(o+_,d,o+_,d+k,I),$.arcTo(o+_,d+k,o,d+k,U),$.arcTo(o,d+k,o,d,V),$.arcTo(o,d,o+_,d,E),$.closePath()}return this._doFill&&$.fill(),this._doStroke&&$.stroke(),this},t.default.Renderer2D.prototype.triangle=function(l){var o=this.drawingContext,d=this._doFill,_=this._doStroke,k=l[0],E=l[1],I=l[2],U=l[3],V=l[4],$=l[5];if(d&&!_){if(this._getFill()===u)return this}else if(!d&&_&&this._getStroke()===u)return this;o.beginPath(),o.moveTo(k,E),o.lineTo(I,U),o.lineTo(V,$),o.closePath(),d&&o.fill(),_&&o.stroke()},t.default.Renderer2D.prototype.endShape=function(l,o,d,_,k,E,I){if(o.length===0)return this;if(!this._doStroke&&!this._doFill)return this;var U,V,$,B=l===c.CLOSE;B&&!E&&o.push(o[0]);var se=o.length;if(!d||I!==c.POLYGON&&I!==null)if(!_||I!==c.POLYGON&&I!==null)if(!k||I!==c.POLYGON&&I!==null)if(I===c.POINTS)for(V=0;V<se;V++)U=o[V],this._doStroke&&this._pInst.stroke(U[6]),this._pInst.point(U[0],U[1]);else if(I===c.LINES)for(V=0;V+1<se;V+=2)U=o[V],this._doStroke&&this._pInst.stroke(o[V+1][6]),this._pInst.line(U[0],U[1],o[V+1][0],o[V+1][1]);else if(I===c.TRIANGLES)for(V=0;V+2<se;V+=3)U=o[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(o[V+1][0],o[V+1][1]),this.drawingContext.lineTo(o[V+2][0],o[V+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(o[V+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(o[V+2][6]),this.drawingContext.stroke());else if(I===c.TRIANGLE_STRIP)for(V=0;V+1<se;V++)U=o[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(o[V+1][0],o[V+1][1]),this.drawingContext.lineTo(U[0],U[1]),this._doStroke&&this._pInst.stroke(o[V+1][6]),this._doFill&&this._pInst.fill(o[V+1][5]),V+2<se&&(this.drawingContext.lineTo(o[V+2][0],o[V+2][1]),this._doStroke&&this._pInst.stroke(o[V+2][6]),this._doFill&&this._pInst.fill(o[V+2][5])),this._doFillStrokeClose(B);else if(I===c.TRIANGLE_FAN){if(2<se){for(this.drawingContext.beginPath(),V=2;V<se;V++)U=o[V],this.drawingContext.moveTo(o[0][0],o[0][1]),this.drawingContext.lineTo(o[V-1][0],o[V-1][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(o[0][0],o[0][1]),V<se-1&&(this._doFill&&U[5]!==o[V+1][5]||this._doStroke&&U[6]!==o[V+1][6])&&(this._doFill&&(this._pInst.fill(U[5]),this.drawingContext.fill(),this._pInst.fill(o[V+1][5])),this._doStroke&&(this._pInst.stroke(U[6]),this.drawingContext.stroke(),this._pInst.stroke(o[V+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(B)}}else if(I===c.QUADS)for(V=0;V+3<se;V+=4){for(U=o[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),$=1;$<4;$++)this.drawingContext.lineTo(o[V+$][0],o[V+$][1]);this.drawingContext.lineTo(U[0],U[1]),this._doFill&&this._pInst.fill(o[V+3][5]),this._doStroke&&this._pInst.stroke(o[V+3][6]),this._doFillStrokeClose(B)}else if(I===c.QUAD_STRIP){if(3<se)for(V=0;V+1<se;V+=2)U=o[V],this.drawingContext.beginPath(),V+3<se?(this.drawingContext.moveTo(o[V+2][0],o[V+2][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(o[V+1][0],o[V+1][1]),this.drawingContext.lineTo(o[V+3][0],o[V+3][1]),this._doFill&&this._pInst.fill(o[V+3][5]),this._doStroke&&this._pInst.stroke(o[V+3][6])):(this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(o[V+1][0],o[V+1][1])),this._doFillStrokeClose(B)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(o[0][0],o[0][1]),V=1;V<se;V++)(U=o[V]).isVert&&(U.moveTo?this.drawingContext.moveTo(U[0],U[1]):this.drawingContext.lineTo(U[0],U[1]));this._doFillStrokeClose(B)}else{for(this.drawingContext.beginPath(),V=0;V<se;V++)o[V].isVert?o[V].moveTo?this.drawingContext.moveTo(o[V][0],o[V][1]):this.drawingContext.lineTo(o[V][0],o[V][1]):this.drawingContext.quadraticCurveTo(o[V][0],o[V][1],o[V][2],o[V][3]);this._doFillStrokeClose(B)}else{for(this.drawingContext.beginPath(),V=0;V<se;V++)o[V].isVert?o[V].moveTo?this.drawingContext.moveTo(o[V][0],o[V][1]):this.drawingContext.lineTo(o[V][0],o[V][1]):this.drawingContext.bezierCurveTo(o[V][0],o[V][1],o[V][2],o[V][3],o[V][4],o[V][5]);this._doFillStrokeClose(B)}else if(3<se){var ne=[],oe=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(o[1][0],o[1][1]),V=1;V+2<se;V++)U=o[V],ne[0]=[U[0],U[1]],ne[1]=[U[0]+(oe*o[V+1][0]-oe*o[V-1][0])/6,U[1]+(oe*o[V+1][1]-oe*o[V-1][1])/6],ne[2]=[o[V+1][0]+(oe*o[V][0]-oe*o[V+2][0])/6,o[V+1][1]+(oe*o[V][1]-oe*o[V+2][1])/6],ne[3]=[o[V+1][0],o[V+1][1]],this.drawingContext.bezierCurveTo(ne[1][0],ne[1][1],ne[2][0],ne[2][1],ne[3][0],ne[3][1]);B&&this.drawingContext.lineTo(o[V+1][0],o[V+1][1]),this._doFillStrokeClose(B)}return E=k=_=d=!1,B&&o.pop(),this},t.default.Renderer2D.prototype.strokeCap=function(l){return l!==c.ROUND&&l!==c.SQUARE&&l!==c.PROJECT||(this.drawingContext.lineCap=l),this},t.default.Renderer2D.prototype.strokeJoin=function(l){return l!==c.ROUND&&l!==c.BEVEL&&l!==c.MITER||(this.drawingContext.lineJoin=l),this},t.default.Renderer2D.prototype.strokeWeight=function(l){return this.drawingContext.lineWidth=l===void 0||l===0?1e-4:l,this},t.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},t.default.Renderer2D.prototype._setFill=function(l){l!==this._cachedFillStyle&&(this.drawingContext.fillStyle=l,this._cachedFillStyle=l)},t.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},t.default.Renderer2D.prototype._setStroke=function(l){l!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=l,this._cachedStrokeStyle=l)},t.default.Renderer2D.prototype.bezier=function(l,o,d,_,k,E,I,U){return this._pInst.beginShape(),this._pInst.vertex(l,o),this._pInst.bezierVertex(d,_,k,E,I,U),this._pInst.endShape(),this},t.default.Renderer2D.prototype.curve=function(l,o,d,_,k,E,I,U){return this._pInst.beginShape(),this._pInst.curveVertex(l,o),this._pInst.curveVertex(d,_),this._pInst.curveVertex(k,E),this._pInst.curveVertex(I,U),this._pInst.endShape(),this},t.default.Renderer2D.prototype._doFillStrokeClose=function(l){l&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},t.default.Renderer2D.prototype.applyMatrix=function(l,o,d,_,k,E){this.drawingContext.transform(l,o,d,_,k,E)},t.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},t.default.Renderer2D.prototype.rotate=function(l){this.drawingContext.rotate(l)},t.default.Renderer2D.prototype.scale=function(l,o){return this.drawingContext.scale(l,o),this},t.default.Renderer2D.prototype.translate=function(l,o){return l instanceof t.default.Vector&&(o=l.y,l=l.x),this.drawingContext.translate(l,o),this},t.default.Renderer2D.prototype.text=function(l,o,d,_,k){var E;_!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(E=!0,this.drawingContext.textBaseline=c.TOP);var I=t.default.Renderer.prototype.text.apply(this,arguments);return E&&(this.drawingContext.textBaseline=c.BASELINE),I},t.default.Renderer2D.prototype._renderText=function(l,o,d,_,k){if(!(k<=_))return l.push(),this._isOpenType()?this._textFont._renderPath(o,d,_,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(o,d,_),this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(o,d,_))),l.pop(),l},t.default.Renderer2D.prototype.textWidth=function(l){return this._isOpenType()?this._textFont._textWidth(l,this._textSize):this.drawingContext.measureText(l).width},t.default.Renderer2D.prototype._applyTextProperties=function(){var l,o=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),l=this._textFont,this._isOpenType()&&(l=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(l||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,o},t.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),t.default.Renderer.prototype.push.apply(this)},t.default.Renderer2D.prototype.pop=function(l){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,t.default.Renderer.prototype.pop.call(this,l)};var a=t.default.Renderer2D;S.default=a},{"../image/filters":285,"./constants":253,"./main":264,"./p5.Renderer":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],269:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator");var g,t=(g=n("./main"))&&g.__esModule?g:{default:g};t.default.prototype._promisePreloads=[];var c=!(t.default.prototype.registerPromisePreload=function(m){t.default.prototype._promisePreloads.push(m)});t.default.prototype._setupPromisePreloads=function(){var m=!0,p=!1,u=void 0;try{for(var a,l=this._promisePreloads[Symbol.iterator]();!(m=(a=l.next()).done);m=!0){var o=a.value,d=this,_=o.method,k=o.addCallbacks,E=o.legacyPreloadSetup,I=o.target||this,U=I[_].bind(I);if(I===t.default.prototype){if(c)continue;d=null,U=I[_]}I[_]=this._wrapPromisePreload(d,U,k),E&&(I[E.method]=this._legacyPreloadGenerator(d,E,I[_]))}}catch(V){p=!0,u=V}finally{try{m||l.return==null||l.return()}finally{if(p)throw u}}c=!0},t.default.prototype._wrapPromisePreload=function(m,p,u){var a=function(){var l=this;this._incrementPreload();for(var o=null,d=null,_=arguments.length,k=new Array(_),E=0;E<_;E++)k[E]=arguments[E];if(u)for(var I=k.length-1;0<=I&&!d&&typeof k[I]=="function";I--)d=o,o=k.pop();var U=Promise.resolve(p.apply(this,k));return o&&U.then(o),d&&U.catch(d),U.then(function(){return l._decrementPreload()}),U};return m&&(a=a.bind(m)),a};function f(){return{}}t.default.prototype._legacyPreloadGenerator=function(m,p,u){var a=p.createBaseObject||f,l=function(){var o=this;this._incrementPreload();var d=a.apply(this,arguments);return u.apply(this,arguments).then(function(_){Object.assign(d,_),o._decrementPreload()}),d};return m&&(l=l.bind(m)),l}},{"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],270:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("./main"))&&g.__esModule?g:{default:g},c=function(a){if(a&&a.__esModule)return a;if(a===null||m(a)!=="object"&&typeof a!="function")return{default:a};var l=f();if(l&&l.has(a))return l.get(a);var o={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in a)if(Object.prototype.hasOwnProperty.call(a,_)){var k=d?Object.getOwnPropertyDescriptor(a,_):null;k&&(k.get||k.set)?Object.defineProperty(o,_,k):o[_]=a[_]}return o.default=a,l&&l.set(a,o),o}(n("./constants"));function f(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return f=function(){return a},a}function m(a){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}n("./p5.Graphics"),n("./p5.Renderer2D"),n("../webgl/p5.RendererGL");var p="defaultCanvas0";t.default.prototype.createCanvas=function(a,l,o){t.default._validateParameters("createCanvas",arguments);var d,_=o||c.P2D;if(_===c.WEBGL){if(d=document.getElementById(p)){d.parentNode.removeChild(d);var k=this._renderer;this._elements=this._elements.filter(function(U){return U!==k})}(d=document.createElement("canvas")).id=p,d.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)d=this.canvas;else{d=document.createElement("canvas");for(var E=0;document.getElementById("defaultCanvas".concat(E));)E++;p="defaultCanvas".concat(E),d.id=p,d.classList.add("p5Canvas")}if(this._setupDone||(d.dataset.hidden=!0,d.style.visibility="hidden"),this._userNode)this._userNode.appendChild(d);else{if(document.getElementsByTagName("main").length===0){var I=document.createElement("main");document.body.appendChild(I)}document.getElementsByTagName("main")[0].appendChild(d)}return _===c.WEBGL?(this._setProperty("_renderer",new t.default.RendererGL(d,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new t.default.Renderer2D(d,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(a,l),this._renderer._applyDefaults(),this._renderer},t.default.prototype.resizeCanvas=function(a,l,o){if(t.default._validateParameters("resizeCanvas",arguments),this._renderer){var d={};for(var _ in this.drawingContext){var k=this.drawingContext[_];m(k)!=="object"&&typeof k!="function"&&(d[_]=k)}for(var E in this._renderer.resize(a,l),this.width=a,this.height=l,d)try{this.drawingContext[E]=d[E]}catch{}o||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},t.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},t.default.prototype.createGraphics=function(a,l,o){return t.default._validateParameters("createGraphics",arguments),new t.default.Graphics(a,l,o,this)},t.default.prototype.blendMode=function(a){t.default._validateParameters("blendMode",arguments),a===c.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),a=c.BLEND),this._renderer.blendMode(a)};var u=t.default;S.default=u},{"../webgl/p5.RendererGL":318,"./constants":253,"./main":264,"./p5.Graphics":266,"./p5.Renderer2D":268,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],271:[function(n,C,S){function g(a){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}n("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t=p(n("../main")),c=function(a){if(a&&a.__esModule)return a;if(a===null||g(a)!=="object"&&typeof a!="function")return{default:a};var l=m();if(l&&l.has(a))return l.get(a);var o={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in a)if(Object.prototype.hasOwnProperty.call(a,_)){var k=d?Object.getOwnPropertyDescriptor(a,_):null;k&&(k.get||k.set)?Object.defineProperty(o,_,k):o[_]=a[_]}return o.default=a,l&&l.set(a,o),o}(n("../constants")),f=p(n("../helpers"));function m(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return m=function(){return a},a}function p(a){return a&&a.__esModule?a:{default:a}}n("../friendly_errors/fes_core"),n("../friendly_errors/file_errors"),n("../friendly_errors/validate_params"),t.default.prototype._normalizeArcAngles=function(a,l,o,d,_){var k;return a-=c.TWO_PI*Math.floor(a/c.TWO_PI),l-=c.TWO_PI*Math.floor(l/c.TWO_PI),k=Math.min(Math.abs(a-l),c.TWO_PI-Math.abs(a-l)),_&&(a=a<=c.HALF_PI?Math.atan(o/d*Math.tan(a)):a>c.HALF_PI&&a<=3*c.HALF_PI?Math.atan(o/d*Math.tan(a))+c.PI:Math.atan(o/d*Math.tan(a))+c.TWO_PI,l=l<=c.HALF_PI?Math.atan(o/d*Math.tan(l)):l>c.HALF_PI&&l<=3*c.HALF_PI?Math.atan(o/d*Math.tan(l))+c.PI:Math.atan(o/d*Math.tan(l))+c.TWO_PI),l<a&&(l+=c.TWO_PI),{start:a,stop:l,correspondToSamePoint:k<1e-5}},t.default.prototype.arc=function(a,l,o,d,_,k,E,I){if(t.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(_===k)return this;_=this._toRadians(_),k=this._toRadians(k),o=Math.abs(o),d=Math.abs(d);var U=f.default.modeAdjust(a,l,o,d,this._renderer._ellipseMode),V=this._normalizeArcAngles(_,k,U.w,U.h,!0);return V.correspondToSamePoint?this._renderer.ellipse([U.x,U.y,U.w,U.h,I]):(this._renderer.arc(U.x,U.y,U.w,U.h,V.start,V.stop,E,I),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[U.x,U.y,U.w,U.h,V.start,V.stop,E])),this},t.default.prototype.ellipse=function(a,l,o,d,_){return t.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},t.default.prototype.circle=function(){t.default._validateParameters("circle",arguments);var a=Array.prototype.slice.call(arguments,0,2);return a.push(arguments[2]),a.push(arguments[2]),this._renderEllipse.apply(this,a)},t.default.prototype._renderEllipse=function(a,l,o,d,_){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;o<0&&(o=Math.abs(o)),d===void 0?d=o:d<0&&(d=Math.abs(d));var k=f.default.modeAdjust(a,l,o,d,this._renderer._ellipseMode);return this._renderer.ellipse([k.x,k.y,k.w,k.h,_]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[k.x,k.y,k.w,k.h]),this},t.default.prototype.line=function(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];var d;return t.default._validateParameters("line",l),this._renderer._doStroke&&(d=this._renderer).line.apply(d,l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",l),this},t.default.prototype.point=function(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];var d;return t.default._validateParameters("point",l),this._renderer._doStroke&&(l.length===1&&l[0]instanceof t.default.Vector?this._renderer.point.call(this._renderer,l[0].x,l[0].y,l[0].z):((d=this._renderer).point.apply(d,l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",l))),this},t.default.prototype.quad=function(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];var d;return t.default._validateParameters("quad",l),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&l.length<=12?this._renderer.quad.call(this._renderer,l[0],l[1],0,l[2],l[3],0,l[4],l[5],0,l[6],l[7],0,l[8],l[9]):((d=this._renderer).quad.apply(d,l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",l))),this},t.default.prototype.rect=function(){return t.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},t.default.prototype.square=function(a,l,o,d,_,k,E){return t.default._validateParameters("square",arguments),this._renderRect.call(this,a,l,o,o,d,_,k,E)},t.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var a=f.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),l=[a.x,a.y,a.w,a.h],o=4;o<arguments.length;o++)l[o]=arguments[o];this._renderer.rect(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[a.x,a.y,a.w,a.h])}return this},t.default.prototype.triangle=function(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return t.default._validateParameters("triangle",l),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",l),this};var u=t.default;S.default=u},{"../constants":253,"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../helpers":260,"../main":264,"core-js/modules/es.array.slice":162}],272:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}c.default.prototype.ellipseMode=function(u){return c.default._validateParameters("ellipseMode",arguments),u!==f.CORNER&&u!==f.CORNERS&&u!==f.RADIUS&&u!==f.CENTER||(this._renderer._ellipseMode=u),this},c.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},c.default.prototype.rectMode=function(u){return c.default._validateParameters("rectMode",arguments),u!==f.CORNER&&u!==f.CORNERS&&u!==f.RADIUS&&u!==f.CENTER||(this._renderer._rectMode=u),this},c.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},c.default.prototype.strokeCap=function(u){return c.default._validateParameters("strokeCap",arguments),u!==f.ROUND&&u!==f.SQUARE&&u!==f.PROJECT||this._renderer.strokeCap(u),this},c.default.prototype.strokeJoin=function(u){return c.default._validateParameters("strokeJoin",arguments),u!==f.ROUND&&u!==f.BEVEL&&u!==f.MITER||this._renderer.strokeJoin(u),this},c.default.prototype.strokeWeight=function(u){return c.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(u),this};var p=c.default;S.default=p},{"../constants":253,"../main":264}],273:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../main"))&&g.__esModule?g:{default:g};n("../friendly_errors/fes_core"),n("../friendly_errors/file_errors"),n("../friendly_errors/validate_params"),t.default.prototype.bezier=function(){for(var f,m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];return t.default._validateParameters("bezier",p),(this._renderer._doStroke||this._renderer._doFill)&&(f=this._renderer).bezier.apply(f,p),this},t.default.prototype.bezierDetail=function(f){return t.default._validateParameters("bezierDetail",arguments),this._bezierDetail=f,this},t.default.prototype.bezierPoint=function(f,m,p,u,a){t.default._validateParameters("bezierPoint",arguments);var l=1-a;return Math.pow(l,3)*f+3*Math.pow(l,2)*a*m+3*l*Math.pow(a,2)*p+Math.pow(a,3)*u},t.default.prototype.bezierTangent=function(f,m,p,u,a){t.default._validateParameters("bezierTangent",arguments);var l=1-a;return 3*u*Math.pow(a,2)-3*p*Math.pow(a,2)+6*p*l*a-6*m*l*a+3*m*Math.pow(l,2)-3*f*Math.pow(l,2)},t.default.prototype.curve=function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];var u;return t.default._validateParameters("curve",m),this._renderer._doStroke&&(u=this._renderer).curve.apply(u,m),this},t.default.prototype.curveDetail=function(f){return t.default._validateParameters("curveDetail",arguments),this._curveDetail=f<3?3:f,this},t.default.prototype.curveTightness=function(f){return t.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=f,this},t.default.prototype.curvePoint=function(f,m,p,u,a){t.default._validateParameters("curvePoint",arguments);var l=a*a*a,o=a*a;return f*(-.5*l+o-.5*a)+m*(1.5*l-2.5*o+1)+p*(-1.5*l+2*o+.5*a)+u*(.5*l-.5*o)},t.default.prototype.curveTangent=function(f,m,p,u,a){t.default._validateParameters("curveTangent",arguments);var l=a*a;return f*(-3*l/2+2*a-.5)+m*(9*l/2-5*a)+p*(-9*l/2+4*a+.5)+u*(3*l/2-a)};var c=t.default;S.default=c},{"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../main":264}],274:[function(n,C,S){function g(I){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(I)}n("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../main"))&&t.__esModule?t:{default:t},f=function(I){if(I&&I.__esModule)return I;if(I===null||g(I)!=="object"&&typeof I!="function")return{default:I};var U=m();if(U&&U.has(I))return U.get(I);var V={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in I)if(Object.prototype.hasOwnProperty.call(I,B)){var se=$?Object.getOwnPropertyDescriptor(I,B):null;se&&(se.get||se.set)?Object.defineProperty(V,B,se):V[B]=I[B]}return V.default=I,U&&U.set(I,V),V}(n("../constants"));function m(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return m=function(){return I},I}var p=null,u=[],a=[],l=!1,o=!1,d=!1,_=!1,k=!0;c.default.prototype.beginContour=function(){return a=[],_=!0,this},c.default.prototype.beginShape=function(I){var U;return c.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(U=this._renderer).beginShape.apply(U,arguments):(p=I===f.POINTS||I===f.LINES||I===f.TRIANGLES||I===f.TRIANGLE_FAN||I===f.TRIANGLE_STRIP||I===f.QUADS||I===f.QUAD_STRIP?I:null,u=[],a=[]),this},c.default.prototype.bezierVertex=function(){for(var I=arguments.length,U=new Array(I),V=0;V<I;V++)U[V]=arguments[V];var $;if(c.default._validateParameters("bezierVertex",U),this._renderer.isP3D)($=this._renderer).bezierVertex.apply($,U);else if(u.length===0)c.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{l=!0;for(var B=[],se=0;se<U.length;se++)B[se]=U[se];B.isVert=!1,_?a.push(B):u.push(B)}return this},c.default.prototype.curveVertex=function(){for(var I=arguments.length,U=new Array(I),V=0;V<I;V++)U[V]=arguments[V];var $;return c.default._validateParameters("curveVertex",U),this._renderer.isP3D?($=this._renderer).curveVertex.apply($,U):(o=!0,this.vertex(U[0],U[1])),this},c.default.prototype.endContour=function(){var I=a[0].slice();I.isVert=a[0].isVert,I.moveTo=!1,a.push(I),k&&(u.push(u[0]),k=!1);for(var U=0;U<a.length;U++)u.push(a[U]);return this},c.default.prototype.endShape=function(I){if(c.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(I,o,l,d,_,p);else{if(u.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var U=I===f.CLOSE;U&&!_&&u.push(u[0]),this._renderer.endShape(I,u,o,l,d,_,p),k=!(_=d=l=o=!1),U&&u.pop()}return this},c.default.prototype.quadraticVertex=function(){for(var I=arguments.length,U=new Array(I),V=0;V<I;V++)U[V]=arguments[V];if(c.default._validateParameters("quadraticVertex",U),this._renderer.isP3D){var $;($=this._renderer).quadraticVertex.apply($,U)}else{if(this._contourInited){var B={};return B.x=U[0],B.y=U[1],B.x3=U[2],B.y3=U[3],B.type=f.QUADRATIC,this._contourVertices.push(B),this}if(0<u.length){d=!0;for(var se=[],ne=0;ne<U.length;ne++)se[ne]=U[ne];se.isVert=!1,_?a.push(se):u.push(se)}else c.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},c.default.prototype.vertex=function(I,U,V,$,B){if(this._renderer.isP3D){var se;(se=this._renderer).vertex.apply(se,arguments)}else{var ne=[];ne.isVert=!0,ne[0]=I,ne[1]=U,ne[2]=0,ne[3]=0,ne[4]=0,ne[5]=this._renderer._getFill(),ne[6]=this._renderer._getStroke(),V&&(ne.moveTo=V),_?(a.length===0&&(ne.moveTo=!0),a.push(ne)):u.push(ne)}return this},c.default.prototype.normal=function(I,U,V){var $;return this._assert3d("normal"),c.default._validateParameters("normal",arguments),($=this._renderer).normal.apply($,arguments),this};var E=c.default;S.default=E},{"../constants":253,"../main":264,"core-js/modules/es.array.slice":162}],275:[function(n,C,S){function g(t){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(t)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,c){window.setTimeout(t,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var t=Object.keys,c=Object.defineProperty,f=typeof Symbol=="function"&&g(Symbol())==="symbol",m=Object.prototype.propertyIsEnumerable,p=function(u){return function(a){return m.call(u,a)}};c(Object,"assign",{value:function(u,a){if(u==null)throw new TypeError("target must be an object");var l,o,d,_,k=Object(u);for(l=1;l<arguments.length;++l)for(o=Object(arguments[l]),_=t(o),f&&Object.getOwnPropertySymbols&&_.push.apply(_,Object.getOwnPropertySymbols(o).filter(p(o))),d=0;d<_.length;++d)k[_[d]]=o[_[d]];return k},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":229}],276:[function(n,C,S){n("core-js/modules/es.array.for-each"),n("core-js/modules/es.object.assign"),n("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("./main"))&&g.__esModule?g:{default:g};t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var m=parseInt(f);(isNaN(m)||m<1)&&(m=1);var p=this._isGlobal?window:this;if(typeof p.draw=="function"){p.setup===void 0&&p.scale(p._pixelDensity,p._pixelDensity);for(var u=function(l){l.call(p)},a=0;a<m;a++){p.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),p._renderer.isP3D&&p._renderer._update(),p._setProperty("frameCount",p.frameCount+1),p._registeredMethods.pre.forEach(u),this._inUserDraw=!0;try{p.draw()}finally{this._inUserDraw=!1}p._registeredMethods.post.forEach(u)}}}};var c=t.default;S.default=c},{"./main":264,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":173,"core-js/modules/web.dom-collections.for-each":228}],277:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("./main"))&&g.__esModule?g:{default:g};function c(m){return function(p){if(Array.isArray(p)){for(var u=0,a=new Array(p.length);u<p.length;u++)a[u]=p[u];return a}}(m)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default.prototype.applyMatrix=function(){var m,p,u=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||u?(m=this._renderer).applyMatrix.apply(m,c(arguments[0])):(p=this._renderer).applyMatrix.apply(p,arguments),this},t.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.default.prototype.rotate=function(m,p){return t.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(m),p),this},t.default.prototype.rotateX=function(m){return this._assert3d("rotateX"),t.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(m)),this},t.default.prototype.rotateY=function(m){return this._assert3d("rotateY"),t.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(m)),this},t.default.prototype.rotateZ=function(m){return this._assert3d("rotateZ"),t.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(m)),this},t.default.prototype.scale=function(m,p,u){if(t.default._validateParameters("scale",arguments),m instanceof t.default.Vector){var a=m;m=a.x,p=a.y,u=a.z}else if(m instanceof Array){var l=m;m=l[0],p=l[1],u=l[2]||1}return isNaN(p)?p=u=m:isNaN(u)&&(u=1),this._renderer.scale.call(this._renderer,m,p,u),this},t.default.prototype.shearX=function(m){t.default._validateParameters("shearX",arguments);var p=this._toRadians(m);return this._renderer.applyMatrix(1,0,Math.tan(p),1,0,0),this},t.default.prototype.shearY=function(m){t.default._validateParameters("shearY",arguments);var p=this._toRadians(m);return this._renderer.applyMatrix(1,Math.tan(p),0,1,0,0),this},t.default.prototype.translate=function(m,p,u){return t.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(m,p,u):this._renderer.translate(m,p),this};var f=t.default;S.default=f},{"./main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229}],278:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator");var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(m){return function(p){if(Array.isArray(p)){for(var u=0,a=new Array(p.length);u<p.length;u++)a[u]=p[u];return a}}(m)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}t.default.prototype.storeItem=function(m,p){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),p===void 0&&console.log("You cannot store undefined variables using storeItem().");var u=f(p);switch(u){case"number":case"boolean":p=p.toString();break;case"object":p instanceof t.default.Color?u="p5.Color":p instanceof t.default.Vector&&(u="p5.Vector",p=[p.x,p.y,p.z]),p=JSON.stringify(p)}localStorage.setItem(m,p);var a="".concat(m,"p5TypeID");localStorage.setItem(a,u)},t.default.prototype.getItem=function(m){var p=localStorage.getItem(m),u=localStorage.getItem("".concat(m,"p5TypeID"));if(u===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(p!==null)switch(u){case"number":p=parseFloat(p);break;case"boolean":p=p==="true";break;case"object":p=JSON.parse(p);break;case"p5.Color":p=JSON.parse(p),p=this.color.apply(this,c(p.levels));break;case"p5.Vector":p=JSON.parse(p),p=this.createVector.apply(this,c(p))}return p},t.default.prototype.clearStorage=function(){localStorage.clear()},t.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],279:[function(n,C,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.prototype.createStringDict=function(f,m){return t.default._validateParameters("createStringDict",arguments),new t.default.StringDict(f,m)},t.default.prototype.createNumberDict=function(f,m){return t.default._validateParameters("createNumberDict",arguments),new t.default.NumberDict(f,m)},t.default.TypedDict=function(f,m){return f instanceof Object?this.data=f:(this.data={},this.data[f]=m),this},t.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},t.default.TypedDict.prototype.hasKey=function(f){return this.data.hasOwnProperty(f)},t.default.TypedDict.prototype.get=function(f){if(this.data.hasOwnProperty(f))return this.data[f];console.log("".concat(f," does not exist in this Dictionary"))},t.default.TypedDict.prototype.set=function(f,m){this._validate(m)?this.data[f]=m:console.log("Those values dont work for this dictionary type.")},t.default.TypedDict.prototype._addObj=function(f){for(var m in f)this.set(m,f[m])},t.default.TypedDict.prototype.create=function(f,m){f instanceof Object&&m===void 0?this._addObj(f):f!==void 0?this.set(f,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},t.default.TypedDict.prototype.clear=function(){this.data={}},t.default.TypedDict.prototype.remove=function(f){if(!this.data.hasOwnProperty(f))throw new Error("".concat(f," does not exist in this Dictionary"));delete this.data[f]},t.default.TypedDict.prototype.print=function(){for(var f in this.data)console.log("key:".concat(f," value:").concat(this.data[f]))},t.default.TypedDict.prototype.saveTable=function(f){var m="";for(var p in this.data)m+="".concat(p,",").concat(this.data[p],`
`);var u=new Blob([m],{type:"text/csv"});t.default.prototype.downloadFile(u,f||"mycsv","csv")},t.default.TypedDict.prototype.saveJSON=function(f,m){t.default.prototype.saveJSON(this.data,f,m)},t.default.TypedDict.prototype._validate=function(f){return!0},t.default.StringDict=function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];t.default.TypedDict.apply(this,m)},t.default.StringDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.StringDict.prototype._validate=function(f){return typeof f=="string"},t.default.NumberDict=function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];t.default.TypedDict.apply(this,m)},t.default.NumberDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.NumberDict.prototype._validate=function(f){return typeof f=="number"},t.default.NumberDict.prototype.add=function(f,m){this.data.hasOwnProperty(f)?this.data[f]+=m:console.log("The key - ".concat(f," does not exist in this dictionary."))},t.default.NumberDict.prototype.sub=function(f,m){this.add(f,-m)},t.default.NumberDict.prototype.mult=function(f,m){this.data.hasOwnProperty(f)?this.data[f]*=m:console.log("The key - ".concat(f," does not exist in this dictionary."))},t.default.NumberDict.prototype.div=function(f,m){this.data.hasOwnProperty(f)?this.data[f]/=m:console.log("The key - ".concat(f," does not exist in this dictionary."))},t.default.NumberDict.prototype._valueTest=function(f){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var m=this.data[Object.keys(this.data)[0]];for(var p in this.data)this.data[p]*f<m*f&&(m=this.data[p]);return m},t.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},t.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},t.default.NumberDict.prototype._keyTest=function(f){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var m=Object.keys(this.data)[0],p=1;p<Object.keys(this.data).length;p++)Object.keys(this.data)[p]*f<m*f&&(m=Object.keys(this.data)[p]);return m},t.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},t.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var c=t.default.TypedDict;S.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],280:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(a){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function f(a,l,o){(l._userNode?l._userNode:document.body).appendChild(a);var d=o?new t.default.MediaElement(a,l):new t.default.Element(a,l);return l._elements.push(d),d}function m(a,l,o,d){var _=document.createElement(l);typeof(o=o||"")=="string"&&(o=[o]);var k=!0,E=!1,I=void 0;try{for(var U,V=o[Symbol.iterator]();!(k=(U=V.next()).done);k=!0){var $=U.value,B=document.createElement("source");B.setAttribute("src",$),_.appendChild(B)}}catch(ne){E=!0,I=ne}finally{try{k||V.return==null||V.return()}finally{if(E)throw I}}typeof d=="function"&&_.addEventListener("canplaythrough",function ne(){d(),_.removeEventListener("canplaythrough",ne)});var se=f(_,a,!0);return se.loadedmetadata=!1,_.addEventListener("loadedmetadata",function(){se.width=_.videoWidth,se.height=_.videoHeight,se.elt.width===0&&(se.elt.width=_.videoWidth),se.elt.height===0&&(se.elt.height=_.videoHeight),se.presetPlaybackRate&&(se.elt.playbackRate=se.presetPlaybackRate,delete se.presetPlaybackRate),se.loadedmetadata=!0}),se}t.default.prototype.select=function(a,l){t.default._validateParameters("select",arguments);var o=this._getContainer(l).querySelector(a);return o?this._wrapElement(o):null},t.default.prototype.selectAll=function(a,l){t.default._validateParameters("selectAll",arguments);var o=[],d=this._getContainer(l).querySelectorAll(a);if(d)for(var _=0;_<d.length;_++){var k=this._wrapElement(d[_]);o.push(k)}return o},t.default.prototype._getContainer=function(a){var l=document;return typeof a=="string"?l=document.querySelector(a)||document:a instanceof t.default.Element?l=a.elt:a instanceof HTMLElement&&(l=a),l},t.default.prototype._wrapElement=function(a){var l=Array.prototype.slice.call(a.children);if(a.tagName!=="INPUT"||a.type!=="checkbox")return a.tagName==="VIDEO"||a.tagName==="AUDIO"?new t.default.MediaElement(a,this):a.tagName==="SELECT"?this.createSelect(new t.default.Element(a,this)):0<l.length&&l.every(function(d){return d.tagName==="INPUT"||d.tagName==="LABEL"})?this.createRadio(new t.default.Element(a,this)):new t.default.Element(a,this);var o=new t.default.Element(a,this);return o.checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},o},t.default.prototype.removeElements=function(a){t.default._validateParameters("removeElements",arguments),this._elements.filter(function(l){return!(l.elt instanceof HTMLCanvasElement)}).map(function(l){return l.remove()})},t.default.Element.prototype.changed=function(a){return t.default.Element._adjustListener("change",a,this),this},t.default.Element.prototype.input=function(a){return t.default.Element._adjustListener("input",a,this),this},t.default.prototype.createDiv=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=document.createElement("div");return l.innerHTML=a,f(l,this)},t.default.prototype.createP=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=document.createElement("p");return l.innerHTML=a,f(l,this)},t.default.prototype.createSpan=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=document.createElement("span");return l.innerHTML=a,f(l,this)},t.default.prototype.createImg=function(){t.default._validateParameters("createImg",arguments);var a,l=document.createElement("img"),o=arguments;return 1<o.length&&typeof o[1]=="string"&&(l.alt=o[1]),2<o.length&&typeof o[2]=="string"&&(l.crossOrigin=o[2]),l.src=o[0],a=f(l,this),l.addEventListener("load",function(){a.width=l.offsetWidth||l.width,a.height=l.offsetHeight||l.height;var d=o[o.length-1];typeof d=="function"&&d(a)}),a},t.default.prototype.createA=function(a,l,o){t.default._validateParameters("createA",arguments);var d=document.createElement("a");return d.href=a,d.innerHTML=l,o&&(d.target=o),f(d,this)},t.default.prototype.createSlider=function(a,l,o,d){t.default._validateParameters("createSlider",arguments);var _=document.createElement("input");return _.type="range",_.min=a,_.max=l,d===0?_.step=1e-18:d&&(_.step=d),typeof o=="number"&&(_.value=o),f(_,this)},t.default.prototype.createButton=function(a,l){t.default._validateParameters("createButton",arguments);var o=document.createElement("button");return o.innerHTML=a,l&&(o.value=l),f(o,this)},t.default.prototype.createCheckbox=function(){t.default._validateParameters("createCheckbox",arguments);var a=document.createElement("div"),l=document.createElement("input");l.type="checkbox";var o=document.createElement("label");o.appendChild(l),a.appendChild(o);var d=f(a,this);if(d.checked=function(){var k=d.elt.firstElementChild.getElementsByTagName("input")[0];if(k){if(arguments.length===0)return k.checked;k.checked=!!arguments[0]}return d},this.value=function(k){return d.value=k,this},arguments[0]){d.value(arguments[0]);var _=document.createElement("span");_.innerHTML=arguments[0],o.appendChild(_)}return arguments[1]&&(l.checked=!0),d},t.default.prototype.createSelect=function(){var a;t.default._validateParameters("createSelect",arguments);var l=arguments[0];if(l instanceof t.default.Element&&l.elt instanceof HTMLSelectElement)a=l,this.elt=l.elt;else if(l instanceof HTMLSelectElement)a=f(l,this),this.elt=l;else{var o=document.createElement("select");l&&typeof l=="boolean"&&o.setAttribute("multiple","true"),a=f(o,this),this.elt=o}return a.option=function(d,_){var k;if(d!==void 0){for(var E=0;E<this.elt.length;E+=1)if(this.elt[E].innerHTML===d){k=E;break}if(k!==void 0)_===!1?this.elt.remove(k):this.elt[k].value=_;else{var I=document.createElement("option");I.innerHTML=d,I.value=_===void 0?d:_,this.elt.appendChild(I),this._pInst._elements.push(I)}}},a.selected=function(d){if(d!==void 0){for(var _=0;_<this.elt.length;_+=1)this.elt[_].value.toString()===d.toString()&&(this.elt.selectedIndex=_);return this}if(this.elt.getAttribute("multiple")){var k=[],E=!0,I=!1,U=void 0;try{for(var V,$=this.elt.selectedOptions[Symbol.iterator]();!(E=(V=$.next()).done);E=!0){var B=V.value;k.push(B.value)}}catch(se){I=!0,U=se}finally{try{E||$.return==null||$.return()}finally{if(I)throw U}}return k}return this.elt.value},a.disable=function(d){if(typeof d=="string")for(var _=0;_<this.elt.length;_++)this.elt[_].value.toString()===d&&(this.elt[_].disabled=!0,this.elt[_].selected=!1);else this.elt.disabled=!0;return this},a},t.default.prototype.createRadio=function(){var a,l,o=arguments[0];o instanceof HTMLDivElement||o instanceof HTMLSpanElement?(a=o,typeof arguments[1]=="string"&&(l=arguments[1])):(typeof o=="string"&&(l=o),a=document.createElement("div"));var d=f(this.elt=a,this);d._name=l||"radioOption";function _(E){return E instanceof HTMLInputElement&&E.type==="radio"}function k(E){return E instanceof HTMLLabelElement}return d._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(E){return _(E)||k(E)&&_(E.firstElementChild)}).map(function(E){return _(E)?E:E.firstElementChild})},d.option=function(E,I){var U,V,$,B=!0,se=!1,ne=void 0;try{for(var oe,ge=d._getOptionsArray()[Symbol.iterator]();!(B=(oe=ge.next()).done);B=!0){var J=oe.value;if(J.value===E){U=J;break}}}catch(ue){se=!0,ne=ue}finally{try{B||ge.return==null||ge.return()}finally{if(se)throw ne}}return U===void 0&&((U=document.createElement("input")).setAttribute("type","radio"),U.setAttribute("value",E)),U.setAttribute("name",d._name),k(U.parentElement)?V=U.parentElement:(V=document.createElement("label")).insertAdjacentElement("afterbegin",U),V.lastElementChild instanceof HTMLSpanElement?$=V.lastElementChild:($=document.createElement("span"),U.insertAdjacentElement("afterend",$)),$.innerHTML=I===void 0?E:I,this.elt.appendChild(V),U},d.remove=function(E){var I=!0,U=!1,V=void 0;try{for(var $,B=d._getOptionsArray()[Symbol.iterator]();!(I=($=B.next()).done);I=!0){var se=$.value;if(se.value===E)return void(k(se.parentElement)?se.parentElement.remove():se.remove())}}catch(ne){U=!0,V=ne}finally{try{I||B.return==null||B.return()}finally{if(U)throw V}}},d.value=function(){var E="",I=!0,U=!1,V=void 0;try{for(var $,B=d._getOptionsArray()[Symbol.iterator]();!(I=($=B.next()).done);I=!0){var se=$.value;if(se.checked){E=se.value;break}}}catch(ne){U=!0,V=ne}finally{try{I||B.return==null||B.return()}finally{if(U)throw V}}return E},d.selected=function(E){var I=null;if(E===void 0){var U=!0,V=!1,$=void 0;try{for(var B,se=d._getOptionsArray()[Symbol.iterator]();!(U=(B=se.next()).done);U=!0){var ne=B.value;if(ne.checked){I=ne;break}}}catch(Oe){V=!0,$=Oe}finally{try{U||se.return==null||se.return()}finally{if(V)throw $}}}else{d._getOptionsArray().forEach(function(Oe){Oe.checked=!1,Oe.removeAttribute("checked")});var oe=!0,ge=!1,J=void 0;try{for(var ue,he=d._getOptionsArray()[Symbol.iterator]();!(oe=(ue=he.next()).done);oe=!0){var ye=ue.value;ye.value===E&&(ye.setAttribute("checked",!0),ye.checked=!0,I=ye)}}catch(Oe){ge=!0,J=Oe}finally{try{oe||he.return==null||he.return()}finally{if(ge)throw J}}}return I},d.disable=function(){var E=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],I=!0,U=!1,V=void 0;try{for(var $,B=d._getOptionsArray()[Symbol.iterator]();!(I=($=B.next()).done);I=!0)$.value.setAttribute("disabled",E)}catch(se){U=!0,V=se}finally{try{I||B.return==null||B.return()}finally{if(U)throw V}}},d},t.default.prototype.createColorPicker=function(a){t.default._validateParameters("createColorPicker",arguments);var l,o=document.createElement("input");return o.type="color",a?a instanceof t.default.Color?o.value=a.toString("#rrggbb"):(t.default.prototype._colorMode="rgb",t.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},o.value=t.default.prototype.color(a).toString("#rrggbb")):o.value="#000000",(l=f(o,this)).color=function(){return a&&(a.mode&&(t.default.prototype._colorMode=a.mode),a.maxes&&(t.default.prototype._colorMaxes=a.maxes)),t.default.prototype.color(this.elt.value)},l},t.default.prototype.createInput=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text";t.default._validateParameters("createInput",arguments);var o=document.createElement("input");return o.setAttribute("value",a),o.setAttribute("type",l),f(o,this)},t.default.prototype.createFileInput=function(a){var l=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(t.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var o=document.createElement("input");return o.setAttribute("type","file"),l&&o.setAttribute("multiple",!0),o.addEventListener("change",function(d){var _=!0,k=!1,E=void 0;try{for(var I,U=d.target.files[Symbol.iterator]();!(_=(I=U.next()).done);_=!0){var V=I.value;t.default.File._load(V,a)}}catch($){k=!0,E=$}finally{try{_||U.return==null||U.return()}finally{if(k)throw E}}},!1),f(o,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},t.default.prototype.createVideo=function(a,l){return t.default._validateParameters("createVideo",arguments),m(this,"video",a,l)},t.default.prototype.createAudio=function(a,l){return t.default._validateParameters("createAudio",arguments),m(this,"audio",a,l)},t.default.prototype.VIDEO="video",t.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(a){var l=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return l?new Promise(function(o,d){l.call(navigator,a,o,d)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.default.prototype.createCapture=function(){if(t.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var a,l,o=!0,d=!0,_=!0,k=!1,E=void 0;try{for(var I,U=arguments[Symbol.iterator]();!(_=(I=U.next()).done);_=!0){var V=I.value;V===t.default.prototype.VIDEO?d=!1:V===t.default.prototype.AUDIO?o=!1:c(V)==="object"?a=V:typeof V=="function"&&(l=V)}}catch(se){k=!0,E=se}finally{try{_||U.return==null||U.return()}finally{if(k)throw E}}a=a||{video:o,audio:d};var $=document.createElement("video");$.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(a).then(function(se){try{"srcObject"in $?$.srcObject=se:$.src=window.URL.createObjectURL(se)}catch{$.src=se}},console.log);var B=f($,this,!0);return B.loadedmetadata=!1,$.addEventListener("loadedmetadata",function(){$.play(),$.width?(B.width=$.width,B.height=$.height):(B.width=B.elt.width=$.videoWidth,B.height=B.elt.height=$.videoHeight),B.loadedmetadata=!0,l&&l($.srcObject)}),B},t.default.prototype.createElement=function(a,l){t.default._validateParameters("createElement",arguments);var o=document.createElement(a);return l!==void 0&&(o.innerHTML=l),f(o,this)},t.default.Element.prototype.addClass=function(a){return this.elt.className?this.hasClass(a)||(this.elt.className=this.elt.className+" "+a):this.elt.className=a,this},t.default.Element.prototype.removeClass=function(a){return this.elt.classList.remove(a),this},t.default.Element.prototype.hasClass=function(a){return this.elt.classList.contains(a)},t.default.Element.prototype.toggleClass=function(a){return this.elt.classList.contains(a)?this.elt.classList.remove(a):this.elt.classList.add(a),this},t.default.Element.prototype.child=function(a){return a===void 0?this.elt.childNodes:(typeof a=="string"?(a[0]==="#"&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof t.default.Element&&(a=a.elt),a instanceof HTMLElement&&this.elt.appendChild(a),this)},t.default.Element.prototype.center=function(a){var l=this.elt.style.display,o=this.elt.style.display==="none",d=this.parent().style.display==="none",_={x:this.elt.offsetLeft,y:this.elt.offsetTop};o&&this.show(),d&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var k=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),E=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return a==="both"||a===void 0?this.position(k/2+this.parent().offsetLeft,E/2+this.parent().offsetTop):a==="horizontal"?this.position(k/2+this.parent().offsetLeft,_.y):a==="vertical"&&this.position(_.x,E/2+this.parent().offsetTop),this.style("display",l),o&&this.hide(),d&&this.parent().hide(),this},t.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},t.default.Element.prototype.position=function(){if(arguments.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var a="absolute";return arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"||(a=arguments[2]),this.elt.style.position=a,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},t.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var a="";return this.elt.style.transform&&(a=(a=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=a,this},t.default.Element.prototype._rotate=function(){var a="";return this.elt.style.transform&&(a=(a=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=a,this},t.default.Element.prototype.style=function(a,l){if(l instanceof t.default.Color&&(l="rgba("+l.levels[0]+","+l.levels[1]+","+l.levels[2]+","+l.levels[3]/255+")"),l===void 0){if(a.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(a);for(var o=a.split(";"),d=0;d<o.length;d++){var _=o[d].split(":");_[0]&&_[1]&&(this.elt.style[_[0].trim()]=_[1].trim())}}else if(this.elt.style[a]=l,a==="width"||a==="height"||a==="left"||a==="top"){var k=window.getComputedStyle(this.elt).getPropertyValue(a).replace(/\D+/g,"");this[a]=parseInt(k,10)}return this},t.default.Element.prototype.attribute=function(a,l){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return l===void 0?this.elt.getAttribute(a):(this.elt.setAttribute(a,l),this);if(l===void 0)return this.elt.firstChild.getAttribute(a);for(var o=0;o<this.elt.childNodes.length;o++)this.elt.childNodes[o].setAttribute(a,l)},t.default.Element.prototype.removeAttribute=function(a){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var l=0;l<this.elt.childNodes.length;l++)this.elt.childNodes[l].removeAttribute(a);return this.elt.removeAttribute(a),this},t.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},t.default.Element.prototype.show=function(){return this.elt.style.display="block",this},t.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},t.default.Element.prototype.size=function(a,l){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var o=a,d=l,_=t.default.prototype.AUTO;if(o!==_||d!==_){if(o===_?o=l*this.width/this.height:d===_&&(d=a*this.height/this.width),this.elt instanceof HTMLCanvasElement){var k,E={},I=this.elt.getContext("2d");for(k in I)E[k]=I[k];for(k in this.elt.setAttribute("width",o*this._pInst._pixelDensity),this.elt.setAttribute("height",d*this._pInst._pixelDensity),this.elt.style.width=o+"px",this.elt.style.height=d+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),E)this.elt.getContext("2d")[k]=E[k]}else this.elt.style.width=o+"px",this.elt.style.height=d+"px",this.elt.width=o,this.elt.height=d;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},t.default.Element.prototype.remove=function(){if(this instanceof t.default.MediaElement){this.stop();var a=this.elt.srcObject;a!==null&&a.getTracks().forEach(function(d){d.stop()})}var l=this._pInst._elements.indexOf(this);for(var o in l!==-1&&this._pInst._elements.splice(l,1),this._events)this.elt.removeEventListener(o,this._events[o]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},t.default.Element.prototype.drop=function(a,l){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var o=function(d){d.preventDefault()};this.elt.addEventListener("dragover",o),this.elt.addEventListener("dragleave",o)}t.default.Element._attachListener("drop",function(d){d.preventDefault(),typeof l=="function"&&l.call(this,d);for(var _=d.dataTransfer.files,k=0;k<_.length;k++){var E=_[k];t.default.File._load(E,a)}},this)}else console.log("The File APIs are not fully supported in this browser.");return this},t.default.MediaElement=function(a,l){t.default.Element.call(this,a,l);var o=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(o,"src",{get:function(){var d=o.elt.children[0].src,_=o.elt.src===window.location.href?"":o.elt.src;return d===window.location.href?_:d},set:function(d){for(var _=0;_<o.elt.children.length;_++)o.elt.removeChild(o.elt.children[_]);var k=document.createElement("source");k.src=d,a.appendChild(k),o.elt.src=d,o.modified=!0}}),o._onended=function(){},o.elt.onended=function(){o._onended(o)}},t.default.MediaElement.prototype=Object.create(t.default.Element.prototype),t.default.MediaElement.prototype.play=function(){var a,l=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),(a=(1<this.elt.readyState||this.elt.load(),this.elt.play()))&&a.catch&&a.catch(function(o){o.name==="NotAllowedError"?t.default._friendlyAutoplayError(l.src):console.error("Media play method encountered an unexpected error",o)}),this},t.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},t.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},t.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},t.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},t.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var a=this,l=setTimeout(function(){return t.default._friendlyAutoplayError(a.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(l)},{passive:!0,once:!0})},t.default.MediaElement.prototype.autoplay=function(a){var l=this,o=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",a),a&&!o){var d=function(){return l._setupAutoplayFailDetection()};this.elt.readyState===4?d():this.elt.addEventListener("canplay",d,{passive:!0,once:!0})}return this},t.default.MediaElement.prototype.volume=function(a){if(a===void 0)return this.elt.volume;this.elt.volume=a},t.default.MediaElement.prototype.speed=function(a){if(a===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=a:this.presetPlaybackRate=a},t.default.MediaElement.prototype.time=function(a){return a===void 0?this.elt.currentTime:(this.elt.currentTime=a,this)},t.default.MediaElement.prototype.duration=function(){return this.elt.duration},t.default.MediaElement.prototype.pixels=[],t.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},t.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},t.default.MediaElement.prototype.updatePixels=function(a,l,o,d){return this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.updatePixels.call(this,a,l,o,d)),this.setModified(!0),this},t.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.get.apply(this,arguments)},t.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),t.default.Renderer2D.prototype._getPixel.apply(this,arguments)},t.default.MediaElement.prototype.set=function(a,l,o){this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.set.call(this,a,l,o),this.setModified(!0))},t.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),t.default.prototype.copy.apply(this,arguments)},t.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),t.default.Image.prototype.mask.apply(this,arguments)},t.default.MediaElement.prototype.isModified=function(){return this._modified},t.default.MediaElement.prototype.setModified=function(a){this._modified=a},t.default.MediaElement.prototype.onended=function(a){return this._onended=a,this},t.default.MediaElement.prototype.connect=function(a){var l,o;if(typeof t.default.prototype.getAudioContext=="function")l=t.default.prototype.getAudioContext(),o=t.default.soundOut.input;else try{o=(l=a.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=l.createMediaElementSource(this.elt),this.audioSourceNode.connect(o)),a?a.input?this.audioSourceNode.connect(a.input):this.audioSourceNode.connect(a):this.audioSourceNode.connect(o)},t.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},t.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},t.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function p(a,l,o,d){this.callback=a,this.time=l,this.id=o,this.val=d}t.default.MediaElement.prototype.addCue=function(a,l,o){var d=this._cueIDCounter++,_=new p(l,a,d,o);return this._cues.push(_),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),d},t.default.MediaElement.prototype.removeCue=function(a){for(var l=0;l<this._cues.length;l++)this._cues[l].id===a&&(console.log(a),this._cues.splice(l,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},t.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},t.default.MediaElement.prototype._onTimeUpdate=function(){for(var a=this.time(),l=0;l<this._cues.length;l++){var o=this._cues[l].time,d=this._cues[l].val;this._prevTime<o&&o<=a&&this._cues[l].callback(d)}this._prevTime=a},t.default.File=function(a,l){this.file=a,this._pInst=l;var o=a.type.split("/");this.type=o[0],this.subtype=o[1],this.name=a.name,this.size=a.size,this.data=void 0},t.default.File._createLoader=function(a,l){var o=new FileReader;return o.onload=function(d){var _=new t.default.File(a);if(_.file.type==="application/json")_.data=JSON.parse(d.target.result);else if(_.file.type==="text/xml"){var k=new DOMParser().parseFromString(d.target.result,"text/xml");_.data=new t.default.XML(k.documentElement)}else _.data=d.target.result;l(_)},o},t.default.File._load=function(a,l){if(/^text\//.test(a.type)||a.type==="application/json")t.default.File._createLoader(a,l).readAsText(a);else if(/^(video|audio)\//.test(a.type)){var o=new t.default.File(a);o.data=URL.createObjectURL(a),l(o)}else t.default.File._createLoader(a,l).readAsDataURL(a)};var u=t.default;S.default=u},{"../core/main":264,"core-js/modules/es.array.every":150,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231}],281:[function(n,C,S){function g(I){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(I)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(I){if(I&&I.__esModule)return I;if(I===null||g(I)!=="object"&&typeof I!="function")return{default:I};var U=m();if(U&&U.has(I))return U.get(I);var V={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in I)if(Object.prototype.hasOwnProperty.call(I,B)){var se=$?Object.getOwnPropertyDescriptor(I,B):null;se&&(se.get||se.set)?Object.defineProperty(V,B,se):V[B]=I[B]}return V.default=I,U&&U.set(I,V),V}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return m=function(){return I},I}c.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",c.default.prototype.accelerationX=0,c.default.prototype.accelerationY=0,c.default.prototype.accelerationZ=0,c.default.prototype.pAccelerationX=0,c.default.prototype.pAccelerationY=0,c.default.prototype.pAccelerationZ=0,c.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},c.default.prototype.rotationX=0,c.default.prototype.rotationY=0,c.default.prototype.rotationZ=0,c.default.prototype.pRotationX=0,c.default.prototype.pRotationY=0;var p=c.default.prototype.pRotationZ=0,u=0,a=0,l="clockwise",o="clockwise",d="clockwise";c.default.prototype.pRotateDirectionX=void 0,c.default.prototype.pRotateDirectionY=void 0,c.default.prototype.pRotateDirectionZ=void 0,c.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},c.default.prototype.turnAxis=void 0;var _=.5,k=30;c.default.prototype.setMoveThreshold=function(I){c.default._validateParameters("setMoveThreshold",arguments),_=I},c.default.prototype.setShakeThreshold=function(I){c.default._validateParameters("setShakeThreshold",arguments),k=I},c.default.prototype._ondeviceorientation=function(I){this._updatePRotations(),this._angleMode===f.radians&&(I.beta=I.beta*(_PI/180),I.gamma=I.gamma*(_PI/180),I.alpha=I.alpha*(_PI/180)),this._setProperty("rotationX",I.beta),this._setProperty("rotationY",I.gamma),this._setProperty("rotationZ",I.alpha),this._handleMotion()},c.default.prototype._ondevicemotion=function(I){this._updatePAccelerations(),this._setProperty("accelerationX",2*I.acceleration.x),this._setProperty("accelerationY",2*I.acceleration.y),this._setProperty("accelerationZ",2*I.acceleration.z),this._handleMotion()},c.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var I,U,V=this._isGlobal?window:this;if(typeof V.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>_||Math.abs(this.accelerationY-this.pAccelerationY)>_||Math.abs(this.accelerationZ-this.pAccelerationZ)>_)&&V.deviceMoved(),typeof V.deviceTurned=="function"){var $=this.rotationX+180,B=this.pRotationX+180,se=p+180;0<$-B&&$-B<270||$-B<-270?l="clockwise":($-B<0||270<$-B)&&(l="counter-clockwise"),l!==this.pRotateDirectionX&&(se=$),90<Math.abs($-se)&&Math.abs($-se)<270&&(se=$,this._setProperty("turnAxis","X"),V.deviceTurned()),this.pRotateDirectionX=l,p=se-180;var ne=this.rotationY+180,oe=this.pRotationY+180,ge=u+180;0<ne-oe&&ne-oe<270||ne-oe<-270?o="clockwise":(ne-oe<0||270<ne-this.pRotationY)&&(o="counter-clockwise"),o!==this.pRotateDirectionY&&(ge=ne),90<Math.abs(ne-ge)&&Math.abs(ne-ge)<270&&(ge=ne,this._setProperty("turnAxis","Y"),V.deviceTurned()),this.pRotateDirectionY=o,u=ge-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?d="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(a=this.rotationZ),90<Math.abs(this.rotationZ-a)&&Math.abs(this.rotationZ-a)<270&&(a=this.rotationZ,this._setProperty("turnAxis","Z"),V.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)}typeof V.deviceShaken=="function"&&(this.pAccelerationX!==null&&(I=Math.abs(this.accelerationX-this.pAccelerationX),U=Math.abs(this.accelerationY-this.pAccelerationY)),k<I+U&&V.deviceShaken())};var E=c.default;S.default=E},{"../core/constants":253,"../core/main":264}],282:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.prototype.isKeyPressed=!1,t.default.prototype.keyIsPressed=!1,t.default.prototype.key="",t.default.prototype.keyCode=0,t.default.prototype._onkeydown=function(f){if(!this._downKeys[f.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",f.which),this._downKeys[f.which]=!0,this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which);var m=this._isGlobal?window:this;typeof m.keyPressed=="function"&&!f.charCode&&m.keyPressed(f)===!1&&f.preventDefault()}},t.default.prototype._onkeyup=function(f){this._downKeys[f.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which),this._setProperty("keyCode",f.which);var m=this._isGlobal?window:this;typeof m.keyReleased=="function"&&m.keyReleased(f)===!1&&f.preventDefault()},t.default.prototype._onkeypress=function(f){if(f.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",f.which),this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which);var m=this._isGlobal?window:this;typeof m.keyTyped=="function"&&m.keyTyped(f)===!1&&f.preventDefault()}},t.default.prototype._onblur=function(f){this._downKeys={}},t.default.prototype.keyIsDown=function(f){return t.default._validateParameters("keyIsDown",arguments),this._downKeys[f]||!1},t.default.prototype._areDownKeys=function(){for(var f in this._downKeys)if(this._downKeys.hasOwnProperty(f)&&this._downKeys[f]===!0)return!0;return!1};var c=t.default;S.default=c},{"../core/main":264}],283:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}n("core-js/modules/es.array.includes"),n("core-js/modules/es.string.includes"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}c.default.prototype.movedX=0,c.default.prototype.movedY=0,c.default.prototype._hasMouseInteracted=!1,c.default.prototype.mouseX=0,c.default.prototype.mouseY=0,c.default.prototype.pmouseX=0,c.default.prototype.pmouseY=0,c.default.prototype.winMouseX=0,c.default.prototype.winMouseY=0,c.default.prototype.pwinMouseX=0,c.default.prototype.pwinMouseY=0,c.default.prototype.mouseButton=0,c.default.prototype.mouseIsPressed=!1,c.default.prototype._updateNextMouseCoords=function(u){if(this._curElement!==null&&(!u.touches||0<u.touches.length)){var a=function(l,o,d,_){_&&!_.clientX&&(_.touches?_=_.touches[0]:_.changedTouches&&(_=_.changedTouches[0]));var k=l.getBoundingClientRect(),E=l.scrollWidth/o||1,I=l.scrollHeight/d||1;return{x:(_.clientX-k.left)/E,y:(_.clientY-k.top)/I,winX:_.clientX,winY:_.clientY,id:_.identifier}}(this._curElement.elt,this.width,this.height,u);this._setProperty("movedX",u.movementX),this._setProperty("movedY",u.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},c.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},c.default.prototype._setMouseButton=function(u){u.button===1?this._setProperty("mouseButton",f.CENTER):u.button===2?this._setProperty("mouseButton",f.RIGHT):this._setProperty("mouseButton",f.LEFT)},c.default.prototype._onmousemove=function(u){var a=this._isGlobal?window:this;this._updateNextMouseCoords(u),this.mouseIsPressed?typeof a.mouseDragged=="function"?a.mouseDragged(u)===!1&&u.preventDefault():typeof a.touchMoved=="function"&&a.touchMoved(u)===!1&&u.preventDefault():typeof a.mouseMoved=="function"&&a.mouseMoved(u)===!1&&u.preventDefault()},c.default.prototype._onmousedown=function(u){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(u),this._updateNextMouseCoords(u),typeof a.mousePressed=="function"?a.mousePressed(u)===!1&&u.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof a.touchStarted=="function"&&a.touchStarted(u)===!1&&u.preventDefault()},c.default.prototype._onmouseup=function(u){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof a.mouseReleased=="function"?a.mouseReleased(u)===!1&&u.preventDefault():typeof a.touchEnded=="function"&&a.touchEnded(u)===!1&&u.preventDefault()},c.default.prototype._ondragend=c.default.prototype._onmouseup,c.default.prototype._ondragover=c.default.prototype._onmousemove,c.default.prototype._onclick=function(u){var a=this._isGlobal?window:this;typeof a.mouseClicked=="function"&&a.mouseClicked(u)===!1&&u.preventDefault()},c.default.prototype._ondblclick=function(u){var a=this._isGlobal?window:this;typeof a.doubleClicked=="function"&&a.doubleClicked(u)===!1&&u.preventDefault()},c.default.prototype._mouseWheelDeltaY=0,c.default.prototype._pmouseWheelDeltaY=0,c.default.prototype._onwheel=function(u){var a=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",u.deltaY),typeof a.mouseWheel=="function"&&(u.delta=u.deltaY,a.mouseWheel(u)===!1&&u.preventDefault())},c.default.prototype.requestPointerLock=function(){var u=this._curElement.elt;return u.requestPointerLock=u.requestPointerLock||u.mozRequestPointerLock,u.requestPointerLock?(u.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},c.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var p=c.default;S.default=p},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],284:[function(n,C,S){n("core-js/modules/es.array.includes"),n("core-js/modules/es.string.includes"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(m,p,u,a,l){var o=4<arguments.length&&l!==void 0?l:0,d=m.getBoundingClientRect(),_=m.scrollWidth/p||1,k=m.scrollHeight/u||1,E=a.touches[o]||a.changedTouches[o];return{x:(E.clientX-d.left)/_,y:(E.clientY-d.top)/k,winX:E.clientX,winY:E.clientY,id:E.identifier}}t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(m){if(this._curElement!==null){for(var p=[],u=0;u<m.touches.length;u++)p[u]=c(this._curElement.elt,this.width,this.height,m,u);this._setProperty("touches",p)}},t.default.prototype._ontouchstart=function(m){var p=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(m),this._updateNextMouseCoords(m),this._updateMouseCoords(),typeof p.touchStarted=="function"?p.touchStarted(m)===!1&&m.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof p.mousePressed=="function"&&p.mousePressed(m)===!1&&m.preventDefault()},t.default.prototype._ontouchmove=function(m){var p=this._isGlobal?window:this;this._updateTouchCoords(m),this._updateNextMouseCoords(m),typeof p.touchMoved=="function"?p.touchMoved(m)===!1&&m.preventDefault():typeof p.mouseDragged=="function"&&p.mouseDragged(m)===!1&&m.preventDefault()},t.default.prototype._ontouchend=function(m){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(m),this._updateNextMouseCoords(m);var p=this._isGlobal?window:this;typeof p.touchEnded=="function"?p.touchEnded(m)===!1&&m.preventDefault():typeof p.mouseReleased=="function"&&p.mouseReleased(m)===!1&&m.preventDefault()};var f=t.default;S.default=f},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],285:[function(n,C,S){n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.int32-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t,c,f,m={};function p(a,l){for(var o,d,_,k,E,I,U,V,$,B,se=m._toPixels(a),ne=a.width,oe=a.height,ge=ne*oe,J=new Int32Array(ge),ue=0;ue<ge;ue++)J[ue]=m._getARGB(se,ue);var he,ye,Oe,de,Ne=new Int32Array(ge),Le=new Int32Array(ge),Be=new Int32Array(ge),$e=new Int32Array(ge),ut=0;for(function(_t){var at=3.5*_t|0;if(g!==(at=at<1?1:at<248?at:248)){t=1+(g=at)<<1,c=new Int32Array(t),f=new Array(t);for(var Fe=0;Fe<t;Fe++)f[Fe]=new Int32Array(256);for(var ae,me,Te,Me,Ve=1,je=at-1;Ve<at;Ve++){c[at+Ve]=c[je]=me=je*je,Te=f[at+Ve],Me=f[je--];for(var Pe=0;Pe<256;Pe++)Te[Pe]=Me[Pe]=me*Pe}ae=c[at]=at*at,Te=f[at];for(var _e=0;_e<256;_e++)Te[_e]=ae*_e}}(l),ye=0;ye<oe;ye++){for(he=0;he<ne;he++){if(k=_=d=E=o=0,(I=he-g)<0)B=-I,I=0;else{if(ne<=I)break;B=0}for(Oe=B;Oe<t&&!(ne<=I);Oe++){var Ke=J[I+ut];E+=(de=f[Oe])[(-16777216&Ke)>>>24],d+=de[(16711680&Ke)>>16],_+=de[(65280&Ke)>>8],k+=de[255&Ke],o+=c[Oe],I++}Ne[U=ut+he]=E/o,Le[U]=d/o,Be[U]=_/o,$e[U]=k/o}ut+=ne}for($=(V=-g)*ne,ye=ut=0;ye<oe;ye++){for(he=0;he<ne;he++){if(k=_=d=E=o=0,V<0)B=U=-V,I=he;else{if(oe<=V)break;B=0,U=V,I=he+$}for(Oe=B;Oe<t&&!(oe<=U);Oe++)E+=(de=f[Oe])[Ne[I]],d+=de[Le[I]],_+=de[Be[I]],k+=de[$e[I]],o+=c[Oe],U++,I+=ne;J[he+ut]=E/o<<24|d/o<<16|_/o<<8|k/o}ut+=ne,$+=ne,V++}m._setPixels(se,J)}m._toPixels=function(a){if(a instanceof ImageData)return a.data;if(a.getContext("2d"))return a.getContext("2d").getImageData(0,0,a.width,a.height).data;if(a.getContext("webgl")){var l=a.getContext("webgl"),o=l.drawingBufferWidth*l.drawingBufferHeight*4,d=new Uint8Array(o);return l.readPixels(0,0,a.width,a.height,l.RGBA,l.UNSIGNED_BYTE,d),d}},m._getARGB=function(a,l){var o=4*l;return a[3+o]<<24&4278190080|a[o]<<16&16711680|a[1+o]<<8&65280|255&a[2+o]},m._setPixels=function(a,l){for(var o=0,d=0,_=a.length;d<_;d++)a[(o=4*d)+0]=(16711680&l[d])>>>16,a[o+1]=(65280&l[d])>>>8,a[o+2]=255&l[d],a[o+3]=(4278190080&l[d])>>>24},m._toImageData=function(a){return a instanceof ImageData?a:a.getContext("2d").getImageData(0,0,a.width,a.height)},m._createImageData=function(a,l){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(a,l)},m.apply=function(a,l,o){var d=a.getContext("2d"),_=d.getImageData(0,0,a.width,a.height),k=l(_,o);k instanceof ImageData?d.putImageData(k,0,0,0,0,a.width,a.height):d.putImageData(_,0,0,0,0,a.width,a.height)},m.threshold=function(a,l){var o=m._toPixels(a);l===void 0&&(l=.5);for(var d=Math.floor(255*l),_=0;_<o.length;_+=4){var k=void 0;k=d<=.2126*o[_]+.7152*o[_+1]+.0722*o[_+2]?255:0,o[_]=o[_+1]=o[_+2]=k}},m.gray=function(a){for(var l=m._toPixels(a),o=0;o<l.length;o+=4){var d=.2126*l[o]+.7152*l[o+1]+.0722*l[o+2];l[o]=l[o+1]=l[o+2]=d}},m.opaque=function(a){for(var l=m._toPixels(a),o=0;o<l.length;o+=4)l[o+3]=255;return l},m.invert=function(a){for(var l=m._toPixels(a),o=0;o<l.length;o+=4)l[o]=255-l[o],l[o+1]=255-l[o+1],l[o+2]=255-l[o+2]},m.posterize=function(a,l){var o=m._toPixels(a);if(l<2||255<l)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var d=l-1,_=0;_<o.length;_+=4){var k=o[_],E=o[_+1],I=o[_+2];o[_]=255*(k*l>>8)/d,o[_+1]=255*(E*l>>8)/d,o[_+2]=255*(I*l>>8)/d}},m.dilate=function(a){for(var l,o,d,_,k,E,I,U,V,$,B,se,ne,oe,ge,J,ue,he=m._toPixels(a),ye=0,Oe=he.length?he.length/4:0,de=new Int32Array(Oe);ye<Oe;)for(o=(l=ye)+a.width;ye<o;)d=_=m._getARGB(he,ye),(I=ye-1)<l&&(I=ye),o<=(E=ye+1)&&(E=ye),(U=ye-a.width)<0&&(U=0),Oe<=(V=ye+a.width)&&(V=ye),se=m._getARGB(he,U),B=m._getARGB(he,I),ne=m._getARGB(he,V),(k=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(ge=77*(B>>16&255)+151*(B>>8&255)+28*(255&B))&&(_=B,k=ge),k<(oe=77*(($=m._getARGB(he,E))>>16&255)+151*($>>8&255)+28*(255&$))&&(_=$,k=oe),k<(J=77*(se>>16&255)+151*(se>>8&255)+28*(255&se))&&(_=se,k=J),k<(ue=77*(ne>>16&255)+151*(ne>>8&255)+28*(255&ne))&&(_=ne,k=ue),de[ye++]=_;m._setPixels(he,de)},m.erode=function(a){for(var l,o,d,_,k,E,I,U,V,$,B,se,ne,oe,ge,J,ue,he=m._toPixels(a),ye=0,Oe=he.length?he.length/4:0,de=new Int32Array(Oe);ye<Oe;)for(o=(l=ye)+a.width;ye<o;)d=_=m._getARGB(he,ye),(I=ye-1)<l&&(I=ye),o<=(E=ye+1)&&(E=ye),(U=ye-a.width)<0&&(U=0),Oe<=(V=ye+a.width)&&(V=ye),se=m._getARGB(he,U),B=m._getARGB(he,I),ne=m._getARGB(he,V),(ge=77*(B>>16&255)+151*(B>>8&255)+28*(255&B))<(k=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(_=B,k=ge),(oe=77*(($=m._getARGB(he,E))>>16&255)+151*($>>8&255)+28*(255&$))<k&&(_=$,k=oe),(J=77*(se>>16&255)+151*(se>>8&255)+28*(255&se))<k&&(_=se,k=J),(ue=77*(ne>>16&255)+151*(ne>>8&255)+28*(255&ne))<k&&(_=ne,k=ue),de[ye++]=_;m._setPixels(he,de)},m.blur=function(a,l){p(a,l)};var u=m;S.default=u},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],286:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g=c(n("../core/main")),t=c(n("omggif"));function c(p){return p&&p.__esModule?p:{default:p}}function f(p){return function(u){if(Array.isArray(u)){for(var a=0,l=new Array(u.length);a<u.length;a++)l[a]=u[a];return l}}(p)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}g.default.prototype.createImage=function(p,u){return g.default._validateParameters("createImage",arguments),new g.default.Image(p,u)},g.default.prototype.saveCanvas=function(){g.default._validateParameters("saveCanvas",arguments);var p,u,a,l,o=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(p=arguments[0],o.shift()):arguments[0]instanceof g.default.Element?(p=arguments[0].elt,o.shift()):p=this._curElement&&this._curElement.elt,1<=o.length&&(u=o[0]),2<=o.length&&(a=o[1]),a=a||g.default.prototype._checkFileExtension(u,a)[1]||"png"){default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}p.toBlob(function(d){g.default.prototype.downloadFile(d,u,a)},l)},g.default.prototype.saveGif=function(p,u){var a=p.gifProperties,l=a.loopLimit;l===1?l=null:l===null&&(l=0);for(var o=new Uint8Array(p.width*p.height*a.numFrames),d=[],_={},k=0;k<a.numFrames;k++){for(var E=new Set,I=a.frames[k].image.data,U=I.length,V=new Uint32Array(p.width*p.height),$=0,B=0;$<U;$+=4,B++){var se=I[$+0]<<16|I[$+1]<<8|I[$+2]<<0;E.add(se),V[B]=se}var ne=f(E).sort().toString();_[ne]===void 0?_[ne]={freq:1,frames:[k]}:(_[ne].freq+=1,_[ne].frames.push(k)),d.push(V)}var oe=[],ge=Object.keys(_).sort(function(Fe,ae){return _[ae].freq-_[Fe].freq}),J=ge[0].split(",").map(function(Fe){return parseInt(Fe)});oe=oe.concat(_[J].frames);for(var ue=new Set(J),he=1;he<ge.length;he++){var ye=ge[he].split(",").map(function(Fe){return parseInt(Fe)}).filter(function(Fe){return!ue.has(Fe)});if(J.length+ye.length<=256){for(var Oe=0;Oe<ye.length;Oe++)J.push(ye[Oe]),ue.add(ye[Oe]);oe=oe.concat(_[ge[he]].frames)}}oe=new Set(oe);for(var de={},Ne=0;Ne<J.length;Ne++)de[J[Ne]]||(de[J[Ne]]=Ne);for(var Le=1;Le<J.length;)Le<<=1;J.length=Le;for(var Be={loop:l,palette:new Uint32Array(J)},$e=new t.default.GifWriter(o,p.width,p.height,Be),ut={},Ke=function(Fe){for(var ae=!oe.has(Fe),me=ae?[]:J,Te=new Uint8Array(p.width*p.height),Me={},Ve=new Set,je=0;je<d[Fe].length;je++){var Pe=d[Fe][je];ae?(Me[Pe]===void 0&&(Me[Pe]=me.length,me.push(Pe)),Te[je]=Me[Pe]):Te[je]=de[Pe],0<Fe&&d[Fe-1][je]!==Pe&&Ve.add(Pe)}var _e={},He=me.filter(function(it){return!Ve.has(it)});if(0<He.length){var ze=He[0],Ge=ae?Me[ze]:de[ze];if(0<Fe){for(var st=0;st<d[Fe].length;st++)d[Fe-1][st]===d[Fe][st]&&(Te[st]=Ge);_e.transparent=Ge,ut.frameOpts.disposal=1}}if(_e.delay=a.frames[Fe].delay/10,ae){for(var ht=1;ht<me.length;)ht<<=1;me.length=ht,_e.palette=new Uint32Array(me)}0<Fe&&$e.addFrame(0,0,p.width,p.height,ut.pixelPaletteIndex,ut.frameOpts),ut={pixelPaletteIndex:Te,frameOpts:_e}},_t=0;_t<a.numFrames;_t++)Ke(_t);ut.frameOpts.disposal=1,$e.addFrame(0,0,p.width,p.height,ut.pixelPaletteIndex,ut.frameOpts);var at=new Blob([o.slice(0,$e.end())],{type:"image/gif"});g.default.prototype.downloadFile(at,u,"gif")},g.default.prototype.saveFrames=function(p,u,a,l,o){g.default._validateParameters("saveFrames",arguments);var d=a||3;d=g.default.prototype.constrain(d,0,15),d*=1e3;var _=l||15;_=g.default.prototype.constrain(_,0,22);var k=0,E=g.default.prototype._makeFrame,I=this._curElement.elt,U=[],V=setInterval(function(){U.push(E(p+k,u,I)),k++},1e3/_);setTimeout(function(){if(clearInterval(V),o)o(U);else{var $=!0,B=!1,se=void 0;try{for(var ne,oe=U[Symbol.iterator]();!($=(ne=oe.next()).done);$=!0){var ge=ne.value;g.default.prototype.downloadFile(ge.imageData,ge.filename,ge.ext)}}catch(J){B=!0,se=J}finally{try{$||oe.return==null||oe.return()}finally{if(B)throw se}}}U=[]},d+.01)},g.default.prototype._makeFrame=function(p,u,a){var l,o;if(l=this?this._curElement.elt:a,u)switch(u.toLowerCase()){case"png":o="image/png";break;case"jpeg":case"jpg":o="image/jpeg";break;default:o="image/png"}else u="png",o="image/png";var d=l.toDataURL(o);d=d.replace(o,"image/octet-stream");var _={};return _.imageData=d,_.filename=p,_.ext=u,_};var m=g.default;S.default=m},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,omggif:238}],287:[function(n,C,S){function g(d){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t=a(n("../core/main")),c=a(n("./filters")),f=a(n("../core/helpers")),m=function(d){if(d&&d.__esModule)return d;if(d===null||g(d)!=="object"&&typeof d!="function")return{default:d};var _=u();if(_&&_.has(d))return _.get(d);var k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in d)if(Object.prototype.hasOwnProperty.call(d,I)){var U=E?Object.getOwnPropertyDescriptor(d,I):null;U&&(U.get||U.set)?Object.defineProperty(k,I,U):k[I]=d[I]}return k.default=d,_&&_.set(d,k),k}(n("../core/constants")),p=a(n("omggif"));function u(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return u=function(){return d},d}function a(d){return d&&d.__esModule?d:{default:d}}function l(d,_){return 0<d&&d<_?d:_}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),t.default.prototype.loadImage=function(d,_,k){t.default._validateParameters("loadImage",arguments);var E=new t.default.Image(1,1,this),I=this,U=new Request(d,{method:"GET",mode:"cors"});return fetch(d,U).then(function(V){var $=V.headers.get("content-type");if($===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),$&&$.includes("image/gif"))V.arrayBuffer().then(function(se){se&&function(ne,oe,ge,J,ue){var he=new p.default.GifReader(ne);oe.width=oe.canvas.width=he.width,oe.height=oe.canvas.height=he.height;var ye=[],Oe=he.numFrames(),de=new Uint8ClampedArray(oe.width*oe.height*4);if(1<Oe){for(var Ne=function(at,Fe){try{Fe.decodeAndBlitFrameRGBA(at,de)}catch(ae){t.default._friendlyFileLoadError(8,oe.src),typeof J=="function"?J(ae):console.error(ae)}},Le=0;Le<Oe;Le++){var Be=he.frameInfo(Le),$e=oe.drawingContext.getImageData(0,0,oe.width,oe.height);de=$e.data.slice(),Ne(Le,he);var ut=new ImageData(de,oe.width,oe.height);oe.drawingContext.putImageData(ut,0,0);var Ke=Be.delay;Ke===0&&(Ke=10),ye.push({image:oe.drawingContext.getImageData(0,0,oe.width,oe.height),delay:10*Ke}),Be.disposal===2?oe.drawingContext.clearRect(Be.x,Be.y,Be.width,Be.height):Be.disposal===3&&oe.drawingContext.putImageData($e,0,0,Be.x,Be.y,Be.width,Be.height)}var _t=he.loopCount();_t===null?_t=1:_t===0&&(_t=null),oe.drawingContext.putImageData(ye[0].image,0,0),oe.gifProperties={displayIndex:0,loopLimit:_t,loopCount:0,frames:ye,numFrames:Oe,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof ge=="function"&&ge(oe),ue()}(new Uint8Array(se),E,_,k,function(ne){I._decrementPreload()}.bind(I))},function(se){typeof k=="function"?k(se):console.error(se)});else{var B=new Image;B.onload=function(){E.width=E.canvas.width=B.width,E.height=E.canvas.height=B.height,E.drawingContext.drawImage(B,0,0),E.modified=!0,typeof _=="function"&&_(E),I._decrementPreload()},B.onerror=function(se){t.default._friendlyFileLoadError(0,B.src),typeof k=="function"?k(se):console.error(se)},d.indexOf("data:image/")!==0&&(B.crossOrigin="Anonymous"),B.src=d}E.modified=!0}).catch(function(V){t.default._friendlyFileLoadError(0,d),typeof k=="function"?k(V):console.error(V)}),E},t.default.prototype.image=function(d,_,k,E,I,U,V,$,B){t.default._validateParameters("image",arguments);var se=d.width,ne=d.height;d.elt&&d.elt.videoWidth&&!d.canvas&&(se=d.elt.videoWidth,ne=d.elt.videoHeight);var oe=_,ge=k,J=E||se,ue=I||ne,he=U||0,ye=V||0,Oe=$||se,de=B||ne;Oe=l(Oe,se),de=l(de,ne);var Ne=1;d.elt&&!d.canvas&&d.elt.style.width&&(Ne=d.elt.videoWidth&&!E?d.elt.videoWidth:d.elt.width,Ne/=parseInt(d.elt.style.width,10)),he*=Ne,ye*=Ne,de*=Ne,Oe*=Ne;var Le=f.default.modeAdjust(oe,ge,J,ue,this._renderer._imageMode);this._renderer.image(d,he,ye,Oe,de,Le.x,Le.y,Le.w,Le.h)},t.default.prototype.tint=function(){for(var d=arguments.length,_=new Array(d),k=0;k<d;k++)_[k]=arguments[k];t.default._validateParameters("tint",_);var E=this.color.apply(this,_);this._renderer._tint=E.levels},t.default.prototype.noTint=function(){this._renderer._tint=null},t.default.prototype._getTintedImageCanvas=function(d){if(!d.canvas)return d;var _=c.default._toPixels(d.canvas),k=document.createElement("canvas");k.width=d.canvas.width,k.height=d.canvas.height;for(var E=k.getContext("2d"),I=E.createImageData(d.canvas.width,d.canvas.height),U=I.data,V=0;V<_.length;V+=4){var $=_[V],B=_[V+1],se=_[V+2],ne=_[V+3];U[V]=$*this._renderer._tint[0]/255,U[V+1]=B*this._renderer._tint[1]/255,U[V+2]=se*this._renderer._tint[2]/255,U[V+3]=ne*this._renderer._tint[3]/255}return E.putImageData(I,0,0),k},t.default.prototype.imageMode=function(d){t.default._validateParameters("imageMode",arguments),d!==m.CORNER&&d!==m.CORNERS&&d!==m.CENTER||(this._renderer._imageMode=d)};var o=t.default;S.default=o},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/helpers":260,"../core/main":264,"./filters":285,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.includes":185,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,omggif:238}],288:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g=c(n("../core/main")),t=c(n("./filters"));function c(m){return m&&m.__esModule?m:{default:m}}g.default.Image=function(m,p){this.width=m,this.height=p,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},g.default.Image.prototype._animateGif=function(m){var p=this.gifProperties,u=m._lastFrameTime;if(p.lastChangeTime===0&&(p.lastChangeTime=u),p.playing){p.timeDisplayed=u-p.lastChangeTime;var a=p.frames[p.displayIndex].delay;if(p.timeDisplayed>=a){var l=Math.floor(p.timeDisplayed/a);if(p.timeDisplayed=0,p.lastChangeTime=u,p.displayIndex+=l,p.loopCount=Math.floor(p.displayIndex/p.numFrames),p.loopLimit!==null&&p.loopCount>=p.loopLimit)p.playing=!1;else{var o=p.displayIndex%p.numFrames;this.drawingContext.putImageData(p.frames[o].image,0,0),p.displayIndex=o,this.setModified(!0)}}}},g.default.Image.prototype._setProperty=function(m,p){this[m]=p,this.setModified(!0)},g.default.Image.prototype.loadPixels=function(){g.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},g.default.Image.prototype.updatePixels=function(m,p,u,a){g.default.Renderer2D.prototype.updatePixels.call(this,m,p,u,a),this.setModified(!0)},g.default.Image.prototype.get=function(m,p,u,a){return g.default._validateParameters("p5.Image.get",arguments),g.default.Renderer2D.prototype.get.apply(this,arguments)},g.default.Image.prototype._getPixel=g.default.Renderer2D.prototype._getPixel,g.default.Image.prototype.set=function(m,p,u){g.default.Renderer2D.prototype.set.call(this,m,p,u),this.setModified(!0)},g.default.Image.prototype.resize=function(m,p){m===0&&p===0?(m=this.canvas.width,p=this.canvas.height):m===0?m=this.canvas.width*p/this.canvas.height:p===0&&(p=this.canvas.height*m/this.canvas.width),m=Math.floor(m),p=Math.floor(p);var u=document.createElement("canvas");if(u.width=m,u.height=p,this.gifProperties)for(var a=this.gifProperties,l=function(_,k){for(var E=0,I=0;I<k.height;I++)for(var U=0;U<k.width;U++){var V=Math.floor(U*_.width/k.width),$=4*(Math.floor(I*_.height/k.height)*_.width+V);k.data[E++]=_.data[$++],k.data[E++]=_.data[$++],k.data[E++]=_.data[$++],k.data[E++]=_.data[$++]}},o=0;o<a.numFrames;o++){var d=this.drawingContext.createImageData(m,p);l(a.frames[o].image,d),a.frames[o].image=d}u.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,u.width,u.height),this.canvas.width=this.width=m,this.canvas.height=this.height=p,this.drawingContext.drawImage(u,0,0,m,p,0,0,m,p),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},g.default.Image.prototype.copy=function(){for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];g.default.prototype.copy.apply(this,p)},g.default.Image.prototype.mask=function(m){m===void 0&&(m=this);var p=this.drawingContext.globalCompositeOperation,u=1;m instanceof g.default.Renderer&&(u=m._pInst._pixelDensity);var a=[m,0,0,u*m.width,u*m.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",g.default.Image.prototype.copy.apply(this,a),this.drawingContext.globalCompositeOperation=p,this.setModified(!0)},g.default.Image.prototype.filter=function(m,p){t.default.apply(this.canvas,t.default[m],p),this.setModified(!0)},g.default.Image.prototype.blend=function(){for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];g.default._validateParameters("p5.Image.blend",arguments),g.default.prototype.blend.apply(this,p),this.setModified(!0)},g.default.Image.prototype.setModified=function(m){this._modified=m},g.default.Image.prototype.isModified=function(){return this._modified},g.default.Image.prototype.save=function(m,p){this.gifProperties?g.default.prototype.saveGif(this,m):g.default.prototype.saveCanvas(this.canvas,m,p)},g.default.Image.prototype.reset=function(){if(this.gifProperties){var m=this.gifProperties;m.playing=!0,m.timeSinceStart=0,m.timeDisplayed=0,m.lastChangeTime=0,m.loopCount=0,m.displayIndex=0,this.drawingContext.putImageData(m.frames[0].image,0,0)}},g.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var m=this.gifProperties;return m.displayIndex%m.numFrames}},g.default.Image.prototype.setFrame=function(m){if(this.gifProperties){var p=this.gifProperties;m<p.numFrames&&0<=m?(p.timeDisplayed=0,p.lastChangeTime=0,p.displayIndex=m,this.drawingContext.putImageData(p.frames[m].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},g.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},g.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},g.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},g.default.Image.prototype.delay=function(m,p){if(this.gifProperties){var u=this.gifProperties;if(p<u.numFrames&&0<=p)u.frames[p].delay=m;else{var a=!0,l=!1,o=void 0;try{for(var d,_=u.frames[Symbol.iterator]();!(a=(d=_.next()).done);a=!0)d.value.delay=m}catch(k){l=!0,o=k}finally{try{a||_.return==null||_.return()}finally{if(l)throw o}}}}};var f=g.default.Image;S.default=f},{"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],289:[function(n,C,S){n("core-js/modules/es.array.filter"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g=c(n("../core/main")),t=c(n("./filters"));function c(m){return m&&m.__esModule?m:{default:m}}n("../color/p5.Color"),g.default.prototype.pixels=[],g.default.prototype.blend=function(){for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];var a;g.default._validateParameters("blend",p),this._renderer?(a=this._renderer).blend.apply(a,p):g.default.Renderer2D.prototype.blend.apply(this,p)},g.default.prototype.copy=function(){for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];var a,l,o,d,_,k,E,I,U;if(g.default._validateParameters("copy",p),p.length===9)a=p[0],l=p[1],o=p[2],d=p[3],_=p[4],k=p[5],E=p[6],I=p[7],U=p[8];else{if(p.length!==8)throw new Error("Signature not supported");a=this,l=p[0],o=p[1],d=p[2],_=p[3],k=p[4],E=p[5],I=p[6],U=p[7]}g.default.prototype._copyHelper(this,a,l,o,d,_,k,E,I,U)},g.default.prototype._copyHelper=function(m,p,u,a,l,o,d,_,k,E){p.loadPixels();var I=p.canvas.width/p.width,U=0,V=0;p._renderer&&p._renderer.isP3D&&(U=p.width/2,V=p.height/2),m._renderer&&m._renderer.isP3D?g.default.RendererGL.prototype.image.call(m._renderer,p,u+U,a+V,l,o,d,_,k,E):m.drawingContext.drawImage(p.canvas,I*(u+U),I*(a+V),I*l,I*o,d,_,k,E)},g.default.prototype.filter=function(m,p){g.default._validateParameters("filter",arguments),this.canvas!==void 0?t.default.apply(this.canvas,t.default[m],p):t.default.apply(this.elt,t.default[m],p)},g.default.prototype.get=function(m,p,u,a){var l;return g.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},g.default.prototype.loadPixels=function(){for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];g.default._validateParameters("loadPixels",p),this._renderer.loadPixels()},g.default.prototype.set=function(m,p,u){this._renderer.set(m,p,u)},g.default.prototype.updatePixels=function(m,p,u,a){g.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(m,p,u,a)};var f=g.default;S.default=f},{"../color/p5.Color":251,"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152}],290:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g=f(n("../core/main"));n("whatwg-fetch"),n("es6-promise/auto");var t=f(n("fetch-jsonp")),c=f(n("file-saver"));function f(o){return o&&o.__esModule?o:{default:o}}function m(o){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}function p(o,d){var _={};if((d=d||[])===void 0)for(var k=0;k<o.length;k++)d[k.toString()]=k;for(var E=0;E<d.length;E++){var I=d[E],U=o[E];_[I]=U}return _}function u(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(o,d){d&&d!==!0&&d!=="true"||(d="");var _="";return(o=o||"untitled")&&o.includes(".")&&(_=o.split(".").pop()),d&&_!==d&&(_=d,o="".concat(o,".").concat(_)),[o,_]}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),g.default.prototype.loadJSON=function(){for(var o=arguments.length,d=new Array(o),_=0;_<o;_++)d[_]=arguments[_];g.default._validateParameters("loadJSON",d);for(var k,E,I,U=d[0],V={},$="json",B=1;B<d.length;B++){var se=d[B];typeof se=="string"?se!=="jsonp"&&se!=="json"||($=se):typeof se=="function"?k?E=se:k=se:m(se)==="object"&&(se.hasOwnProperty("jsonpCallback")||se.hasOwnProperty("jsonpCallbackFunction"))&&($="jsonp",I=se)}var ne=this;return this.httpDo(U,"GET",I,$,function(oe){for(var ge in oe)V[ge]=oe[ge];k!==void 0&&k(oe),ne._decrementPreload()},function(oe){if(g.default._friendlyFileLoadError(5,U),!E)throw oe;E(oe)}),V},g.default.prototype.loadStrings=function(){for(var o=arguments.length,d=new Array(o),_=0;_<o;_++)d[_]=arguments[_];g.default._validateParameters("loadStrings",d);for(var k,E,I=[],U=1;U<d.length;U++){var V=d[U];typeof V=="function"&&(k===void 0?k=V:E===void 0&&(E=V))}var $=this;return g.default.prototype.httpDo.call(this,d[0],"GET","text",function(B){for(var se=B.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),ne=0,oe=se.length;ne<oe;ne+=32768)Array.prototype.push.apply(I,se.slice(ne,Math.min(ne+32768,oe)));k!==void 0&&k(I),$._decrementPreload()},function(B){if(g.default._friendlyFileLoadError(3,B),!E)throw B;E(B)}),I},g.default.prototype.loadTable=function(o){var d,_,k,E=!1,I=o.substring(o.lastIndexOf(".")+1,o.length);I==="csv"?k=",":I==="ssv"?k=";":I==="tsv"&&(k="	");for(var U=1;U<arguments.length;U++)typeof arguments[U]=="function"?d===void 0?d=arguments[U]:_===void 0&&(_=arguments[U]):typeof arguments[U]=="string"&&(arguments[U]==="header"&&(E=!0),arguments[U]==="csv"?k=",":arguments[U]==="ssv"?k=";":arguments[U]==="tsv"&&(k="	"));var V=new g.default.Table,$=this;return this.httpDo(o,"GET","table",function(B){for(var se,ne,oe={},ge=[],J=0,ue=null,he=function(){oe.currentState=0,oe.token=""},ye=function(){ue.push(oe.token),he()},Oe=function(){oe.currentState=4,ge.push(ue),ue=null};;){if((se=B[J++])==null){if(oe.escaped)throw new Error("Unclosed quote in file.");if(ue){ye(),Oe();break}}if(ue===null&&(oe.escaped=!1,ue=[],he()),oe.currentState===0){if(se==='"'){oe.escaped=!0,oe.currentState=1;continue}oe.currentState=1}if(oe.currentState===1&&oe.escaped)if(se==='"')B[J]==='"'?(oe.token+='"',J++):(oe.escaped=!1,oe.currentState=2);else{if(se==="\r")continue;oe.token+=se}else se==="\r"?(B[J]===`
`&&J++,ye(),Oe()):se===`
`?(ye(),Oe()):se===k?ye():oe.currentState===1&&(oe.token+=se)}if(E)V.columns=ge.shift();else for(var de=0;de<ge[0].length;de++)V.columns[de]="null";for(var Ne=0;Ne<ge.length;Ne++)(ge[Ne].length!==1||ge[Ne][0]!=="undefined"&&ge[Ne][0]!=="")&&((ne=new g.default.TableRow).arr=ge[Ne],ne.obj=p(ge[Ne],V.columns),V.addRow(ne));typeof d=="function"&&d(V),$._decrementPreload()},function(B){g.default._friendlyFileLoadError(2,o),_?_(B):console.error(B)}),V},g.default.prototype.loadXML=function(){for(var o=arguments.length,d=new Array(o),_=0;_<o;_++)d[_]=arguments[_];for(var k,E,I=new g.default.XML,U=1;U<d.length;U++){var V=d[U];typeof V=="function"&&(k===void 0?k=V:E===void 0&&(E=V))}var $=this;return this.httpDo(d[0],"GET","xml",function(B){for(var se in B)I[se]=B[se];k!==void 0&&k(I),$._decrementPreload()},function(B){if(g.default._friendlyFileLoadError(1,B),!E)throw B;E(B)}),I},g.default.prototype.loadBytes=function(o,d,_){var k={},E=this;return this.httpDo(o,"GET","arrayBuffer",function(I){k.bytes=new Uint8Array(I),typeof d=="function"&&d(k),E._decrementPreload()},function(I){if(g.default._friendlyFileLoadError(6,o),!_)throw I;_(I)}),k},g.default.prototype.httpGet=function(){g.default._validateParameters("httpGet",arguments);var o=Array.prototype.slice.call(arguments);return o.splice(1,0,"GET"),g.default.prototype.httpDo.apply(this,o)},g.default.prototype.httpPost=function(){g.default._validateParameters("httpPost",arguments);var o=Array.prototype.slice.call(arguments);return o.splice(1,0,"POST"),g.default.prototype.httpDo.apply(this,o)},g.default.prototype.httpDo=function(){for(var o,d,_,k,E,I={},U=0,V="text/plain",$=arguments.length-1;0<$&&typeof($<0||arguments.length<=$?void 0:arguments[$])=="function";$--)U++;var B=arguments.length<=0?void 0:arguments[0];if(arguments.length-U==2&&typeof B=="string"&&m(arguments.length<=1?void 0:arguments[1])==="object")k=new Request(B,arguments.length<=1?void 0:arguments[1]),d=arguments.length<=2?void 0:arguments[2],_=arguments.length<=3?void 0:arguments[3];else{for(var se,ne="GET",oe=1;oe<arguments.length;oe++){var ge=oe<0||arguments.length<=oe?void 0:arguments[oe];if(typeof ge=="string")ge==="GET"||ge==="POST"||ge==="PUT"||ge==="DELETE"?ne=ge:ge==="json"||ge==="jsonp"||ge==="binary"||ge==="arrayBuffer"||ge==="xml"||ge==="text"||ge==="table"?o=ge:se=ge;else if(typeof ge=="number")se=ge.toString();else if(m(ge)==="object")if(ge.hasOwnProperty("jsonpCallback")||ge.hasOwnProperty("jsonpCallbackFunction"))for(var J in ge)I[J]=ge[J];else V=ge instanceof g.default.XML?(se=ge.serialize(),"application/xml"):(se=JSON.stringify(ge),"application/json");else typeof ge=="function"&&(d?_=ge:d=ge)}var ue=ne==="GET"?new Headers:new Headers({"Content-Type":V});k=new Request(B,{method:ne,mode:"cors",body:se,headers:ue})}return(E=(E=(o=o||(B.includes("json")?"json":B.includes("xml")?"xml":"text"))==="jsonp"?(0,t.default)(B,I):fetch(k)).then(function(he){if(!he.ok){var ye=new Error(he.body);throw ye.status=he.status,ye.ok=!1,ye}var Oe=0;switch(o!=="jsonp"&&(Oe=he.headers.get("content-length")),Oe&&64e6<Oe&&g.default._friendlyFileLoadError(7,B),o){case"json":case"jsonp":return he.json();case"binary":return he.blob();case"arrayBuffer":return he.arrayBuffer();case"xml":return he.text().then(function(de){var Ne=new DOMParser().parseFromString(de,"text/xml");return new g.default.XML(Ne.documentElement)});default:return he.text()}})).then(d||function(){}),E.catch(_||console.error),E},window.URL=window.URL||window.webkitURL,g.default.prototype._pWriters=[],g.default.prototype.createWriter=function(o,d){var _;for(var k in g.default.prototype._pWriters)if(g.default.prototype._pWriters[k].name===o)return _=new g.default.PrintWriter(o+this.millis(),d),g.default.prototype._pWriters.push(_),_;return _=new g.default.PrintWriter(o,d),g.default.prototype._pWriters.push(_),_},g.default.PrintWriter=function(o,d){var _=this;this.name=o,this.content="",this.write=function(k){this.content+=k},this.print=function(k){this.content+="".concat(k,`
`)},this.clear=function(){this.content=""},this.close=function(){var k=[];for(var E in k.push(this.content),g.default.prototype.writeFile(k,o,d),g.default.prototype._pWriters)g.default.prototype._pWriters[E].name===this.name&&g.default.prototype._pWriters.splice(E,1);_.clear(),_={}}},g.default.prototype.save=function(o,d,_){var k=arguments,E=this._curElement?this._curElement.elt:this.elt;if(k.length!==0)if(k[0]instanceof g.default.Renderer||k[0]instanceof g.default.Graphics)g.default.prototype.saveCanvas(k[0].elt,k[1],k[2]);else if(k.length===1&&typeof k[0]=="string")g.default.prototype.saveCanvas(E,k[0]);else switch(a(k[1],k[2])[1]){case"json":return void g.default.prototype.saveJSON(k[0],k[1],k[2]);case"txt":return void g.default.prototype.saveStrings(k[0],k[1],k[2]);default:k[0]instanceof Array?g.default.prototype.saveStrings(k[0],k[1],k[2]):k[0]instanceof g.default.Table?g.default.prototype.saveTable(k[0],k[1],k[2]):k[0]instanceof g.default.Image?g.default.prototype.saveCanvas(k[0].canvas,k[1]):k[0]instanceof g.default.SoundFile&&g.default.prototype.saveSound(k[0],k[1],k[2],k[3])}else g.default.prototype.saveCanvas(E)},g.default.prototype.saveJSON=function(o,d,_){var k;g.default._validateParameters("saveJSON",arguments),k=_?JSON.stringify(o):JSON.stringify(o,void 0,2),this.saveStrings(k.split(`
`),d,"json")},g.default.prototype.saveJSONObject=g.default.prototype.saveJSON,g.default.prototype.saveJSONArray=g.default.prototype.saveJSON,g.default.prototype.saveStrings=function(o,d,_,k){g.default._validateParameters("saveStrings",arguments);for(var E=_||"txt",I=this.createWriter(d,E),U=0;U<o.length;U++)k?I.write(o[U]+`\r
`):I.write(o[U]+`
`);I.close(),I.clear()},g.default.prototype.saveTable=function(o,d,_){var k;g.default._validateParameters("saveTable",arguments),k=_===void 0?d.substring(d.lastIndexOf(".")+1,d.length):_;var E=this.createWriter(d,k),I=o.columns,U=",";if(k==="tsv"&&(U="	"),k!=="html"){if(I[0]!=="0"){for(var V=0;V<I.length;V++)V<I.length-1?E.write(I[V]+U):E.write(I[V]);E.write(`
`)}for(var $=0;$<o.rows.length;$++){var B=void 0;for(B=0;B<o.rows[$].arr.length;B++)B<o.rows[$].arr.length-1?k==="csv"&&String(o.rows[$].arr[B]).includes(",")?E.write('"'+o.rows[$].arr[B]+'"'+U):E.write(o.rows[$].arr[B]+U):k==="csv"&&String(o.rows[$].arr[B]).includes(",")?E.write('"'+o.rows[$].arr[B]+'"'):E.write(o.rows[$].arr[B]);E.write(`
`)}}else{if(E.print("<html>"),E.print("<head>"),E.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),E.print("</head>"),E.print("<body>"),E.print("  <table>"),I[0]!=="0"){E.print("    <tr>");for(var se=0;se<I.length;se++){var ne=u(I[se]);E.print("      <td>".concat(ne)),E.print("      </td>")}E.print("    </tr>")}for(var oe=0;oe<o.rows.length;oe++){E.print("    <tr>");for(var ge=0;ge<o.columns.length;ge++){var J=u(o.rows[oe].getString(ge));E.print("      <td>".concat(J)),E.print("      </td>")}E.print("    </tr>")}E.print("  </table>"),E.print("</body>"),E.print("</html>")}E.close(),E.clear()},g.default.prototype.writeFile=function(o,d,_){var k="application/octet-stream";g.default.prototype._isSafari()&&(k="text/plain");var E=new Blob(o,{type:k});g.default.prototype.downloadFile(E,d,_)},g.default.prototype.downloadFile=function(o,d,_){var k=a(d,_),E=k[0];if(o instanceof Blob)c.default.saveAs(o,E);else{var I=document.createElement("a");if(I.href=o,I.download=E,I.onclick=function(V){var $;$=V,document.body.removeChild($.target),V.stopPropagation()},I.style.display="none",document.body.appendChild(I),g.default.prototype._isSafari()){var U=`Hello, Safari user! To download this file...
`;U+=`1. Go to File --> Save As.
`,U+=`2. Choose "Page Source" as the Format.
`,U+='3. Name it with this extension: ."'.concat(k[1],'"'),alert(U)}I.click()}},g.default.prototype._checkFileExtension=a,g.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};var l=g.default;S.default=l},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231,"es6-promise/auto":232,"fetch-jsonp":234,"file-saver":235,"whatwg-fetch":242}],291:[function(n,C,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.Table=function(f){this.columns=[],this.rows=[]},t.default.Table.prototype.addRow=function(f){var m=f||new t.default.TableRow;if(m.arr===void 0||m.obj===void 0)throw new Error("invalid TableRow: ".concat(m));return(m.table=this).rows.push(m),m},t.default.Table.prototype.removeRow=function(f){this.rows[f].table=null;var m=this.rows.splice(f+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(m)},t.default.Table.prototype.getRow=function(f){return this.rows[f]},t.default.Table.prototype.getRows=function(){return this.rows},t.default.Table.prototype.findRow=function(f,m){if(typeof m=="string"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[m]===f)return this.rows[p]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[m]===f)return this.rows[u];return null},t.default.Table.prototype.findRows=function(f,m){var p=[];if(typeof m=="string")for(var u=0;u<this.rows.length;u++)this.rows[u].obj[m]===f&&p.push(this.rows[u]);else for(var a=0;a<this.rows.length;a++)this.rows[a].arr[m]===f&&p.push(this.rows[a]);return p},t.default.Table.prototype.matchRow=function(f,m){if(typeof m=="number"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[m].match(f))return this.rows[p]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[m].match(f))return this.rows[u];return null},t.default.Table.prototype.matchRows=function(f,m){var p=[];if(typeof m=="number")for(var u=0;u<this.rows.length;u++)this.rows[u].arr[m].match(f)&&p.push(this.rows[u]);else for(var a=0;a<this.rows.length;a++)this.rows[a].obj[m].match(f)&&p.push(this.rows[a]);return p},t.default.Table.prototype.getColumn=function(f){var m=[];if(typeof f=="string")for(var p=0;p<this.rows.length;p++)m.push(this.rows[p].obj[f]);else for(var u=0;u<this.rows.length;u++)m.push(this.rows[u].arr[f]);return m},t.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},t.default.Table.prototype.addColumn=function(f){var m=f||null;this.columns.push(m)},t.default.Table.prototype.getColumnCount=function(){return this.columns.length},t.default.Table.prototype.getRowCount=function(){return this.rows.length},t.default.Table.prototype.removeTokens=function(f,m){for(var p=[],u=0;u<f.length;u++)p.push(f.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var a=new RegExp(p.join("|"),"g");if(m===void 0)for(var l=0;l<this.columns.length;l++)for(var o=0;o<this.rows.length;o++){var d=this.rows[o].arr[l];d=d.replace(a,""),this.rows[o].arr[l]=d,this.rows[o].obj[this.columns[l]]=d}else if(typeof m=="string")for(var _=0;_<this.rows.length;_++){var k=this.rows[_].obj[m];k=k.replace(a,""),this.rows[_].obj[m]=k;var E=this.columns.indexOf(m);this.rows[_].arr[E]=k}else for(var I=0;I<this.rows.length;I++){var U=this.rows[I].arr[m];U=U.replace(a,""),this.rows[I].arr[m]=U,this.rows[I].obj[this.columns[m]]=U}},t.default.Table.prototype.trim=function(f){var m=new RegExp(" ","g");if(f===void 0)for(var p=0;p<this.columns.length;p++)for(var u=0;u<this.rows.length;u++){var a=this.rows[u].arr[p];a=a.replace(m,""),this.rows[u].arr[p]=a,this.rows[u].obj[this.columns[p]]=a}else if(typeof f=="string")for(var l=0;l<this.rows.length;l++){var o=this.rows[l].obj[f];o=o.replace(m,""),this.rows[l].obj[f]=o;var d=this.columns.indexOf(f);this.rows[l].arr[d]=o}else for(var _=0;_<this.rows.length;_++){var k=this.rows[_].arr[f];k=k.replace(m,""),this.rows[_].arr[f]=k,this.rows[_].obj[this.columns[f]]=k}},t.default.Table.prototype.removeColumn=function(f){var m,p;typeof f=="string"?(m=f,p=this.columns.indexOf(f)):(p=f,m=this.columns[f]);var u=this.columns.splice(p+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(u);for(var a=0;a<this.rows.length;a++){var l=this.rows[a].arr,o=l.splice(p+1,l.length);l.pop(),this.rows[a].arr=l.concat(o),delete this.rows[a].obj[m]}},t.default.Table.prototype.set=function(f,m,p){this.rows[f].set(m,p)},t.default.Table.prototype.setNum=function(f,m,p){this.rows[f].setNum(m,p)},t.default.Table.prototype.setString=function(f,m,p){this.rows[f].setString(m,p)},t.default.Table.prototype.get=function(f,m){return this.rows[f].get(m)},t.default.Table.prototype.getNum=function(f,m){return this.rows[f].getNum(m)},t.default.Table.prototype.getString=function(f,m){return this.rows[f].getString(m)},t.default.Table.prototype.getObject=function(f){for(var m,p={},u=0;u<this.rows.length;u++)if(m=this.rows[u].obj,typeof f=="string"){if(!(0<=this.columns.indexOf(f)))throw new Error('This table has no column named "'.concat(f,'"'));p[m[f]]=m}else p[u]=this.rows[u].obj;return p},t.default.Table.prototype.getArray=function(){for(var f=[],m=0;m<this.rows.length;m++)f.push(this.rows[m].arr);return f};var c=t.default;S.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],292:[function(n,C,S){n("core-js/modules/es.array.index-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.TableRow=function(f,m){var p=[],u={};f&&(m=m||",",p=f.split(m));for(var a=0;a<p.length;a++){var l=a,o=p[a];u[l]=o}this.arr=p,this.obj=u,this.table=null},t.default.TableRow.prototype.set=function(f,m){if(typeof f=="string"){var p=this.table.columns.indexOf(f);if(!(0<=p))throw new Error('This table has no column named "'.concat(f,'"'));this.obj[f]=m,this.arr[p]=m}else{if(!(f<this.table.columns.length))throw new Error("Column #".concat(f," is out of the range of this table"));this.arr[f]=m;var u=this.table.columns[f];this.obj[u]=m}},t.default.TableRow.prototype.setNum=function(f,m){var p=parseFloat(m);this.set(f,p)},t.default.TableRow.prototype.setString=function(f,m){var p=m.toString();this.set(f,p)},t.default.TableRow.prototype.get=function(f){return typeof f=="string"?this.obj[f]:this.arr[f]},t.default.TableRow.prototype.getNum=function(f){var m;if((m=parseFloat(typeof f=="string"?this.obj[f]:this.arr[f])).toString()==="NaN")throw"Error: ".concat(this.obj[f]," is NaN (Not a Number)");return m},t.default.TableRow.prototype.getString=function(f){return typeof f=="string"?this.obj[f].toString():this.arr[f].toString()};var c=t.default;S.default=c},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],293:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(m){for(var p=[],u=0;u<m.length;u++)p.push(new t.default.XML(m[u]));return p}t.default.XML=function(m){if(m)this.DOM=m;else{var p=document.implementation.createDocument(null,"doc");this.DOM=p.createElement("root")}},t.default.XML.prototype.getParent=function(){return new t.default.XML(this.DOM.parentElement)},t.default.XML.prototype.getName=function(){return this.DOM.tagName},t.default.XML.prototype.setName=function(m){var p=this.DOM.innerHTML,u=this.DOM.attributes,a=document.implementation.createDocument(null,"default").createElement(m);a.innerHTML=p;for(var l=0;l<u.length;l++)a.setAttribute(u[l].nodeName,u.nodeValue);this.DOM=a},t.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},t.default.XML.prototype.listChildren=function(){for(var m=[],p=0;p<this.DOM.childNodes.length;p++)m.push(this.DOM.childNodes[p].nodeName);return m},t.default.XML.prototype.getChildren=function(m){return c(m?this.DOM.getElementsByTagName(m):this.DOM.children)},t.default.XML.prototype.getChild=function(m){if(typeof m!="string")return new t.default.XML(this.DOM.children[m]);var p=!0,u=!1,a=void 0;try{for(var l,o=this.DOM.children[Symbol.iterator]();!(p=(l=o.next()).done);p=!0){var d=l.value;if(d.tagName===m)return new t.default.XML(d)}}catch(_){u=!0,a=_}finally{try{p||o.return==null||o.return()}finally{if(u)throw a}}},t.default.XML.prototype.addChild=function(m){m instanceof t.default.XML&&this.DOM.appendChild(m.DOM)},t.default.XML.prototype.removeChild=function(m){var p=-1;if(typeof m=="string"){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===m){p=u;break}}else p=m;p!==-1&&this.DOM.removeChild(this.DOM.children[p])},t.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},t.default.XML.prototype.listAttributes=function(){var m=[],p=!0,u=!1,a=void 0;try{for(var l,o=this.DOM.attributes[Symbol.iterator]();!(p=(l=o.next()).done);p=!0){var d=l.value;m.push(d.nodeName)}}catch(_){u=!0,a=_}finally{try{p||o.return==null||o.return()}finally{if(u)throw a}}return m},t.default.XML.prototype.hasAttribute=function(m){var p={},u=!0,a=!1,l=void 0;try{for(var o,d=this.DOM.attributes[Symbol.iterator]();!(u=(o=d.next()).done);u=!0){var _=o.value;p[_.nodeName]=_.nodeValue}}catch(k){a=!0,l=k}finally{try{u||d.return==null||d.return()}finally{if(a)throw l}}return!!p[m]},t.default.XML.prototype.getNum=function(m,p){var u={},a=!0,l=!1,o=void 0;try{for(var d,_=this.DOM.attributes[Symbol.iterator]();!(a=(d=_.next()).done);a=!0){var k=d.value;u[k.nodeName]=k.nodeValue}}catch(E){l=!0,o=E}finally{try{a||_.return==null||_.return()}finally{if(l)throw o}}return Number(u[m])||p||0},t.default.XML.prototype.getString=function(m,p){var u={},a=!0,l=!1,o=void 0;try{for(var d,_=this.DOM.attributes[Symbol.iterator]();!(a=(d=_.next()).done);a=!0){var k=d.value;u[k.nodeName]=k.nodeValue}}catch(E){l=!0,o=E}finally{try{a||_.return==null||_.return()}finally{if(l)throw o}}return u[m]?String(u[m]):p||null},t.default.XML.prototype.setAttribute=function(m,p){this.DOM.setAttribute(m,p)},t.default.XML.prototype.getContent=function(m){return this.DOM.textContent.replace(/\s\s+/g,",")||m||null},t.default.XML.prototype.setContent=function(m){this.DOM.children.length||(this.DOM.textContent=m)},t.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)};var f=t.default;S.default=f},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],294:[function(n,C,S){n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.string.includes"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var m=arguments.length,p=[],u=0,a=0;a<m;a++){var l=arguments[a];if((l=+l)===1/0||l===-1/0)return 1/0;u<(l=Math.abs(l))&&(u=l),p[a]=l}u===0&&(u=1);for(var o=0,d=0,_=0;_<m;_++){var k=p[_]/u,E=k*k-d,I=o+E;d=I-o-E,o=I}return Math.sqrt(o)*u}t.default.prototype.abs=Math.abs,t.default.prototype.ceil=Math.ceil,t.default.prototype.constrain=function(m,p,u){return t.default._validateParameters("constrain",arguments),Math.max(Math.min(m,u),p)},t.default.prototype.dist=function(){for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];return t.default._validateParameters("dist",p),p.length===4?c(p[2]-p[0],p[3]-p[1]):p.length===6?c(p[3]-p[0],p[4]-p[1],p[5]-p[2]):void 0},t.default.prototype.exp=Math.exp,t.default.prototype.floor=Math.floor,t.default.prototype.lerp=function(m,p,u){return t.default._validateParameters("lerp",arguments),u*(p-m)+m},t.default.prototype.log=Math.log,t.default.prototype.mag=function(m,p){return t.default._validateParameters("mag",arguments),c(m,p)},t.default.prototype.map=function(m,p,u,a,l,o){t.default._validateParameters("map",arguments);var d=(m-p)/(u-p)*(l-a)+a;return o?a<l?this.constrain(d,a,l):this.constrain(d,l,a):d},t.default.prototype.max=function(){for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];return p[0]instanceof Array?Math.max.apply(null,p[0]):Math.max.apply(null,p)},t.default.prototype.min=function(){for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];return p[0]instanceof Array?Math.min.apply(null,p[0]):Math.min.apply(null,p)},t.default.prototype.norm=function(m,p,u){return t.default._validateParameters("norm",arguments),this.map(m,p,u,0,1)},t.default.prototype.pow=Math.pow,t.default.prototype.round=function(m,p){if(!p)return Math.round(m);var u=Math.pow(10,p);return Math.round(m*u)/u},t.default.prototype.sq=function(m){return m*m},t.default.prototype.sqrt=Math.sqrt,t.default.prototype.fract=function(m){t.default._validateParameters("fract",arguments);var p=0,u=Number(m);if(isNaN(u)||Math.abs(u)===1/0)return u;if(u<0&&(u=-u,p=1),!String(u).includes(".")||String(u).includes("e"))return u<1?Math.abs(p-u):0;var a=String(u);return a=Number("0"+a.slice(a.indexOf("."))),Math.abs(p-a)};var f=t.default;S.default=f},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":168,"core-js/modules/es.number.constructor":170,"core-js/modules/es.string.includes":185}],295:[function(n,C,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(p,u,a){return(c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(l,o,d){var _=[null];_.push.apply(_,o);var k=new(Function.bind.apply(l,_));return d&&f(k,d.prototype),k}).apply(null,arguments)}function f(p,u){return(f=Object.setPrototypeOf||function(a,l){return a.__proto__=l,a})(p,u)}t.default.prototype.createVector=function(p,u,a){return this instanceof t.default?c(t.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new t.default.Vector(p,u,a)};var m=t.default;S.default=m},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],296:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(l){return .5*(1-Math.cos(l*Math.PI))}var f,m=4095,p=4,u=.5;t.default.prototype.noise=function(l){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(f==null){f=new Array(4096);for(var _=0;_<4096;_++)f[_]=Math.random()}l<0&&(l=-l),o<0&&(o=-o),d<0&&(d=-d);for(var k,E,I,U,V,$=Math.floor(l),B=Math.floor(o),se=Math.floor(d),ne=l-$,oe=o-B,ge=d-se,J=0,ue=.5,he=0;he<p;he++){var ye=$+(B<<4)+(se<<8);k=c(ne),E=c(oe),I=f[ye&m],I+=k*(f[ye+1&m]-I),U=f[ye+16&m],I+=E*((U+=k*(f[ye+16+1&m]-U))-I),U=f[(ye+=256)&m],U+=k*(f[ye+1&m]-U),V=f[ye+16&m],U+=E*((V+=k*(f[ye+16+1&m]-V))-U),J+=(I+=c(ge)*(U-I))*ue,ue*=u,$<<=1,B<<=1,se<<=1,1<=(ne*=2)&&($++,ne--),1<=(oe*=2)&&(B++,oe--),1<=(ge*=2)&&(se++,ge--)}return J},t.default.prototype.noiseDetail=function(l,o){0<l&&(p=l),0<o&&(u=o)},t.default.prototype.noiseSeed=function(l){var o,d,_,k=(_=4294967296,{setSeed:function(I){d=o=(I==null?Math.random()*_:I)>>>0},getSeed:function(){return o},rand:function(){return(d=(1664525*d+1013904223)%_)/_}});k.setSeed(l),f=new Array(4096);for(var E=0;E<4096;E++)f[E]=k.rand()};var a=t.default;S.default=a},{"../core/main":264}],297:[function(n,C,S){function g(l){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(l)}n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.number.is-finite"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(l){if(l&&l.__esModule)return l;if(l===null||g(l)!=="object"&&typeof l!="function")return{default:l};var o=m();if(o&&o.has(l))return o.get(l);var d={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in l)if(Object.prototype.hasOwnProperty.call(l,k)){var E=_?Object.getOwnPropertyDescriptor(l,k):null;E&&(E.get||E.set)?Object.defineProperty(d,k,E):d[k]=l[k]}return d.default=l,o&&o.set(l,d),d}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return m=function(){return l},l}c.default.Vector=function(l,o,d,_,k){var E,I,U;U={}.toString.call(l)==="[object Function]"?(this.isPInst=!0,this._fromRadians=l,this._toRadians=o,E=d||0,I=_||0,k||0):(E=l||0,I=o||0,d||0),this.x=E,this.y=I,this.z=U},c.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},c.default.Vector.prototype.set=function(l,o,d){return l instanceof c.default.Vector?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):l instanceof Array?(this.x=l[0]||0,this.y=l[1]||0,this.z=l[2]||0):(this.x=l||0,this.y=o||0,this.z=d||0),this},c.default.Vector.prototype.copy=function(){return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new c.default.Vector(this.x,this.y,this.z)},c.default.Vector.prototype.add=function(l,o,d){return l instanceof c.default.Vector?(this.x+=l.x||0,this.y+=l.y||0,this.z+=l.z||0):l instanceof Array?(this.x+=l[0]||0,this.y+=l[1]||0,this.z+=l[2]||0):(this.x+=l||0,this.y+=o||0,this.z+=d||0),this};function p(l,o){return l!==0&&(this.x=this.x%l),o!==0&&(this.y=this.y%o),this}function u(l,o,d){return l!==0&&(this.x=this.x%l),o!==0&&(this.y=this.y%o),d!==0&&(this.z=this.z%d),this}c.default.Vector.prototype.rem=function(l,o,d){if(l instanceof c.default.Vector){if(Number.isFinite(l.x)&&Number.isFinite(l.y)&&Number.isFinite(l.z)){var _=parseFloat(l.x),k=parseFloat(l.y),E=parseFloat(l.z);return u.call(this,_,k,E)}}else if(l instanceof Array){if(l.every(function(V){return Number.isFinite(V)})){if(l.length===2)return p.call(this,l[0],l[1]);if(l.length===3)return u.call(this,l[0],l[1],l[2])}}else if(arguments.length===1){if(Number.isFinite(l)&&l!==0)return this.x=this.x%l,this.y=this.y%l,this.z=this.z%l,this}else if(arguments.length===2){var I=Array.prototype.slice.call(arguments);if(I.every(function(V){return Number.isFinite(V)})&&I.length===2)return p.call(this,I[0],I[1])}else if(arguments.length===3){var U=Array.prototype.slice.call(arguments);if(U.every(function(V){return Number.isFinite(V)})&&U.length===3)return u.call(this,U[0],U[1],U[2])}},c.default.Vector.prototype.sub=function(l,o,d){return l instanceof c.default.Vector?(this.x-=l.x||0,this.y-=l.y||0,this.z-=l.z||0):l instanceof Array?(this.x-=l[0]||0,this.y-=l[1]||0,this.z-=l[2]||0):(this.x-=l||0,this.y-=o||0,this.z-=d||0),this},c.default.Vector.prototype.mult=function(l,o,d){if(l instanceof c.default.Vector)return Number.isFinite(l.x)&&Number.isFinite(l.y)&&Number.isFinite(l.z)&&typeof l.x=="number"&&typeof l.y=="number"&&typeof l.z=="number"?(this.x*=l.x,this.y*=l.y,this.z*=l.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(l instanceof Array)return l.every(function(k){return Number.isFinite(k)})&&l.every(function(k){return typeof k=="number"})?l.length===1?(this.x*=l[0],this.y*=l[0],this.z*=l[0]):l.length===2?(this.x*=l[0],this.y*=l[1]):l.length===3&&(this.x*=l[0],this.y*=l[1],this.z*=l[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var _=Array.prototype.slice.call(arguments);return _.every(function(k){return Number.isFinite(k)})&&_.every(function(k){return typeof k=="number"})?(arguments.length===1&&(this.x*=l,this.y*=l,this.z*=l),arguments.length===2&&(this.x*=l,this.y*=o),arguments.length===3&&(this.x*=l,this.y*=o,this.z*=d)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},c.default.Vector.prototype.div=function(l,o,d){if(l instanceof c.default.Vector){if(Number.isFinite(l.x)&&Number.isFinite(l.y)&&Number.isFinite(l.z)&&typeof l.x=="number"&&typeof l.y=="number"&&typeof l.z=="number"){if(l.x===0||l.y===0||l.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=l.x,this.y/=l.y,this.z/=l.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(l instanceof Array){if(l.every(function(k){return Number.isFinite(k)})&&l.every(function(k){return typeof k=="number"})){if(l.some(function(k){return k===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;l.length===1?(this.x/=l[0],this.y/=l[0],this.z/=l[0]):l.length===2?(this.x/=l[0],this.y/=l[1]):l.length===3&&(this.x/=l[0],this.y/=l[1],this.z/=l[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var _=Array.prototype.slice.call(arguments);if(_.every(function(k){return Number.isFinite(k)})&&_.every(function(k){return typeof k=="number"})){if(_.some(function(k){return k===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=l,this.y/=l,this.z/=l),arguments.length===2&&(this.x/=l,this.y/=o),arguments.length===3&&(this.x/=l,this.y/=o,this.z/=d)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},c.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},c.default.Vector.prototype.magSq=function(){var l=this.x,o=this.y,d=this.z;return l*l+o*o+d*d},c.default.Vector.prototype.dot=function(l,o,d){return l instanceof c.default.Vector?this.dot(l.x,l.y,l.z):this.x*(l||0)+this.y*(o||0)+this.z*(d||0)},c.default.Vector.prototype.cross=function(l){var o=this.y*l.z-this.z*l.y,d=this.z*l.x-this.x*l.z,_=this.x*l.y-this.y*l.x;return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,o,d,_):new c.default.Vector(o,d,_)},c.default.Vector.prototype.dist=function(l){return l.copy().sub(this).mag()},c.default.Vector.prototype.normalize=function(){var l=this.mag();return l!==0&&this.mult(1/l),this},c.default.Vector.prototype.limit=function(l){var o=this.magSq();return l*l<o&&this.div(Math.sqrt(o)).mult(l),this},c.default.Vector.prototype.setMag=function(l){return this.normalize().mult(l)},c.default.Vector.prototype.heading=function(){var l=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(l):l},c.default.Vector.prototype.setHeading=function(l){var o=this.mag();return this.x=o*Math.cos(l),this.y=o*Math.sin(l),this},c.default.Vector.prototype.rotate=function(l){var o=this.heading()+l;this.isPInst&&(o=this._toRadians(o));var d=this.mag();return this.x=Math.cos(o)*d,this.y=Math.sin(o)*d,this},c.default.Vector.prototype.angleBetween=function(l){var o,d=this.dot(l)/(this.mag()*l.mag());return o=Math.acos(Math.min(1,Math.max(-1,d))),o*=Math.sign(this.cross(l).z||1),this.isPInst&&(o=this._fromRadians(o)),o},c.default.Vector.prototype.lerp=function(l,o,d,_){return l instanceof c.default.Vector?this.lerp(l.x,l.y,l.z,o):(this.x+=(l-this.x)*_||0,this.y+=(o-this.y)*_||0,this.z+=(d-this.z)*_||0,this)},c.default.Vector.prototype.reflect=function(l){return l.normalize(),this.sub(l.mult(2*this.dot(l)))},c.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},c.default.Vector.prototype.equals=function(l,o,d){var _,k,E;return E=l instanceof c.default.Vector?(_=l.x||0,k=l.y||0,l.z||0):l instanceof Array?(_=l[0]||0,k=l[1]||0,l[2]||0):(_=l||0,k=o||0,d||0),this.x===_&&this.y===k&&this.z===E},c.default.Vector.fromAngle=function(l,o){return o===void 0&&(o=1),new c.default.Vector(o*Math.cos(l),o*Math.sin(l),0)},c.default.Vector.fromAngles=function(l,o,d){d===void 0&&(d=1);var _=Math.cos(o),k=Math.sin(o),E=Math.cos(l),I=Math.sin(l);return new c.default.Vector(d*I*k,-d*E,d*I*_)},c.default.Vector.random2D=function(){return this.fromAngle(Math.random()*f.TWO_PI)},c.default.Vector.random3D=function(){var l=Math.random()*f.TWO_PI,o=2*Math.random()-1,d=Math.sqrt(1-o*o),_=d*Math.cos(l),k=d*Math.sin(l);return new c.default.Vector(_,k,o)},c.default.Vector.add=function(l,o,d){return d?d.set(l):(d=l.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),d.add(o),d},c.default.Vector.rem=function(l,o){if(l instanceof c.default.Vector&&o instanceof c.default.Vector){var d=l.copy();return d.rem(o),d}},c.default.Vector.sub=function(l,o,d){return d?d.set(l):(d=l.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),d.sub(o),d},c.default.Vector.mult=function(l,o,d){return d?d.set(l):(d=l.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),d.mult(o),d},c.default.Vector.rotate=function(l,o,d){return arguments.length===2?d=l.copy():(d instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),d.set(l)),d.rotate(o),d},c.default.Vector.div=function(l,o,d){return d?d.set(l):(d=l.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),d.div(o),d},c.default.Vector.dot=function(l,o){return l.dot(o)},c.default.Vector.cross=function(l,o){return l.cross(o)},c.default.Vector.dist=function(l,o){return l.dist(o)},c.default.Vector.lerp=function(l,o,d,_){return _?_.set(l):(_=l.copy(),arguments.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),_.lerp(o,d),_},c.default.Vector.mag=function(l){var o=l.x,d=l.y,_=l.z,k=o*o+d*d+_*_;return Math.sqrt(k)},c.default.Vector.normalize=function(l,o){return arguments.length<2?o=l.copy():(o instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),o.set(l)),o.normalize()};var a=c.default.Vector;S.default=a},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":150,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":169,"core-js/modules/es.number.constructor":170,"core-js/modules/es.number.is-finite":171,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.sub":192}],298:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g},c="_lcg_random_state",f=4294967296,m=0;t.default.prototype._lcg=function(u){return this[u]=(1664525*this[u]+1013904223)%f,this[u]/f},t.default.prototype._lcgSetSeed=function(u,a){this[u]=(a==null?Math.random()*f:a)>>>0},t.default.prototype.randomSeed=function(u){this._lcgSetSeed(c,u),this._gaussian_previous=!1},t.default.prototype.random=function(u,a){var l;if(t.default._validateParameters("random",arguments),l=this[c]!=null?this._lcg(c):Math.random(),u===void 0)return l;if(a===void 0)return u instanceof Array?u[Math.floor(l*u.length)]:l*u;if(a<u){var o=u;u=a,a=o}return l*(a-u)+u},t.default.prototype.randomGaussian=function(u){var a,l,o,d,_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)a=m,this._gaussian_previous=!1;else{for(;1<=(d=(l=this.random(2)-1)*l+(o=this.random(2)-1)*o););a=l*(d=Math.sqrt(-2*Math.log(d)/d)),m=o*d,this._gaussian_previous=!0}return a*_+(u||0)};var p=t.default;S.default=p},{"../core/main":264}],299:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}c.default.prototype._angleMode=f.RADIANS,c.default.prototype.acos=function(u){return this._fromRadians(Math.acos(u))},c.default.prototype.asin=function(u){return this._fromRadians(Math.asin(u))},c.default.prototype.atan=function(u){return this._fromRadians(Math.atan(u))},c.default.prototype.atan2=function(u,a){return this._fromRadians(Math.atan2(u,a))},c.default.prototype.cos=function(u){return Math.cos(this._toRadians(u))},c.default.prototype.sin=function(u){return Math.sin(this._toRadians(u))},c.default.prototype.tan=function(u){return Math.tan(this._toRadians(u))},c.default.prototype.degrees=function(u){return u*f.RAD_TO_DEG},c.default.prototype.radians=function(u){return u*f.DEG_TO_RAD},c.default.prototype.angleMode=function(u){if(c.default._validateParameters("angleMode",arguments),u===void 0)return this._angleMode;u!==f.DEGREES&&u!==f.RADIANS||(this._angleMode=u)},c.default.prototype._toRadians=function(u){return this._angleMode===f.DEGREES?u*f.DEG_TO_RAD:u},c.default.prototype._toDegrees=function(u){return this._angleMode===f.RADIANS?u*f.RAD_TO_DEG:u},c.default.prototype._fromRadians=function(u){return this._angleMode===f.DEGREES?u*f.RAD_TO_DEG:u};var p=c.default;S.default=p},{"../core/constants":253,"../core/main":264}],300:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.prototype.textAlign=function(f,m){var p;return t.default._validateParameters("textAlign",arguments),(p=this._renderer).textAlign.apply(p,arguments)},t.default.prototype.textLeading=function(f){var m;return t.default._validateParameters("textLeading",arguments),(m=this._renderer).textLeading.apply(m,arguments)},t.default.prototype.textSize=function(f){var m;return t.default._validateParameters("textSize",arguments),(m=this._renderer).textSize.apply(m,arguments)},t.default.prototype.textStyle=function(f){var m;return t.default._validateParameters("textStyle",arguments),(m=this._renderer).textStyle.apply(m,arguments)},t.default.prototype.textWidth=function(){for(var f,m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];return p[0]+="",t.default._validateParameters("textWidth",p),p[0].length===0?0:(f=this._renderer).textWidth.apply(f,p)},t.default.prototype.textAscent=function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return t.default._validateParameters("textAscent",m),this._renderer.textAscent()},t.default.prototype.textDescent=function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return t.default._validateParameters("textDescent",m),this._renderer.textDescent()},t.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},t.default.prototype.textWrap=function(f){if(f!=="WORD"&&f!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(f)};var c=t.default;S.default=c},{"../core/main":264}],301:[function(n,C,S){function g(l){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(l)}n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=u(n("../core/constants")),m=u(n("opentype.js"));function p(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return p=function(){return l},l}function u(l){if(l&&l.__esModule)return l;if(l===null||g(l)!=="object"&&typeof l!="function")return{default:l};var o=p();if(o&&o.has(l))return o.get(l);var d={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in l)if(Object.prototype.hasOwnProperty.call(l,k)){var E=_?Object.getOwnPropertyDescriptor(l,k):null;E&&(E.get||E.set)?Object.defineProperty(d,k,E):d[k]=l[k]}return d.default=l,o&&o.set(l,d),d}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),c.default.prototype.loadFont=function(l,o,d){c.default._validateParameters("loadFont",arguments);var _=new c.default.Font(this),k=this;return m.load(l,function(E,I){if(E)return c.default._friendlyFileLoadError(4,l),d!==void 0?d(E):void console.error(E,l);_.font=I,o!==void 0&&o(_),k._decrementPreload();var U,V,$=l.split("\\").pop().split("/").pop(),B=$.lastIndexOf("."),se=B<1?null:$.slice(B+1);["ttf","otf","woff","woff2"].includes(se)&&(U=$.slice(0,B!==-1?B:0),(V=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(U,`;
src: url(`).concat(l,`);
}
`))),document.head.appendChild(V))}),_},c.default.prototype.text=function(l,o,d,_,k){var E;return c.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(E=this._renderer).text.apply(E,arguments):this},c.default.prototype.textFont=function(l,o){if(c.default._validateParameters("textFont",arguments),arguments.length){if(!l)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",l),o&&(this._renderer._setProperty("_textSize",o),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",o*f._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};var a=c.default;S.default=a},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.split":191,"opentype.js":239}],302:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g},c=function(ne){if(ne&&ne.__esModule)return ne;if(ne===null||m(ne)!=="object"&&typeof ne!="function")return{default:ne};var oe=f();if(oe&&oe.has(ne))return oe.get(ne);var ge={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ue in ne)if(Object.prototype.hasOwnProperty.call(ne,ue)){var he=J?Object.getOwnPropertyDescriptor(ne,ue):null;he&&(he.get||he.set)?Object.defineProperty(ge,ue,he):ge[ue]=ne[ue]}return ge.default=ne,oe&&oe.set(ne,ge),ge}(n("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var ne=new WeakMap;return f=function(){return ne},ne}function m(ne){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(ne)}function p(ne,oe){for(var ge=function(Oe,de){if(m(Oe)!=="object")Oe=de;else for(var Ne in de)Oe[Ne]===void 0&&(Oe[Ne]=de[Ne]);return Oe}(oe,{sampleFactor:.1,simplifyThreshold:0}),J=k(ne,0,1),ue=J/(J*ge.sampleFactor),he=[],ye=0;ye<J;ye+=ue)he.push(k(ne,ye));return ge.simplifyThreshold&&function(Oe){for(var de=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Ne=0,Le=Oe.length-1;3<Oe.length&&0<=Le;--Le)o(l(Oe,Le-1),l(Oe,Le),l(Oe,Le+1),de)&&(Oe.splice(Le%Oe.length,1),Ne++)}(he,ge.simplifyThreshold),he}function u(ne){for(var oe,ge=[],J=0;J<ne.length;J++)ne[J].type==="M"&&(oe&&ge.push(oe),oe=[]),oe.push(a(ne[J]));return ge.push(oe),ge}function a(ne){var oe=[ne.type];return ne.type==="M"||ne.type==="L"?oe.push(ne.x,ne.y):ne.type==="C"?oe.push(ne.x1,ne.y1,ne.x2,ne.y2,ne.x,ne.y):ne.type==="Q"&&oe.push(ne.x1,ne.y1,ne.x,ne.y),oe}function l(ne,oe){var ge=ne.length;return ne[oe<0?oe%ge+ge:oe%ge]}function o(ne,oe,ge,J){if(!J)return ue=ne,ye=ge,((he=oe)[0]-ue[0])*(ye[1]-ue[1])-(ye[0]-ue[0])*(he[1]-ue[1])==0;var ue,he,ye;o.tmpPoint1===void 0&&(o.tmpPoint1=[],o.tmpPoint2=[]);var Oe=o.tmpPoint1,de=o.tmpPoint2;Oe.x=oe.x-ne.x,Oe.y=oe.y-ne.y,de.x=ge.x-oe.x,de.y=ge.y-oe.y;var Ne=Oe.x*de.x+Oe.y*de.y,Le=Math.sqrt(Oe.x*Oe.x+Oe.y*Oe.y),Be=Math.sqrt(de.x*de.x+de.y*de.y);return Math.acos(Ne/(Le*Be))<J}function d(ne,oe,ge,J,ue,he,ye,Oe,de){var Ne=1-de,Le=Math.pow(Ne,3),Be=Math.pow(Ne,2),$e=de*de,ut=$e*de,Ke=Le*ne+3*Be*de*ge+3*Ne*de*de*ue+ut*ye,_t=Le*oe+3*Be*de*J+3*Ne*de*de*he+ut*Oe,at=ne+2*de*(ge-ne)+$e*(ue-2*ge+ne),Fe=oe+2*de*(J-oe)+$e*(he-2*J+oe),ae=ge+2*de*(ue-ge)+$e*(ye-2*ue+ge),me=J+2*de*(he-J)+$e*(Oe-2*he+J),Te=Ne*ne+de*ge,Me=Ne*oe+de*J,Ve=Ne*ue+de*ye,je=Ne*he+de*Oe,Pe=90-180*Math.atan2(at-ae,Fe-me)/Math.PI;return(ae<at||Fe<me)&&(Pe+=180),{x:Ke,y:_t,m:{x:at,y:Fe},n:{x:ae,y:me},start:{x:Te,y:Me},end:{x:Ve,y:je},alpha:Pe}}function _(ne,oe,ge,J,ue,he,ye,Oe,de){return de==null?$(ne,oe,ge,J,ue,he,ye,Oe):d(ne,oe,ge,J,ue,he,ye,Oe,function(Ne,Le,Be,$e,ut,Ke,_t,at,Fe){if(!(Fe<0||$(Ne,Le,Be,$e,ut,Ke,_t,at)<Fe)){var ae,me=.5,Te=1-me;for(ae=$(Ne,Le,Be,$e,ut,Ke,_t,at,Te);.01<Math.abs(ae-Fe);)ae=$(Ne,Le,Be,$e,ut,Ke,_t,at,Te+=(ae<Fe?1:-1)*(me/=2));return Te}}(ne,oe,ge,J,ue,he,ye,Oe,de))}function k(ne,oe,ge){for(var J,ue,he,ye,Oe,de=0,Ne=0,Le=(ne=function(Be,$e){function ut(ht,it,mt){var gt,St;if(!ht)return["C",it.x,it.y,it.x,it.y,it.x,it.y];switch(ht[0]in{T:1,Q:1}||(it.qx=it.qy=null),ht[0]){case"M":it.X=ht[1],it.Y=ht[2];break;case"A":ht=["C"].concat(function bt(Et,i,e,r,s,h,y,v,x,b){var T=Math.PI,O=120*T/180,L,D,N,R,X=T/180*(+s||0),Y=[],K,H=function(It,Lt,pt){var Dt=It*Math.cos(pt)-Lt*Math.sin(pt),jt=It*Math.sin(pt)+Lt*Math.cos(pt);return{x:Dt,y:jt}};if(b)L=b[0],D=b[1],N=b[2],R=b[3];else{K=H(Et,i,-X),Et=K.x,i=K.y,K=H(v,x,-X),v=K.x,x=K.y;var G=(Et-v)/2,z=(i-x)/2,Z=G*G/(e*e)+z*z/(r*r);1<Z&&(Z=Math.sqrt(Z),e*=Z,r*=Z);var ee=e*e,le=r*r,ie=(h===y?-1:1)*Math.sqrt(Math.abs((ee*le-ee*z*z-le*G*G)/(ee*z*z+le*G*G)));N=ie*e*z/r+(Et+v)/2,R=ie*-r*G/e+(i+x)/2,L=Math.asin(((i-R)/r).toFixed(9)),D=Math.asin(((x-R)/r).toFixed(9)),(L=Et<N?T-L:L)<0&&(L=2*T+L),(D=v<N?T-D:D)<0&&(D=2*T+D),y&&D<L&&(L-=2*T),!y&&L<D&&(D-=2*T)}var pe=D-L;if(Math.abs(pe)>O){var ve=D,xe=v,Ce=x;D=L+O*(y&&L<D?1:-1),v=N+e*Math.cos(D),x=R+r*Math.sin(D),Y=bt(v,x,e,r,s,0,y,xe,Ce,[D,ve,N,R])}pe=D-L;var be=Math.cos(L),Ee=Math.sin(L),Ie=Math.cos(D),Ue=Math.sin(D),We=Math.tan(pe/4),rt=4/3*e*We,ke=4/3*r*We,Ye=[Et,i],ft=[Et+rt*Ee,i-ke*be],lt=[v+rt*Ue,x-ke*Ie],nt=[v,x];ft[0]=2*Ye[0]-ft[0],ft[1]=2*Ye[1]-ft[1];{if(b)return[ft,lt,nt].concat(Y);Y=[ft,lt,nt].concat(Y).join().split(",");for(var Ze=[],xt=0,Tt=Y.length;xt<Tt;xt++)Ze[xt]=xt%2?H(Y[xt-1],Y[xt],X).y:H(Y[xt],Y[xt+1],X).x;return Ze}}.apply(0,[it.x,it.y].concat(ht.slice(1))));break;case"S":St=mt==="C"||mt==="S"?(gt=2*it.x-it.bx,2*it.y-it.by):(gt=it.x,it.y),ht=["C",gt,St].concat(ht.slice(1));break;case"T":mt==="Q"||mt==="T"?(it.qx=2*it.x-it.qx,it.qy=2*it.y-it.qy):(it.qx=it.x,it.qy=it.y),ht=["C"].concat(V(it.x,it.y,it.qx,it.qy,ht[1],ht[2]));break;case"Q":it.qx=ht[1],it.qy=ht[2],ht=["C"].concat(V(it.x,it.y,ht[1],ht[2],ht[3],ht[4]));break;case"L":ht=["C"].concat(U(it.x,it.y,ht[1],ht[2]));break;case"H":ht=["C"].concat(U(it.x,it.y,ht[1],it.y));break;case"V":ht=["C"].concat(U(it.x,it.y,it.x,ht[1]));break;case"Z":ht=["C"].concat(U(it.x,it.y,it.X,it.Y))}return ht}function Ke(ht,it){if(7<ht[it].length){ht[it].shift();for(var mt=ht[it];mt.length;)Me[it]="A",ae&&(Ve[it]="A"),ht.splice(it++,0,["C"].concat(mt.splice(0,6)));ht.splice(it,1),at=Math.max(Fe.length,ae&&ae.length||0)}}function _t(ht,it,mt,gt,St){ht&&it&&ht[St][0]==="M"&&it[St][0]!=="M"&&(it.splice(St,0,["M",gt.x,gt.y]),mt.bx=0,mt.by=0,mt.x=ht[St][1],mt.y=ht[St][2],at=Math.max(Fe.length,ae&&ae.length||0))}var at,Fe=E(Be),ae=$e&&E($e),me={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Te={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Me=[],Ve=[],je="",Pe="";at=Math.max(Fe.length,ae&&ae.length||0);for(var _e=0;_e<at;_e++){Fe[_e]&&(je=Fe[_e][0]),je!=="C"&&(Me[_e]=je,_e&&(Pe=Me[_e-1])),Fe[_e]=ut(Fe[_e],me,Pe),Me[_e]!=="A"&&je==="C"&&(Me[_e]="C"),Ke(Fe,_e),ae&&(ae[_e]&&(je=ae[_e][0]),je!=="C"&&(Ve[_e]=je,_e&&(Pe=Ve[_e-1])),ae[_e]=ut(ae[_e],Te,Pe),Ve[_e]!=="A"&&je==="C"&&(Ve[_e]="C"),Ke(ae,_e)),_t(Fe,ae,me,Te,_e),_t(ae,Fe,Te,me,_e);var He=Fe[_e],ze=ae&&ae[_e],Ge=He.length,st=ae&&ze.length;me.x=He[Ge-2],me.y=He[Ge-1],me.bx=parseFloat(He[Ge-4])||me.x,me.by=parseFloat(He[Ge-3])||me.y,Te.bx=ae&&(parseFloat(ze[st-4])||Te.x),Te.by=ae&&(parseFloat(ze[st-3])||Te.y),Te.x=ae&&ze[st-2],Te.y=ae&&ze[st-1]}return ae?[Fe,ae]:Fe}(ne)).length;Ne<Le;Ne++){if((he=ne[Ne])[0]==="M")J=+he[1],ue=+he[2];else{if(oe<de+(ye=_(J,ue,he[1],he[2],he[3],he[4],he[5],he[6]))&&!ge)return{x:(Oe=_(J,ue,he[1],he[2],he[3],he[4],he[5],he[6],oe-de)).x,y:Oe.y,alpha:Oe.alpha};de+=ye,J=+he[5],ue=+he[6]}he.shift()+he}return(Oe=ge?de:d(J,ue,he[0],he[1],he[2],he[3],he[4],he[5],1)).alpha&&(Oe={x:Oe.x,y:Oe.y,alpha:Oe.alpha}),Oe}function E(ne){var oe,ge=[],J=0,ue=0,he=0,ye=0,Oe=0;if(!ne)return ge;ne[0][0]==="M"&&(he=J=+ne[0][1],ye=ue=+ne[0][2],Oe++,ge[0]=["M",J,ue]);for(var de,Ne,Le=ne.length===3&&ne[0][0]==="M"&&ne[1][0].toUpperCase()==="R"&&ne[2][0].toUpperCase()==="Z",Be=Oe,$e=ne.length;Be<$e;Be++){if(ge.push(de=[]),(Ne=ne[Be])[0]!==String.prototype.toUpperCase.call(Ne[0]))switch(de[0]=String.prototype.toUpperCase.call(Ne[0]),de[0]){case"A":de[1]=Ne[1],de[2]=Ne[2],de[3]=Ne[3],de[4]=Ne[4],de[5]=Ne[5],de[6]=+(Ne[6]+J),de[7]=+(Ne[7]+ue);break;case"V":de[1]=+Ne[1]+ue;break;case"H":de[1]=+Ne[1]+J;break;case"R":for(var ut=2,Ke=(oe=[J,ue].concat(Ne.slice(1))).length;ut<Ke;ut++)oe[ut]=+oe[ut]+J,oe[++ut]=+oe[ut]+ue;ge.pop(),ge=ge.concat(I(oe,Le));break;case"M":he=+Ne[1]+J,ye=+Ne[2]+ue;break;default:for(var _t=1,at=Ne.length;_t<at;_t++)de[_t]=+Ne[_t]+(_t%2?J:ue)}else if(Ne[0]==="R")oe=[J,ue].concat(Ne.slice(1)),ge.pop(),ge=ge.concat(I(oe,Le)),de=["R"].concat(Ne.slice(-2));else for(var Fe=0,ae=Ne.length;Fe<ae;Fe++)de[Fe]=Ne[Fe];switch(de[0]){case"Z":J=he,ue=ye;break;case"H":J=de[1];break;case"V":ue=de[1];break;case"M":he=de[de.length-2],ye=de[de.length-1];break;default:J=de[de.length-2],ue=de[de.length-1]}}return ge}function I(ne,oe){for(var ge=[],J=0,ue=ne.length;J<ue-2*!oe;J+=2){var he=[{x:+ne[J-2],y:+ne[J-1]},{x:+ne[J],y:+ne[J+1]},{x:+ne[J+2],y:+ne[J+3]},{x:+ne[J+4],y:+ne[J+5]}];oe?J?ue-4===J?he[3]={x:+ne[0],y:+ne[1]}:ue-2===J&&(he[2]={x:+ne[0],y:+ne[1]},he[3]={x:+ne[2],y:+ne[3]}):he[0]={x:+ne[ue-2],y:+ne[ue-1]}:ue-4===J?he[3]=he[2]:J||(he[0]={x:+ne[J],y:+ne[J+1]}),ge.push(["C",(-he[0].x+6*he[1].x+he[2].x)/6,(-he[0].y+6*he[1].y+he[2].y)/6,(he[1].x+6*he[2].x-he[3].x)/6,(he[1].y+6*he[2].y-he[3].y)/6,he[2].x,he[2].y])}return ge}function U(ne,oe,ge,J){return[ne,oe,ge,J,ge,J]}function V(ne,oe,ge,J,ue,he){return[1/3*ne+2/3*ge,1/3*oe+2/3*J,1/3*ue+2/3*ge,1/3*he+2/3*J,ue,he]}function $(ne,oe,ge,J,ue,he,ye,Oe,de){de==null&&(de=1);for(var Ne=(de=1<de?1:de<0?0:de)/2,Le=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Be=0,$e=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ut=0;ut<12;ut++){var Ke=Ne*Le[ut]+Ne,_t=B(Ke,ne,ge,ue,ye),at=B(Ke,oe,J,he,Oe),Fe=_t*_t+at*at;Be+=$e[ut]*Math.sqrt(Fe)}return Ne*Be}function B(ne,oe,ge,J,ue){return ne*(ne*(-3*oe+9*ge-9*J+3*ue)+6*oe-12*ge+6*J)-3*oe+3*ge}t.default.Font=function(ne){this.parent=ne,this.cache={},this.font=void 0},t.default.Font.prototype.textBounds=function(ne){var oe,ge=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,J=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,ue=3<arguments.length?arguments[3]:void 0,he=4<arguments.length?arguments[4]:void 0,ye=he&&he.renderer&&he.renderer._pInst||this.parent,Oe=ye._renderer.drawingContext;if(Oe.textAlign||c.LEFT,Oe.textBaseline||c.BASELINE,ue=ue||ye._renderer._textSize,!oe){var de,Ne,Le=[],Be=[],$e=[];$e[0]=[];var ut=[],Ke=this._scale(ue),_t=ye._renderer.textLeading(),at=0;this.font.forEachGlyph(ne,ge,J,ue,he,function(Me,Ve,je,Pe){var _e=Me.getMetrics();Me.index===0||Me.index===10?$e[at+=1]=[]:($e[at].push(Ve+_e.xMin*Ke),$e[at].push(Ve+_e.xMax*Ke),ut.push(je+at*_t+-_e.yMin*Ke),ut.push(je+at*_t+-_e.yMax*Ke))}),0<$e[at].length&&(Le[at]=Math.min.apply(null,$e[at]),Be[at]=Math.max.apply(null,$e[at]));for(var Fe=0,ae=0;ae<=at;ae++){Le[ae]=Math.min.apply(null,$e[ae]),Be[ae]=Math.max.apply(null,$e[ae]);var me=Be[ae]-Le[ae];Fe<me&&(Fe=me)}var Te=Math.min.apply(null,Le);oe={x:Te,y:de=Math.min.apply(null,ut),h:Math.max.apply(null,ut)-de,w:Fe,advance:Te-ge},Ne=this._handleAlignment(ye._renderer,ne,oe.x,oe.y,oe.w+oe.advance),oe.x=Ne.x,oe.y=Ne.y}return oe},t.default.Font.prototype.textToPoints=function(ne,oe,ge,J,ue){var he,ye=0,Oe=[],de=this._getGlyphs(ne);J=J||this.parent._renderer._textSize;for(var Ne=0;Ne<de.length;Ne++){if(!(de[he=Ne].name&&de[he].name==="space"||ne.length===de.length&&ne[he]===" "))for(var Le=u(de[Ne].getPath(oe,ge,J).commands),Be=0;Be<Le.length;Be++)for(var $e=p(Le[Be],ue),ut=0;ut<$e.length;ut++)$e[ut].x+=ye,Oe.push($e[ut]);ye+=de[Ne].advanceWidth*this._scale(J)}return Oe},t.default.Font.prototype._getGlyphs=function(ne){return this.font.stringToGlyphs(ne)},t.default.Font.prototype._getPath=function(ne,oe,ge,J){var ue=(J&&J.renderer&&J.renderer._pInst||this.parent)._renderer,he=this._handleAlignment(ue,ne,oe,ge);return this.font.getPath(ne,he.x,he.y,ue._textSize,J)},t.default.Font.prototype._getPathData=function(ne,oe,ge,J){var ue=3;return typeof ne=="string"&&2<arguments.length?ne=this._getPath(ne,oe,ge,J):m(oe)==="object"&&(J=oe),J&&typeof J.decimals=="number"&&(ue=J.decimals),ne.toPathData(ue)},t.default.Font.prototype._getSVG=function(ne,oe,ge,J){var ue=3;return typeof ne=="string"&&2<arguments.length?ne=this._getPath(ne,oe,ge,J):m(oe)==="object"&&(J=oe),J&&(typeof J.decimals=="number"&&(ue=J.decimals),typeof J.strokeWidth=="number"&&(ne.strokeWidth=J.strokeWidth),J.fill!==void 0&&(ne.fill=J.fill),J.stroke!==void 0&&(ne.stroke=J.stroke)),ne.toSVG(ue)},t.default.Font.prototype._renderPath=function(ne,oe,ge,J){var ue,he=J&&J.renderer||this.parent._renderer,ye=he.drawingContext;ue=m(ne)==="object"&&ne.commands?ne.commands:this._getPath(ne,oe,ge,J).commands,ye.beginPath();var Oe=!0,de=!1,Ne=void 0;try{for(var Le,Be=ue[Symbol.iterator]();!(Oe=(Le=Be.next()).done);Oe=!0){var $e=Le.value;$e.type==="M"?ye.moveTo($e.x,$e.y):$e.type==="L"?ye.lineTo($e.x,$e.y):$e.type==="C"?ye.bezierCurveTo($e.x1,$e.y1,$e.x2,$e.y2,$e.x,$e.y):$e.type==="Q"?ye.quadraticCurveTo($e.x1,$e.y1,$e.x,$e.y):$e.type==="Z"&&ye.closePath()}}catch(ut){de=!0,Ne=ut}finally{try{Oe||Be.return==null||Be.return()}finally{if(de)throw Ne}}return he._doStroke&&he._strokeSet&&ye.stroke(),he._doFill&&(he._fillSet||he._setFill(c._DEFAULT_TEXT_FILL),ye.fill()),this},t.default.Font.prototype._textWidth=function(ne,oe){return this.font.getAdvanceWidth(ne,oe)},t.default.Font.prototype._textAscent=function(ne){return this.font.ascender*this._scale(ne)},t.default.Font.prototype._textDescent=function(ne){return-this.font.descender*this._scale(ne)},t.default.Font.prototype._scale=function(ne){return 1/this.font.unitsPerEm*(ne||this.parent._renderer._textSize)},t.default.Font.prototype._handleAlignment=function(ne,oe,ge,J,ue){var he=ne._textSize;switch(ue===void 0&&(ue=this._textWidth(oe,he)),ne._textAlign){case c.CENTER:ge-=ue/2;break;case c.RIGHT:ge-=ue}switch(ne._textBaseline){case c.TOP:J+=this._textAscent(he);break;case c.CENTER:J+=this._textAscent(he)/2;break;case c.BOTTOM:J-=this._textDescent(he)}return{x:ge,y:J}};var se=t.default;S.default=se},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],303:[function(n,C,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.array-buffer.constructor"),n("core-js/modules/es.object.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.prototype.append=function(f,m){return f.push(m),f},t.default.prototype.arrayCopy=function(f,m,p,u,a){var l,o;f=a!==void 0?(o=Math.min(a,f.length),l=u,f.slice(m,o+m)):(o=p!==void 0?(o=p,Math.min(o,f.length)):f.length,l=0,p=m,f.slice(0,o)),Array.prototype.splice.apply(p,[l,o].concat(f))},t.default.prototype.concat=function(f,m){return f.concat(m)},t.default.prototype.reverse=function(f){return f.reverse()},t.default.prototype.shorten=function(f){return f.pop(),f},t.default.prototype.shuffle=function(f,m){for(var p,u,a=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),l=(f=m||a?f:f.slice()).length;1<l;)p=this.random(0,1)*l|0,u=f[--l],f[l]=f[p],f[p]=u;return f},t.default.prototype.sort=function(f,m){var p=m?f.slice(0,Math.min(m,f.length)):f,u=m?f.slice(Math.min(m,f.length)):[];return(p=typeof p[0]=="string"?p.sort():p.sort(function(a,l){return a-l})).concat(u)},t.default.prototype.splice=function(f,m,p){return Array.prototype.splice.apply(f,[p,0].concat(m)),f},t.default.prototype.subset=function(f,m,p){return p!==void 0?f.slice(m,m+p):f.slice(m,f.length)};var c=t.default;S.default=c},{"../core/main":264,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],304:[function(n,C,S){n("core-js/modules/es.array.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.repeat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.prototype.float=function(f){return f instanceof Array?f.map(parseFloat):parseFloat(f)},t.default.prototype.int=function(f){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return f===1/0||f==="Infinity"?1/0:f===-1/0||f==="-Infinity"?-1/0:typeof f=="string"?parseInt(f,m):typeof f=="number"?0|f:typeof f=="boolean"?f?1:0:f instanceof Array?f.map(function(p){return t.default.prototype.int(p,m)}):void 0},t.default.prototype.str=function(f){return f instanceof Array?f.map(t.default.prototype.str):String(f)},t.default.prototype.boolean=function(f){return typeof f=="number"?f!==0:typeof f=="string"?f.toLowerCase()==="true":typeof f=="boolean"?f:f instanceof Array?f.map(t.default.prototype.boolean):void 0},t.default.prototype.byte=function(f){var m=t.default.prototype.int(f,10);return typeof m=="number"?(m+128)%256-128:m instanceof Array?m.map(t.default.prototype.byte):void 0},t.default.prototype.char=function(f){return typeof f!="number"||isNaN(f)?f instanceof Array?f.map(t.default.prototype.char):typeof f=="string"?t.default.prototype.char(parseInt(f,10)):void 0:String.fromCharCode(f)},t.default.prototype.unchar=function(f){return typeof f=="string"&&f.length===1?f.charCodeAt(0):f instanceof Array?f.map(t.default.prototype.unchar):void 0},t.default.prototype.hex=function(f,m){if(m=m==null?m=8:m,f instanceof Array)return f.map(function(u){return t.default.prototype.hex(u,m)});if(f===1/0||f===-1/0)return(f===1/0?"F":"0").repeat(m);if(typeof f=="number"){f<0&&(f=4294967295+f+1);for(var p=Number(f).toString(16).toUpperCase();p.length<m;)p="0".concat(p);return p.length>=m&&(p=p.substring(p.length-m,p.length)),p}},t.default.prototype.unhex=function(f){return f instanceof Array?f.map(t.default.prototype.unhex):parseInt("0x".concat(f),16)};var c=t.default;S.default=c},{"../core/main":264,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],305:[function(n,C,S){n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(a,l,o){var d=a<0,_=d?a.toString().substring(1):a.toString(),k=_.indexOf("."),E=k!==-1?_.substring(0,k):_,I=k!==-1?_.substring(k+1):"",U=d?"-":"";if(o!==void 0){var V="";(k!==-1||0<o-I.length)&&(V="."),I.length>o&&(I=I.substring(0,o));for(var $=0;$<l-E.length;$++)U+="0";U+=E,U+=V,U+=I;for(var B=0;B<o-I.length;B++)U+="0";return U}for(var se=0;se<Math.max(l-E.length,0);se++)U+="0";return U+=_}function f(a,l){var o=(a=a.toString()).indexOf("."),d=o!==-1?a.substring(o):"",_=o!==-1?a.substring(0,o):a;if(_=_.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),l===0)d="";else if(l!==void 0)if(l>d.length)for(var k=l-(d+=o===-1?".":"").length+1,E=0;E<k;E++)d+="0";else d=d.substring(0,l+1);return _+d}function m(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function p(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),t.default.prototype.join=function(a,l){return t.default._validateParameters("join",arguments),a.join(l)},t.default.prototype.match=function(a,l){return t.default._validateParameters("match",arguments),a.match(l)},t.default.prototype.matchAll=function(a,l){t.default._validateParameters("matchAll",arguments);for(var o=new RegExp(l,"g"),d=o.exec(a),_=[];d!==null;)_.push(d),d=o.exec(a);return _},t.default.prototype.nf=function(a,l,o){return t.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(d){return c(d,l,o)}):Object.prototype.toString.call(a)==="[object Arguments]"?a.length===3?this.nf(a[0],a[1],a[2]):a.length===2?this.nf(a[0],a[1]):this.nf(a[0]):c(a,l,o)},t.default.prototype.nfc=function(a,l){return t.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(o){return f(o,l)}):f(a,l)},t.default.prototype.nfp=function(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];t.default._validateParameters("nfp",l);var d=t.default.prototype.nf.apply(this,l);return d instanceof Array?d.map(m):m(d)},t.default.prototype.nfs=function(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];t.default._validateParameters("nfs",l);var d=t.default.prototype.nf.apply(this,l);return d instanceof Array?d.map(p):p(d)},t.default.prototype.split=function(a,l){return t.default._validateParameters("split",arguments),a.split(l)},t.default.prototype.splitTokens=function(a,l){var o;if(t.default._validateParameters("splitTokens",arguments),l!==void 0){var d=l,_=/\]/g.exec(d),k=/\[/g.exec(d);o=k&&_?(d=d.slice(0,_.index)+d.slice(_.index+1),k=/\[/g.exec(d),d=d.slice(0,k.index)+d.slice(k.index+1),new RegExp("[\\[".concat(d,"\\]]"),"g")):_?(d=d.slice(0,_.index)+d.slice(_.index+1),new RegExp("[".concat(d,"\\]]"),"g")):k?(d=d.slice(0,k.index)+d.slice(k.index+1),new RegExp("[".concat(d,"\\[]"),"g")):new RegExp("[".concat(d,"]"),"g")}else o=/\s/g;return a.split(o).filter(function(E){return E})},t.default.prototype.trim=function(a){return t.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var u=t.default;S.default=u},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],306:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()};var c=t.default;S.default=c},{"../core/main":264}],307:[function(n,C,S){function g(a){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}n("core-js/modules/es.array.concat"),n("core-js/modules/es.number.to-fixed"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t};n("./p5.Geometry");var f=function(a){if(a&&a.__esModule)return a;if(a===null||g(a)!=="object"&&typeof a!="function")return{default:a};var l=m();if(l&&l.has(a))return l.get(a);var o={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in a)if(Object.prototype.hasOwnProperty.call(a,_)){var k=d?Object.getOwnPropertyDescriptor(a,_):null;k&&(k.get||k.set)?Object.defineProperty(o,_,k):o[_]=a[_]}return o.default=a,l&&l.set(a,o),o}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return m=function(){return a},a}c.default.prototype.plane=function(a,l,o,d){this._assert3d("plane"),c.default._validateParameters("plane",arguments),a===void 0&&(a=50),l===void 0&&(l=a),o===void 0&&(o=1),d===void 0&&(d=1);var _="plane|".concat(o,"|").concat(d);if(!this._renderer.geometryInHash(_)){var k=new c.default.Geometry(o,d,function(){for(var E,I,U,V=0;V<=this.detailY;V++){I=V/this.detailY;for(var $=0;$<=this.detailX;$++)E=$/this.detailX,U=new c.default.Vector(E-.5,I-.5,0),this.vertices.push(U),this.uvs.push(E,I)}});k.computeFaces().computeNormals(),o<=1&&d<=1?k._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(_,k)}return this._renderer.drawBuffersScaled(_,a,l,1),this},c.default.prototype.box=function(a,l,o,d,_){this._assert3d("box"),c.default._validateParameters("box",arguments),a===void 0&&(a=50),l===void 0&&(l=a),o===void 0&&(o=l);var k=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;d===void 0&&(d=k?1:4),_===void 0&&(_=k?1:4);var E="box|".concat(d,"|").concat(_);if(!this._renderer.geometryInHash(E)){var I=new c.default.Geometry(d,_,function(){var U=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var V=0;V<U.length;V++){for(var $=U[V],B=4*V,se=0;se<4;se++){var ne=$[se],oe=new c.default.Vector((2*(1&ne)-1)/2,((2&ne)-1)/2,((4&ne)/2-1)/2);this.vertices.push(oe),this.uvs.push(1&se,(2&se)/2)}this.faces.push([B,1+B,2+B]),this.faces.push([2+B,1+B,3+B])}});I.computeNormals(),d<=4&&_<=4?I._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(E,I)}return this._renderer.drawBuffersScaled(E,a,l,o),this},c.default.prototype.sphere=function(a,l,o){return this._assert3d("sphere"),c.default._validateParameters("sphere",arguments),a===void 0&&(a=50),l===void 0&&(l=24),o===void 0&&(o=16),this.ellipsoid(a,a,a,l,o),this};function p(a,l,o,d,_,k,E){a=a<=0?1:a,l=l<0?0:l,o=o<=0?a:o,d=d<3?3:d;var I,U,V,$=(k=k===void 0||k)?-2:0,B=(_=_<1?1:_)+((E=E===void 0?l!==0:E)?2:0),se=Math.atan2(a-l,o),ne=Math.sin(se),oe=Math.cos(se);for(I=$;I<=B;++I){var ge=I/_,J=o*ge,ue=void 0;for(ue=I<0?(ge=J=0,a):_<I?(J=o,ge=1,l):a+(l-a)*ge,I!==-2&&I!==_+2||(ue=0),J-=o/2,U=0;U<d;++U){var he=U/(d-1),ye=2*Math.PI*he,Oe=Math.sin(ye),de=Math.cos(ye);this.vertices.push(new c.default.Vector(Oe*ue,J,de*ue));var Ne=void 0;Ne=I<0?new c.default.Vector(0,-1,0):_<I&&l?new c.default.Vector(0,1,0):new c.default.Vector(Oe*oe,ne,de*oe),this.vertexNormals.push(Ne),this.uvs.push(he,ge)}}var Le=0;if(k){for(V=0;V<d;++V){var Be=(V+1)%d;this.faces.push([Le+V,Le+d+Be,Le+d+V])}Le+=2*d}for(I=0;I<_;++I){for(U=0;U<d;++U){var $e=(U+1)%d;this.faces.push([Le+U,Le+$e,Le+d+$e]),this.faces.push([Le+U,Le+d+$e,Le+d+U])}Le+=d}if(E)for(Le+=d,U=0;U<d;++U)this.faces.push([Le+U,Le+(U+1)%d,Le+d])}c.default.prototype.cylinder=function(a,l,o,d,_,k){this._assert3d("cylinder"),c.default._validateParameters("cylinder",arguments),a===void 0&&(a=50),l===void 0&&(l=a),o===void 0&&(o=24),d===void 0&&(d=1),k===void 0&&(k=!0),_===void 0&&(_=!0);var E="cylinder|".concat(o,"|").concat(d,"|").concat(_,"|").concat(k);if(!this._renderer.geometryInHash(E)){var I=new c.default.Geometry(o,d);p.call(I,1,1,1,o,d,_,k),o<=24&&d<=16?I._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,I)}return this._renderer.drawBuffersScaled(E,a,l,a),this},c.default.prototype.cone=function(a,l,o,d,_){this._assert3d("cone"),c.default._validateParameters("cone",arguments),a===void 0&&(a=50),l===void 0&&(l=a),o===void 0&&(o=24),d===void 0&&(d=1),_===void 0&&(_=!0);var k="cone|".concat(o,"|").concat(d,"|").concat(_);if(!this._renderer.geometryInHash(k)){var E=new c.default.Geometry(o,d);p.call(E,1,0,1,o,d,_,!1),o<=24&&d<=16?E._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(k,E)}return this._renderer.drawBuffersScaled(k,a,l,a),this},c.default.prototype.ellipsoid=function(a,l,o,d,_){this._assert3d("ellipsoid"),c.default._validateParameters("ellipsoid",arguments),a===void 0&&(a=50),l===void 0&&(l=a),o===void 0&&(o=a),d===void 0&&(d=24),_===void 0&&(_=16);var k="ellipsoid|".concat(d,"|").concat(_);if(!this._renderer.geometryInHash(k)){var E=new c.default.Geometry(d,_,function(){for(var I=0;I<=this.detailY;I++)for(var U=I/this.detailY,V=Math.PI*U-Math.PI/2,$=Math.cos(V),B=Math.sin(V),se=0;se<=this.detailX;se++){var ne=se/this.detailX,oe=2*Math.PI*ne,ge=Math.cos(oe),J=Math.sin(oe),ue=new c.default.Vector($*J,B,$*ge);this.vertices.push(ue),this.vertexNormals.push(ue),this.uvs.push(ne,U)}});E.computeFaces(),d<=24&&_<=24?E._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(k,E)}return this._renderer.drawBuffersScaled(k,a,l,o),this},c.default.prototype.torus=function(a,l,o,d){if(this._assert3d("torus"),c.default._validateParameters("torus",arguments),a===void 0)a=50;else if(!a)return;if(l===void 0)l=10;else if(!l)return;o===void 0&&(o=24),d===void 0&&(d=16);var _=(l/a).toPrecision(4),k="torus|".concat(_,"|").concat(o,"|").concat(d);if(!this._renderer.geometryInHash(k)){var E=new c.default.Geometry(o,d,function(){for(var I=0;I<=this.detailY;I++)for(var U=I/this.detailY,V=2*Math.PI*U,$=Math.cos(V),B=Math.sin(V),se=1+_*$,ne=0;ne<=this.detailX;ne++){var oe=ne/this.detailX,ge=2*Math.PI*oe,J=Math.cos(ge),ue=Math.sin(ge),he=new c.default.Vector(se*J,se*ue,_*B),ye=new c.default.Vector($*J,$*ue,B);this.vertices.push(he),this.vertexNormals.push(ye),this.uvs.push(oe,U)}});E.computeFaces(),o<=24&&d<=16?E._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(k,E)}return this._renderer.drawBuffersScaled(k,a,a,a),this},c.default.RendererGL.prototype.point=function(a,l,o){o===void 0&&(o=0);var d=[];return d.push(new c.default.Vector(a,l,o)),this._drawPoints(d,this.immediateMode.buffers.point),this},c.default.RendererGL.prototype.triangle=function(a){var l=a[0],o=a[1],d=a[2],_=a[3],k=a[4],E=a[5];if(!this.geometryInHash("tri")){var I=new c.default.Geometry(1,1,function(){var $=[];$.push(new c.default.Vector(0,0,0)),$.push(new c.default.Vector(0,1,0)),$.push(new c.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=$,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});I._makeTriangleEdges()._edgesToVertices(),I.computeNormals(),this.createBuffers("tri",I)}var U=this.uMVMatrix.copy();try{var V=new c.default.Matrix([d-l,_-o,0,0,k-l,E-o,0,0,0,0,1,0,l,o,0,1]).mult(this.uMVMatrix);this.uMVMatrix=V,this.drawBuffers("tri")}finally{this.uMVMatrix=U}return this},c.default.RendererGL.prototype.ellipse=function(a){this.arc(a[0],a[1],a[2],a[3],0,f.TWO_PI,f.OPEN,a[4])},c.default.RendererGL.prototype.arc=function(a){var l,o,d=a,_=arguments[1],k=arguments[2],E=arguments[3],I=arguments[4],U=arguments[5],V=arguments[6],$=arguments[7]||25;if(o=Math.abs(U-I)>=f.TWO_PI?"".concat(l="ellipse","|").concat($,"|"):"".concat(l="arc","|").concat(I,"|").concat(U,"|").concat(V,"|").concat($,"|"),!this.geometryInHash(o)){var B=new c.default.Geometry($,1,function(){if(this.strokeIndices=[],I.toFixed(10)!==U.toFixed(10)){V!==f.PIE&&V!==void 0||(this.vertices.push(new c.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var ne=0;ne<=$;ne++){var oe=(U-I)*(ne/$)+I,ge=.5+Math.cos(oe)/2,J=.5+Math.sin(oe)/2;this.vertices.push(new c.default.Vector(ge,J,0)),this.uvs.push([ge,J]),ne<$-1&&(this.faces.push([0,ne+1,ne+2]),this.strokeIndices.push([ne+1,ne+2]))}switch(V){case f.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case f.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case f.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});B.computeNormals(),$<=50?B._makeTriangleEdges()._edgesToVertices(B):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(l," with more than 50 detail")),this.createBuffers(o,B)}var se=this.uMVMatrix.copy();try{this.uMVMatrix.translate([d,_,0]),this.uMVMatrix.scale(k,E,1),this.drawBuffers(o)}finally{this.uMVMatrix=se}return this},c.default.RendererGL.prototype.rect=function(a){var l=this._pInst._glAttributes.perPixelLighting,o=a[0],d=a[1],_=a[2],k=a[3],E=a[4]||(l?1:24),I=a[5]||(l?1:16),U="rect|".concat(E,"|").concat(I);if(!this.geometryInHash(U)){var V=new c.default.Geometry(E,I,function(){for(var B=0;B<=this.detailY;B++)for(var se=B/this.detailY,ne=0;ne<=this.detailX;ne++){var oe=ne/this.detailX,ge=new c.default.Vector(oe,se,0);this.vertices.push(ge),this.uvs.push(oe,se)}0<E&&0<I&&(this.strokeIndices=[[0,E],[E,(E+1)*(I+1)-1],[(E+1)*(I+1)-1,(E+1)*I],[(E+1)*I,0]])});V.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(U,V)}var $=this.uMVMatrix.copy();try{this.uMVMatrix.translate([o,d,0]),this.uMVMatrix.scale(_,k,1),this.drawBuffers(U)}finally{this.uMVMatrix=$}return this},c.default.RendererGL.prototype.quad=function(a,l,o,d,_,k,E,I,U,V,$,B,se,ne){se===void 0&&(se=2),ne===void 0&&(ne=2);var oe="quad|".concat(a,"|").concat(l,"|").concat(o,"|").concat(d,"|").concat(_,"|").concat(k,"|").concat(E,"|").concat(I,"|").concat(U,"|").concat(V,"|").concat($,"|").concat(B,"|").concat(se,"|").concat(ne);if(!this.geometryInHash(oe)){var ge=new c.default.Geometry(se,ne,function(){for(var Ne=1/(this.detailX-1),Le=1/(this.detailY-1),Be=0;Be<this.detailY;Be++)for(var $e=0;$e<this.detailX;$e++){var ut=$e*Ne,Ke=Be*Le,_t=(1-ut)*((1-Ke)*a+Ke*V)+ut*((1-Ke)*d+Ke*E),at=(1-ut)*((1-Ke)*l+Ke*$)+ut*((1-Ke)*_+Ke*I),Fe=(1-ut)*((1-Ke)*o+Ke*B)+ut*((1-Ke)*k+Ke*U);this.vertices.push(new c.default.Vector(_t,at,Fe)),this.uvs.push([ut,Ke])}});ge.faces=[];for(var J=0;J<ne-1;J++)for(var ue=0;ue<se-1;ue++){var he=ue+J*se,ye=ue+1+J*se,Oe=ue+1+(J+1)*se,de=ue+(J+1)*se;ge.faces.push([he,ye,Oe]),ge.faces.push([he,Oe,de])}ge.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(oe,ge)}return this.drawBuffers(oe),this},c.default.RendererGL.prototype.bezier=function(a,l,o,d,_,k,E,I,U,V,$,B){arguments.length===8&&($=I,V=E,I=k,E=_,_=d,d=o,o=k=U=B=0);var se=this._pInst._bezierDetail||20;this.beginShape();for(var ne=0;ne<=se;ne++){var oe=Math.pow(1-ne/se,3),ge=ne/se*3*Math.pow(1-ne/se,2),J=3*Math.pow(ne/se,2)*(1-ne/se),ue=Math.pow(ne/se,3);this.vertex(a*oe+d*ge+E*J+V*ue,l*oe+_*ge+I*J+$*ue,o*oe+k*ge+U*J+B*ue)}return this.endShape(),this},c.default.RendererGL.prototype.curve=function(a,l,o,d,_,k,E,I,U,V,$,B){arguments.length===8&&(V=E,$=I,E=_,I=d,_=d=o,o=k=U=B=0);var se=this._pInst._curveDetail;this.beginShape();for(var ne=0;ne<=se;ne++){var oe=.5*Math.pow(ne/se,3),ge=.5*Math.pow(ne/se,2),J=ne/se*.5,ue=oe*(3*d-a-3*E+V)+ge*(2*a-5*d+4*E-V)+J*(-a+E)+2*d*.5,he=oe*(3*_-l-3*I+$)+ge*(2*l-5*_+4*I-$)+J*(-l+I)+2*_*.5,ye=oe*(3*k-o-3*U+B)+ge*(2*o-5*k+4*U-B)+J*(-o+U)+2*k*.5;this.vertex(ue,he,ye)}return this.endShape(),this},c.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},c.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var a,l,o,d,_,k=[],E=[],I=[],U=arguments.length;if((a=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var V=1/this._lutBezierDetail,$=0,B=1,se=0;$<1;){if(a=parseFloat($.toFixed(6)),this._lookUpTableBezier[se]=this._bezierCoefficients(a),B.toFixed(6)===V.toFixed(6)){a=parseFloat(B.toFixed(6))+parseFloat($.toFixed(6)),++se,this._lookUpTableBezier[se]=this._bezierCoefficients(a);break}$+=V,B-=V,++se}}var ne=this._lookUpTableBezier.length;if(U===6){for(this.isBezier=!0,k=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],E=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],_=0;_<ne;_++)l=k[0]*this._lookUpTableBezier[_][0]+k[1]*this._lookUpTableBezier[_][1]+k[2]*this._lookUpTableBezier[_][2]+k[3]*this._lookUpTableBezier[_][3],o=E[0]*this._lookUpTableBezier[_][0]+E[1]*this._lookUpTableBezier[_][1]+E[2]*this._lookUpTableBezier[_][2]+E[3]*this._lookUpTableBezier[_][3],this.vertex(l,o);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(U===9){for(this.isBezier=!0,k=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],E=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],I=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],_=0;_<ne;_++)l=k[0]*this._lookUpTableBezier[_][0]+k[1]*this._lookUpTableBezier[_][1]+k[2]*this._lookUpTableBezier[_][2]+k[3]*this._lookUpTableBezier[_][3],o=E[0]*this._lookUpTableBezier[_][0]+E[1]*this._lookUpTableBezier[_][1]+E[2]*this._lookUpTableBezier[_][2]+E[3]*this._lookUpTableBezier[_][3],d=I[0]*this._lookUpTableBezier[_][0]+I[1]*this._lookUpTableBezier[_][1]+I[2]*this._lookUpTableBezier[_][2]+I[3]*this._lookUpTableBezier[_][3],this.vertex(l,o,d);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},c.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var a,l,o,d,_,k=[],E=[],I=[],U=arguments.length;if((a=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var V=1/this._lutQuadraticDetail,$=0,B=1,se=0;$<1;){if(a=parseFloat($.toFixed(6)),this._lookUpTableQuadratic[se]=this._quadraticCoefficients(a),B.toFixed(6)===V.toFixed(6)){a=parseFloat(B.toFixed(6))+parseFloat($.toFixed(6)),++se,this._lookUpTableQuadratic[se]=this._quadraticCoefficients(a);break}$+=V,B-=V,++se}}var ne=this._lookUpTableQuadratic.length;if(U===4){for(this.isQuadratic=!0,k=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],E=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],_=0;_<ne;_++)l=k[0]*this._lookUpTableQuadratic[_][0]+k[1]*this._lookUpTableQuadratic[_][1]+k[2]*this._lookUpTableQuadratic[_][2],o=E[0]*this._lookUpTableQuadratic[_][0]+E[1]*this._lookUpTableQuadratic[_][1]+E[2]*this._lookUpTableQuadratic[_][2],this.vertex(l,o);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(U===6){for(this.isQuadratic=!0,k=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],E=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],I=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],_=0;_<ne;_++)l=k[0]*this._lookUpTableQuadratic[_][0]+k[1]*this._lookUpTableQuadratic[_][1]+k[2]*this._lookUpTableQuadratic[_][2],o=E[0]*this._lookUpTableQuadratic[_][0]+E[1]*this._lookUpTableQuadratic[_][1]+E[2]*this._lookUpTableQuadratic[_][2],d=I[0]*this._lookUpTableQuadratic[_][0]+I[1]*this._lookUpTableQuadratic[_][1]+I[2]*this._lookUpTableQuadratic[_][2],this.vertex(l,o,d);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},c.default.RendererGL.prototype.curveVertex=function(){var a,l,o,d,_,k=[],E=[],I=[],U=arguments.length;if((a=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var V=1/this._lutBezierDetail,$=0,B=1,se=0;$<1;){if(a=parseFloat($.toFixed(6)),this._lookUpTableBezier[se]=this._bezierCoefficients(a),B.toFixed(6)===V.toFixed(6)){a=parseFloat(B.toFixed(6))+parseFloat($.toFixed(6)),++se,this._lookUpTableBezier[se]=this._bezierCoefficients(a);break}$+=V,B-=V,++se}}var ne=this._lookUpTableBezier.length;if(U===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,k=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),E=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),_=0;_<ne;_++)l=k[0]*this._lookUpTableBezier[_][0]+k[1]*this._lookUpTableBezier[_][1]+k[2]*this._lookUpTableBezier[_][2]+k[3]*this._lookUpTableBezier[_][3],o=E[0]*this._lookUpTableBezier[_][0]+E[1]*this._lookUpTableBezier[_][1]+E[2]*this._lookUpTableBezier[_][2]+E[3]*this._lookUpTableBezier[_][3],this.vertex(l,o);for(_=0;_<U;_++)this.immediateMode._curveVertex.shift()}}else if(U===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,k=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),E=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),I=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),_=0;_<ne;_++)l=k[0]*this._lookUpTableBezier[_][0]+k[1]*this._lookUpTableBezier[_][1]+k[2]*this._lookUpTableBezier[_][2]+k[3]*this._lookUpTableBezier[_][3],o=E[0]*this._lookUpTableBezier[_][0]+E[1]*this._lookUpTableBezier[_][1]+E[2]*this._lookUpTableBezier[_][2]+E[3]*this._lookUpTableBezier[_][3],d=I[0]*this._lookUpTableBezier[_][0]+I[1]*this._lookUpTableBezier[_][1]+I[2]*this._lookUpTableBezier[_][2]+I[3]*this._lookUpTableBezier[_][3],this.vertex(l,o,d);for(_=0;_<U;_++)this.immediateMode._curveVertex.shift()}},c.default.RendererGL.prototype.image=function(a,l,o,d,_,k,E,I,U){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(a),this._pInst.textureMode(f.NORMAL);var V=0;l<=a.width&&(V=l/a.width);var $=1;l+d<=a.width&&($=(l+d)/a.width);var B=0;o<=a.height&&(B=o/a.height);var se=1;o+_<=a.height&&(se=(o+_)/a.height),this.beginShape(),this.vertex(k,E,0,V,B),this.vertex(k+I,E,0,$,B),this.vertex(k+I,E+U,0,$,se),this.vertex(k,E+U,0,V,se),this.endShape(f.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(f.REMOVE)};var u=c.default;S.default=u},{"../core/constants":253,"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.number.to-fixed":172}],308:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}c.default.prototype.orbitControl=function(u,a,l){if(this._assert3d("orbitControl"),c.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var o=this._renderer._curCamera;u===void 0&&(u=1),a===void 0&&(a=u),l===void 0&&(l=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var d=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,l*d):this._renderer._curCamera._orbit(0,0,-l*d)),this.mouseIsPressed){if(this.mouseButton===this.LEFT){var _=-u*(this.mouseX-this.pmouseX)/d,k=a*(this.mouseY-this.pmouseY)/d;this._renderer._curCamera._orbit(_,k,0)}else if(this.mouseButton===this.RIGHT){var E=o._getLocalAxes(),I=Math.sqrt(E.x[0]*E.x[0]+E.x[2]*E.x[2]);I!==0&&(E.x[0]/=I,E.x[2]/=I);var U=Math.sqrt(E.y[0]*E.y[0]+E.y[2]*E.y[2]);U!==0&&(E.y[0]/=U,E.y[2]/=U);var V=-1*u*(this.mouseX-this.pmouseX),$=-1*a*(this.mouseY-this.pmouseY);o.setPosition(o.eyeX+V*E.x[0]+$*E.z[0],o.eyeY,o.eyeZ+V*E.x[2]+$*E.z[2])}}return this}},c.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var u=arguments.length,a=new Array(u),l=0;l<u;l++)a[l]=arguments[l];c.default._validateParameters("debugMode",a);for(var o=this._registeredMethods.post.length-1;0<=o;o--)this._registeredMethods.post[o].toString()!==this._grid().toString()&&this._registeredMethods.post[o].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(o,1);a[0]===f.GRID?this.registerMethod("post",this._grid.call(this,a[1],a[2],a[3],a[4],a[5])):a[0]===f.AXES?this.registerMethod("post",this._axesIcon.call(this,a[1],a[2],a[3],a[4])):(this.registerMethod("post",this._grid.call(this,a[0],a[1],a[2],a[3],a[4])),this.registerMethod("post",this._axesIcon.call(this,a[5],a[6],a[7],a[8])))},c.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1)},c.default.prototype._grid=function(u,a,l,o,d){u===void 0&&(u=this.width/2),a===void 0&&(a=Math.round(u/30)<4?4:Math.round(u/30)),l===void 0&&(l=0),o===void 0&&(o=0),d===void 0&&(d=0);var _=u/a,k=u/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var E=0;E<=a;E++)this.beginShape(this.LINES),this.vertex(-k+l,o,E*_-k+d),this.vertex(+k+l,o,E*_-k+d),this.endShape();for(var I=0;I<=a;I++)this.beginShape(this.LINES),this.vertex(I*_-k+l,o,-k+d),this.vertex(I*_-k+l,o,+k+d),this.endShape();this.pop()}},c.default.prototype._axesIcon=function(u,a,l,o){return u===void 0&&(u=40<this.width/20?this.width/20:40),a===void 0&&(a=-this.width/4),l===void 0&&(l=a),o===void 0&&(o=a),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(a,l,o),this.vertex(a+u,l,o),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(a,l,o),this.vertex(a,l+u,o),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(a,l,o),this.vertex(a,l,o+u),this.endShape(),this.pop()}};var p=c.default;S.default=p},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],309:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}c.default.prototype.ambientLight=function(u,a,l,o){this._assert3d("ambientLight"),c.default._validateParameters("ambientLight",arguments);var d=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(d._array[0],d._array[1],d._array[2]),this._renderer._enableLighting=!0,this},c.default.prototype.specularColor=function(u,a,l){this._assert3d("specularColor"),c.default._validateParameters("specularColor",arguments);var o=this.color.apply(this,arguments);return this._renderer.specularColors=[o._array[0],o._array[1],o._array[2]],this},c.default.prototype.directionalLight=function(u,a,l,o,d,_){var k,E,I,U;this._assert3d("directionalLight"),c.default._validateParameters("directionalLight",arguments),k=u instanceof c.default.Color?u:this.color(u,a,l);var V=arguments[arguments.length-1];U=typeof V=="number"?(E=arguments[arguments.length-3],I=arguments[arguments.length-2],arguments[arguments.length-1]):(E=V.x,I=V.y,V.z);var $=Math.sqrt(E*E+I*I+U*U);return this._renderer.directionalLightDirections.push(E/$,I/$,U/$),this._renderer.directionalLightDiffuseColors.push(k._array[0],k._array[1],k._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},c.default.prototype.pointLight=function(u,a,l,o,d,_){var k,E,I,U;this._assert3d("pointLight"),c.default._validateParameters("pointLight",arguments),k=u instanceof c.default.Color?u:this.color(u,a,l);var V=arguments[arguments.length-1];return U=typeof V=="number"?(E=arguments[arguments.length-3],I=arguments[arguments.length-2],arguments[arguments.length-1]):(E=V.x,I=V.y,V.z),this._renderer.pointLightPositions.push(E,I,U),this._renderer.pointLightDiffuseColors.push(k._array[0],k._array[1],k._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},c.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===f.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var u=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,u),this.directionalLight(0,0,u,0,0,-1)}return this},c.default.prototype.lightFalloff=function(u,a,l){return this._assert3d("lightFalloff"),c.default._validateParameters("lightFalloff",arguments),u<0&&(u=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),a<0&&(a=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),u===0&&a===0&&l===0&&(u=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=u,this._renderer.linearAttenuation=a,this._renderer.quadraticAttenuation=l,this},c.default.prototype.spotLight=function(u,a,l,o,d,_,k,E,I,U,V){var $,B,se;this._assert3d("spotLight"),c.default._validateParameters("spotLight",arguments);var ne=arguments.length;switch(ne){case 11:case 10:$=this.color(u,a,l),B=new c.default.Vector(o,d,_),se=new c.default.Vector(k,E,I);break;case 9:u instanceof c.default.Color?($=u,B=new c.default.Vector(a,l,o),se=new c.default.Vector(d,_,k),U=E,V=I):o instanceof c.default.Vector?($=this.color(u,a,l),B=o,se=new c.default.Vector(d,_,k),U=E,V=I):k instanceof c.default.Vector?($=this.color(u,a,l),B=new c.default.Vector(o,d,_),se=k,U=E,V=I):($=this.color(u,a,l),B=new c.default.Vector(o,d,_),se=new c.default.Vector(k,E,I));break;case 8:U=(se=u instanceof c.default.Color?($=u,B=new c.default.Vector(a,l,o),new c.default.Vector(d,_,k)):o instanceof c.default.Vector?($=this.color(u,a,l),B=o,new c.default.Vector(d,_,k)):($=this.color(u,a,l),B=new c.default.Vector(o,d,_),k),E);break;case 7:u instanceof c.default.Color&&a instanceof c.default.Vector?($=u,B=a,se=new c.default.Vector(l,o,d),U=_,V=k):u instanceof c.default.Color&&d instanceof c.default.Vector?($=u,B=new c.default.Vector(a,l,o),se=d,U=_,V=k):o instanceof c.default.Vector&&d instanceof c.default.Vector?($=this.color(u,a,l),B=o,se=d,U=_,V=k):se=u instanceof c.default.Color?($=u,B=new c.default.Vector(a,l,o),new c.default.Vector(d,_,k)):o instanceof c.default.Vector?($=this.color(u,a,l),B=o,new c.default.Vector(d,_,k)):($=this.color(u,a,l),B=new c.default.Vector(o,d,_),k);break;case 6:o instanceof c.default.Vector&&d instanceof c.default.Vector?($=this.color(u,a,l),B=o,se=d,U=_):u instanceof c.default.Color&&d instanceof c.default.Vector?($=u,B=new c.default.Vector(a,l,o),se=d,U=_):u instanceof c.default.Color&&a instanceof c.default.Vector&&($=u,B=a,se=new c.default.Vector(l,o,d),U=_);break;case 5:u instanceof c.default.Color&&a instanceof c.default.Vector&&l instanceof c.default.Vector?($=u,B=a,se=l,U=o,V=d):o instanceof c.default.Vector&&d instanceof c.default.Vector?($=this.color(u,a,l),B=o,se=d):u instanceof c.default.Color&&d instanceof c.default.Vector?($=u,B=new c.default.Vector(a,l,o),se=d):u instanceof c.default.Color&&a instanceof c.default.Vector&&($=u,B=a,se=new c.default.Vector(l,o,d));break;case 4:$=u,B=a,se=l,U=o;break;case 3:$=u,B=a,se=l;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(ne<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push($._array[0],$._array[1],$._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(B.x,B.y,B.z),se.normalize(),this._renderer.spotLightDirections.push(se.x,se.y,se.z),U===void 0&&(U=Math.PI/3),V!==void 0&&V<1?(V=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):V===void 0&&(V=100),U=this._renderer._pInst._toRadians(U),this._renderer.spotLightAngle.push(Math.cos(U)),this._renderer.spotLightConc.push(V),this._renderer._enableLighting=!0,this},c.default.prototype.noLights=function(){return this._assert3d("noLights"),c.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var p=c.default;S.default=p},{"../core/constants":253,"../core/main":264}],310:[function(n,C,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};function c(m,p,u){for(var a=0,l=m.length;a<l;a++)if(m[a]!==p.getUint8(u+a,!1))return!1;return!0}n("./p5.Geometry"),t.default.prototype.loadModel=function(m){var p,u,a;t.default._validateParameters("loadModel",arguments);var l=m.slice(-4);typeof arguments[1]=="boolean"?(p=arguments[1],u=arguments[2],a=arguments[3],arguments[4]!==void 0&&(l=arguments[4])):(p=!1,u=arguments[1],a=arguments[2],arguments[3]!==void 0&&(l=arguments[3]));var o=new t.default.Geometry;o.gid="".concat(m,"|").concat(p);var d=this;return l.match(/\.stl$/i)?this.httpDo(m,"GET","arrayBuffer",function(_){(function(k,E){if(function(V){for(var $=new DataView(V),B=[115,111,108,105,100],se=0;se<5;se++)if(c(B,$,se))return!1;return!0}(E))(function(V,$){for(var B,se,ne,oe,ge,J,ue,he=new DataView($),ye=he.getUint32(80,!0),Oe=!1,de=0;de<70;de++)he.getUint32(de,!1)===1129270351&&he.getUint8(de+4)===82&&he.getUint8(de+5)===61&&(Oe=!0,oe=[],ge=he.getUint8(de+6)/255,J=he.getUint8(de+7)/255,ue=he.getUint8(de+8)/255);for(var Ne=0;Ne<ye;Ne++){var Le=84+50*Ne,Be=he.getFloat32(Le,!0),$e=he.getFloat32(4+Le,!0),ut=he.getFloat32(8+Le,!0);if(Oe){var Ke=he.getUint16(48+Le,!0);ne=(32768&Ke)==0?(B=(31&Ke)/31,se=(Ke>>5&31)/31,(Ke>>10&31)/31):(B=ge,se=J,ue)}for(var _t=new t.default.Vector(Be,$e,ut),at=1;at<=3;at++){var Fe=Le+12*at,ae=new t.default.Vector(he.getFloat32(Fe,!0),he.getFloat32(4+Fe,!0),he.getFloat32(8+Fe,!0));V.vertices.push(ae),V.vertexNormals.push(_t),Oe&&oe.push(B,se,ne)}V.faces.push([3*Ne,3*Ne+1,3*Ne+2]),V.uvs.push([0,0],[0,0],[0,0])}})(k,E);else{var I=new DataView(E);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");var U=new TextDecoder("utf-8").decode(I).split(`
`);(function(V,$){for(var B,se,ne="",oe=[],ge=0;ge<$.length;++ge){for(var J=$[ge].trim(),ue=J.split(" "),he=0;he<ue.length;++he)ue[he]===""&&ue.splice(he,1);if(ue.length!==0)switch(ne){case"":if(ue[0]!=="solid")return console.error(J),console.error('Invalid state "'.concat(ue[0],'", should be "solid"'));ne="solid";break;case"solid":if(ue[0]!=="facet"||ue[1]!=="normal")return console.error(J),console.error('Invalid state "'.concat(ue[0],'", should be "facet normal"'));B=new t.default.Vector(parseFloat(ue[2]),parseFloat(ue[3]),parseFloat(ue[4])),V.vertexNormals.push(B,B,B),ne="facet normal";break;case"facet normal":if(ue[0]!=="outer"||ue[1]!=="loop")return console.error(J),console.error('Invalid state "'.concat(ue[0],'", should be "outer loop"'));ne="vertex";break;case"vertex":if(ue[0]==="vertex")se=new t.default.Vector(parseFloat(ue[1]),parseFloat(ue[2]),parseFloat(ue[3])),V.vertices.push(se),V.uvs.push([0,0]),oe.push(V.vertices.indexOf(se));else{if(ue[0]!=="endloop")return console.error(J),console.error('Invalid state "'.concat(ue[0],'", should be "vertex" or "endloop"'));V.faces.push(oe),oe=[],ne="endloop"}break;case"endloop":if(ue[0]!=="endfacet")return console.error(J),console.error('Invalid state "'.concat(ue[0],'", should be "endfacet"'));ne="endfacet";break;case"endfacet":if(ue[0]!=="endsolid"){if(ue[0]!=="facet"||ue[1]!=="normal")return console.error(J),console.error('Invalid state "'.concat(ue[0],'", should be "endsolid" or "facet normal"'));B=new t.default.Vector(parseFloat(ue[2]),parseFloat(ue[3]),parseFloat(ue[4])),V.vertexNormals.push(B,B,B),ne="facet normal"}break;default:console.error('Invalid state "'.concat(ne,'"'))}}})(k,U)}})(o,_),p&&o.normalize(),d._decrementPreload(),typeof u=="function"&&u(o)},a):l.match(/\.obj$/i)?this.loadStrings(m,function(_){(function(k,E){for(var I={v:[],vt:[],vn:[]},U={},V=0;V<E.length;++V){var $=E[V].trim().split(/\b\s+/);if(0<$.length){if($[0]==="v"||$[0]==="vn"){var B=new t.default.Vector(parseFloat($[1]),parseFloat($[2]),parseFloat($[3]));I[$[0]].push(B)}else if($[0]==="vt"){var se=[parseFloat($[1]),1-parseFloat($[2])];I[$[0]].push(se)}else if($[0]==="f")for(var ne=3;ne<$.length;++ne){for(var oe=[],ge=[1,ne-1,ne],J=0;J<ge.length;++J){var ue=$[ge[J]],he=0;if(U[ue]!==void 0)he=U[ue];else{for(var ye=ue.split("/"),Oe=0;Oe<ye.length;Oe++)ye[Oe]=parseInt(ye[Oe])-1;he=U[ue]=k.vertices.length,k.vertices.push(I.v[ye[0]].copy()),I.vt[ye[1]]?k.uvs.push(I.vt[ye[1]].slice()):k.uvs.push([0,0]),I.vn[ye[2]]&&k.vertexNormals.push(I.vn[ye[2]].copy())}oe.push(he)}oe[0]!==oe[1]&&oe[0]!==oe[2]&&oe[1]!==oe[2]&&k.faces.push(oe)}}}k.vertexNormals.length===0&&k.computeNormals()})(o,_),p&&o.normalize(),d._decrementPreload(),typeof u=="function"&&u(o)},a):(t.default._friendlyFileLoadError(3,m),a?a():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),o},t.default.prototype.model=function(m){this._assert3d("model"),t.default._validateParameters("model",arguments),0<m.vertices.length&&(this._renderer.geometryInHash(m.gid)||(m._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(m.gid,m)),this._renderer.drawBuffers(m.gid))};var f=t.default;S.default=f},{"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],311:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}n("core-js/modules/es.array.join"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}n("./p5.Texture"),c.default.prototype.loadShader=function(u,a,l,o){c.default._validateParameters("loadShader",arguments),o=o||console.error;function d(){k._decrementPreload(),l&&l(_)}var _=new c.default.Shader,k=this,E=!1,I=!1;return this.loadStrings(u,function(U){_._vertSrc=U.join(`
`),I=!0,E&&d()},o),this.loadStrings(a,function(U){_._fragSrc=U.join(`
`),E=!0,I&&d()},o),_},c.default.prototype.createShader=function(u,a){return this._assert3d("createShader"),c.default._validateParameters("createShader",arguments),new c.default.Shader(this._renderer,u,a)},c.default.prototype.shader=function(u){return this._assert3d("shader"),c.default._validateParameters("shader",arguments),u._renderer===void 0&&(u._renderer=this._renderer),u.init(),u.isStrokeShader()?this._renderer.userStrokeShader=u:(this._renderer.userFillShader=u,this._renderer._useNormalMaterial=!1),this},c.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},c.default.prototype.texture=function(u){return this._assert3d("texture"),c.default._validateParameters("texture",arguments),u.gifProperties&&u._animateGif(this),this._renderer.drawMode=f.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=u,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.textureMode=function(u){u!==f.IMAGE&&u!==f.NORMAL?console.warn("You tried to set ".concat(u," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=u},c.default.prototype.textureWrap=function(u){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u;this._renderer.textureWrapX=u,this._renderer.textureWrapY=a;for(var l=this._renderer.textures,o=0;o<l.length;o++)l[o].setWrapMode(u,a)},c.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var u=arguments.length,a=new Array(u),l=0;l<u;l++)a[l]=arguments[l];return c.default._validateParameters("normalMaterial",a),this._renderer.drawMode=f.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},c.default.prototype.ambientMaterial=function(u,a,l){this._assert3d("ambientMaterial"),c.default._validateParameters("ambientMaterial",arguments);var o=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=o._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.emissiveMaterial=function(u,a,l,o){this._assert3d("emissiveMaterial"),c.default._validateParameters("emissiveMaterial",arguments);var d=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=d._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},c.default.prototype.specularMaterial=function(u,a,l,o){this._assert3d("specularMaterial"),c.default._validateParameters("specularMaterial",arguments);var d=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=d._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},c.default.prototype.shininess=function(u){return this._assert3d("shininess"),c.default._validateParameters("shininess",arguments),u<1&&(u=1),this._renderer._useShininess=u,this},c.default.RendererGL.prototype._applyColorBlend=function(u){var a=this.GL,l=this.drawMode===f.TEXTURE||u[u.length-1]<1||this._isErasing;return l!==this._isBlending&&(l||this.curBlendMode!==f.BLEND&&this.curBlendMode!==f.ADD?a.enable(a.BLEND):a.disable(a.BLEND),a.depthMask(!0),this._isBlending=l),this._applyBlendMode(),u},c.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var u=this.GL;switch(this.curBlendMode){case f.BLEND:case f.ADD:u.blendEquation(u.FUNC_ADD),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA);break;case f.REMOVE:u.blendEquation(u.FUNC_REVERSE_SUBTRACT),u.blendFunc(u.SRC_ALPHA,u.DST_ALPHA);break;case f.MULTIPLY:u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD),u.blendFuncSeparate(u.ZERO,u.SRC_COLOR,u.ONE,u.ONE);break;case f.SCREEN:u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD),u.blendFuncSeparate(u.ONE_MINUS_DST_COLOR,u.ONE,u.ONE,u.ONE);break;case f.EXCLUSION:u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD),u.blendFuncSeparate(u.ONE_MINUS_DST_COLOR,u.ONE_MINUS_SRC_COLOR,u.ONE,u.ONE);break;case f.REPLACE:u.blendEquation(u.FUNC_ADD),u.blendFunc(u.ONE,u.ZERO);break;case f.SUBTRACT:u.blendEquationSeparate(u.FUNC_REVERSE_SUBTRACT,u.FUNC_ADD),u.blendFuncSeparate(u.SRC_ALPHA,u.ONE,u.ONE,u.ONE);break;case f.DARKEST:this.blendExt?(u.blendEquationSeparate(this.blendExt.MIN_EXT,u.FUNC_ADD),u.blendFuncSeparate(u.ONE,u.ONE,u.ONE,u.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case f.LIGHTEST:this.blendExt?(u.blendEquationSeparate(this.blendExt.MAX_EXT,u.FUNC_ADD),u.blendFuncSeparate(u.ONE,u.ONE,u.ONE,u.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var p=c.default;S.default=p},{"../core/constants":253,"../core/main":264,"./p5.Texture":320,"core-js/modules/es.array.join":159}],312:[function(n,C,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.prototype.camera=function(){var f;this._assert3d("camera");for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];return t.default._validateParameters("camera",p),(f=this._renderer._curCamera).camera.apply(f,p),this},t.default.prototype.perspective=function(){var f;this._assert3d("perspective");for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];return t.default._validateParameters("perspective",p),(f=this._renderer._curCamera).perspective.apply(f,p),this},t.default.prototype.ortho=function(){var f;this._assert3d("ortho");for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];return t.default._validateParameters("ortho",p),(f=this._renderer._curCamera).ortho.apply(f,p),this},t.default.prototype.frustum=function(){var f;this._assert3d("frustum");for(var m=arguments.length,p=new Array(m),u=0;u<m;u++)p[u]=arguments[u];return t.default._validateParameters("frustum",p),(f=this._renderer._curCamera).frustum.apply(f,p),this},t.default.prototype.createCamera=function(){this._assert3d("createCamera");var f=new t.default.Camera(this._renderer);return f._computeCameraDefaultSettings(),f._setDefaultCamera(),this._renderer._curCamera=f},t.default.Camera=function(f){this._renderer=f,this.cameraType="default",this.cameraMatrix=new t.default.Matrix,this.projMatrix=new t.default.Matrix},t.default.Camera.prototype.perspective=function(f,m,p,u){this.cameraType=0<arguments.length?"custom":"default",f===void 0?(f=this.defaultCameraFOV,this.cameraFOV=f):this.cameraFOV=this._renderer._pInst._toRadians(f),m===void 0&&(m=this.defaultAspectRatio),p===void 0&&(p=this.defaultCameraNear),u===void 0&&(u=this.defaultCameraFar),p<=1e-4&&(p=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<p&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=m,this.cameraNear=p,this.cameraFar=u,this.projMatrix=t.default.Matrix.identity();var a=1/Math.tan(this.cameraFOV/2),l=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(a/m,0,0,0,0,-a,0,0,0,0,(u+p)*l,-1,0,0,2*u*p*l,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},t.default.Camera.prototype.ortho=function(f,m,p,u,a,l){f===void 0&&(f=-this._renderer.width/2),m===void 0&&(m=this._renderer.width/2),p===void 0&&(p=-this._renderer.height/2),u===void 0&&(u=this._renderer.height/2),a===void 0&&(a=0),l===void 0&&(l=Math.max(this._renderer.width,this._renderer.height));var o=m-f,d=u-p,_=l-a,k=2/o,E=2/d,I=-2/_,U=-(m+f)/o,V=-(u+p)/d,$=-(l+a)/_;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(k,0,0,0,0,-E,0,0,0,0,I,0,U,V,$,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype.frustum=function(f,m,p,u,a,l){f===void 0&&(f=-this._renderer.width/2),m===void 0&&(m=this._renderer.width/2),p===void 0&&(p=-this._renderer.height/2),u===void 0&&(u=this._renderer.height/2),a===void 0&&(a=0),l===void 0&&(l=Math.max(this._renderer.width,this._renderer.height));var o=m-f,d=u-p,_=l-a,k=2*a/o,E=2*a/d,I=-2*l*a/_,U=(m+f)/o,V=(u+p)/d,$=-(l+a)/_;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(k,0,0,0,0,E,0,0,U,V,$,-1,0,0,I,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype._rotateView=function(f,m,p,u){var a=this.centerX,l=this.centerY,o=this.centerZ;a-=this.eyeX,l-=this.eyeY,o-=this.eyeZ;var d=t.default.Matrix.identity(this._renderer._pInst);d.rotate(this._renderer._pInst._toRadians(f),m,p,u);var _=[a*d.mat4[0]+l*d.mat4[4]+o*d.mat4[8],a*d.mat4[1]+l*d.mat4[5]+o*d.mat4[9],a*d.mat4[2]+l*d.mat4[6]+o*d.mat4[10]];_[0]+=this.eyeX,_[1]+=this.eyeY,_[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,_[0],_[1],_[2],this.upX,this.upY,this.upZ)},t.default.Camera.prototype.pan=function(f){var m=this._getLocalAxes();this._rotateView(f,m.y[0],m.y[1],m.y[2])},t.default.Camera.prototype.tilt=function(f){var m=this._getLocalAxes();this._rotateView(f,m.x[0],m.x[1],m.x[2])},t.default.Camera.prototype.lookAt=function(f,m,p){this.camera(this.eyeX,this.eyeY,this.eyeZ,f,m,p,this.upX,this.upY,this.upZ)},t.default.Camera.prototype.camera=function(f,m,p,u,a,l,o,d,_){f===void 0&&(f=this.defaultEyeX,m=this.defaultEyeY,p=this.defaultEyeZ,u=f,a=m,d=1,_=o=l=0),this.eyeX=f,this.eyeY=m,this.eyeZ=p,u!==void 0&&(this.centerX=u,this.centerY=a,this.centerZ=l),o!==void 0&&(this.upX=o,this.upY=d,this.upZ=_);var k=this._getLocalAxes();this.cameraMatrix.set(k.x[0],k.y[0],k.z[0],0,k.x[1],k.y[1],k.z[1],0,k.x[2],k.y[2],k.z[2],0,0,0,0,1);var E=-f,I=-m,U=-p;return this.cameraMatrix.translate([E,I,U]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},t.default.Camera.prototype.move=function(f,m,p){var u=this._getLocalAxes(),a=[u.x[0]*f,u.x[1]*f,u.x[2]*f],l=[u.y[0]*m,u.y[1]*m,u.y[2]*m],o=[u.z[0]*p,u.z[1]*p,u.z[2]*p];this.camera(this.eyeX+a[0]+l[0]+o[0],this.eyeY+a[1]+l[1]+o[1],this.eyeZ+a[2]+l[2]+o[2],this.centerX+a[0]+l[0]+o[0],this.centerY+a[1]+l[1]+o[1],this.centerZ+a[2]+l[2]+o[2],0,1,0)},t.default.Camera.prototype.setPosition=function(f,m,p){var u=f-this.eyeX,a=m-this.eyeY,l=p-this.eyeZ;this.camera(f,m,p,this.centerX+u,this.centerY+a,this.centerZ+l,0,1,0)},t.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},t.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},t.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},t.default.Camera.prototype.copy=function(){var f=new t.default.Camera(this._renderer);return f.cameraFOV=this.cameraFOV,f.aspectRatio=this.aspectRatio,f.eyeX=this.eyeX,f.eyeY=this.eyeY,f.eyeZ=this.eyeZ,f.centerX=this.centerX,f.centerY=this.centerY,f.centerZ=this.centerZ,f.cameraNear=this.cameraNear,f.cameraFar=this.cameraFar,f.cameraType=this.cameraType,f.cameraMatrix=this.cameraMatrix.copy(),f.projMatrix=this.projMatrix.copy(),f},t.default.Camera.prototype._getLocalAxes=function(){var f=this.eyeX-this.centerX,m=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,u=Math.sqrt(f*f+m*m+p*p);u!==0&&(f/=u,m/=u,p/=u);var a=this.upX,l=this.upY,o=this.upZ,d=l*p-o*m,_=-a*p+o*f,k=a*m-l*f;a=m*k-p*_,l=-f*k+p*d,o=f*_-m*d;var E=Math.sqrt(d*d+_*_+k*k);E!==0&&(d/=E,_/=E,k/=E);var I=Math.sqrt(a*a+l*l+o*o);return I!==0&&(a/=I,l/=I,o/=I),{x:[d,_,k],y:[a,l,o],z:[f,m,p]}},t.default.Camera.prototype._orbit=function(f,m,p){var u=this.eyeX-this.centerX,a=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,o=Math.sqrt(u*u+a*a+l*l),d=Math.atan2(u,l),_=Math.acos(Math.max(-1,Math.min(1,a/o)));d+=f,(o+=p)<0&&(o=.1),(_+=m)>Math.PI?_=Math.PI:_<=0&&(_=.001);var k=Math.sin(_)*o*Math.sin(d),E=Math.cos(_)*o,I=Math.sin(_)*o*Math.cos(d);this.camera(k+this.centerX,E+this.centerY,I+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},t.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},t.default.prototype.setCamera=function(f){this._renderer._curCamera=f,this._renderer.uPMatrix.set(f.projMatrix.mat4[0],f.projMatrix.mat4[1],f.projMatrix.mat4[2],f.projMatrix.mat4[3],f.projMatrix.mat4[4],f.projMatrix.mat4[5],f.projMatrix.mat4[6],f.projMatrix.mat4[7],f.projMatrix.mat4[8],f.projMatrix.mat4[9],f.projMatrix.mat4[10],f.projMatrix.mat4[11],f.projMatrix.mat4[12],f.projMatrix.mat4[13],f.projMatrix.mat4[14],f.projMatrix.mat4[15])};var c=t.default.Camera;S.default=c},{"../core/main":264}],313:[function(n,C,S){n("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.Geometry=function(f,m,p){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=f!==void 0?f:1,this.detailY=m!==void 0?m:1,this.dirtyFlags={},p instanceof Function&&p.call(this),this},t.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},t.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var f,m,p,u,a=this.detailX+1,l=0;l<this.detailY;l++)for(var o=0;o<this.detailX;o++)m=(f=l*a+o)+1,p=(l+1)*a+o+1,u=(l+1)*a+o,this.faces.push([f,m,u]),this.faces.push([u,m,p]);return this},t.default.Geometry.prototype._getFaceNormal=function(f){var m=this.faces[f],p=this.vertices[m[0]],u=this.vertices[m[1]],a=this.vertices[m[2]],l=t.default.Vector.sub(u,p),o=t.default.Vector.sub(a,p),d=t.default.Vector.cross(l,o),_=t.default.Vector.mag(d),k=_/(t.default.Vector.mag(l)*t.default.Vector.mag(o));return k===0||isNaN(k)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),d):(1<k&&(k=1),d.mult(Math.asin(k)/_))},t.default.Geometry.prototype.computeNormals=function(){var f,m=this.vertexNormals,p=this.vertices,u=this.faces;for(f=m.length=0;f<p.length;++f)m.push(new t.default.Vector);for(var a=0;a<u.length;++a)for(var l=u[a],o=this._getFaceNormal(a),d=0;d<3;++d)m[l[d]].add(o);for(f=0;f<p.length;++f)m[f].normalize();return this},t.default.Geometry.prototype.averageNormals=function(){for(var f=0;f<=this.detailY;f++){var m=this.detailX+1,p=t.default.Vector.add(this.vertexNormals[f*m],this.vertexNormals[f*m+this.detailX]);p=t.default.Vector.div(p,2),this.vertexNormals[f*m]=p,this.vertexNormals[f*m+this.detailX]=p}return this},t.default.Geometry.prototype.averagePoleNormals=function(){for(var f=new t.default.Vector(0,0,0),m=0;m<this.detailX;m++)f.add(this.vertexNormals[m]);f=t.default.Vector.div(f,this.detailX);for(var p=0;p<this.detailX;p++)this.vertexNormals[p]=f;f=new t.default.Vector(0,0,0);for(var u=this.vertices.length-1;u>this.vertices.length-1-this.detailX;u--)f.add(this.vertexNormals[u]);f=t.default.Vector.div(f,this.detailX);for(var a=this.vertices.length-1;a>this.vertices.length-1-this.detailX;a--)this.vertexNormals[a]=f;return this},t.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var f=0,m=this.strokeIndices.length;f<m;f++)this.edges.push(this.strokeIndices[f]);else for(var p=0;p<this.faces.length;p++)this.edges.push([this.faces[p][0],this.faces[p][1]]),this.edges.push([this.faces[p][1],this.faces[p][2]]),this.edges.push([this.faces[p][2],this.faces[p][0]]);return this},t.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var f=this.lineNormals.length=0;f<this.edges.length;f++){var m=this.vertices[this.edges[f][0]],p=this.vertices[this.edges[f][1]],u=p.copy().sub(m).normalize(),a=m.array(),l=m.array(),o=p.array(),d=p.array(),_=u.array(),k=u.array();_.push(1),k.push(-1),this.lineNormals.push(_,k,_,_,k,k),this.lineVertices.push(a,l,o,o,l,d)}return this},t.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var f=this.vertices[0].copy(),m=this.vertices[0].copy(),p=0;p<this.vertices.length;p++)f.x=Math.max(f.x,this.vertices[p].x),m.x=Math.min(m.x,this.vertices[p].x),f.y=Math.max(f.y,this.vertices[p].y),m.y=Math.min(m.y,this.vertices[p].y),f.z=Math.max(f.z,this.vertices[p].z),m.z=Math.min(m.z,this.vertices[p].z);for(var u=t.default.Vector.lerp(f,m,.5),a=t.default.Vector.sub(f,m),l=200/Math.max(Math.max(a.x,a.y),a.z),o=0;o<this.vertices.length;o++)this.vertices[o].sub(u),this.vertices[o].mult(l)}return this};var c=t.default.Geometry;S.default=c},{"../core/main":264,"core-js/modules/es.string.sub":192}],314:[function(n,C,S){n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g},c=Array,f=function(p){return p instanceof Array};typeof Float32Array<"u"&&(c=Float32Array,f=function(p){return p instanceof Array||p instanceof Float32Array}),t.default.Matrix=function(){for(var p=new Array(arguments.length),u=0;u<p.length;++u)p[u]=arguments[u];return p.length&&p[p.length-1]instanceof t.default&&(this.p5=p[p.length-1]),p[0]==="mat3"?this.mat3=Array.isArray(p[1])?p[1]:new c([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(p[0])?p[0]:new c([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},t.default.Matrix.prototype.set=function(p){return p instanceof t.default.Matrix?this.mat4=p.mat4:f(p)?this.mat4=p:arguments.length===16&&(this.mat4[0]=p,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},t.default.Matrix.prototype.get=function(){return new t.default.Matrix(this.mat4,this.p5)},t.default.Matrix.prototype.copy=function(){var p=new t.default.Matrix(this.p5);return p.mat4[0]=this.mat4[0],p.mat4[1]=this.mat4[1],p.mat4[2]=this.mat4[2],p.mat4[3]=this.mat4[3],p.mat4[4]=this.mat4[4],p.mat4[5]=this.mat4[5],p.mat4[6]=this.mat4[6],p.mat4[7]=this.mat4[7],p.mat4[8]=this.mat4[8],p.mat4[9]=this.mat4[9],p.mat4[10]=this.mat4[10],p.mat4[11]=this.mat4[11],p.mat4[12]=this.mat4[12],p.mat4[13]=this.mat4[13],p.mat4[14]=this.mat4[14],p.mat4[15]=this.mat4[15],p},t.default.Matrix.identity=function(p){return new t.default.Matrix(p)},t.default.Matrix.prototype.transpose=function(p){var u,a,l,o,d,_;return p instanceof t.default.Matrix?(u=p.mat4[1],a=p.mat4[2],l=p.mat4[3],o=p.mat4[6],d=p.mat4[7],_=p.mat4[11],this.mat4[0]=p.mat4[0],this.mat4[1]=p.mat4[4],this.mat4[2]=p.mat4[8],this.mat4[3]=p.mat4[12],this.mat4[4]=u,this.mat4[5]=p.mat4[5],this.mat4[6]=p.mat4[9],this.mat4[7]=p.mat4[13],this.mat4[8]=a,this.mat4[9]=o,this.mat4[10]=p.mat4[10],this.mat4[11]=p.mat4[14],this.mat4[12]=l,this.mat4[13]=d,this.mat4[14]=_,this.mat4[15]=p.mat4[15]):f(p)&&(u=p[1],a=p[2],l=p[3],o=p[6],d=p[7],_=p[11],this.mat4[0]=p[0],this.mat4[1]=p[4],this.mat4[2]=p[8],this.mat4[3]=p[12],this.mat4[4]=u,this.mat4[5]=p[5],this.mat4[6]=p[9],this.mat4[7]=p[13],this.mat4[8]=a,this.mat4[9]=o,this.mat4[10]=p[10],this.mat4[11]=p[14],this.mat4[12]=l,this.mat4[13]=d,this.mat4[14]=_,this.mat4[15]=p[15]),this},t.default.Matrix.prototype.invert=function(p){var u,a,l,o,d,_,k,E,I,U,V,$,B,se,ne,oe;p instanceof t.default.Matrix?(u=p.mat4[0],a=p.mat4[1],l=p.mat4[2],o=p.mat4[3],d=p.mat4[4],_=p.mat4[5],k=p.mat4[6],E=p.mat4[7],I=p.mat4[8],U=p.mat4[9],V=p.mat4[10],$=p.mat4[11],B=p.mat4[12],se=p.mat4[13],ne=p.mat4[14],oe=p.mat4[15]):f(p)&&(u=p[0],a=p[1],l=p[2],o=p[3],d=p[4],_=p[5],k=p[6],E=p[7],I=p[8],U=p[9],V=p[10],$=p[11],B=p[12],se=p[13],ne=p[14],oe=p[15]);var ge=u*_-a*d,J=u*k-l*d,ue=u*E-o*d,he=a*k-l*_,ye=a*E-o*_,Oe=l*E-o*k,de=I*se-U*B,Ne=I*ne-V*B,Le=I*oe-$*B,Be=U*ne-V*se,$e=U*oe-$*se,ut=V*oe-$*ne,Ke=ge*ut-J*$e+ue*Be+he*Le-ye*Ne+Oe*de;return Ke?(Ke=1/Ke,this.mat4[0]=(_*ut-k*$e+E*Be)*Ke,this.mat4[1]=(l*$e-a*ut-o*Be)*Ke,this.mat4[2]=(se*Oe-ne*ye+oe*he)*Ke,this.mat4[3]=(V*ye-U*Oe-$*he)*Ke,this.mat4[4]=(k*Le-d*ut-E*Ne)*Ke,this.mat4[5]=(u*ut-l*Le+o*Ne)*Ke,this.mat4[6]=(ne*ue-B*Oe-oe*J)*Ke,this.mat4[7]=(I*Oe-V*ue+$*J)*Ke,this.mat4[8]=(d*$e-_*Le+E*de)*Ke,this.mat4[9]=(a*Le-u*$e-o*de)*Ke,this.mat4[10]=(B*ye-se*ue+oe*ge)*Ke,this.mat4[11]=(U*ue-I*ye-$*ge)*Ke,this.mat4[12]=(_*Ne-d*Be-k*de)*Ke,this.mat4[13]=(u*Be-a*Ne+l*de)*Ke,this.mat4[14]=(se*J-B*he-ne*ge)*Ke,this.mat4[15]=(I*he-U*J+V*ge)*Ke,this):null},t.default.Matrix.prototype.invert3x3=function(){var p=this.mat3[0],u=this.mat3[1],a=this.mat3[2],l=this.mat3[3],o=this.mat3[4],d=this.mat3[5],_=this.mat3[6],k=this.mat3[7],E=this.mat3[8],I=E*o-d*k,U=-E*l+d*_,V=k*l-o*_,$=p*I+u*U+a*V;return $?($=1/$,this.mat3[0]=I*$,this.mat3[1]=(-E*u+a*k)*$,this.mat3[2]=(d*u-a*o)*$,this.mat3[3]=U*$,this.mat3[4]=(E*p-a*_)*$,this.mat3[5]=(-d*p+a*l)*$,this.mat3[6]=V*$,this.mat3[7]=(-k*p+u*_)*$,this.mat3[8]=(o*p-u*l)*$,this):null},t.default.Matrix.prototype.transpose3x3=function(p){var u=p[1],a=p[2],l=p[5];return this.mat3[1]=p[3],this.mat3[2]=p[6],this.mat3[3]=u,this.mat3[5]=p[7],this.mat3[6]=a,this.mat3[7]=l,this},t.default.Matrix.prototype.inverseTranspose=function(p){this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=p.mat4[0],this.mat3[1]=p.mat4[1],this.mat3[2]=p.mat4[2],this.mat3[3]=p.mat4[4],this.mat3[4]=p.mat4[5],this.mat3[5]=p.mat4[6],this.mat3[6]=p.mat4[8],this.mat3[7]=p.mat4[9],this.mat3[8]=p.mat4[10]);var u=this.invert3x3();if(u)u.transpose3x3(this.mat3);else for(var a=0;a<9;a++)this.mat3[a]=0;return this},t.default.Matrix.prototype.determinant=function(){var p=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],u=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],a=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],l=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],o=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],d=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],_=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],k=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],E=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],I=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],U=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return p*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-u*U+a*I+l*E-o*k+d*_},t.default.Matrix.prototype.mult=function(p){var u;if(p===this||p===this.mat4)u=this.copy().mat4;else if(p instanceof t.default.Matrix)u=p.mat4;else if(f(p))u=p;else{if(arguments.length!==16)return;u=arguments}var a=this.mat4[0],l=this.mat4[1],o=this.mat4[2],d=this.mat4[3];return this.mat4[0]=a*u[0]+l*u[4]+o*u[8]+d*u[12],this.mat4[1]=a*u[1]+l*u[5]+o*u[9]+d*u[13],this.mat4[2]=a*u[2]+l*u[6]+o*u[10]+d*u[14],this.mat4[3]=a*u[3]+l*u[7]+o*u[11]+d*u[15],a=this.mat4[4],l=this.mat4[5],o=this.mat4[6],d=this.mat4[7],this.mat4[4]=a*u[0]+l*u[4]+o*u[8]+d*u[12],this.mat4[5]=a*u[1]+l*u[5]+o*u[9]+d*u[13],this.mat4[6]=a*u[2]+l*u[6]+o*u[10]+d*u[14],this.mat4[7]=a*u[3]+l*u[7]+o*u[11]+d*u[15],a=this.mat4[8],l=this.mat4[9],o=this.mat4[10],d=this.mat4[11],this.mat4[8]=a*u[0]+l*u[4]+o*u[8]+d*u[12],this.mat4[9]=a*u[1]+l*u[5]+o*u[9]+d*u[13],this.mat4[10]=a*u[2]+l*u[6]+o*u[10]+d*u[14],this.mat4[11]=a*u[3]+l*u[7]+o*u[11]+d*u[15],a=this.mat4[12],l=this.mat4[13],o=this.mat4[14],d=this.mat4[15],this.mat4[12]=a*u[0]+l*u[4]+o*u[8]+d*u[12],this.mat4[13]=a*u[1]+l*u[5]+o*u[9]+d*u[13],this.mat4[14]=a*u[2]+l*u[6]+o*u[10]+d*u[14],this.mat4[15]=a*u[3]+l*u[7]+o*u[11]+d*u[15],this},t.default.Matrix.prototype.apply=function(p){var u;if(p===this||p===this.mat4)u=this.copy().mat4;else if(p instanceof t.default.Matrix)u=p.mat4;else if(f(p))u=p;else{if(arguments.length!==16)return;u=arguments}var a=this.mat4,l=a[0],o=a[4],d=a[8],_=a[12];a[0]=u[0]*l+u[1]*o+u[2]*d+u[3]*_,a[4]=u[4]*l+u[5]*o+u[6]*d+u[7]*_,a[8]=u[8]*l+u[9]*o+u[10]*d+u[11]*_,a[12]=u[12]*l+u[13]*o+u[14]*d+u[15]*_;var k=a[1],E=a[5],I=a[9],U=a[13];a[1]=u[0]*k+u[1]*E+u[2]*I+u[3]*U,a[5]=u[4]*k+u[5]*E+u[6]*I+u[7]*U,a[9]=u[8]*k+u[9]*E+u[10]*I+u[11]*U,a[13]=u[12]*k+u[13]*E+u[14]*I+u[15]*U;var V=a[2],$=a[6],B=a[10],se=a[14];a[2]=u[0]*V+u[1]*$+u[2]*B+u[3]*se,a[6]=u[4]*V+u[5]*$+u[6]*B+u[7]*se,a[10]=u[8]*V+u[9]*$+u[10]*B+u[11]*se,a[14]=u[12]*V+u[13]*$+u[14]*B+u[15]*se;var ne=a[3],oe=a[7],ge=a[11],J=a[15];return a[3]=u[0]*ne+u[1]*oe+u[2]*ge+u[3]*J,a[7]=u[4]*ne+u[5]*oe+u[6]*ge+u[7]*J,a[11]=u[8]*ne+u[9]*oe+u[10]*ge+u[11]*J,a[15]=u[12]*ne+u[13]*oe+u[14]*ge+u[15]*J,this},t.default.Matrix.prototype.scale=function(p,u,a){return p instanceof t.default.Vector?(u=p.y,a=p.z,p=p.x):p instanceof Array&&(u=p[1],a=p[2],p=p[0]),this.mat4[0]*=p,this.mat4[1]*=p,this.mat4[2]*=p,this.mat4[3]*=p,this.mat4[4]*=u,this.mat4[5]*=u,this.mat4[6]*=u,this.mat4[7]*=u,this.mat4[8]*=a,this.mat4[9]*=a,this.mat4[10]*=a,this.mat4[11]*=a,this},t.default.Matrix.prototype.rotate=function(p,u,a,l){u instanceof t.default.Vector?(a=u.y,l=u.z,u=u.x):u instanceof Array&&(a=u[1],l=u[2],u=u[0]);var o=Math.sqrt(u*u+a*a+l*l);u*=1/o,a*=1/o,l*=1/o;var d=this.mat4[0],_=this.mat4[1],k=this.mat4[2],E=this.mat4[3],I=this.mat4[4],U=this.mat4[5],V=this.mat4[6],$=this.mat4[7],B=this.mat4[8],se=this.mat4[9],ne=this.mat4[10],oe=this.mat4[11],ge=Math.sin(p),J=Math.cos(p),ue=1-J,he=u*u*ue+J,ye=a*u*ue+l*ge,Oe=l*u*ue-a*ge,de=u*a*ue-l*ge,Ne=a*a*ue+J,Le=l*a*ue+u*ge,Be=u*l*ue+a*ge,$e=a*l*ue-u*ge,ut=l*l*ue+J;return this.mat4[0]=d*he+I*ye+B*Oe,this.mat4[1]=_*he+U*ye+se*Oe,this.mat4[2]=k*he+V*ye+ne*Oe,this.mat4[3]=E*he+$*ye+oe*Oe,this.mat4[4]=d*de+I*Ne+B*Le,this.mat4[5]=_*de+U*Ne+se*Le,this.mat4[6]=k*de+V*Ne+ne*Le,this.mat4[7]=E*de+$*Ne+oe*Le,this.mat4[8]=d*Be+I*$e+B*ut,this.mat4[9]=_*Be+U*$e+se*ut,this.mat4[10]=k*Be+V*$e+ne*ut,this.mat4[11]=E*Be+$*$e+oe*ut,this},t.default.Matrix.prototype.translate=function(p){var u=p[0],a=p[1],l=p[2]||0;this.mat4[12]+=this.mat4[0]*u+this.mat4[4]*a+this.mat4[8]*l,this.mat4[13]+=this.mat4[1]*u+this.mat4[5]*a+this.mat4[9]*l,this.mat4[14]+=this.mat4[2]*u+this.mat4[6]*a+this.mat4[10]*l,this.mat4[15]+=this.mat4[3]*u+this.mat4[7]*a+this.mat4[11]*l},t.default.Matrix.prototype.rotateX=function(p){this.rotate(p,1,0,0)},t.default.Matrix.prototype.rotateY=function(p){this.rotate(p,0,1,0)},t.default.Matrix.prototype.rotateZ=function(p){this.rotate(p,0,0,1)},t.default.Matrix.prototype.perspective=function(p,u,a,l){var o=1/Math.tan(p/2),d=1/(a-l);return this.mat4[0]=o/u,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=o,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(l+a)*d,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*l*a*d,this.mat4[15]=0,this},t.default.Matrix.prototype.ortho=function(p,u,a,l,o,d){var _=1/(p-u),k=1/(a-l),E=1/(o-d);return this.mat4[0]=-2*_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*k,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*E,this.mat4[11]=0,this.mat4[12]=(p+u)*_,this.mat4[13]=(l+a)*k,this.mat4[14]=(d+o)*E,this.mat4[15]=1,this};var m=t.default.Matrix;S.default=m},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],315:[function(n,C,S){n("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.RenderBuffer=function(f,m,p,u,a,l){this.size=f,this.src=m,this.dst=p,this.attr=u,this._renderer=a,this.map=l},t.default.RenderBuffer.prototype._prepareBuffer=function(f,m){var p,u=m.attributes,a=this._renderer.GL;p=f.model?f.model:f;var l=u[this.attr];if(l){var o=f[this.dst],d=p[this.src];if(0<d.length){var _=!o;if(_&&(f[this.dst]=o=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,o),_||p.dirtyFlags[this.src]!==!1){var k=this.map,E=k?k(d):d;this._renderer._bindBuffer(o,a.ARRAY_BUFFER,E),p.dirtyFlags[this.src]=!1}m.enableAttrib(l,this.size)}}};var c=t.default.RenderBuffer;S.default=c},{"../core/main":264,"core-js/modules/es.array.map":161}],316:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}n("./p5.RenderBuffer"),c.default.RendererGL.prototype.beginShape=function(u){return this.immediateMode.shapeMode=u!==void 0?u:f.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},c.default.RendererGL.prototype.vertex=function(u,a){var l,o,d;l=o=d=0,arguments.length===3?l=arguments[2]:arguments.length===4?(o=arguments[2],d=arguments[3]):arguments.length===5&&(l=arguments[2],o=arguments[3],d=arguments[4]);var _=new c.default.Vector(u,a,l);this.immediateMode.geometry.vertices.push(_),this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var k=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(k[0],k[1],k[2],k[3]),this.textureMode===f.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(o/=this._tex.width,d/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(o,d),this.immediateMode._bezierVertex[0]=u,this.immediateMode._bezierVertex[1]=a,this.immediateMode._bezierVertex[2]=l,this.immediateMode._quadraticVertex[0]=u,this.immediateMode._quadraticVertex[1]=a,this.immediateMode._quadraticVertex[2]=l,this},c.default.RendererGL.prototype.normal=function(u,a,l){return u instanceof c.default.Vector?this._currentNormal=u:this._currentNormal=new c.default.Vector(u,a,l),this},c.default.RendererGL.prototype.endShape=function(u,a,l,o,d,_){return this.immediateMode.shapeMode===f.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},c.default.RendererGL.prototype._processVertices=function(u){if(this.immediateMode.geometry.vertices.length!==0){var a=this._doStroke&&this.drawMode!==f.TEXTURE,l=u===f.CLOSE;a&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,l),this.immediateMode.geometry._edgesToVertices());var o=this.immediateMode.shapeMode===f.TESS;(this.isBezier||this.isQuadratic||this.isCurve||o)&&this.immediateMode.shapeMode!==f.LINES&&this._tesselateShape()}},c.default.RendererGL.prototype._calculateEdges=function(u,a,l){var o=[],d=0;switch(u){case f.TRIANGLE_STRIP:for(d=0;d<a.length-2;d++)o.push([d,d+1]),o.push([d,d+2]);o.push([d,d+1]);break;case f.TRIANGLES:for(d=0;d<a.length-2;d+=3)o.push([d,d+1]),o.push([d+1,d+2]),o.push([d+2,d]);break;case f.LINES:for(d=0;d<a.length-1;d+=2)o.push([d,d+1]);break;default:for(d=0;d<a.length-1;d++)o.push([d,d+1])}return l&&o.push([a.length-1,0]),o},c.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=f.TRIANGLES;var u=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],a=this._triangulate(u);this.immediateMode.geometry.vertices=[];for(var l=0,o=a.length;l<o;l+=3)this.vertex(a[l],a[l+1],a[l+2])},c.default.RendererGL.prototype._drawImmediateFill=function(){var u=this.GL,a=this._getImmediateFillShader();this._setFillUniforms(a);var l=!0,o=!1,d=void 0;try{for(var _,k=this.immediateMode.buffers.fill[Symbol.iterator]();!(l=(_=k.next()).done);l=!0)_.value._prepareBuffer(this.immediateMode.geometry,a)}catch(E){o=!0,d=E}finally{try{l||k.return==null||k.return()}finally{if(o)throw d}}this.immediateMode.shapeMode!==f.LINE_STRIP&&this.immediateMode.shapeMode!==f.LINES||(this.immediateMode.shapeMode=f.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),u.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),a.unbindShader()},c.default.RendererGL.prototype._drawImmediateStroke=function(){var u=this.GL,a=this._getImmediateStrokeShader();this._setStrokeUniforms(a);var l=!0,o=!1,d=void 0;try{for(var _,k=this.immediateMode.buffers.stroke[Symbol.iterator]();!(l=(_=k.next()).done);l=!0)_.value._prepareBuffer(this.immediateMode.geometry,a)}catch(E){o=!0,d=E}finally{try{l||k.return==null||k.return()}finally{if(o)throw d}}this._applyColorBlend(this.curStrokeColor),u.drawArrays(u.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),a.unbindShader()};var p=c.default.RendererGL;S.default=p},{"../core/constants":253,"../core/main":264,"./p5.RenderBuffer":315,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/web.dom-collections.iterator":229}],317:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.some"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.uint16-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};n("./p5.RendererGL"),n("./p5.RenderBuffer");var c=0;t.default.RendererGL.prototype._initBufferDefaults=function(m){if(this._freeBuffers(m),1e3<++c){var p=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[p],c--}return this.retainedMode.geometry[m]={}},t.default.RendererGL.prototype._freeBuffers=function(m){var p=this.retainedMode.geometry[m];if(p){delete this.retainedMode.geometry[m],c--;var u=this.GL;p.indexBuffer&&u.deleteBuffer(p.indexBuffer),a(this.retainedMode.buffers.stroke),a(this.retainedMode.buffers.fill)}function a(l){var o=!0,d=!1,_=void 0;try{for(var k,E=l[Symbol.iterator]();!(o=(k=E.next()).done);o=!0){var I=k.value;p[I.dst]&&(u.deleteBuffer(p[I.dst]),p[I.dst]=null)}}catch(U){d=!0,_=U}finally{try{o||E.return==null||E.return()}finally{if(d)throw _}}}},t.default.RendererGL.prototype.createBuffers=function(m,p){var u=this.GL,a=this._initBufferDefaults(m);a.model=p;var l=a.indexBuffer;if(p.faces.length){l=l||(a.indexBuffer=u.createBuffer());var o=t.default.RendererGL.prototype._flatten(p.faces),d=o.some(function(k){return 65535<k}),_=d?Uint32Array:Uint16Array;this._bindBuffer(l,u.ELEMENT_ARRAY_BUFFER,o,_),a.indexBufferType=d?u.UNSIGNED_INT:u.UNSIGNED_SHORT,a.vertexCount=3*p.faces.length}else l&&(u.deleteBuffer(l),a.indexBuffer=null),a.vertexCount=p.vertices?p.vertices.length:0;return a.lineVertexCount=p.lineVertices?p.lineVertices.length:0,a},t.default.RendererGL.prototype.drawBuffers=function(m){var p=this.GL,u=this.retainedMode.geometry[m];if(this._doStroke&&0<u.lineVertexCount){var a=this._getRetainedStrokeShader();this._setStrokeUniforms(a);var l=!0,o=!1,d=void 0;try{for(var _,k=this.retainedMode.buffers.stroke[Symbol.iterator]();!(l=(_=k.next()).done);l=!0)_.value._prepareBuffer(u,a)}catch(se){o=!0,d=se}finally{try{l||k.return==null||k.return()}finally{if(o)throw d}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(p.TRIANGLES,m),a.unbindShader()}if(this._doFill){var E=this._getRetainedFillShader();this._setFillUniforms(E);var I=!0,U=!1,V=void 0;try{for(var $,B=this.retainedMode.buffers.fill[Symbol.iterator]();!(I=($=B.next()).done);I=!0)$.value._prepareBuffer(u,E)}catch(se){U=!0,V=se}finally{try{I||B.return==null||B.return()}finally{if(U)throw V}}u.indexBuffer&&this._bindBuffer(u.indexBuffer,p.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(p.TRIANGLES,m),E.unbindShader()}return this},t.default.RendererGL.prototype.drawBuffersScaled=function(m,p,u,a){var l=this.uMVMatrix.copy();try{this.uMVMatrix.scale(p,u,a),this.drawBuffers(m)}finally{this.uMVMatrix=l}},t.default.RendererGL.prototype._drawArrays=function(m,p){return this.GL.drawArrays(m,0,this.retainedMode.geometry[p].lineVertexCount),this},t.default.RendererGL.prototype._drawElements=function(m,p){var u=this.retainedMode.geometry[p],a=this.GL;if(u.indexBuffer){if(u.indexBufferType===a.UNSIGNED_INT&&!a.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");a.drawElements(a.TRIANGLES,u.vertexCount,u.indexBufferType,0)}else a.drawArrays(m||a.TRIANGLES,0,u.vertexCount)},t.default.RendererGL.prototype._drawPoints=function(m,p){var u=this.GL,a=this._getImmediatePointShader();this._setPointUniforms(a),this._bindBuffer(p,u.ARRAY_BUFFER,this._vToNArray(m),Float32Array,u.STATIC_DRAW),a.enableAttrib(a.attributes.aPosition,3),u.drawArrays(u.Points,0,m.length),a.unbindShader()};var f=t.default.RendererGL;S.default=f},{"../core/main":264,"./p5.RenderBuffer":315,"./p5.RendererGL":318,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":229}],318:[function(n,C,S){function g(d){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.float64-array"),n("core-js/modules/es.typed-array.int16-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint16-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t=p(n("../core/main")),c=function(d){if(d&&d.__esModule)return d;if(d===null||g(d)!=="object"&&typeof d!="function")return{default:d};var _=m();if(_&&_.has(d))return _.get(d);var k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in d)if(Object.prototype.hasOwnProperty.call(d,I)){var U=E?Object.getOwnPropertyDescriptor(d,I):null;U&&(U.get||U.set)?Object.defineProperty(k,I,U):k[I]=d[I]}return k.default=d,_&&_.set(d,k),k}(n("../core/constants")),f=p(n("libtess"));n("./p5.Shader"),n("./p5.Camera"),n("../core/p5.Renderer"),n("./p5.Matrix"),n("path");function m(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return m=function(){return d},d}function p(d){return d&&d.__esModule?d:{default:d}}function u(d){return function(_){if(Array.isArray(_)){for(var k=0,E=new Array(_.length);k<_.length;k++)E[k]=_[k];return E}}(d)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,l={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:a+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:a+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;
  }
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`};t.default.RendererGL=function(d,_,k,E){return t.default.Renderer.call(this,d,_,k),this._setAttributeDefaults(_),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=c.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=c.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new t.default.Matrix,this.uPMatrix=new t.default.Matrix,this.uNMatrix=new t.default.Matrix("mat3"),this._currentNormal=new t.default.Vector(0,0,1),this._curCamera=new t.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new t.default.Geometry,shapeMode:c.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=c.IMAGE,this.textureWrapX=c.CLAMP,this.textureWrapY=c.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},t.default.RendererGL.prototype=Object.create(t.default.Renderer.prototype),t.default.RendererGL.prototype._setAttributeDefaults=function(d){var _={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};d._glAttributes===null?d._glAttributes=_:d._glAttributes=Object.assign(_,d._glAttributes)},t.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var d=this.drawingContext;d.enable(d.DEPTH_TEST),d.depthFunc(d.LEQUAL),d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(_){throw _}},t.default.RendererGL.prototype._resetContext=function(d,_){var k=this.width,E=this.height,I=this.canvas.id,U=this._pInst instanceof t.default.Graphics;if(U){var V=this._pInst;V.canvas.parentNode.removeChild(V.canvas),V.canvas=document.createElement("canvas"),(V._pInst._userNode||document.body).appendChild(V.canvas),t.default.Element.call(V,V.canvas,V._pInst),V.width=k,V.height=E}else{var $=this.canvas;$&&$.parentNode.removeChild($),($=document.createElement("canvas")).id=I,this._pInst._userNode?this._pInst._userNode.appendChild($):document.body.appendChild($),this._pInst.canvas=$}var B=new t.default.RendererGL(this._pInst.canvas,this._pInst,!U);this._pInst._setProperty("_renderer",B),B.resize(k,E),B._applyDefaults(),U||this._pInst._elements.push(B),typeof _=="function"&&setTimeout(function(){_.apply(window._renderer,d)},0)},t.default.prototype.setAttributes=function(d,_){if(this._glAttributes!==void 0){var k=!0;if(_!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[d]!==_&&(this._glAttributes[d]=_,k=!1)):d instanceof Object&&this._glAttributes!==d&&(this._glAttributes=d,k=!1),this._renderer.isP3D&&!k){if(!this._setupDone){for(var E in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(E))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},t.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.background=function(){var d,_=(d=this._pInst).color.apply(d,arguments),k=_.levels[0]/255,E=_.levels[1]/255,I=_.levels[2]/255,U=_.levels[3]/255;this.GL.clearColor(k,E,I,U),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},t.default.RendererGL.prototype.fill=function(d,_,k,E){var I=t.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=I._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null},t.default.RendererGL.prototype.stroke=function(d,_,k,E){arguments[3]=255;var I=t.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=I._array},t.default.RendererGL.prototype.strokeCap=function(d){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.strokeJoin=function(d){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.filter=function(d){console.error("filter() does not work in WEBGL mode")},t.default.RendererGL.prototype.blendMode=function(d){d===c.DARKEST||d===c.LIGHTEST||d===c.ADD||d===c.BLEND||d===c.SUBTRACT||d===c.SCREEN||d===c.EXCLUSION||d===c.REPLACE||d===c.MULTIPLY||d===c.REMOVE?this.curBlendMode=d:d!==c.BURN&&d!==c.OVERLAY&&d!==c.HARD_LIGHT&&d!==c.SOFT_LIGHT&&d!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},t.default.RendererGL.prototype.erase=function(d,_){this._isErasing||(this._applyBlendMode(c.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,d/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,_/255])},t.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},t.default.RendererGL.prototype.strokeWeight=function(d){this.curStrokeWeight!==d&&(this.pointSize=d,this.curStrokeWeight=d)},t.default.RendererGL.prototype._getPixel=function(d,_){var k;return k=new Uint8Array(4),this.drawingContext.readPixels(d,_,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,k),[k[0],k[1],k[2],k[3]]},t.default.RendererGL.prototype.loadPixels=function(){var d=this._pixelsState;if(this._pInst._glAttributes.preserveDrawingBuffer===!0){var _=d.pixels,k=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;_ instanceof Uint8Array&&_.length===k||(_=new Uint8Array(k),this._pixelsState._setProperty("pixels",_));var E=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*E,this.height*E,this.GL.RGBA,this.GL.UNSIGNED_BYTE,_)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},t.default.RendererGL.prototype.geometryInHash=function(d){return this.retainedMode.geometry[d]!==void 0},t.default.RendererGL.prototype.resize=function(d,_){t.default.Renderer.prototype.resize.call(this,d,_),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var k=this._pixelsState;k.pixels!==void 0&&k._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},t.default.RendererGL.prototype.clear=function(){var d=(arguments.length<=0?void 0:arguments[0])||0,_=(arguments.length<=1?void 0:arguments[1])||0,k=(arguments.length<=2?void 0:arguments[2])||0,E=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(d,_,k,E),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.applyMatrix=function(d,_,k,E,I,U){arguments.length===16?t.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([d,_,0,0,k,E,0,0,0,0,1,0,I,U,0,1])},t.default.RendererGL.prototype.translate=function(d,_,k){return d instanceof t.default.Vector&&(k=d.z,_=d.y,d=d.x),this.uMVMatrix.translate([d,_,k]),this},t.default.RendererGL.prototype.scale=function(d,_,k){return this.uMVMatrix.scale(d,_,k),this},t.default.RendererGL.prototype.rotate=function(d,_){return _===void 0?this.rotateZ(d):(t.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},t.default.RendererGL.prototype.rotateX=function(d){return this.rotate(d,1,0,0),this},t.default.RendererGL.prototype.rotateY=function(d){return this.rotate(d,0,1,0),this},t.default.RendererGL.prototype.rotateZ=function(d){return this.rotate(d,0,0,1),this},t.default.RendererGL.prototype.push=function(){var d=t.default.Renderer.prototype.push.apply(this),_=d.properties;return _.uMVMatrix=this.uMVMatrix.copy(),_.uPMatrix=this.uPMatrix.copy(),_._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),_.ambientLightColors=this.ambientLightColors.slice(),_.specularColors=this.specularColors.slice(),_.directionalLightDirections=this.directionalLightDirections.slice(),_.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),_.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),_.pointLightPositions=this.pointLightPositions.slice(),_.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),_.pointLightSpecularColors=this.pointLightSpecularColors.slice(),_.spotLightPositions=this.spotLightPositions.slice(),_.spotLightDirections=this.spotLightDirections.slice(),_.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),_.spotLightSpecularColors=this.spotLightSpecularColors.slice(),_.spotLightAngle=this.spotLightAngle.slice(),_.spotLightConc=this.spotLightConc.slice(),_.userFillShader=this.userFillShader,_.userStrokeShader=this.userStrokeShader,_.userPointShader=this.userPointShader,_.pointSize=this.pointSize,_.curStrokeWeight=this.curStrokeWeight,_.curStrokeColor=this.curStrokeColor,_.curFillColor=this.curFillColor,_._useSpecularMaterial=this._useSpecularMaterial,_._useEmissiveMaterial=this._useEmissiveMaterial,_._useShininess=this._useShininess,_.constantAttenuation=this.constantAttenuation,_.linearAttenuation=this.linearAttenuation,_.quadraticAttenuation=this.quadraticAttenuation,_._enableLighting=this._enableLighting,_._useNormalMaterial=this._useNormalMaterial,_._tex=this._tex,_.drawMode=this.drawMode,_._currentNormal=this._currentNormal,d},t.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=t.default.Matrix.identity(this._pInst),this},t.default.RendererGL.prototype._getImmediateStrokeShader=function(){var d=this.userStrokeShader;return d&&d.isStrokeShader()?d:this._getLineShader()},t.default.RendererGL.prototype._getRetainedStrokeShader=t.default.RendererGL.prototype._getImmediateStrokeShader,t.default.RendererGL.prototype._getImmediateFillShader=function(){var d=this.userFillShader;if(this._useNormalMaterial&&(!d||!d.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!d||!d.isLightShader())return this._getLightShader()}else if(this._tex){if(!d||!d.isTextureShader())return this._getLightShader()}else if(!d)return this._getImmediateModeShader();return d},t.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var d=this.userFillShader;if(this._enableLighting){if(!d||!d.isLightShader())return this._getLightShader()}else if(this._tex){if(!d||!d.isTextureShader())return this._getLightShader()}else if(!d)return this._getColorShader();return d},t.default.RendererGL.prototype._getImmediatePointShader=function(){var d=this.userPointShader;return d&&d.isPointShader()?d:this._getPointShader()},t.default.RendererGL.prototype._getRetainedLineShader=t.default.RendererGL.prototype._getImmediateLineShader,t.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new t.default.Shader(this,l.phongVert,l.phongFrag):this._defaultLightShader=new t.default.Shader(this,l.lightVert,l.lightTextureFrag)),this._defaultLightShader},t.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new t.default.Shader(this,l.immediateVert,l.vertexColorFrag)),this._defaultImmediateModeShader},t.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new t.default.Shader(this,l.normalVert,l.normalFrag)),this._defaultNormalShader},t.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new t.default.Shader(this,l.normalVert,l.basicFrag)),this._defaultColorShader},t.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new t.default.Shader(this,l.pointVert,l.pointFrag)),this._defaultPointShader},t.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new t.default.Shader(this,l.lineVert,l.lineFrag)),this._defaultLineShader},t.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new t.default.Shader(this,l.fontVert,l.fontFrag)),this._defaultFontShader},t.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var d=new t.default.Image(1,1);d.set(0,0,255),this._emptyTexture=new t.default.Texture(this,d)}return this._emptyTexture},t.default.RendererGL.prototype.getTexture=function(d){var _=this.textures,k=!0,E=!1,I=void 0;try{for(var U,V=_[Symbol.iterator]();!(k=(U=V.next()).done);k=!0){var $=U.value;if($.src===d)return $}}catch(se){E=!0,I=se}finally{try{k||V.return==null||V.return()}finally{if(E)throw I}}var B=new t.default.Texture(this,d);return _.push(B),B},t.default.RendererGL.prototype._setStrokeUniforms=function(d){d.bindShader(),d.setUniform("uMaterialColor",this.curStrokeColor),d.setUniform("uStrokeWeight",this.curStrokeWeight)},t.default.RendererGL.prototype._setFillUniforms=function(d){d.bindShader(),d.setUniform("uMaterialColor",this.curFillColor),d.setUniform("isTexture",!!this._tex),this._tex&&d.setUniform("uSampler",this._tex),d.setUniform("uTint",this._tint),d.setUniform("uSpecular",this._useSpecularMaterial),d.setUniform("uEmissive",this._useEmissiveMaterial),d.setUniform("uShininess",this._useShininess),d.setUniform("uUseLighting",this._enableLighting);var _=this.pointLightDiffuseColors.length/3;d.setUniform("uPointLightCount",_),d.setUniform("uPointLightLocation",this.pointLightPositions),d.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),d.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var k=this.directionalLightDiffuseColors.length/3;d.setUniform("uDirectionalLightCount",k),d.setUniform("uLightingDirection",this.directionalLightDirections),d.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),d.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var E=this.ambientLightColors.length/3;d.setUniform("uAmbientLightCount",E),d.setUniform("uAmbientColor",this.ambientLightColors);var I=this.spotLightDiffuseColors.length/3;d.setUniform("uSpotLightCount",I),d.setUniform("uSpotLightAngle",this.spotLightAngle),d.setUniform("uSpotLightConc",this.spotLightConc),d.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),d.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),d.setUniform("uSpotLightLocation",this.spotLightPositions),d.setUniform("uSpotLightDirection",this.spotLightDirections),d.setUniform("uConstantAttenuation",this.constantAttenuation),d.setUniform("uLinearAttenuation",this.linearAttenuation),d.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),d.bindTextures()},t.default.RendererGL.prototype._setPointUniforms=function(d){d.bindShader(),d.setUniform("uMaterialColor",this.curStrokeColor),d.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},t.default.RendererGL.prototype._bindBuffer=function(d,_,k,E,I){if(_=_||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(_,d),k!==void 0){var U=new(E||Float32Array)(k);this.GL.bufferData(_,U,I||this.GL.STATIC_DRAW)}},t.default.RendererGL.prototype._arraysEqual=function(d,_){var k=d.length;if(k!==_.length)return!1;for(var E=0;E<k;E++)if(d[E]!==_[E])return!1;return!0},t.default.RendererGL.prototype._isTypedArray=function(d){return d instanceof Uint32Array},t.default.RendererGL.prototype._flatten=function(d){if(d.length===0)return[];if(2e4<d.length){var _,k=Object.prototype.toString,E=[],I=d.slice();for(_=I.pop();k.call(_)==="[object Array]"?I.push.apply(I,u(_)):E.push(_),I.length&&(_=I.pop())!==void 0;);return E.reverse(),E}var U;return(U=[]).concat.apply(U,u(d))},t.default.RendererGL.prototype._vToNArray=function(d){var _=[],k=!0,E=!1,I=void 0;try{for(var U,V=d[Symbol.iterator]();!(k=(U=V.next()).done);k=!0){var $=U.value;_.push($.x,$.y,$.z)}}catch(B){E=!0,I=B}finally{try{k||V.return==null||V.return()}finally{if(E)throw I}}return _},t.default.prototype._assert3d=function(d){if(!this._renderer.isP3D)throw new Error("".concat(d,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},t.default.RendererGL.prototype._initTessy=function(){var d=new f.default.GluTesselator;return d.gluTessCallback(f.default.gluEnum.GLU_TESS_VERTEX_DATA,function(_,k){k[k.length]=_[0],k[k.length]=_[1],k[k.length]=_[2]}),d.gluTessCallback(f.default.gluEnum.GLU_TESS_BEGIN,function(_){_!==f.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(_))}),d.gluTessCallback(f.default.gluEnum.GLU_TESS_ERROR,function(_){console.log("error callback"),console.log("error number: ".concat(_))}),d.gluTessCallback(f.default.gluEnum.GLU_TESS_COMBINE,function(_,k,E){return[_[0],_[1],_[2]]}),d.gluTessCallback(f.default.gluEnum.GLU_TESS_EDGE_FLAG,function(_){}),d},t.default.RendererGL.prototype._triangulate=function(d){this._tessy.gluTessNormal(0,0,1);var _=[];this._tessy.gluTessBeginPolygon(_);for(var k=0;k<d.length;k++){this._tessy.gluTessBeginContour();for(var E=d[k],I=0;I<E.length;I+=3){var U=[E[I],E[I+1],E[I+2]];this._tessy.gluTessVertex(U,U)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),_},t.default.RendererGL.prototype._bezierCoefficients=function(d){var _=d*d,k=1-d,E=k*k;return[E*k,3*E*d,3*k*_,_*d]},t.default.RendererGL.prototype._quadraticCoefficients=function(d){var _=1-d;return[_*_,2*_*d,d*d]},t.default.RendererGL.prototype._bezierToCatmull=function(d){return[d[1],d[1]+(d[2]-d[0])/this._curveTightness,d[2]-(d[3]-d[1])/this._curveTightness,d[2]]};var o=t.default.RendererGL;S.default=o},{"../core/constants":253,"../core/main":264,"../core/p5.Renderer":267,"./p5.Camera":312,"./p5.Matrix":314,"./p5.Shader":319,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,libtess:237,path:240}],319:[function(n,C,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var g,t=(g=n("../core/main"))&&g.__esModule?g:{default:g};t.default.Shader=function(f,m,p){this._renderer=f,this._vertSrc=m,this._fragSrc=p,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},t.default.Shader.prototype.init=function(){if(this._glProgram===0){var f=this._renderer.GL;if(this._vertShader=f.createShader(f.VERTEX_SHADER),f.shaderSource(this._vertShader,this._vertSrc),f.compileShader(this._vertShader),!f.getShaderParameter(this._vertShader,f.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(f.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=f.createShader(f.FRAGMENT_SHADER),f.shaderSource(this._fragShader,this._fragSrc),f.compileShader(this._fragShader),!f.getShaderParameter(this._fragShader,f.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(f.getShaderInfoLog(this._fragShader))),null;this._glProgram=f.createProgram(),f.attachShader(this._glProgram,this._vertShader),f.attachShader(this._glProgram,this._fragShader),f.linkProgram(this._glProgram),f.getProgramParameter(this._glProgram,f.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(f.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},t.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var f=this._renderer.GL,m=f.getProgramParameter(this._glProgram,f.ACTIVE_ATTRIBUTES),p=0;p<m;++p){var u=f.getActiveAttrib(this._glProgram,p),a=u.name,l=f.getAttribLocation(this._glProgram,a),o={};o.name=a,o.location=l,o.index=p,o.type=u.type,o.size=u.size,this.attributes[a]=o}this._loadedAttributes=!0}},t.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var f=this._renderer.GL,m=f.getProgramParameter(this._glProgram,f.ACTIVE_UNIFORMS),p=0,u=0;u<m;++u){var a=f.getActiveUniform(this._glProgram,u),l={};l.location=f.getUniformLocation(this._glProgram,a.name),l.size=a.size;var o=a.name;1<a.size&&(o=o.substring(0,o.indexOf("[0]"))),l.name=o,l.type=a.type,l._cachedData=void 0,l.type===f.SAMPLER_2D&&(l.samplerIndex=p,p++,this.samplers.push(l)),l.isArray=1<a.size||l.type===f.FLOAT_MAT3||l.type===f.FLOAT_MAT4||l.type===f.FLOAT_VEC2||l.type===f.FLOAT_VEC3||l.type===f.FLOAT_VEC4||l.type===f.INT_VEC2||l.type===f.INT_VEC4||l.type===f.INT_VEC3,this.uniforms[o]=l}this._loadedUniforms=!0}},t.default.Shader.prototype.compile=function(){},t.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},t.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},t.default.Shader.prototype.bindTextures=function(){var f=this._renderer.GL,m=!0,p=!1,u=void 0;try{for(var a,l=this.samplers[Symbol.iterator]();!(m=(a=l.next()).done);m=!0){var o=a.value,d=o.texture;d===void 0&&(d=this._renderer._getEmptyTexture()),f.activeTexture(f.TEXTURE0+o.samplerIndex),d.bindTexture(),d.update(),f.uniform1i(o.location,o.samplerIndex)}}catch(_){p=!0,u=_}finally{try{m||l.return==null||l.return()}finally{if(p)throw u}}},t.default.Shader.prototype.updateTextures=function(){var f=!0,m=!1,p=void 0;try{for(var u,a=this.samplers[Symbol.iterator]();!(f=(u=a.next()).done);f=!0){var l=u.value.texture;l&&l.update()}}catch(o){m=!0,p=o}finally{try{f||a.return==null||a.return()}finally{if(m)throw p}}},t.default.Shader.prototype.unbindTextures=function(){},t.default.Shader.prototype._setMatrixUniforms=function(){var f=this._renderer._curCamera.cameraMatrix,m=this._renderer.uPMatrix,p=this._renderer.uMVMatrix,u=p.copy();u.mult(m),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",f.mat4),this.setUniform("uProjectionMatrix",m.mat4),this.setUniform("uModelViewMatrix",p.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},t.default.Shader.prototype.useProgram=function(){var f=this._renderer.GL;return this._renderer._curShader!==this&&(f.useProgram(this._glProgram),this._renderer._curShader=this),this},t.default.Shader.prototype.setUniform=function(f,m){var p=this.uniforms[f];if(p){var u=this._renderer.GL;if(p.isArray){if(p._cachedData&&this._renderer._arraysEqual(p._cachedData,m))return;p._cachedData=m.slice(0)}else{if(p._cachedData&&p._cachedData===m)return;Array.isArray(m)?p._cachedData=m.slice(0):p._cachedData=m}var a=p.location;switch(this.useProgram(),p.type){case u.BOOL:m===!0?u.uniform1i(a,1):u.uniform1i(a,0);break;case u.INT:1<p.size?m.length&&u.uniform1iv(a,m):u.uniform1i(a,m);break;case u.FLOAT:1<p.size?m.length&&u.uniform1fv(a,m):u.uniform1f(a,m);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(a,!1,m);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(a,!1,m);break;case u.FLOAT_VEC2:1<p.size?m.length&&u.uniform2fv(a,m):u.uniform2f(a,m[0],m[1]);break;case u.FLOAT_VEC3:1<p.size?m.length&&u.uniform3fv(a,m):u.uniform3f(a,m[0],m[1],m[2]);break;case u.FLOAT_VEC4:1<p.size?m.length&&u.uniform4fv(a,m):u.uniform4f(a,m[0],m[1],m[2],m[3]);break;case u.INT_VEC2:1<p.size?m.length&&u.uniform2iv(a,m):u.uniform2i(a,m[0],m[1]);break;case u.INT_VEC3:1<p.size?m.length&&u.uniform3iv(a,m):u.uniform3i(a,m[0],m[1],m[2]);break;case u.INT_VEC4:1<p.size?m.length&&u.uniform4iv(a,m):u.uniform4i(a,m[0],m[1],m[2],m[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+p.samplerIndex),p.texture=m instanceof t.default.Texture?m:this._renderer.getTexture(m),u.uniform1i(a,p.samplerIndex)}return this}},t.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},t.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},t.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},t.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},t.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},t.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},t.default.Shader.prototype.enableAttrib=function(f,m,p,u,a,l){if(f){var o=f.location;if(o!==-1){var d=this._renderer.GL;f.enabled||(d.enableVertexAttribArray(o),f.enabled=!0),this._renderer.GL.vertexAttribPointer(o,m,p||d.FLOAT,u||!1,a||0,l||0)}}return this};var c=t.default.Shader;S.default=c},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],320:[function(n,C,S){function g(u){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(u){if(u&&u.__esModule)return u;if(u===null||g(u)!=="object"&&typeof u!="function")return{default:u};var a=m();if(a&&a.has(u))return a.get(u);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var _=o?Object.getOwnPropertyDescriptor(u,d):null;_&&(_.get||_.set)?Object.defineProperty(l,d,_):l[d]=u[d]}return l.default=u,a&&a.set(u,l),l}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return m=function(){return u},u}c.default.Texture=function(u,a,l){this._renderer=u;var o=this._renderer.GL;(l=l||{}).dataType===o.FLOAT&&(o.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),o.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=a,this.glTex=void 0,this.glTarget=o.TEXTURE_2D,this.glFormat=l.format||o.RGBA,this.mipmaps=!1,this.glMinFilter=l.minFilter||o.LINEAR,this.glMagFilter=l.magFilter||o.LINEAR,this.glWrapS=l.wrapS||o.CLAMP_TO_EDGE,this.glWrapT=l.wrapT||o.CLAMP_TO_EDGE,this.glDataType=l.dataType||o.UNSIGNED_BYTE,this.isSrcMediaElement=c.default.MediaElement!==void 0&&a instanceof c.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=c.default.Element!==void 0&&a instanceof c.default.Element&&!(a instanceof c.default.Graphics),this.isSrcP5Image=a instanceof c.default.Image,this.isSrcP5Graphics=a instanceof c.default.Graphics,this.isImageData=typeof ImageData<"u"&&a instanceof ImageData;var d=this._getTextureDataFromSource();return this.width=d.width,this.height=d.height,this.init(d),this},c.default.Texture.prototype._getTextureDataFromSource=function(){var u;return this.isSrcP5Image?u=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?u=this.src.elt:this.isImageData&&(u=this.src),u},c.default.Texture.prototype.init=function(u){var a=this._renderer.GL;if(this.glTex=a.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.glMagFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){var l=new Uint8Array([1,1,1,1]);a.texImage2D(this.glTarget,0,a.RGBA,1,1,0,this.glFormat,this.glDataType,l)}else a.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,u)},c.default.Texture.prototype.update=function(){var u=this.src;if(u.width===0||u.height===0)return!1;var a=this._getTextureDataFromSource(),l=!1,o=this._renderer.GL;return a.width!==this.width||a.height!==this.height?(l=!0,this.width=a.width,this.height=a.height,this.isSrcP5Image?u.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&u.setModified(!0)):this.isSrcP5Image?u.isModified()&&(l=!0,u.setModified(!1)):this.isSrcMediaElement?u.isModified()?(l=!0,u.setModified(!1)):u.loadedmetadata&&this._videoPrevUpdateTime!==u.time()&&(this._videoPrevUpdateTime=u.time(),l=!0):this.isImageData?u._dirty&&(l=!(u._dirty=!1)):l=!0,l&&(this.bindTexture(),o.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,a)),l},c.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},c.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},c.default.Texture.prototype.setInterpolation=function(u,a){var l=this._renderer.GL;u===f.NEAREST?this.glMinFilter=l.NEAREST:this.glMinFilter=l.LINEAR,a===f.NEAREST?this.glMagFilter=l.NEAREST:this.glMagFilter=l.LINEAR,this.bindTexture(),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.glMinFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},c.default.Texture.prototype.setWrapMode=function(u,a){function l(k){return(k&k-1)==0}var o=this._renderer.GL,d=l(this.width),_=l(this.height);u===f.REPEAT?d&&_?this.glWrapS=o.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=o.CLAMP_TO_EDGE):u===f.MIRROR?d&&_?this.glWrapS=o.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=o.CLAMP_TO_EDGE):this.glWrapS=o.CLAMP_TO_EDGE,a===f.REPEAT?d&&_?this.glWrapT=o.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=o.CLAMP_TO_EDGE):a===f.MIRROR?d&&_?this.glWrapT=o.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=o.CLAMP_TO_EDGE):this.glWrapT=o.CLAMP_TO_EDGE,this.bindTexture(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,this.glWrapS),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var p=c.default.Texture;S.default=p},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],321:[function(n,C,S){function g(o){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(o)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.sub"),n("core-js/modules/web.dom-collections.iterator");var t,c=(t=n("../core/main"))&&t.__esModule?t:{default:t},f=function(o){if(o&&o.__esModule)return o;if(o===null||g(o)!=="object"&&typeof o!="function")return{default:o};var d=m();if(d&&d.has(o))return d.get(o);var _={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in o)if(Object.prototype.hasOwnProperty.call(o,E)){var I=k?Object.getOwnPropertyDescriptor(o,E):null;I&&(I.get||I.set)?Object.defineProperty(_,E,I):_[E]=o[E]}return _.default=o,d&&d.set(o,_),_}(n("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}n("./p5.Shader"),n("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){},c.default.RendererGL.prototype.textWidth=function(o){return this._isOpenType()?this._textFont._textWidth(o,this._textSize):0};function p(o,d){this.width=o,this.height=d,this.infos=[],this.findImage=function(_){var k,E,I=this.width*this.height;if(I<_)throw new Error("font is too complex to render in 3D");for(var U=this.infos.length-1;0<=U;--U){var V=this.infos[U];if(V.index+_<I){E=(k=V).imageData;break}}if(!k){try{E=new ImageData(this.width,this.height)}catch{var $=document.getElementsByTagName("canvas")[0],B=!$;$||(($=document.createElement("canvas")).style.display="none",document.body.appendChild($));var se=$.getContext("2d");se&&(E=se.createImageData(this.width,this.height)),B&&document.body.removeChild($)}k={index:0,imageData:E},this.infos.push(k)}var ne=k.index;return k.index+=_,E._dirty=!0,{imageData:E,index:ne}}}function u(o,d,_,k,E){var I=o.imageData.data,U=4*o.index++;I[U++]=d,I[U++]=_,I[U++]=k,I[U++]=E}function a(o){this.font=o,this.strokeImageInfos=new p(64,64),this.colDimImageInfos=new p(64,64),this.rowDimImageInfos=new p(64,64),this.colCellImageInfos=new p(64,64),this.rowCellImageInfos=new p(64,64),this.glyphInfos={},this.getGlyphInfo=function(d){var _=this.glyphInfos[d.index];if(_)return _;var k,E=d.getBoundingBox(),I=E.x1,U=E.y1,V=E.x2-I,$=E.y2-U,B=d.path.commands;if(V==0||$==0||!B.length)return this.glyphInfos[d.index]={};var se,ne,oe,ge,J=[],ue=[],he=[];for(k=8;0<=k;--k)he.push([]);for(k=8;0<=k;--k)ue.push([]);function ye(it,mt,gt){var St=J.length;function bt(x,b,T){for(var O=x.length;0<O--;){var L=x[O];L<b&&(b=L),T<L&&(T=L)}return{min:b,max:T}}J.push(gt);for(var Et=bt(it,1,0),i=Math.max(Math.floor(9*Et.min),0),e=Math.min(Math.ceil(9*Et.max),9),r=i;r<e;++r)he[r].push(St);for(var s=bt(mt,1,0),h=Math.max(Math.floor(9*s.min),0),y=Math.min(Math.ceil(9*s.max),9),v=h;v<y;++v)ue[v].push(St)}function Oe(it){return(mt=(St=255)*it)<(gt=0)?gt:St<mt?St:mt;var mt,gt,St}function de(it,mt,gt,St){this.p0=it,this.c0=mt,this.c1=gt,this.p1=St,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(bt){var Et=c.default.Vector.lerp(this.p0,this.c0,bt),i=c.default.Vector.lerp(this.c0,this.c1,bt),e=c.default.Vector.lerp(Et,i,bt);this.c1=c.default.Vector.lerp(this.c1,this.p1,bt),this.c0=c.default.Vector.lerp(i,this.c1,bt);var r=c.default.Vector.lerp(e,this.c0,bt),s=new de(this.p0,Et,e,r);return this.p0=r,s},this.splitInflections=function(){var bt=c.default.Vector.sub(this.c0,this.p0),Et=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),bt),i=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),bt),c.default.Vector.mult(Et,2)),e=[],r=Et.x*i.y-Et.y*i.x;if(r!==0){var s=bt.x*i.y-bt.y*i.x,h=bt.x*Et.y-bt.y*Et.x,y=s*s-4*r*h;if(0<=y){r<0&&(r=-r,s=-s,h=-h);var v=Math.sqrt(y),x=(-s-v)/(2*r),b=(-s+v)/(2*r);0<x&&x<1&&(e.push(this.split(x)),b=1-(1-b)/(1-x)),0<b&&b<1&&e.push(this.split(b))}}return e.push(this),e}}function Ne(it,mt,gt,St,bt,Et,i,e){var r=new de(new c.default.Vector(it,mt),new c.default.Vector(gt,St),new c.default.Vector(bt,Et),new c.default.Vector(i,e)).splitInflections(),s=[],h=30/l,y=!0,v=!1,x=void 0;try{for(var b,T=r[Symbol.iterator]();!(y=(b=T.next()).done);y=!0){for(var O=b.value,L=[],D=void 0;!(.125<=(D=h/O.quadError()));){var N=Math.pow(D,.3333333333333333),R=O.split(N),X=O.split(1-N/(1-N));s.push(R),L.push(O),O=X}D<1&&s.push(O.split(.5)),s.push(O),Array.prototype.push.apply(s,L.reverse())}}catch(Y){v=!0,x=Y}finally{try{y||T.return==null||T.return()}finally{if(v)throw x}}return s}function Le(it,mt,gt,St){ye([it,gt],[mt,St],{x:it,y:mt,cx:(it+gt)/2,cy:(mt+St)/2})}function Be(it,mt,gt,St){return Math.abs(gt-it)<1e-5&&Math.abs(St-mt)<1e-5}var $e=!0,ut=!1,Ke=void 0;try{for(var _t,at=B[Symbol.iterator]();!($e=(_t=at.next()).done);$e=!0){var Fe=_t.value,ae=(Fe.x-I)/V,me=(Fe.y-U)/$;if(!Be(se,ne,ae,me)){switch(Fe.type){case"M":oe=ae,ge=me;break;case"L":Le(se,ne,ae,me);break;case"Q":var Te=(Fe.x1-I)/V,Me=(Fe.y1-U)/$;ye([se,ae,Te],[ne,me,Me],{x:se,y:ne,cx:Te,cy:Me});break;case"Z":Be(se,ne,oe,ge)?J.push({x:se,y:ne}):(Le(se,ne,oe,ge),J.push({x:oe,y:ge}));break;case"C":for(var Ve=Ne(se,ne,(Fe.x1-I)/V,(Fe.y1-U)/$,(Fe.x2-I)/V,(Fe.y2-U)/$,ae,me),je=0;je<Ve.length;je++){var Pe=Ve[je].toQuadratic();ye([Pe.x,Pe.x1,Pe.cx],[Pe.y,Pe.y1,Pe.cy],Pe)}break;default:throw new Error("unknown command type: ".concat(Fe.type))}se=ae,ne=me}}}catch(it){ut=!0,Ke=it}finally{try{$e||at.return==null||at.return()}finally{if(ut)throw Ke}}for(var _e=J.length,He=this.strokeImageInfos.findImage(_e),ze=He.index,Ge=0;Ge<_e;++Ge){var st=J[Ge];u(He,Oe(st.x),Oe(st.y),Oe(st.cx),Oe(st.cy))}function ht(it,mt,gt){for(var St=it.length,bt=mt.findImage(St),Et=bt.index,i=0,e=0;e<St;++e)i+=it[e].length;for(var r=gt.findImage(i),s=0;s<St;++s){var h=it[s],y=h.length,v=r.index;u(bt,v>>7,127&v,y>>7,127&y);for(var x=0;x<y;++x){var b=h[x]+ze;u(r,b>>7,127&b,0,0)}}return{cellImageInfo:r,dimOffset:Et,dimImageInfo:bt}}return(_=this.glyphInfos[d.index]={glyph:d,uGlyphRect:[E.x1,-E.y1,E.x2,-E.y2],strokeImageInfo:He,strokes:J,colInfo:ht(he,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ht(ue,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[_.colInfo.dimOffset,_.rowInfo.dimOffset],_}}var l=Math.sqrt(3);c.default.RendererGL.prototype._renderText=function(o,d,_,k,E){if(this._textFont&&typeof this._textFont!="string"){if(!(E<=k)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),o;o.push();var I=this._doStroke,U=this.drawMode;this._doStroke=!1,this.drawMode=f.TEXTURE;var V=this._textFont.font,$=this._textFont._fontInfo;$=$||(this._textFont._fontInfo=new a(V));var B=this._textFont._handleAlignment(this,d,_,k),se=this._textSize/V.unitsPerEm;this.translate(B.x,B.y,0),this.scale(se,se,1);var ne=this.GL,oe=!this._defaultFontShader,ge=this._getFontShader();ge.init(),ge.bindShader(),oe&&(ge.setUniform("uGridImageSize",[64,64]),ge.setUniform("uCellsImageSize",[64,64]),ge.setUniform("uStrokeImageSize",[64,64]),ge.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var J=this.retainedMode.geometry.glyph;if(!J){var ue=this._textGeom=new c.default.Geometry(1,1,function(){for(var Ve=0;Ve<=1;Ve++)for(var je=0;je<=1;je++)this.vertices.push(new c.default.Vector(je,Ve,0)),this.uvs.push(je,Ve)});ue.computeFaces().computeNormals(),J=this.createBuffers("glyph",ue)}var he=!0,ye=!1,Oe=void 0;try{for(var de,Ne=this.retainedMode.buffers.text[Symbol.iterator]();!(he=(de=Ne.next()).done);he=!0)de.value._prepareBuffer(J,ge)}catch(Ve){ye=!0,Oe=Ve}finally{try{he||Ne.return==null||Ne.return()}finally{if(ye)throw Oe}}this._bindBuffer(J.indexBuffer,ne.ELEMENT_ARRAY_BUFFER),ge.setUniform("uMaterialColor",this.curFillColor);try{var Le=0,Be=null,$e=V.stringToGlyphs(d),ut=!0,Ke=!1,_t=void 0;try{for(var at,Fe=$e[Symbol.iterator]();!(ut=(at=Fe.next()).done);ut=!0){var ae=at.value;Be&&(Le+=V.getKerningValue(Be,ae));var me=$.getGlyphInfo(ae);if(me.uGlyphRect){var Te=me.rowInfo,Me=me.colInfo;ge.setUniform("uSamplerStrokes",me.strokeImageInfo.imageData),ge.setUniform("uSamplerRowStrokes",Te.cellImageInfo.imageData),ge.setUniform("uSamplerRows",Te.dimImageInfo.imageData),ge.setUniform("uSamplerColStrokes",Me.cellImageInfo.imageData),ge.setUniform("uSamplerCols",Me.dimImageInfo.imageData),ge.setUniform("uGridOffset",me.uGridOffset),ge.setUniform("uGlyphRect",me.uGlyphRect),ge.setUniform("uGlyphOffset",Le),ge.bindTextures(),ne.drawElements(ne.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}Le+=ae.advanceWidth,Be=ae}}catch(Ve){Ke=!0,_t=Ve}finally{try{ut||Fe.return==null||Fe.return()}finally{if(Ke)throw _t}}}finally{ge.unbindShader(),this._doStroke=I,this.drawMode=U,o.pop()}return o}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":253,"../core/main":264,"./p5.RendererGL.Retained":317,"./p5.Shader":319,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}]},{},[248])(248)});(function(P){var n={};function C(S){if(n[S])return n[S].exports;var g=n[S]={i:S,l:!1,exports:{}};return P[S].call(g.exports,g,g.exports,C),g.l=!0,g.exports}C.m=P,C.c=n,C.d=function(S,g,t){C.o(S,g)||Object.defineProperty(S,g,{enumerable:!0,get:t})},C.r=function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},C.t=function(S,g){if(1&g&&(S=C(S)),8&g||4&g&&typeof S=="object"&&S&&S.__esModule)return S;var t=Object.create(null);if(C.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:S}),2&g&&typeof S!="string")for(var c in S)C.d(t,c,function(f){return S[f]}.bind(null,c));return t},C.n=function(S){var g=S&&S.__esModule?function(){return S.default}:function(){return S};return C.d(g,"a",g),g},C.o=function(S,g){return Object.prototype.hasOwnProperty.call(S,g)},C.p="",C(C.s=40)})([function(P,n,C){var S;(S=function(){function g(c,f){this.isUndef(c)||c===1?this.input=this.context.createGain():1<c&&(this.input=new Array(c)),this.isUndef(f)||f===1?this.output=this.context.createGain():1<f&&(this.output=new Array(c))}var t;return g.prototype.set=function(c,f,m){if(this.isObject(c))m=f;else if(this.isString(c)){var p={};p[c]=f,c=p}e:for(var u in c){f=c[u];var a=this;if(u.indexOf(".")!==-1){for(var l=u.split("."),o=0;o<l.length-1;o++)if((a=a[l[o]])instanceof g){l.splice(0,o+1);var d=l.join(".");a.set(d,f);continue e}u=l[l.length-1]}var _=a[u];this.isUndef(_)||(g.Signal&&_ instanceof g.Signal||g.Param&&_ instanceof g.Param?_.value!==f&&(this.isUndef(m)?_.value=f:_.rampTo(f,m)):_ instanceof AudioParam?_.value!==f&&(_.value=f):_ instanceof g?_.set(f):_!==f&&(a[u]=f))}return this},g.prototype.get=function(c){this.isUndef(c)?c=this._collectDefaults(this.constructor):this.isString(c)&&(c=[c]);for(var f={},m=0;m<c.length;m++){var p=c[m],u=this,a=f;if(p.indexOf(".")!==-1){for(var l=p.split("."),o=0;o<l.length-1;o++){var d=l[o];a[d]=a[d]||{},a=a[d],u=u[d]}p=l[l.length-1]}var _=u[p];this.isObject(c[p])?a[p]=_.get():g.Signal&&_ instanceof g.Signal||g.Param&&_ instanceof g.Param||_ instanceof AudioParam?a[p]=_.value:_ instanceof g?a[p]=_.get():this.isFunction(_)||this.isUndef(_)||(a[p]=_)}return f},g.prototype._collectDefaults=function(c){var f=[];if(this.isUndef(c.defaults)||(f=Object.keys(c.defaults)),!this.isUndef(c._super))for(var m=this._collectDefaults(c._super),p=0;p<m.length;p++)f.indexOf(m[p])===-1&&f.push(m[p]);return f},g.prototype.toString=function(){for(var c in g){var f=c[0].match(/^[A-Z]$/),m=g[c]===this.constructor;if(this.isFunction(g[c])&&f&&m)return c}return"Tone"},Object.defineProperty(g.prototype,"numberOfInputs",{get:function(){return this.input?this.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(g.prototype,"numberOfOutputs",{get:function(){return this.output?this.isArray(this.output)?this.output.length:1:0}}),g.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this},g.prototype.connect=function(c,f,m){return Array.isArray(this.output)?(f=this.defaultArg(f,0),this.output[f].connect(c,0,m)):this.output.connect(c,f,m),this},g.prototype.disconnect=function(c,f,m){this.isArray(this.output)?this.isNumber(c)?this.output[c].disconnect():(f=this.defaultArg(f,0),this.output[f].disconnect(c,0,m)):this.output.disconnect.apply(this.output,arguments)},g.prototype.connectSeries=function(){if(1<arguments.length)for(var c=arguments[0],f=1;f<arguments.length;f++){var m=arguments[f];c.connect(m),c=m}return this},g.prototype.chain=function(){if(0<arguments.length)for(var c=this,f=0;f<arguments.length;f++){var m=arguments[f];c.connect(m),c=m}return this},g.prototype.fan=function(){if(0<arguments.length)for(var c=0;c<arguments.length;c++)this.connect(arguments[c]);return this},AudioNode.prototype.chain=g.prototype.chain,AudioNode.prototype.fan=g.prototype.fan,g.prototype.defaultArg=function(c,f){if(this.isObject(c)&&this.isObject(f)){var m={};for(var p in c)m[p]=this.defaultArg(f[p],c[p]);for(var u in f)m[u]=this.defaultArg(c[u],f[u]);return m}return this.isUndef(c)?f:c},g.prototype.optionsObject=function(c,f,m){var p={};if(c.length===1&&this.isObject(c[0]))p=c[0];else for(var u=0;u<f.length;u++)p[f[u]]=c[u];return this.isUndef(m)?p:this.defaultArg(p,m)},g.prototype.isUndef=function(c){return c===void 0},g.prototype.isFunction=function(c){return typeof c=="function"},g.prototype.isNumber=function(c){return typeof c=="number"},g.prototype.isObject=function(c){return Object.prototype.toString.call(c)==="[object Object]"&&c.constructor===Object},g.prototype.isBoolean=function(c){return typeof c=="boolean"},g.prototype.isArray=function(c){return Array.isArray(c)},g.prototype.isString=function(c){return typeof c=="string"},g.noOp=function(){},g.prototype._readOnly=function(c){if(Array.isArray(c))for(var f=0;f<c.length;f++)this._readOnly(c[f]);else Object.defineProperty(this,c,{writable:!1,enumerable:!0})},g.prototype._writable=function(c){if(Array.isArray(c))for(var f=0;f<c.length;f++)this._writable(c[f]);else Object.defineProperty(this,c,{writable:!0})},g.State={Started:"started",Stopped:"stopped",Paused:"paused"},g.prototype.equalPowerScale=function(c){var f=.5*Math.PI;return Math.sin(c*f)},g.prototype.dbToGain=function(c){return Math.pow(2,c/6)},g.prototype.gainToDb=function(c){return Math.log(c)/Math.LN10*20},g.prototype.intervalToFrequencyRatio=function(c){return Math.pow(2,c/12)},g.prototype.now=function(){return g.context.now()},g.now=function(){return g.context.now()},g.extend=function(c,f){function m(){}g.prototype.isUndef(f)&&(f=g),m.prototype=f.prototype,c.prototype=new m,(c.prototype.constructor=c)._super=f},Object.defineProperty(g,"context",{get:function(){return t},set:function(c){t=g.Context&&c instanceof g.Context?c:new g.Context(c),g.Context&&g.Context.emit("init",t)}}),Object.defineProperty(g.prototype,"context",{get:function(){return g.context}}),g.setContext=function(c){g.context=c},Object.defineProperty(g.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(g.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(g,"supported",{get:function(){var c=window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext"),f=window.hasOwnProperty("Promise"),m=window.hasOwnProperty("Worker");return c&&f&&m}}),g.version="r10",g}.call(n,C,n,P))===void 0||(P.exports=S)},function(P,n,C){var S,g;S=[C(0),C(2),C(10)],(g=function(t){return t.Multiply=function(c){this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new t.Gain,this._param=this.input[1]=this.output.gain,this._param.value=this.defaultArg(c,0)},t.extend(t.Multiply,t.Signal),t.Multiply.prototype.dispose=function(){return t.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},t.Multiply}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(6),C(9),C(18),C(10)],(g=function(t){return t.Signal=function(){var c=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this.output=this._gain=this.context.createGain(),c.param=this._gain.gain,t.Param.call(this,c),this.input=this._param=this._gain.gain,this.context.getConstant(1).chain(this._gain)},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},t.Signal}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){(function(S){C.d(n,"b",function(){return p}),C.d(n,"c",function(){return u});var g=C(22),t=C.n(g),c=C(0),f=C.n(c);C(12),S.TONE_SILENCE_VERSION_LOGGING=!0;var m=new window.AudioContext;function p(){return m}function u(a,l){var o=a;return a instanceof p5.Element?o=a.elt:a instanceof Array&&a[0]instanceof p5.Element&&(o=a.map(function(d){return d.elt})),t()(m,o,l)}f.a.setContext(m),n.a=m}).call(this,C(26))},function(P,n,C){var S,g;S=[C(0),C(2),C(10)],(g=function(t){return t.Add=function(c){this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new t.Gain,this._param=this.input[1]=new t.Signal(c),this._param.connect(this._sum)},t.extend(t.Add,t.Signal),t.Add.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this._param.dispose(),this._param=null,this},t.Add}.apply(n,S))===void 0||(P.exports=g)},function(P,n){P.exports={recorderProcessor:"recorder-processor",soundFileProcessor:"sound-file-processor",amplitudeProcessor:"amplitude-processor"}},function(P,n,C){var S,g;S=[C(0),C(15)],(g=function(t){return t.WaveShaper=function(c,f){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(c)?this.curve=c:isFinite(c)||this.isUndef(c)?this._curve=new Float32Array(this.defaultArg(c,1024)):this.isFunction(c)&&(this._curve=new Float32Array(this.defaultArg(f,1024)),this.setMap(c))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(c){for(var f=0,m=this._curve.length;f<m;f++){var p=f/(m-1)*2-1;this._curve[f]=c(p,f)}return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(c){this._curve=new Float32Array(c),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(c){if(["none","2x","4x"].indexOf(c)===-1)throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=c}}),t.WaveShaper.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(2),C(19)],(g=function(t){return t.TimelineSignal=function(){var c=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this._events=new t.Timeline(10),t.Signal.apply(this,c),c.param=this._param,t.Param.call(this,c),this._initial=this._fromUnits(this._param.value)},t.extend(t.TimelineSignal,t.Param),t.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Curve:"curve",Set:"set"},Object.defineProperty(t.TimelineSignal.prototype,"value",{get:function(){var c=this.now(),f=this.getValueAtTime(c);return this._toUnits(f)},set:function(c){var f=this._fromUnits(c);this._initial=f,this.cancelScheduledValues(),this._param.value=f}}),t.TimelineSignal.prototype.setValueAtTime=function(c,f){return c=this._fromUnits(c),f=this.toSeconds(f),this._events.add({type:t.TimelineSignal.Type.Set,value:c,time:f}),this._param.setValueAtTime(c,f),this},t.TimelineSignal.prototype.linearRampToValueAtTime=function(c,f){return c=this._fromUnits(c),f=this.toSeconds(f),this._events.add({type:t.TimelineSignal.Type.Linear,value:c,time:f}),this._param.linearRampToValueAtTime(c,f),this},t.TimelineSignal.prototype.exponentialRampToValueAtTime=function(c,f){f=this.toSeconds(f);var m=this._searchBefore(f);m&&m.value===0&&this.setValueAtTime(this._minOutput,m.time),c=this._fromUnits(c);var p=Math.max(c,this._minOutput);return this._events.add({type:t.TimelineSignal.Type.Exponential,value:p,time:f}),c<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,f-this.sampleTime),this.setValueAtTime(0,f)):this._param.exponentialRampToValueAtTime(c,f),this},t.TimelineSignal.prototype.setTargetAtTime=function(c,f,m){return c=this._fromUnits(c),c=Math.max(this._minOutput,c),m=Math.max(this._minOutput,m),f=this.toSeconds(f),this._events.add({type:t.TimelineSignal.Type.Target,value:c,time:f,constant:m}),this._param.setTargetAtTime(c,f,m),this},t.TimelineSignal.prototype.setValueCurveAtTime=function(c,f,m,p){p=this.defaultArg(p,1);for(var u=new Array(c.length),a=0;a<u.length;a++)u[a]=this._fromUnits(c[a])*p;f=this.toSeconds(f),m=this.toSeconds(m),this._events.add({type:t.TimelineSignal.Type.Curve,value:u,time:f,duration:m}),this._param.setValueAtTime(u[0],f);for(var l=1;l<u.length;l++){var o=f+l/(u.length-1)*m;this._param.linearRampToValueAtTime(u[l],o)}return this},t.TimelineSignal.prototype.cancelScheduledValues=function(c){return c=this.toSeconds(c),this._events.cancel(c),this._param.cancelScheduledValues(c),this},t.TimelineSignal.prototype.setRampPoint=function(c){c=this.toSeconds(c);var f=this._toUnits(this.getValueAtTime(c)),m=this._searchBefore(c);if(m&&m.time===c)this.cancelScheduledValues(c+this.sampleTime);else if(m&&m.type===t.TimelineSignal.Type.Curve&&m.time+m.duration>c)this.cancelScheduledValues(c),this.linearRampToValueAtTime(f,c);else{var p=this._searchAfter(c);p&&(this.cancelScheduledValues(c),p.type===t.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(f,c):p.type===t.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(f,c)),this.setValueAtTime(f,c)}return this},t.TimelineSignal.prototype.linearRampToValueBetween=function(c,f,m){return this.setRampPoint(f),this.linearRampToValueAtTime(c,m),this},t.TimelineSignal.prototype.exponentialRampToValueBetween=function(c,f,m){return this.setRampPoint(f),this.exponentialRampToValueAtTime(c,m),this},t.TimelineSignal.prototype._searchBefore=function(c){return this._events.get(c)},t.TimelineSignal.prototype._searchAfter=function(c){return this._events.getAfter(c)},t.TimelineSignal.prototype.getValueAtTime=function(c){c=this.toSeconds(c);var f=this._searchAfter(c),m=this._searchBefore(c),p=this._initial;if(m===null)p=this._initial;else if(m.type===t.TimelineSignal.Type.Target){var u,a=this._events.getBefore(m.time);u=a===null?this._initial:a.value,p=this._exponentialApproach(m.time,u,m.value,m.constant,c)}else p=m.type===t.TimelineSignal.Type.Curve?this._curveInterpolate(m.time,m.value,m.duration,c):f===null?m.value:f.type===t.TimelineSignal.Type.Linear?this._linearInterpolate(m.time,m.value,f.time,f.value,c):f.type===t.TimelineSignal.Type.Exponential?this._exponentialInterpolate(m.time,m.value,f.time,f.value,c):m.value;return p},t.TimelineSignal.prototype.connect=t.SignalBase.prototype.connect,t.TimelineSignal.prototype._exponentialApproach=function(c,f,m,p,u){return m+(f-m)*Math.exp(-(u-c)/p)},t.TimelineSignal.prototype._linearInterpolate=function(c,f,m,p,u){return f+(u-c)/(m-c)*(p-f)},t.TimelineSignal.prototype._exponentialInterpolate=function(c,f,m,p,u){return(f=Math.max(this._minOutput,f))*Math.pow(p/f,(u-c)/(m-c))},t.TimelineSignal.prototype._curveInterpolate=function(c,f,m,p){var u=f.length;if(c+m<=p)return f[u-1];if(p<=c)return f[0];var a=(p-c)/m,l=Math.floor((u-1)*a),o=Math.ceil((u-1)*a),d=f[l],_=f[o];return o===l?d:this._linearInterpolate(l,d,o,_,a*(u-1))},t.TimelineSignal.prototype.dispose=function(){t.Signal.prototype.dispose.call(this),t.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},t.TimelineSignal}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(4),C(1),C(2)],(g=function(t){return t.Scale=function(c,f){this._outputMin=this.defaultArg(c,0),this._outputMax=this.defaultArg(f,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),Object.defineProperty(t.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(c){this._outputMin=c,this._setRange()}}),Object.defineProperty(t.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(c){this._outputMax=c,this._setRange()}}),t.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},t.Scale.prototype.dispose=function(){return t.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},t.Scale}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(16),C(30),C(31),C(12)],(g=function(t){return t.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},t.prototype.toSeconds=function(c){return this.isNumber(c)?c:this.isUndef(c)?this.now():this.isString(c)?new t.Time(c).toSeconds():c instanceof t.TimeBase?c.toSeconds():void 0},t.prototype.toFrequency=function(c){return this.isNumber(c)?c:this.isString(c)||this.isUndef(c)?new t.Frequency(c).valueOf():c instanceof t.TimeBase?c.toFrequency():void 0},t.prototype.toTicks=function(c){return this.isNumber(c)||this.isString(c)?new t.TransportTime(c).toTicks():this.isUndef(c)?t.Transport.ticks:c instanceof t.TimeBase?c.toTicks():void 0},t}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(18),C(9)],(g=function(t){return window.GainNode&&!AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),t.Gain=function(){var c=this.optionsObject(arguments,["gain","units"],t.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:c.units,value:c.gain,convert:c.convert}),this._readOnly("gain")},t.extend(t.Gain),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.prototype.createInsOuts=function(c,f){c===1?this.input=new t.Gain:1<c&&(this.input=new Array(c)),f===1?this.output=new t.Gain:1<f&&(this.output=new Array(c))},t.Gain}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(7),C(39),C(14),C(12)],(g=function(t){return t.Clock=function(){t.Emitter.call(this);var c=this.optionsObject(arguments,["callback","frequency"],t.Clock.defaults);this.callback=c.callback,this._nextTick=0,this._lastState=t.State.Stopped,this.frequency=new t.TimelineSignal(c.frequency,t.Type.Frequency),this._readOnly("frequency"),this.ticks=0,this._state=new t.TimelineState(t.State.Stopped),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},t.extend(t.Clock,t.Emitter),t.Clock.defaults={callback:t.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),t.Clock.prototype.start=function(c,f){return c=this.toSeconds(c),this._state.getValueAtTime(c)!==t.State.Started&&this._state.add({state:t.State.Started,time:c,offset:f}),this},t.Clock.prototype.stop=function(c){return c=this.toSeconds(c),this._state.cancel(c),this._state.setStateAtTime(t.State.Stopped,c),this},t.Clock.prototype.pause=function(c){return c=this.toSeconds(c),this._state.getValueAtTime(c)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,c),this},t.Clock.prototype._loop=function(){for(var c=this.now()+this.context.lookAhead+this.context.updateInterval+2*this.context.lag;c>this._nextTick&&this._state;){var f=this._state.getValueAtTime(this._nextTick);if(f!==this._lastState){this._lastState=f;var m=this._state.get(this._nextTick);f===t.State.Started?(this._nextTick=m.time,this.isUndef(m.offset)||(this.ticks=m.offset),this.emit("start",m.time,this.ticks)):f===t.State.Stopped?(this.ticks=0,this.emit("stop",m.time)):f===t.State.Paused&&this.emit("pause",m.time)}var p=this._nextTick;this.frequency&&(this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),f===t.State.Started&&(this.callback(p),this.ticks++))}},t.Clock.prototype.getStateAtTime=function(c){return c=this.toSeconds(c),this._state.getValueAtTime(c)},t.Clock.prototype.dispose=function(){t.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(14)],(g=function(t){function c(p,u,a){if(p.input)Array.isArray(p.input)?(t.prototype.isUndef(a)&&(a=0),this.connect(p.input[a])):this.connect(p.input,u,a);else try{p instanceof AudioNode?f.call(this,p,u,a):f.call(this,p,u)}catch(l){throw new Error("error connecting to node: "+p+`
`+l)}}var f,m;return!window.hasOwnProperty("AudioContext")&&window.hasOwnProperty("webkitAudioContext")&&(window.AudioContext=window.webkitAudioContext),t.Context=function(p){for(var u in t.Emitter.call(this),p=p||new window.AudioContext,this._context=p,this._context)this._defineProperty(this._context,u);this._latencyHint="interactive",this._lookAhead=.1,this._updateInterval=this._lookAhead/3,this._computedUpdateInterval=0,this._worker=this._createWorker(),this._constants={}},t.extend(t.Context,t.Emitter),t.Emitter.mixin(t.Context),t.Context.prototype._defineProperty=function(p,u){this.isUndef(this[u])&&Object.defineProperty(this,u,{get:function(){return typeof p[u]=="function"?p[u].bind(p):p[u]},set:function(a){p[u]=a}})},t.Context.prototype.now=function(){return this._context.currentTime},t.Context.prototype._createWorker=function(){window.URL=window.URL||window.webkitURL;var p=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){	timeoutTime = parseInt(msg.data);};function tick(){	setTimeout(tick, timeoutTime);	self.postMessage('tick');}tick();"]),u=URL.createObjectURL(p),a=new Worker(u);return a.addEventListener("message",function(){this.emit("tick")}.bind(this)),a.addEventListener("message",function(){var l=this.now();if(this.isNumber(this._lastUpdate)){var o=l-this._lastUpdate;this._computedUpdateInterval=Math.max(o,.97*this._computedUpdateInterval)}this._lastUpdate=l}.bind(this)),a},t.Context.prototype.getConstant=function(p){if(this._constants[p])return this._constants[p];for(var u=this._context.createBuffer(1,128,this._context.sampleRate),a=u.getChannelData(0),l=0;l<a.length;l++)a[l]=p;var o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=u,o.loop=!0,o.start(0),this._constants[p]=o},Object.defineProperty(t.Context.prototype,"lag",{get:function(){var p=this._computedUpdateInterval-this._updateInterval;return Math.max(p,0)}}),Object.defineProperty(t.Context.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(p){this._lookAhead=p}}),Object.defineProperty(t.Context.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(p){this._updateInterval=Math.max(p,t.prototype.blockTime),this._worker.postMessage(Math.max(1e3*p,1))}}),Object.defineProperty(t.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(p){var u=p;if(this._latencyHint=p,this.isString(p))switch(p){case"interactive":u=.1,this._context.latencyHint=p;break;case"playback":u=.8,this._context.latencyHint=p;break;case"balanced":u=.25,this._context.latencyHint=p;break;case"fastest":u=.01}this.lookAhead=u,this.updateInterval=u/3}}),t.supported&&(f=AudioNode.prototype.connect,m=AudioNode.prototype.disconnect,AudioNode.prototype.connect!==c&&(AudioNode.prototype.connect=c,AudioNode.prototype.disconnect=function(p,u,a){if(p&&p.input&&Array.isArray(p.input))t.prototype.isUndef(a)&&(a=0),this.disconnect(p.input[a],u,a);else if(p&&p.input)this.disconnect(p.input,u,a);else try{m.apply(this,arguments)}catch(l){throw new Error("error disconnecting node: "+p+`
`+l)}}),t.context=new t.Context),t.Context}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(4),C(20),C(2),C(10)],(g=function(t){return t.Subtract=function(c){this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new t.Gain,this._neg=new t.Negate,this._param=this.input[1]=new t.Signal(c),this._param.chain(this._neg,this._sum)},t.extend(t.Subtract,t.Signal),t.Subtract.prototype.dispose=function(){return t.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},t.Subtract}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0)],(g=function(t){return t.Emitter=function(){this._events={}},t.extend(t.Emitter),t.Emitter.prototype.on=function(c,f){for(var m=c.split(/\W+/),p=0;p<m.length;p++){var u=m[p];this._events.hasOwnProperty(u)||(this._events[u]=[]),this._events[u].push(f)}return this},t.Emitter.prototype.off=function(c,f){for(var m=c.split(/\W+/),p=0;p<m.length;p++)if(c=m[p],this._events.hasOwnProperty(c))if(t.prototype.isUndef(f))this._events[c]=[];else for(var u=this._events[c],a=0;a<u.length;a++)u[a]===f&&u.splice(a,1);return this},t.Emitter.prototype.emit=function(c){if(this._events){var f=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(c))for(var m=this._events[c],p=0,u=m.length;p<u;p++)m[p].apply(this,f)}return this},t.Emitter.mixin=function(c){var f=["on","off","emit"];c._events={};for(var m=0;m<f.length;m++){var p=f[m],u=t.Emitter.prototype[p];c[p]=u}},t.Emitter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._events=null,this},t.Emitter}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0)],(g=function(t){return t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(c,f,m){return t.Signal&&t.Signal===c.constructor||t.Param&&t.Param===c.constructor||t.TimelineSignal&&t.TimelineSignal===c.constructor?(c._param.cancelScheduledValues(0),c._param.value=0,c.overridden=!0):c instanceof AudioParam&&(c.cancelScheduledValues(0),c.value=0),t.prototype.connect.call(this,c,f,m),this},t.SignalBase}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(17)],(g=function(t){return t.Time=function(c,f){if(!(this instanceof t.Time))return new t.Time(c,f);this._plusNow=!1,t.TimeBase.call(this,c,f)},t.extend(t.Time,t.TimeBase),t.Time.prototype._unaryExpressions=Object.create(t.TimeBase.prototype._unaryExpressions),t.Time.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(c){return t.Transport.nextSubdivision(c())}},t.Time.prototype._unaryExpressions.now={regexp:/^\+/,method:function(c){return this._plusNow=!0,c()}},t.Time.prototype.quantize=function(c,f){return f=this.defaultArg(f,1),this._expr=function(m,p,u){return m=m(),p=p.toSeconds(),m+(Math.round(m/p)*p-m)*u}.bind(this,this._expr,new this.constructor(c),f),this},t.Time.prototype.addNow=function(){return this._plusNow=!0,this},t.Time.prototype._defaultExpr=function(){return this._plusNow=!0,this._noOp},t.Time.prototype.copy=function(c){return t.TimeBase.prototype.copy.call(this,c),this._plusNow=c._plusNow,this},t.Time.prototype.toNotation=function(){var c=this.toSeconds(),f=this._toNotationHelper(c,["1m","2n","4n","8n","16n","32n","64n","128n"]),m=this._toNotationHelper(c,["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"]);return m.split("+").length<f.split("+").length?m:f},t.Time.prototype._toNotationHelper=function(c,f){for(var m=this._notationToUnits(f[f.length-1]),p="",u=0;u<f.length;u++){var a=this._notationToUnits(f[u]),l=c/a;if(1-l%1<1e-6&&(l+=1e-6),0<(l=Math.floor(l))){if(p+=l===1?f[u]:l.toString()+"*"+f[u],(c-=l*a)<m)break;p+=" + "}}return p===""&&(p="0"),p},t.Time.prototype._notationToUnits=function(c){for(var f=this._primaryExpressions,m=[f.n,f.t,f.m],p=0;p<m.length;p++){var u=m[p],a=c.match(u.regexp);if(a)return u.method.call(this,a[1])}},t.Time.prototype.toBarsBeatsSixteenths=function(){var c=this._beatsToUnits(1),f=this.toSeconds()/c,m=Math.floor(f/this._timeSignature()),p=f%1*4;return f=Math.floor(f)%this._timeSignature(),3<(p=p.toString()).length&&(p=parseFloat(p).toFixed(3)),[m,f,p].join(":")},t.Time.prototype.toTicks=function(){var c=this._beatsToUnits(1),f=this.valueOf()/c;return Math.floor(f*t.Transport.PPQ)},t.Time.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},t.Time.prototype.toFrequency=function(){return 1/this.toSeconds()},t.Time.prototype.toSeconds=function(){return this.valueOf()},t.Time.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},t.Time.prototype.valueOf=function(){return this._expr()+(this._plusNow?this.now():0)},t.Time}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0)],(g=function(t){return t.TimeBase=function(c,f){if(!(this instanceof t.TimeBase))return new t.TimeBase(c,f);if(this._expr=this._noOp,c instanceof t.TimeBase)this.copy(c);else if(!this.isUndef(f)||this.isNumber(c)){f=this.defaultArg(f,this._defaultUnits);var m=this._primaryExpressions[f].method;this._expr=m.bind(this,c)}else this.isString(c)?this.set(c):this.isUndef(c)&&(this._expr=this._defaultExpr())},t.extend(t.TimeBase),t.TimeBase.prototype.set=function(c){return this._expr=this._parseExprString(c),this},t.TimeBase.prototype.clone=function(){var c=new this.constructor;return c.copy(this),c},t.TimeBase.prototype.copy=function(c){var f=c._expr();return this.set(f)},t.TimeBase.prototype._primaryExpressions={n:{regexp:/^(\d+)n/i,method:function(c){return(c=parseInt(c))===1?this._beatsToUnits(this._timeSignature()):this._beatsToUnits(4/c)}},t:{regexp:/^(\d+)t/i,method:function(c){return c=parseInt(c),this._beatsToUnits(8/(3*parseInt(c)))}},m:{regexp:/^(\d+)m/i,method:function(c){return this._beatsToUnits(parseInt(c)*this._timeSignature())}},i:{regexp:/^(\d+)i/i,method:function(c){return this._ticksToUnits(parseInt(c))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz/i,method:function(c){return this._frequencyToUnits(parseFloat(c))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(c,f,m){var p=0;return c&&c!=="0"&&(p+=this._beatsToUnits(this._timeSignature()*parseFloat(c))),f&&f!=="0"&&(p+=this._beatsToUnits(parseFloat(f))),m&&m!=="0"&&(p+=this._beatsToUnits(parseFloat(m)/4)),p}},s:{regexp:/^(\d+(?:\.\d+)?s)/,method:function(c){return this._secondsToUnits(parseFloat(c))}},samples:{regexp:/^(\d+)samples/,method:function(c){return parseInt(c)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)/,method:function(c){return this._primaryExpressions[this._defaultUnits].method.call(this,c)}}},t.TimeBase.prototype._binaryExpressions={"+":{regexp:/^\+/,precedence:2,method:function(c,f){return c()+f()}},"-":{regexp:/^\-/,precedence:2,method:function(c,f){return c()-f()}},"*":{regexp:/^\*/,precedence:1,method:function(c,f){return c()*f()}},"/":{regexp:/^\//,precedence:1,method:function(c,f){return c()/f()}}},t.TimeBase.prototype._unaryExpressions={neg:{regexp:/^\-/,method:function(c){return-c()}}},t.TimeBase.prototype._syntaxGlue={"(":{regexp:/^\(/},")":{regexp:/^\)/}},t.TimeBase.prototype._tokenize=function(c){for(var f=-1,m=[];0<c.length;){var p=u(c=c.trim(),this);m.push(p),c=c.substr(p.value.length)}function u(a,l){for(var o=["_binaryExpressions","_unaryExpressions","_primaryExpressions","_syntaxGlue"],d=0;d<o.length;d++){var _=l[o[d]];for(var k in _){var E=_[k],I=E.regexp,U=a.match(I);if(U!==null)return{method:E.method,precedence:E.precedence,regexp:E.regexp,value:U[0]}}}throw new SyntaxError("Tone.TimeBase: Unexpected token "+a)}return{next:function(){return m[++f]},peek:function(){return m[f+1]}}},t.TimeBase.prototype._matchGroup=function(c,f,m){if(!this.isUndef(c))for(var p in f){var u=f[p];if(u.regexp.test(c.value)&&(this.isUndef(m)||u.precedence===m))return u}return!1},t.TimeBase.prototype._parseBinary=function(c,f){var m;this.isUndef(f)&&(f=2),m=f<0?this._parseUnary(c):this._parseBinary(c,f-1);for(var p=c.peek();p&&this._matchGroup(p,this._binaryExpressions,f);)m=(p=c.next()).method.bind(this,m,this._parseBinary(c,f-1)),p=c.peek();return m},t.TimeBase.prototype._parseUnary=function(c){var f,m;f=c.peek();var p=this._matchGroup(f,this._unaryExpressions);return p?(f=c.next(),m=this._parseUnary(c),p.method.bind(this,m)):this._parsePrimary(c)},t.TimeBase.prototype._parsePrimary=function(c){var f,m;if(f=c.peek(),this.isUndef(f))throw new SyntaxError("Tone.TimeBase: Unexpected end of expression");if(this._matchGroup(f,this._primaryExpressions)){var p=(f=c.next()).value.match(f.regexp);return f.method.bind(this,p[1],p[2],p[3])}if(f&&f.value==="("){if(c.next(),m=this._parseBinary(c),!(f=c.next())||f.value!==")")throw new SyntaxError("Expected )");return m}throw new SyntaxError("Tone.TimeBase: Cannot process token "+f.value)},t.TimeBase.prototype._parseExprString=function(c){this.isString(c)||(c=c.toString());var f=this._tokenize(c);return this._parseBinary(f)},t.TimeBase.prototype._noOp=function(){return 0},t.TimeBase.prototype._defaultExpr=function(){return this._noOp},t.TimeBase.prototype._defaultUnits="s",t.TimeBase.prototype._frequencyToUnits=function(c){return 1/c},t.TimeBase.prototype._beatsToUnits=function(c){return 60/t.Transport.bpm.value*c},t.TimeBase.prototype._secondsToUnits=function(c){return c},t.TimeBase.prototype._ticksToUnits=function(c){return c*(this._beatsToUnits(1)/t.Transport.PPQ)},t.TimeBase.prototype._timeSignature=function(){return t.Transport.timeSignature},t.TimeBase.prototype._pushExpr=function(c,f,m){return c instanceof t.TimeBase||(c=new this.constructor(c,m)),this._expr=this._binaryExpressions[f].method.bind(this,this._expr,c._expr),this},t.TimeBase.prototype.add=function(c,f){return this._pushExpr(c,"+",f)},t.TimeBase.prototype.sub=function(c,f){return this._pushExpr(c,"-",f)},t.TimeBase.prototype.mult=function(c,f){return this._pushExpr(c,"*",f)},t.TimeBase.prototype.div=function(c,f){return this._pushExpr(c,"/",f)},t.TimeBase.prototype.valueOf=function(){return this._expr()},t.TimeBase.prototype.dispose=function(){this._expr=null},t.TimeBase}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(9)],(g=function(t){return t.Param=function(){var c=this.optionsObject(arguments,["param","units","convert"],t.Param.defaults);this._param=this.input=c.param,this.units=c.units,this.convert=c.convert,this.overridden=!1,this._lfo=null,this.isObject(c.lfo)?this.value=c.lfo:this.isUndef(c.value)||(this.value=c.value)},t.extend(t.Param),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(c){if(this.isObject(c)){if(this.isUndef(t.LFO))throw new Error("Include 'Tone.LFO' to use an LFO as a Param value.");this._lfo&&this._lfo.dispose(),this._lfo=new t.LFO(c).start(),this._lfo.connect(this.input)}else{var f=this._fromUnits(c);this._param.cancelScheduledValues(0),this._param.value=f}}}),t.Param.prototype._fromUnits=function(c){if(!this.convert&&!this.isUndef(this.convert))return c;switch(this.units){case t.Type.Time:return this.toSeconds(c);case t.Type.Frequency:return this.toFrequency(c);case t.Type.Decibels:return this.dbToGain(c);case t.Type.NormalRange:return Math.min(Math.max(c,0),1);case t.Type.AudioRange:return Math.min(Math.max(c,-1),1);case t.Type.Positive:return Math.max(c,0);default:return c}},t.Param.prototype._toUnits=function(c){if(!this.convert&&!this.isUndef(this.convert))return c;switch(this.units){case t.Type.Decibels:return this.gainToDb(c);default:return c}},t.Param.prototype._minOutput=1e-5,t.Param.prototype.setValueAtTime=function(c,f){return c=this._fromUnits(c),(f=this.toSeconds(f))<=this.now()+this.blockTime?this._param.value=c:this._param.setValueAtTime(c,f),this},t.Param.prototype.setRampPoint=function(c){c=this.defaultArg(c,this.now());var f=this._param.value;return f===0&&(f=this._minOutput),this._param.setValueAtTime(f,c),this},t.Param.prototype.linearRampToValueAtTime=function(c,f){return c=this._fromUnits(c),this._param.linearRampToValueAtTime(c,this.toSeconds(f)),this},t.Param.prototype.exponentialRampToValueAtTime=function(c,f){return c=this._fromUnits(c),c=Math.max(this._minOutput,c),this._param.exponentialRampToValueAtTime(c,this.toSeconds(f)),this},t.Param.prototype.exponentialRampToValue=function(c,f,m){return m=this.toSeconds(m),this.setRampPoint(m),this.exponentialRampToValueAtTime(c,m+this.toSeconds(f)),this},t.Param.prototype.linearRampToValue=function(c,f,m){return m=this.toSeconds(m),this.setRampPoint(m),this.linearRampToValueAtTime(c,m+this.toSeconds(f)),this},t.Param.prototype.setTargetAtTime=function(c,f,m){return c=this._fromUnits(c),c=Math.max(this._minOutput,c),m=Math.max(this._minOutput,m),this._param.setTargetAtTime(c,this.toSeconds(f),m),this},t.Param.prototype.setValueCurveAtTime=function(c,f,m){for(var p=0;p<c.length;p++)c[p]=this._fromUnits(c[p]);return this._param.setValueCurveAtTime(c,this.toSeconds(f),this.toSeconds(m)),this},t.Param.prototype.cancelScheduledValues=function(c){return this._param.cancelScheduledValues(this.toSeconds(c)),this},t.Param.prototype.rampTo=function(c,f,m){return f=this.defaultArg(f,0),this.units===t.Type.Frequency||this.units===t.Type.BPM||this.units===t.Type.Decibels?this.exponentialRampToValue(c,f,m):this.linearRampToValue(c,f,m),this},Object.defineProperty(t.Param.prototype,"lfo",{get:function(){return this._lfo}}),t.Param.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param=null,this._lfo&&(this._lfo.dispose(),this._lfo=null),this},t.Param}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(9)],(g=function(t){return t.Timeline=function(){var c=this.optionsObject(arguments,["memory"],t.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=c.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.add=function(c){if(this.isUndef(c.time))throw new Error("Tone.Timeline: events must have a time attribute");if(this._timeline.length){var f=this._search(c.time);this._timeline.splice(f+1,0,c)}else this._timeline.push(c);if(this.length>this.memory){var m=this.length-this.memory;this._timeline.splice(0,m)}return this},t.Timeline.prototype.remove=function(c){if(this._iterating)this._toRemove.push(c);else{var f=this._timeline.indexOf(c);f!==-1&&this._timeline.splice(f,1)}return this},t.Timeline.prototype.get=function(c){var f=this._search(c);return f!==-1?this._timeline[f]:null},t.Timeline.prototype.peek=function(){return this._timeline[0]},t.Timeline.prototype.shift=function(){return this._timeline.shift()},t.Timeline.prototype.getAfter=function(c){var f=this._search(c);return f+1<this._timeline.length?this._timeline[f+1]:null},t.Timeline.prototype.getBefore=function(c){var f=this._timeline.length;if(0<f&&this._timeline[f-1].time<c)return this._timeline[f-1];var m=this._search(c);return 0<=m-1?this._timeline[m-1]:null},t.Timeline.prototype.cancel=function(c){if(1<this._timeline.length){var f=this._search(c);if(0<=f)if(this._timeline[f].time===c){for(var m=f;0<=m&&this._timeline[m].time===c;m--)f=m;this._timeline=this._timeline.slice(0,f)}else this._timeline=this._timeline.slice(0,f+1);else this._timeline=[]}else this._timeline.length===1&&this._timeline[0].time>=c&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(c){if(this._timeline.length){var f=this._search(c);0<=f&&(this._timeline=this._timeline.slice(f+1))}return this},t.Timeline.prototype._search=function(c){var f=0,m=this._timeline.length,p=m;if(0<m&&this._timeline[m-1].time<=c)return m-1;for(;f<p;){var u=Math.floor(f+(p-f)/2),a=this._timeline[u],l=this._timeline[u+1];if(a.time===c){for(var o=u;o<this._timeline.length;o++)this._timeline[o].time===c&&(u=o);return u}if(a.time<c&&l.time>c)return u;a.time>c?p=u:a.time<c&&(f=u+1)}return-1},t.Timeline.prototype._iterate=function(c,f,m){this._iterating=!0,f=this.defaultArg(f,0),m=this.defaultArg(m,this._timeline.length-1);for(var p=f;p<=m;p++)c(this._timeline[p]);if(this._iterating=!1,0<this._toRemove.length){for(var u=0;u<this._toRemove.length;u++){var a=this._timeline.indexOf(this._toRemove[u]);a!==-1&&this._timeline.splice(a,1)}this._toRemove=[]}},t.Timeline.prototype.forEach=function(c){return this._iterate(c),this},t.Timeline.prototype.forEachBefore=function(c,f){var m=this._search(c);return m!==-1&&this._iterate(f,0,m),this},t.Timeline.prototype.forEachAfter=function(c,f){var m=this._search(c);return this._iterate(f,m+1),this},t.Timeline.prototype.forEachFrom=function(c,f){for(var m=this._search(c);0<=m&&this._timeline[m].time>=c;)m--;return this._iterate(f,m+1),this},t.Timeline.prototype.forEachAtTime=function(c,f){var m=this._search(c);return m!==-1&&this._iterate(function(p){p.time===c&&f(p)},0,m),this},t.Timeline.prototype.dispose=function(){t.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},t.Timeline}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(1),C(2)],(g=function(t){return t.Negate=function(){this._multiply=this.input=this.output=new t.Multiply(-1)},t.extend(t.Negate,t.SignalBase),t.Negate.prototype.dispose=function(){return t.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},t.Negate}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(2),C(1),C(6)],(g=function(t){return t.GreaterThanZero=function(){this._thresh=this.output=new t.WaveShaper(function(c){return c<=0?0:1},127),this._scale=this.input=new t.Multiply(1e4),this._scale.connect(this._thresh)},t.extend(t.GreaterThanZero,t.SignalBase),t.GreaterThanZero.prototype.dispose=function(){return t.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},t.GreaterThanZero}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g,t;g=[],(t=typeof(S=function(){var c=function(m,p){this._dragged=!1,this._element=m,this._bindedMove=this._moved.bind(this),this._bindedEnd=this._ended.bind(this,p),m.addEventListener("touchstart",this._bindedEnd),m.addEventListener("touchmove",this._bindedMove),m.addEventListener("touchend",this._bindedEnd),m.addEventListener("mouseup",this._bindedEnd)};function f(m){return m.state==="running"}return c.prototype._moved=function(m){this._dragged=!0},c.prototype._ended=function(m){this._dragged||function(p){var u=p.createBuffer(1,1,p.sampleRate),a=p.createBufferSource();a.buffer=u,a.connect(p.destination),a.start(0),p.resume&&p.resume()}(m),this._dragged=!1},c.prototype.dispose=function(){this._element.removeEventListener("touchstart",this._bindedEnd),this._element.removeEventListener("touchmove",this._bindedMove),this._element.removeEventListener("touchend",this._bindedEnd),this._element.removeEventListener("mouseup",this._bindedEnd),this._bindedMove=null,this._bindedEnd=null,this._element=null},function(m,p,u){var a=new Promise(function(o){(function(d,_){f(d)?_():function k(){f(d)?_():(requestAnimationFrame(k),d.resume&&d.resume())}()})(m,o)}),l=[];return function o(d,_,k){if(Array.isArray(d)||NodeList&&d instanceof NodeList)for(var E=0;E<d.length;E++)o(d[E],_,k);else if(typeof d=="string")o(document.querySelectorAll(d),_,k);else if(d.jquery&&typeof d.toArray=="function")o(d.toArray(),_,k);else if(Element&&d instanceof Element){var I=new c(d,k);_.push(I)}}(p=p||document.body,l,m),a.then(function(){for(var o=0;o<l.length;o++)l[o].dispose();l=null,u&&u()}),a}})=="function"?S.apply(n,g):S)===void 0||(P.exports=t)},function(P,n,C){var S,g;S=[C(0),C(2),C(32),C(38),C(10)],(g=function(t){return t.CrossFade=function(c){this.createInsOuts(2,1),this.a=this.input[0]=new t.Gain,this.b=this.input[1]=new t.Gain,this.fade=new t.Signal(this.defaultArg(c,.5),t.Type.NormalRange),this._equalPowerA=new t.EqualPowerGain,this._equalPowerB=new t.EqualPowerGain,this._invert=new t.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},t.extend(t.CrossFade),t.CrossFade.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},t.CrossFade}.apply(n,S))===void 0||(P.exports=g)},function(P,n){function C(m){var p=this,u={},a=-1;this.parameters.forEach(function(d,_){var k=f[++a]||(f[a]=new Float32Array(p.bufferSize));k.fill(d.value),u[_]=k}),this.processor.realm.exec("self.sampleRate=sampleRate="+this.context.sampleRate+";self.currentTime=currentTime="+this.context.currentTime);var l=S(m.inputBuffer),o=S(m.outputBuffer);this.instance.process([l],[o],u)}function S(m){for(var p=[],u=0;u<m.numberOfChannels;u++)p[u]=m.getChannelData(u);return p}function g(m){return m.$$processors||(m.$$processors={})}function t(m){this.$$context=m}var c,f;f=[],typeof AudioWorkletNode!="function"&&(self.AudioWorkletNode=function(m,p,u){var a=g(m)[p],l=m.createScriptProcessor(void 0,2,u&&u.outputChannelCount?u.outputChannelCount[0]:2);if(l.parameters=new Map,a.properties)for(var o=0;o<a.properties.length;o++){var d=a.properties[o],_=m.createGain().gain;_.value=d.defaultValue,l.parameters.set(d.name,_)}var k=new MessageChannel;c=k.port2;var E=new a.Processor(u||{});return c=null,l.port=k.port1,l.processor=a,l.instance=E,l.onaudioprocess=C,l},Object.defineProperty((self.AudioContext||self.webkitAudioContext).prototype,"audioWorklet",{get:function(){return this.$$audioWorklet||(this.$$audioWorklet=new self.AudioWorklet(this))}}),self.AudioWorklet=(t.prototype.addModule=function(m,p){var u=this;return fetch(m).then(function(a){if(!a.ok)throw Error(a.status);return a.text()}).then(function(a){var l={sampleRate:0,currentTime:0,AudioWorkletProcessor:function(){this.port=c},registerProcessor:function(d,_){g(u.$$context)[d]={realm:o,context:l,Processor:_,properties:_.parameterDescriptors||[]}}},o=new function(d,_){var k=document.createElement("iframe");k.style.cssText="position:absolute;left:0;top:-999px;width:1px;height:1px;",_.appendChild(k);var E=k.contentWindow,I=E.document,U="var window,$hook";for(var V in E)V in d||V==="eval"||(U+=",",U+=V);for(var $ in d)U+=",",U+=$,U+="=self.",U+=$;var B=I.createElement("script");B.appendChild(I.createTextNode(`function $hook(self,console) {"use strict";
        `+U+";return function() {return eval(arguments[0])}}")),I.body.appendChild(B),this.exec=E.$hook(d,console)}(l.self=l,document.documentElement);return o.exec((p&&p.transpile||String)(a)),null})},t))},function(P,n){function C(g){g&&(g.setTargetAtTime||(g.setTargetAtTime=g.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=window.webkitAudioContext,typeof AudioContext.prototype.createGain!="function"&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),typeof AudioContext.prototype.createDelay!="function"&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),typeof AudioContext.prototype.createScriptProcessor!="function"&&(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),typeof AudioContext.prototype.createPeriodicWave!="function"&&(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var g=this.internal_createGain();return C(g.gain),g},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(g){var t=g?this.internal_createDelay(g):this.internal_createDelay();return C(t.delayTime),t},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var g=this.internal_createBufferSource();return g.start?(g.internal_start=g.start,g.start=function(t,c,f){f!==void 0?g.internal_start(t||0,c,f):g.internal_start(t||0,c||0)}):g.start=function(t,c,f){c||f?this.noteGrainOn(t||0,c,f):this.noteOn(t||0)},g.stop?(g.internal_stop=g.stop,g.stop=function(t){g.internal_stop(t||0)}):g.stop=function(t){this.noteOff(t||0)},C(g.playbackRate),g},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var g=this.internal_createDynamicsCompressor();return C(g.threshold),C(g.knee),C(g.ratio),C(g.reduction),C(g.attack),C(g.release),g},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var g=this.internal_createBiquadFilter();return C(g.frequency),C(g.detune),C(g.Q),C(g.gain),g},typeof AudioContext.prototype.createOscillator!="function"&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var g=this.internal_createOscillator();return g.start?(g.internal_start=g.start,g.start=function(t){g.internal_start(t||0)}):g.start=function(t){this.noteOn(t||0)},g.stop?(g.internal_stop=g.stop,g.stop=function(t){g.internal_stop(t||0)}):g.stop=function(t){this.noteOff(t||0)},g.setPeriodicWave||(g.setPeriodicWave=g.setWaveTable),C(g.frequency),C(g.detune),g})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var S=document.createElement("audio");p5.prototype.isSupported=function(){return!!S.canPlayType},p5.prototype.isFileSupported=function(g){switch(g.toLowerCase()){case"mp3":return!!S.canPlayType&&S.canPlayType("audio/mpeg;");case"wav":return!!S.canPlayType&&S.canPlayType('audio/wav; codecs="1"');case"ogg":return!!S.canPlayType&&S.canPlayType('audio/ogg; codecs="vorbis"');case"aac":case"m4a":case"mp4":return!!S.canPlayType&&(S.canPlayType("audio/x-m4a;")||S.canPlayType("audio/aac;"));case"aif":case"aiff":return!!S.canPlayType&&S.canPlayType("audio/x-aiff;");default:return!1}}},function(P,n){var C;C=function(){return this}();try{C=C||new Function("return this")()}catch{typeof window=="object"&&(C=window)}P.exports=C},function(P,n,C){C.r(n),n.default=`function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// import dependencies via preval.require so that they're available as values at compile time
var processorNames = {
  "recorderProcessor": "recorder-processor",
  "soundFileProcessor": "sound-file-processor",
  "amplitudeProcessor": "amplitude-processor"
};
var RingBuffer = {
  "default":
  /*#__PURE__*/
  function () {
    /**
     * @constructor
     * @param  {number} length Buffer length in frames.
     * @param  {number} channelCount Buffer channel count.
     */
    function RingBuffer(length, channelCount) {
      _classCallCheck(this, RingBuffer);

      this._readIndex = 0;
      this._writeIndex = 0;
      this._framesAvailable = 0;
      this._channelCount = channelCount;
      this._length = length;
      this._channelData = [];

      for (var i = 0; i < this._channelCount; ++i) {
        this._channelData[i] = new Float32Array(length);
      }
    }
    /**
     * Getter for Available frames in buffer.
     *
     * @return {number} Available frames in buffer.
     */


    _createClass(RingBuffer, [{
      key: "push",

      /**
       * Push a sequence of Float32Arrays to buffer.
       *
       * @param  {array} arraySequence A sequence of Float32Arrays.
       */
      value: function push(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // Transfer data from the |arraySequence| storage to the internal buffer.
        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;

        for (var i = 0; i < sourceLength; ++i) {
          var writeIndex = (this._writeIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            this._channelData[channel][writeIndex] = arraySequence[channel][i];
          }
        }

        this._writeIndex += sourceLength;

        if (this._writeIndex >= this._length) {
          this._writeIndex = 0;
        } // For excessive frames, the buffer will be overwritten.


        this._framesAvailable += sourceLength;

        if (this._framesAvailable > this._length) {
          this._framesAvailable = this._length;
        }
      }
      /**
       * Pull data out of buffer and fill a given sequence of Float32Arrays.
       *
       * @param  {array} arraySequence An array of Float32Arrays.
       */

    }, {
      key: "pull",
      value: function pull(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // If the FIFO is completely empty, do nothing.
        if (this._framesAvailable === 0) {
          return;
        }

        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.

        for (var i = 0; i < destinationLength; ++i) {
          var readIndex = (this._readIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            arraySequence[channel][i] = this._channelData[channel][readIndex];
          }
        }

        this._readIndex += destinationLength;

        if (this._readIndex >= this._length) {
          this._readIndex = 0;
        }

        this._framesAvailable -= destinationLength;

        if (this._framesAvailable < 0) {
          this._framesAvailable = 0;
        }
      }
    }, {
      key: "framesAvailable",
      get: function get() {
        return this._framesAvailable;
      }
    }]);

    return RingBuffer;
  }()
}["default"];

var RecorderProcessor =
/*#__PURE__*/
function (_AudioWorkletProcesso) {
  _inherits(RecorderProcessor, _AudioWorkletProcesso);

  function RecorderProcessor(options) {
    var _this;

    _classCallCheck(this, RecorderProcessor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(RecorderProcessor).call(this));
    var processorOptions = options.processorOptions || {};
    _this.numOutputChannels = options.outputChannelCount || 2;
    _this.numInputChannels = processorOptions.numInputChannels || 2;
    _this.bufferSize = processorOptions.bufferSize || 1024;
    _this.recording = false;

    _this.clear();

    _this.port.onmessage = function (event) {
      var data = event.data;

      if (data.name === 'start') {
        _this.record(data.duration);
      } else if (data.name === 'stop') {
        _this.stop();
      }
    };

    return _this;
  }

  _createClass(RecorderProcessor, [{
    key: "process",
    value: function process(inputs) {
      if (!this.recording) {
        return true;
      } else if (this.sampleLimit && this.recordedSamples >= this.sampleLimit) {
        this.stop();
        return true;
      }

      var input = inputs[0];
      this.inputRingBuffer.push(input);

      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {
        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);

        for (var channel = 0; channel < this.numOutputChannels; ++channel) {
          var inputChannelCopy = this.inputRingBufferArraySequence[channel].slice();

          if (channel === 0) {
            this.leftBuffers.push(inputChannelCopy);

            if (this.numInputChannels === 1) {
              this.rightBuffers.push(inputChannelCopy);
            }
          } else if (channel === 1 && this.numInputChannels > 1) {
            this.rightBuffers.push(inputChannelCopy);
          }
        }

        this.recordedSamples += this.bufferSize;
      }

      return true;
    }
  }, {
    key: "record",
    value: function record(duration) {
      if (duration) {
        this.sampleLimit = Math.round(duration * sampleRate);
      }

      this.recording = true;
    }
  }, {
    key: "stop",
    value: function stop() {
      this.recording = false;
      var buffers = this.getBuffers();
      var leftBuffer = buffers[0].buffer;
      var rightBuffer = buffers[1].buffer;
      this.port.postMessage({
        name: 'buffers',
        leftBuffer: leftBuffer,
        rightBuffer: rightBuffer
      }, [leftBuffer, rightBuffer]);
      this.clear();
    }
  }, {
    key: "getBuffers",
    value: function getBuffers() {
      var buffers = [];
      buffers.push(this.mergeBuffers(this.leftBuffers));
      buffers.push(this.mergeBuffers(this.rightBuffers));
      return buffers;
    }
  }, {
    key: "mergeBuffers",
    value: function mergeBuffers(channelBuffer) {
      var result = new Float32Array(this.recordedSamples);
      var offset = 0;
      var lng = channelBuffer.length;

      for (var i = 0; i < lng; i++) {
        var buffer = channelBuffer[i];
        result.set(buffer, offset);
        offset += buffer.length;
      }

      return result;
    }
  }, {
    key: "clear",
    value: function clear() {
      var _this2 = this;

      this.leftBuffers = [];
      this.rightBuffers = [];
      this.inputRingBuffer = new RingBuffer(this.bufferSize, this.numInputChannels);
      this.inputRingBufferArraySequence = new Array(this.numInputChannels).fill(null).map(function () {
        return new Float32Array(_this2.bufferSize);
      });
      this.recordedSamples = 0;
      this.sampleLimit = null;
    }
  }]);

  return RecorderProcessor;
}(_wrapNativeSuper(AudioWorkletProcessor));

registerProcessor(processorNames.recorderProcessor, RecorderProcessor);`},function(P,n,C){C.r(n),n.default=`function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// import dependencies via preval.require so that they're available as values at compile time
var processorNames = {
  "recorderProcessor": "recorder-processor",
  "soundFileProcessor": "sound-file-processor",
  "amplitudeProcessor": "amplitude-processor"
};
var RingBuffer = {
  "default":
  /*#__PURE__*/
  function () {
    /**
     * @constructor
     * @param  {number} length Buffer length in frames.
     * @param  {number} channelCount Buffer channel count.
     */
    function RingBuffer(length, channelCount) {
      _classCallCheck(this, RingBuffer);

      this._readIndex = 0;
      this._writeIndex = 0;
      this._framesAvailable = 0;
      this._channelCount = channelCount;
      this._length = length;
      this._channelData = [];

      for (var i = 0; i < this._channelCount; ++i) {
        this._channelData[i] = new Float32Array(length);
      }
    }
    /**
     * Getter for Available frames in buffer.
     *
     * @return {number} Available frames in buffer.
     */


    _createClass(RingBuffer, [{
      key: "push",

      /**
       * Push a sequence of Float32Arrays to buffer.
       *
       * @param  {array} arraySequence A sequence of Float32Arrays.
       */
      value: function push(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // Transfer data from the |arraySequence| storage to the internal buffer.
        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;

        for (var i = 0; i < sourceLength; ++i) {
          var writeIndex = (this._writeIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            this._channelData[channel][writeIndex] = arraySequence[channel][i];
          }
        }

        this._writeIndex += sourceLength;

        if (this._writeIndex >= this._length) {
          this._writeIndex = 0;
        } // For excessive frames, the buffer will be overwritten.


        this._framesAvailable += sourceLength;

        if (this._framesAvailable > this._length) {
          this._framesAvailable = this._length;
        }
      }
      /**
       * Pull data out of buffer and fill a given sequence of Float32Arrays.
       *
       * @param  {array} arraySequence An array of Float32Arrays.
       */

    }, {
      key: "pull",
      value: function pull(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // If the FIFO is completely empty, do nothing.
        if (this._framesAvailable === 0) {
          return;
        }

        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.

        for (var i = 0; i < destinationLength; ++i) {
          var readIndex = (this._readIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            arraySequence[channel][i] = this._channelData[channel][readIndex];
          }
        }

        this._readIndex += destinationLength;

        if (this._readIndex >= this._length) {
          this._readIndex = 0;
        }

        this._framesAvailable -= destinationLength;

        if (this._framesAvailable < 0) {
          this._framesAvailable = 0;
        }
      }
    }, {
      key: "framesAvailable",
      get: function get() {
        return this._framesAvailable;
      }
    }]);

    return RingBuffer;
  }()
}["default"];

var SoundFileProcessor =
/*#__PURE__*/
function (_AudioWorkletProcesso) {
  _inherits(SoundFileProcessor, _AudioWorkletProcesso);

  function SoundFileProcessor(options) {
    var _this;

    _classCallCheck(this, SoundFileProcessor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(SoundFileProcessor).call(this));
    var processorOptions = options.processorOptions || {};
    _this.bufferSize = processorOptions.bufferSize || 256;
    _this.inputRingBuffer = new RingBuffer(_this.bufferSize, 1);
    _this.inputRingBufferArraySequence = [new Float32Array(_this.bufferSize)];
    return _this;
  }

  _createClass(SoundFileProcessor, [{
    key: "process",
    value: function process(inputs) {
      var input = inputs[0]; // we only care about the first input channel, because that contains the position data

      this.inputRingBuffer.push([input[0]]);

      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {
        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);
        var inputChannel = this.inputRingBufferArraySequence[0];
        var position = inputChannel[inputChannel.length - 1] || 0;
        this.port.postMessage({
          name: 'position',
          position: position
        });
      }

      return true;
    }
  }]);

  return SoundFileProcessor;
}(_wrapNativeSuper(AudioWorkletProcessor));

registerProcessor(processorNames.soundFileProcessor, SoundFileProcessor);`},function(P,n,C){C.r(n),n.default=`function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// import dependencies via preval.require so that they're available as values at compile time
var processorNames = {
  "recorderProcessor": "recorder-processor",
  "soundFileProcessor": "sound-file-processor",
  "amplitudeProcessor": "amplitude-processor"
};
var RingBuffer = {
  "default":
  /*#__PURE__*/
  function () {
    /**
     * @constructor
     * @param  {number} length Buffer length in frames.
     * @param  {number} channelCount Buffer channel count.
     */
    function RingBuffer(length, channelCount) {
      _classCallCheck(this, RingBuffer);

      this._readIndex = 0;
      this._writeIndex = 0;
      this._framesAvailable = 0;
      this._channelCount = channelCount;
      this._length = length;
      this._channelData = [];

      for (var i = 0; i < this._channelCount; ++i) {
        this._channelData[i] = new Float32Array(length);
      }
    }
    /**
     * Getter for Available frames in buffer.
     *
     * @return {number} Available frames in buffer.
     */


    _createClass(RingBuffer, [{
      key: "push",

      /**
       * Push a sequence of Float32Arrays to buffer.
       *
       * @param  {array} arraySequence A sequence of Float32Arrays.
       */
      value: function push(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // Transfer data from the |arraySequence| storage to the internal buffer.
        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;

        for (var i = 0; i < sourceLength; ++i) {
          var writeIndex = (this._writeIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            this._channelData[channel][writeIndex] = arraySequence[channel][i];
          }
        }

        this._writeIndex += sourceLength;

        if (this._writeIndex >= this._length) {
          this._writeIndex = 0;
        } // For excessive frames, the buffer will be overwritten.


        this._framesAvailable += sourceLength;

        if (this._framesAvailable > this._length) {
          this._framesAvailable = this._length;
        }
      }
      /**
       * Pull data out of buffer and fill a given sequence of Float32Arrays.
       *
       * @param  {array} arraySequence An array of Float32Arrays.
       */

    }, {
      key: "pull",
      value: function pull(arraySequence) {
        // The channel count of arraySequence and the length of each channel must
        // match with this buffer obejct.
        // If the FIFO is completely empty, do nothing.
        if (this._framesAvailable === 0) {
          return;
        }

        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.

        for (var i = 0; i < destinationLength; ++i) {
          var readIndex = (this._readIndex + i) % this._length;

          for (var channel = 0; channel < this._channelCount; ++channel) {
            arraySequence[channel][i] = this._channelData[channel][readIndex];
          }
        }

        this._readIndex += destinationLength;

        if (this._readIndex >= this._length) {
          this._readIndex = 0;
        }

        this._framesAvailable -= destinationLength;

        if (this._framesAvailable < 0) {
          this._framesAvailable = 0;
        }
      }
    }, {
      key: "framesAvailable",
      get: function get() {
        return this._framesAvailable;
      }
    }]);

    return RingBuffer;
  }()
}["default"];

var AmplitudeProcessor =
/*#__PURE__*/
function (_AudioWorkletProcesso) {
  _inherits(AmplitudeProcessor, _AudioWorkletProcesso);

  function AmplitudeProcessor(options) {
    var _this;

    _classCallCheck(this, AmplitudeProcessor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AmplitudeProcessor).call(this));
    var processorOptions = options.processorOptions || {};
    _this.numOutputChannels = options.outputChannelCount || 1;
    _this.numInputChannels = processorOptions.numInputChannels || 2;
    _this.normalize = processorOptions.normalize || false;
    _this.smoothing = processorOptions.smoothing || 0;
    _this.bufferSize = processorOptions.bufferSize || 2048;
    _this.inputRingBuffer = new RingBuffer(_this.bufferSize, _this.numInputChannels);
    _this.outputRingBuffer = new RingBuffer(_this.bufferSize, _this.numOutputChannels);
    _this.inputRingBufferArraySequence = new Array(_this.numInputChannels).fill(null).map(function () {
      return new Float32Array(_this.bufferSize);
    });
    _this.stereoVol = [0, 0];
    _this.stereoVolNorm = [0, 0];
    _this.volMax = 0.001;

    _this.port.onmessage = function (event) {
      var data = event.data;

      if (data.name === 'toggleNormalize') {
        _this.normalize = data.normalize;
      } else if (data.name === 'smoothing') {
        _this.smoothing = Math.max(0, Math.min(1, data.smoothing));
      }
    };

    return _this;
  } // TO DO make this stereo / dependent on # of audio channels


  _createClass(AmplitudeProcessor, [{
    key: "process",
    value: function process(inputs, outputs) {
      var input = inputs[0];
      var output = outputs[0];
      var smoothing = this.smoothing;
      this.inputRingBuffer.push(input);

      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {
        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);

        for (var channel = 0; channel < this.numInputChannels; ++channel) {
          var inputBuffer = this.inputRingBufferArraySequence[channel];
          var bufLength = inputBuffer.length;
          var sum = 0;

          for (var i = 0; i < bufLength; i++) {
            var x = inputBuffer[i];

            if (this.normalize) {
              sum += Math.max(Math.min(x / this.volMax, 1), -1) * Math.max(Math.min(x / this.volMax, 1), -1);
            } else {
              sum += x * x;
            }
          } // ... then take the square root of the sum.


          var rms = Math.sqrt(sum / bufLength);
          this.stereoVol[channel] = Math.max(rms, this.stereoVol[channel] * smoothing);
          this.volMax = Math.max(this.stereoVol[channel], this.volMax);
        } // calculate stero normalized volume and add volume from all channels together


        var volSum = 0;

        for (var index = 0; index < this.stereoVol.length; index++) {
          this.stereoVolNorm[index] = Math.max(Math.min(this.stereoVol[index] / this.volMax, 1), 0);
          volSum += this.stereoVol[index];
        } // volume is average of channels


        var volume = volSum / this.stereoVol.length; // normalized value

        var volNorm = Math.max(Math.min(volume / this.volMax, 1), 0);
        this.port.postMessage({
          name: 'amplitude',
          volume: volume,
          volNorm: volNorm,
          stereoVol: this.stereoVol,
          stereoVolNorm: this.stereoVolNorm
        }); // pass input through to output

        this.outputRingBuffer.push(this.inputRingBufferArraySequence);
      } // pull 128 frames out of the ring buffer
      // if the ring buffer does not have enough frames, the output will be silent


      this.outputRingBuffer.pull(output);
      return true;
    }
  }]);

  return AmplitudeProcessor;
}(_wrapNativeSuper(AudioWorkletProcessor));

registerProcessor(processorNames.amplitudeProcessor, AmplitudeProcessor);`},function(P,n,C){var S,g;S=[C(0),C(17)],(g=function(t){t.Frequency=function(m,p){if(!(this instanceof t.Frequency))return new t.Frequency(m,p);t.TimeBase.call(this,m,p)},t.extend(t.Frequency,t.TimeBase),t.Frequency.prototype._primaryExpressions=Object.create(t.TimeBase.prototype._primaryExpressions),t.Frequency.prototype._primaryExpressions.midi={regexp:/^(\d+(?:\.\d+)?midi)/,method:function(m){return this.midiToFrequency(m)}},t.Frequency.prototype._primaryExpressions.note={regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(m,p){var u=c[m.toLowerCase()]+12*(parseInt(p)+1);return this.midiToFrequency(u)}},t.Frequency.prototype._primaryExpressions.tr={regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(m,p,u){var a=1;return m&&m!=="0"&&(a*=this._beatsToUnits(this._timeSignature()*parseFloat(m))),p&&p!=="0"&&(a*=this._beatsToUnits(parseFloat(p))),u&&u!=="0"&&(a*=this._beatsToUnits(parseFloat(u)/4)),a}},t.Frequency.prototype.transpose=function(m){return this._expr=function(p,u){return p()*this.intervalToFrequencyRatio(u)}.bind(this,this._expr,m),this},t.Frequency.prototype.harmonize=function(m){return this._expr=function(p,u){for(var a=p(),l=[],o=0;o<u.length;o++)l[o]=a*this.intervalToFrequencyRatio(u[o]);return l}.bind(this,this._expr,m),this},t.Frequency.prototype.toMidi=function(){return this.frequencyToMidi(this.valueOf())},t.Frequency.prototype.toNote=function(){var m=this.valueOf(),p=Math.log(m/t.Frequency.A4)/Math.LN2,u=Math.round(12*p)+57,a=Math.floor(u/12);return a<0&&(u+=-12*a),f[u%12]+a.toString()},t.Frequency.prototype.toSeconds=function(){return 1/this.valueOf()},t.Frequency.prototype.toFrequency=function(){return this.valueOf()},t.Frequency.prototype.toTicks=function(){var m=this._beatsToUnits(1),p=this.valueOf()/m;return Math.floor(p*t.Transport.PPQ)},t.Frequency.prototype._frequencyToUnits=function(m){return m},t.Frequency.prototype._ticksToUnits=function(m){return 1/(60*m/(t.Transport.bpm.value*t.Transport.PPQ))},t.Frequency.prototype._beatsToUnits=function(m){return 1/t.TimeBase.prototype._beatsToUnits.call(this,m)},t.Frequency.prototype._secondsToUnits=function(m){return 1/m},t.Frequency.prototype._defaultUnits="hz";var c={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return t.Frequency.A4=440,t.Frequency.prototype.midiToFrequency=function(m){return t.Frequency.A4*Math.pow(2,(m-69)/12)},t.Frequency.prototype.frequencyToMidi=function(m){return 69+12*Math.log(m/t.Frequency.A4)/Math.LN2},t.Frequency}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(16)],(g=function(t){return t.TransportTime=function(c,f){if(!(this instanceof t.TransportTime))return new t.TransportTime(c,f);t.Time.call(this,c,f)},t.extend(t.TransportTime,t.Time),t.TransportTime.prototype._unaryExpressions=Object.create(t.Time.prototype._unaryExpressions),t.TransportTime.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(c){var f=this._secondsToTicks(c()),m=Math.ceil(t.Transport.ticks/f);return this._ticksToUnits(m*f)}},t.TransportTime.prototype._secondsToTicks=function(c){var f=c/this._beatsToUnits(1);return Math.round(f*t.Transport.PPQ)},t.TransportTime.prototype.valueOf=function(){return this._secondsToTicks(this._expr())+(this._plusNow?t.Transport.ticks:0)},t.TransportTime.prototype.toTicks=function(){return this.valueOf()},t.TransportTime.prototype.toSeconds=function(){return this._expr()+(this._plusNow?t.Transport.seconds:0)},t.TransportTime.prototype.toFrequency=function(){return 1/this.toSeconds()},t.TransportTime}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(4),C(13),C(1),C(33),C(21),C(34),C(20),C(35),C(36),C(37)],(g=function(t){function c(u,a,l){var o=new u;return l._eval(a[0]).connect(o,0,0),l._eval(a[1]).connect(o,0,1),o}function f(u,a,l){var o=new u;return l._eval(a[0]).connect(o,0,0),o}function m(u){return u?parseFloat(u):void 0}function p(u){return u&&u.args?parseFloat(u.args):void 0}return t.Expr=function(){var u=this._replacements(Array.prototype.slice.call(arguments)),a=this._parseInputs(u);this._nodes=[],this.input=new Array(a);for(var l=0;l<a;l++)this.input[l]=this.context.createGain();var o,d=this._parseTree(u);try{o=this._eval(d)}catch{throw this._disposeNodes(),new Error("Tone.Expr: Could evaluate expression: "+u)}this.output=o},t.extend(t.Expr,t.SignalBase),t.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(u){return new t.Signal(m(u))}},input:{regexp:/^\$\d/,method:function(u,a){return a.input[m(u.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:f.bind(this,t.Abs)},mod:{regexp:/^mod/,method:function(u,a){var l=p(u[1]),o=new t.Modulo(l);return a._eval(u[0]).connect(o),o}},pow:{regexp:/^pow/,method:function(u,a){var l=p(u[1]),o=new t.Pow(l);return a._eval(u[0]).connect(o),o}},a2g:{regexp:/^a2g/,method:function(u,a){var l=new t.AudioToGain;return a._eval(u[0]).connect(l),l}}},binary:{"+":{regexp:/^\+/,precedence:1,method:c.bind(this,t.Add)},"-":{regexp:/^\-/,precedence:1,method:function(u,a){return u.length===1?f(t.Negate,u,a):c(t.Subtract,u,a)}},"*":{regexp:/^\*/,precedence:0,method:c.bind(this,t.Multiply)}},unary:{"-":{regexp:/^\-/,method:f.bind(this,t.Negate)},"!":{regexp:/^\!/,method:f.bind(this,t.NOT)}}},t.Expr.prototype._parseInputs=function(u){var a=u.match(/\$\d/g),l=0;if(a!==null)for(var o=0;o<a.length;o++){var d=parseInt(a[o].substr(1))+1;l=Math.max(l,d)}return l},t.Expr.prototype._replacements=function(u){for(var a=u.shift(),l=0;l<u.length;l++)a=a.replace(/\%/i,u[l]);return a},t.Expr.prototype._tokenize=function(u){for(var a=-1,l=[];0<u.length;){var o=d(u=u.trim());l.push(o),u=u.substr(o.value.length)}function d(_){for(var k in t.Expr._Expressions){var E=t.Expr._Expressions[k];for(var I in E){var U=E[I],V=U.regexp,$=_.match(V);if($!==null)return{type:k,value:$[0],method:U.method}}}throw new SyntaxError("Tone.Expr: Unexpected token "+_)}return{next:function(){return l[++a]},peek:function(){return l[a+1]}}},t.Expr.prototype._parseTree=function(u){var a=this._tokenize(u),l=this.isUndef.bind(this);function o(k,E){return!l(k)&&k.type==="glue"&&k.value===E}function d(k,E,I){var U=t.Expr._Expressions[E];if(!l(k))for(var V in U){var $=U[V];if($.regexp.test(k.value)&&(l(I)||$.precedence===I))return!0}return!1}function _(k){var E;l(k)&&(k=5),E=k<0?function U(){var V,$;return d(V=a.peek(),"unary")?(V=a.next(),$=U(),{operator:V.value,method:V.method,args:[$]}):function(){var B,se;if(B=a.peek(),l(B))throw new SyntaxError("Tone.Expr: Unexpected termination of expression");if(B.type==="func")return function(ne){var oe=[];if(!o(a.next(),"("))throw new SyntaxError('Tone.Expr: Expected ( in a function call "'+ne.value+'"');if(o(a.peek(),")")||(oe=function(){for(var ge,J=[];ge=_(),!l(ge)&&(J.push(ge),o(a.peek(),","));)a.next();return J}()),o(a.next(),")"))return{method:ne.method,args:oe,name};throw new SyntaxError('Tone.Expr: Expected ) in a function call "'+ne.value+'"')}(B=a.next());if(B.type==="value")return{method:(B=a.next()).method,args:B.value};if(o(B,"(")){if(a.next(),se=_(),!o(B=a.next(),")"))throw new SyntaxError("Expected )");return se}throw new SyntaxError("Tone.Expr: Parse error, cannot process token "+B.value)}()}():_(k-1);for(var I=a.peek();d(I,"binary",k);)E={operator:(I=a.next()).value,method:I.method,args:[E,_(k-1)]},I=a.peek();return E}return _()},t.Expr.prototype._eval=function(u){if(!this.isUndef(u)){var a=u.method(u.args,this);return this._nodes.push(a),a}},t.Expr.prototype._disposeNodes=function(){for(var u=0;u<this._nodes.length;u++){var a=this._nodes[u];this.isFunction(a.dispose)?a.dispose():this.isFunction(a.disconnect)&&a.disconnect(),a=null,this._nodes[u]=null}this._nodes=null},t.Expr.prototype.dispose=function(){t.prototype.dispose.call(this),this._disposeNodes()},t.Expr}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(21),C(13),C(2)],(g=function(t){return t.GreaterThan=function(c){this.createInsOuts(2,0),this._param=this.input[0]=new t.Subtract(c),this.input[1]=this._param.input[1],this._gtz=this.output=new t.GreaterThanZero,this._param.connect(this._gtz)},t.extend(t.GreaterThan,t.Signal),t.GreaterThan.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param.dispose(),this._param=null,this._gtz.dispose(),this._gtz=null,this},t.GreaterThan}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(6),C(15)],(g=function(t){return t.Abs=function(){this._abs=this.input=this.output=new t.WaveShaper(function(c){return c===0?0:Math.abs(c)},127)},t.extend(t.Abs,t.SignalBase),t.Abs.prototype.dispose=function(){return t.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},t.Abs}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(6),C(1),C(13)],(g=function(t){return t.Modulo=function(c){this.createInsOuts(1,0),this._shaper=new t.WaveShaper(Math.pow(2,16)),this._multiply=new t.Multiply,this._subtract=this.output=new t.Subtract,this._modSignal=new t.Signal(c),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(c)},t.extend(t.Modulo,t.SignalBase),t.Modulo.prototype._setWaveShaper=function(c){this._shaper.setMap(function(f){return Math.floor((f+1e-4)/c)})},Object.defineProperty(t.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(c){this._modSignal.value=c,this._setWaveShaper(c)}}),t.Modulo.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},t.Modulo}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(6)],(g=function(t){return t.Pow=function(c){this._exp=this.defaultArg(c,1),this._expScaler=this.input=this.output=new t.WaveShaper(this._expFunc(this._exp),8192)},t.extend(t.Pow,t.SignalBase),Object.defineProperty(t.Pow.prototype,"value",{get:function(){return this._exp},set:function(c){this._exp=c,this._expScaler.setMap(this._expFunc(this._exp))}}),t.Pow.prototype._expFunc=function(c){return function(f){return Math.pow(Math.abs(f),c)}},t.Pow.prototype.dispose=function(){return t.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},t.Pow}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(6),C(2)],(g=function(t){return t.AudioToGain=function(){this._norm=this.input=this.output=new t.WaveShaper(function(c){return(c+1)/2})},t.extend(t.AudioToGain,t.SignalBase),t.AudioToGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.AudioToGain}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(6)],(g=function(t){return t.EqualPowerGain=function(){this._eqPower=this.input=this.output=new t.WaveShaper(function(c){return Math.abs(c)<.001?0:this.equalPowerScale(c)}.bind(this),4096)},t.extend(t.EqualPowerGain,t.SignalBase),t.EqualPowerGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},t.EqualPowerGain}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){var S,g;S=[C(0),C(19),C(9)],(g=function(t){return t.TimelineState=function(c){t.Timeline.call(this),this._initial=c},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getValueAtTime=function(c){var f=this.get(c);return f!==null?f.state:this._initial},t.TimelineState.prototype.setStateAtTime=function(c,f){this.add({state:c,time:f})},t.TimelineState}.apply(n,S))===void 0||(P.exports=g)},function(P,n,C){C.r(n),C(24),C(25);var S=C(3),g=new function fe(){(function(A,q){if(!(A instanceof q))throw new TypeError("Cannot call a class as a function")})(this,fe),this.input=S.a.createGain(),this.output=S.a.createGain(),this.limiter=S.a.createDynamicsCompressor(),this.limiter.threshold.value=-3,this.limiter.ratio.value=20,this.limiter.knee.value=1,this.audiocontext=S.a,this.output.disconnect(),this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=S.a.createGain(),this.fftMeter=S.a.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]};p5.prototype.getOutputVolume=function(){return g.output.gain.value},p5.prototype.outputVolume=function(fe){var A=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(typeof fe=="number"){var Q=g.audiocontext.currentTime,Ae=g.output.gain.value;g.output.gain.cancelScheduledValues(Q+q),g.output.gain.linearRampToValueAtTime(Ae,Q+q),g.output.gain.linearRampToValueAtTime(fe,Q+q+A)}else{if(!fe)return g.output.gain;fe.connect(g.output.gain)}},p5.prototype.soundOut=p5.soundOut=g,p5.soundOut._silentNode=g.audiocontext.createGain(),p5.soundOut._silentNode.gain.value=0,p5.soundOut._silentNode.connect(g.audiocontext.destination);var t=g,c=C(5),f=C.n(c);function m(fe){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function p(fe){var A=Math.log(fe/440)/Math.log(2);return Math.round(12*A)+69}function u(fe){return 440*Math.pow(2,(fe-69)/12)}function a(fe){if(typeof fe!="string")return fe;var A={A:21,B:23,C:24,D:26,E:28,F:29,G:31}[fe[0].toUpperCase()];switch(A+=12*(~~fe.slice(-1)-1),fe[1]){case"#":A+=1;break;case"b":A-=1}return u(A)}function l(fe){var A,q=o(A=fe.getChannelData(0),1<fe.numberOfChannels?fe.getChannelData(1):A),Q=new window.ArrayBuffer(44+2*q.length),Ae=new window.DataView(Q);d(Ae,0,"RIFF"),Ae.setUint32(4,36+2*q.length,!0),d(Ae,8,"WAVE"),d(Ae,12,"fmt "),Ae.setUint32(16,16,!0),Ae.setUint16(20,1,!0),Ae.setUint16(22,2,!0),Ae.setUint32(24,t.audiocontext.sampleRate,!0),Ae.setUint32(28,4*t.audiocontext.sampleRate,!0),Ae.setUint16(32,4,!0),Ae.setUint16(34,16,!0),d(Ae,36,"data"),Ae.setUint32(40,2*q.length,!0);for(var et=q.length,ct=44,Ot=0;Ot<et;Ot++)Ae.setInt16(ct,32767*q[Ot],!0),ct+=2;return Ae}function o(fe,A){for(var q=fe.length+A.length,Q=new Float32Array(q),Ae=0,et=0;et<q;)Q[et++]=fe[Ae],Q[et++]=A[Ae],Ae++;return Q}function d(fe,A,q){for(var Q=q.length,Ae=0;Ae<Q;Ae++)fe.setUint8(A+Ae,q.charCodeAt(Ae))}function _(fe){var A=fe,q=new AudioWorkletNode(t.audiocontext,f.a.soundFileProcessor);return q instanceof ScriptProcessorNode&&(A=q.bufferSize),q.disconnect(),q=null,A}var k=function(fe,A,q){var Q,Ae,et=new Error;return et.name=fe,et.originalStack=et.stack+A,Q=et.stack+A,et.failedPath=q,Ae=Q.split(`
`).filter(function(ct){return!ct.match(/(p5.|native code|globalInit)/g)}),et.stack=Ae.join(`
`),et},E=[C(27).default,C(28).default,C(29).default],I=t.audiocontext,U=!1;function V(fe,A){if(!(fe instanceof A))throw new TypeError("Cannot call a class as a function")}function $(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function B(fe,A,q){return A&&$(fe.prototype,A),q&&$(fe,q),fe}p5.prototype.registerMethod("init",function(){if(!U){this.preload||window.preload||(this.preload=function(){}),this._incrementPreload();var fe=function(){U=!0,this._decrementPreload()}.bind(this);Promise.all(E.map(function(A){var q=new Blob([A],{type:"application/javascript"}),Q=URL.createObjectURL(q);return I.audioWorklet.addModule(Q)})).then(fe)}});var se,ne=t.audiocontext;ne.createStereoPanner!==void 0?se=function(){function fe(A,q){V(this,fe),this.stereoPanner=this.input=ne.createStereoPanner(),A.connect(this.stereoPanner),this.stereoPanner.connect(q)}return B(fe,[{key:"pan",value:function(A,q){var Q=q||0,Ae=ne.currentTime+Q;this.stereoPanner.pan.linearRampToValueAtTime(A,Ae)}},{key:"inputChannels",value:function(){}},{key:"connect",value:function(A){this.stereoPanner.connect(A)}},{key:"disconnect",value:function(){this.stereoPanner&&this.stereoPanner.disconnect()}}]),fe}():se=function(){function fe(A,q,Q){V(this,fe),this.input=ne.createGain(),A.connect(this.input),this.left=ne.createGain(),this.right=ne.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",1<Q?(this.splitter=ne.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=ne.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(q)}return B(fe,[{key:"pan",value:function(A,q){var Q=q||0,Ae=ne.currentTime+Q,et=(A+1)/2,ct=Math.cos(et*Math.PI/2),Ot=Math.sin(et*Math.PI/2);this.left.gain.linearRampToValueAtTime(Ot,Ae),this.right.gain.linearRampToValueAtTime(ct,Ae)}},{key:"inputChannels",value:function(A){A===1?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):A===2&&(this.splitter===void 0&&(this.splitter=ne.createChannelSplitter(2)),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))}},{key:"connect",value:function(A){this.output.connect(A)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}}]),fe}();var oe=se;function ge(fe){return(ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function J(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function ue(fe,A){if(!(fe instanceof A))throw new TypeError("Cannot call a class as a function")}function he(fe,A,q,Q){ue(this,he),this.callback=fe,this.time=A,this.id=q,this.val=Q}var ye=t.audiocontext,Oe=function(){function fe(A,q,Q,Ae){if(ue(this,fe),A!==void 0){if(typeof A=="string"||typeof A[0]=="string"){var et=p5.prototype._checkFileFormats(A);this.url=et}else if(ge(A)==="object"&&!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"Unable to load file because the File API is not supported";A.file&&(A=A.file),this.file=A}this._onended=function(){},this._looping=!1,this._playing=!1,this._paused=!1,this._pauseTime=0,this._cues=[],this._cueIDCounter=0,this._lastPos=0,this._counterNode=null,this._workletNode=null,this.bufferSourceNodes=[],this.bufferSourceNode=null,this.buffer=null,this.playbackRate=1,this.input=t.audiocontext.createGain(),this.output=t.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.pauseTime=0,this.mode="sustain",this.startMillis=null,this.panPosition=0,this.panner=new oe(this.output,t.input,2),(this.url||this.file)&&this.load(q,Q),t.soundArray.push(this),this._whileLoading=typeof Ae=="function"?Ae:function(){},this._clearOnEnd=function(ct){var Ot=ct.target,Nt=this;Ot._playing=!1,Ot.removeEventListener("ended",Nt._clearOnEnd),Nt._onended(Nt),Nt.bufferSourceNodes.map(function($t,br){return br}).reverse().forEach(function($t){Nt.bufferSourceNodes[$t]._playing===!1&&Nt.bufferSourceNodes.splice($t,1)}),Nt.bufferSourceNodes.length===0&&(Nt._playing=!1)}.bind(this),this.amp=this.setVolume,this.fade=this.setVolume}return function(A,q,Q){q&&J(A.prototype,q),Q&&J(A,Q)}(fe,[{key:"load",value:function(A,q){var Q=this,Ae=new Error().stack;if(this.url!==void 0&&this.url!==""){var et=new XMLHttpRequest;et.addEventListener("progress",function(Ot){Q._updateProgress(Ot)},!1),et.open("GET",this.url,!0),et.responseType="arraybuffer",et.onload=function(){if(et.status===200){if(!Q.panner)return;ye.decodeAudioData(et.response,function($t){Q.panner&&(Q.buffer=$t,Q.panner.inputChannels($t.numberOfChannels),A&&A(Q))},function(){if(Q.panner){var $t=new k("decodeAudioData",Ae,Q.url),br="AudioContext error at decodeAudioData for "+Q.url;q&&($t.msg=br,q($t))}})}else{if(!Q.panner)return;var Ot=new k("loadSound",Ae,Q.url),Nt="Unable to load "+Q.url+". The request status was: "+et.status+" ("+et.statusText+")";q&&(Ot.message=Nt,q(Ot))}},et.onerror=function(){var Ot=new k("loadSound",Ae,Q.url),Nt="There was no response from the server at "+Q.url+". Check the url and internet connectivity.";q&&(Ot.message=Nt,q(Ot))},et.send()}else if(this.file!==void 0){var ct=new FileReader;ct.onload=function(){Q.panner&&ye.decodeAudioData(ct.result,function(Ot){Q.panner&&(Q.buffer=Ot,Q.panner.inputChannels(Ot.numberOfChannels),A&&A(Q))})},ct.onerror=function(Ot){Q.panner&&onerror&&onerror(Ot)},ct.readAsArrayBuffer(this.file)}}},{key:"_updateProgress",value:function(A){if(A.lengthComputable){var q=A.loaded/A.total*.99;this._whileLoading(q,A)}else this._whileLoading("size unknown")}},{key:"isLoaded",value:function(){return!!this.buffer}},{key:"play",value:function(A,q,Q,Ae,et){if(this.output){var ct,Ot,Nt=A||0;if(Nt<0&&(Nt=0),Nt+=t.audiocontext.currentTime,q!==void 0&&this.rate(q),Q!==void 0&&this.setVolume(Q),!this.buffer)throw"not ready to play file, buffer has yet to load. Try preload()";if(this._pauseTime=0,this.mode==="restart"&&this.buffer&&this.bufferSourceNode&&(this.bufferSourceNode.stop(Nt),this._counterNode.stop(Nt)),this.mode!=="untildone"||!this.isPlaying()){if(this.bufferSourceNode=this._initSourceNode(),delete this._counterNode,this._counterNode=this._initCounterNode(),Ae){if(!(0<=Ae&&Ae<this.buffer.duration))throw"start time out of range";ct=Ae}else ct=0;et=et&&(et<=this.buffer.duration-ct?et:this.buffer.duration),this._paused?(this.bufferSourceNode.start(Nt,this.pauseTime,et),this._counterNode.start(Nt,this.pauseTime,et)):(this.bufferSourceNode.start(Nt,ct,et),this._counterNode.start(Nt,ct,et)),this._playing=!0,this._paused=!1,this.bufferSourceNodes.push(this.bufferSourceNode),this.bufferSourceNode._arrayIndex=this.bufferSourceNodes.length-1,this.bufferSourceNode.addEventListener("ended",this._clearOnEnd),this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping,this._looping===!0&&(Ot=et||ct-1e-15,this.bufferSourceNode.loopStart=ct,this.bufferSourceNode.loopEnd=Ot,this._counterNode.loopStart=ct,this._counterNode.loopEnd=Ot)}}}},{key:"playMode",value:function(A){var q=A.toLowerCase();if(q==="restart"&&this.buffer&&this.bufferSourceNode)for(var Q=0;Q<this.bufferSourceNodes.length-1;Q++){var Ae=t.audiocontext.currentTime;this.bufferSourceNodes[Q].stop(Ae)}if(q!=="restart"&&q!=="sustain"&&q!=="untildone")throw'Invalid play mode. Must be either "restart" or "sustain"';this.mode=q}},{key:"pause",value:function(A){var q=(A||0)+t.audiocontext.currentTime;this.isPlaying()&&this.buffer&&this.bufferSourceNode?(this._paused=!0,this._playing=!1,this.pauseTime=this.currentTime(),this.bufferSourceNode.stop(q),this._counterNode.stop(q),this._pauseTime=this.currentTime()):this._pauseTime=0}},{key:"loop",value:function(A,q,Q,Ae,et){this._looping=!0,this.play(A,q,Q,Ae,et)}},{key:"setLoop",value:function(A){if(A===!0)this._looping=!0;else{if(A!==!1)throw"Error: setLoop accepts either true or false";this._looping=!1}this.bufferSourceNode&&(this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping)}},{key:"isLooping",value:function(){return!!this.bufferSourceNode&&this._looping===!0&&this.isPlaying()===!0}},{key:"isPlaying",value:function(){return this._playing}},{key:"isPaused",value:function(){return this._paused}},{key:"stop",value:function(A){var q=A||0;if(this.mode==="sustain"||this.mode==="untildone")this.stopAll(q),this._playing=!1,this.pauseTime=0,this._paused=!1;else if(this.buffer&&this.bufferSourceNode){var Q=t.audiocontext.currentTime,Ae=q||0;this.pauseTime=0,this.bufferSourceNode.stop(Q+Ae),this._counterNode.stop(Q+Ae),this._playing=!1,this._paused=!1}}},{key:"stopAll",value:function(A){var q=t.audiocontext.currentTime,Q=A||0;if(this.buffer&&this.bufferSourceNode){for(var Ae in this.bufferSourceNodes){var et=this.bufferSourceNodes[Ae];if(et)try{et.stop(q+Q)}catch{}}this._counterNode.stop(q+Q)}}},{key:"getVolume",value:function(){return this.output.gain.value}},{key:"pan",value:function(A,q){this.panPosition=A,this.panner.pan(A,q)}},{key:"getPan",value:function(){return this.panPosition}},{key:"rate",value:function(A){var q=!1;if(A===void 0)return this.playbackRate;if((this.playbackRate=A)===0?A=1e-13:A<0&&!this.reversed?(A=Math.abs(A),q=!0):0<A&&this.reversed&&(q=!0),this.bufferSourceNode){var Q=t.audiocontext.currentTime;this.bufferSourceNode.playbackRate.cancelScheduledValues(Q),this.bufferSourceNode.playbackRate.linearRampToValueAtTime(Math.abs(A),Q),this._counterNode.playbackRate.cancelScheduledValues(Q),this._counterNode.playbackRate.linearRampToValueAtTime(Math.abs(A),Q)}return q&&this.reverseBuffer(),this.playbackRate}},{key:"setPitch",value:function(A){var q=u(A)/u(60);this.rate(q)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setVolume",value:function(A,q,Q){if(typeof A=="number"){var Ae=q||0,et=Q||0,ct=t.audiocontext.currentTime,Ot=this.output.gain.value;this.output.gain.cancelScheduledValues(ct+et),this.output.gain.linearRampToValueAtTime(Ot,ct+et),this.output.gain.linearRampToValueAtTime(A,ct+et+Ae)}else{if(!A)return this.output.gain;A.connect(this.output.gain)}}},{key:"duration",value:function(){return this.buffer?this.buffer.duration:0}},{key:"currentTime",value:function(){return this.reversed?Math.abs(this._lastPos-this.buffer.length)/ye.sampleRate:this._lastPos/ye.sampleRate}},{key:"jump",value:function(A,q){if(A<0||A>this.buffer.duration)throw"jump time out of range";if(q>this.buffer.duration-A)throw"end time out of range";var Q=A||0,Ae=q||void 0;this.isPlaying()&&(this.stop(0),this.play(0,this.playbackRate,this.output.gain.value,Q,Ae))}},{key:"channels",value:function(){return this.buffer.numberOfChannels}},{key:"sampleRate",value:function(){return this.buffer.sampleRate}},{key:"frames",value:function(){return this.buffer.length}},{key:"getPeaks",value:function(A){if(!this.buffer)throw"Cannot load peaks yet, buffer is not loaded";if(A=A||5*window.width,this.buffer){for(var q=this.buffer,Q=q.length/A,Ae=~~(Q/10)||1,et=q.numberOfChannels,ct=new Float32Array(Math.round(A)),Ot=0;Ot<et;Ot++)for(var Nt=q.getChannelData(Ot),$t=0;$t<A;$t++){for(var br=~~($t*Q),xr=~~(br+Q),Vr=0,En=br;En<xr;En+=Ae){var Qn=Nt[En];(Vr<Qn||Vr<-Qn)&&(Vr=Qn)}(Ot===0||Math.abs(Vr)>ct[$t])&&(ct[$t]=Vr)}return ct}}},{key:"reverseBuffer",value:function(){if(!this.buffer)throw"SoundFile is not done loading";var A=this._lastPos/ye.sampleRate,q=this.getVolume();this.setVolume(0,.001);for(var Q=this.buffer.numberOfChannels,Ae=0;Ae<Q;Ae++)this.buffer.getChannelData(Ae).reverse();this.reversed=!this.reversed,this.isPlaying()&&A&&this.jump(this.duration()-A),this.setVolume(q,.001)}},{key:"onended",value:function(A){return this._onended=A,this}},{key:"add",value:function(){}},{key:"dispose",value:function(){var A=t.audiocontext.currentTime,q=t.soundArray.indexOf(this);if(t.soundArray.splice(q,1),this.stop(A),this.buffer&&this.bufferSourceNode){for(var Q=0;Q<this.bufferSourceNodes.length-1;Q++)if(this.bufferSourceNodes[Q]!==null){this.bufferSourceNodes[Q].disconnect();try{this.bufferSourceNodes[Q].stop(A)}catch{}this.bufferSourceNodes[Q]=null}if(this.isPlaying()){try{this._counterNode.stop(A)}catch{}this._counterNode=null}}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)}},{key:"connect",value:function(A){A?A.hasOwnProperty("input")?this.panner.connect(A.input):this.panner.connect(A):this.panner.connect(t.input)}},{key:"disconnect",value:function(){this.panner&&this.panner.disconnect()}},{key:"getLevel",value:function(){}},{key:"setPath",value:function(A,q){var Q=p5.prototype._checkFileFormats(A);this.url=Q,this.load(q)}},{key:"setBuffer",value:function(A){var q=A.length,Q=A[0].length,Ae=ye.createBuffer(q,Q,ye.sampleRate);A[0]instanceof Float32Array||(A[0]=new Float32Array(A[0]));for(var et=0;et<q;et++)Ae.getChannelData(et).set(A[et]);this.buffer=Ae,this.panner.inputChannels(q)}},{key:"_initCounterNode",value:function(){var A=this,q=this,Q=ye.currentTime,Ae=ye.createBufferSource(),et=_(256);return q._workletNode&&(q._workletNode.disconnect(),delete q._workletNode),q._workletNode=new AudioWorkletNode(ye,f.a.soundFileProcessor,{processorOptions:{bufferSize:et}}),q._workletNode.port.onmessage=function(ct){if(ct.data.name==="position"){if(ct.data.position===0)return;A._lastPos=ct.data.position,A._onTimeUpdate(q._lastPos)}},Ae.buffer=function(ct){for(var Ot=ct.length,Nt=ye.createBuffer(1,ct.length,ye.sampleRate),$t=Nt.getChannelData(0),br=0;br<Ot;br++)$t[br]=br;return Nt}(q.buffer),Ae.playbackRate.setValueAtTime(q.playbackRate,Q),Ae.connect(q._workletNode),q._workletNode.connect(p5.soundOut._silentNode),Ae}},{key:"_initSourceNode",value:function(){var A=ye.createBufferSource();return A.buffer=this.buffer,A.playbackRate.value=this.playbackRate,A.connect(this.output),A}},{key:"processPeaks",value:function(A,q,Q,Ae){}},{key:"addCue",value:function(A,q,Q){var Ae=this._cueIDCounter++,et=new he(q,A,Ae,Q);return this._cues.push(et),Ae}},{key:"removeCue",value:function(A){for(var q=this._cues.length,Q=0;Q<q;Q++)if(this._cues[Q].id===A){this._cues.splice(Q,1);break}this._cues.length}},{key:"clearCues",value:function(){this._cues=[]}},{key:"_onTimeUpdate",value:function(A){for(var q=A/this.buffer.sampleRate,Q=this._cues.length,Ae=0;Ae<Q;Ae++){var et=this._cues[Ae],ct=et.time,Ot=et.val;(this._prevUpdateTime||0)<=ct&&ct<=q&&et.callback(Ot)}this._prevUpdateTime=q}},{key:"save",value:function(A){p5.prototype.saveSound(this,A,"wav")}},{key:"getBlob",value:function(){var A=l(this.buffer);return new Blob([A],{type:"audio/wav"})}}]),fe}(),de=Oe;function Ne(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var Le=function(){function fe(A){(function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,fe),this.bufferSize=_(2048),this.audiocontext=t.audiocontext,this._workletNode=new AudioWorkletNode(this.audiocontext,f.a.amplitudeProcessor,{outputChannelCount:[1],parameterData:{smoothing:A||0},processorOptions:{normalize:!1,smoothing:A||0,numInputChannels:2,bufferSize:this.bufferSize}}),this._workletNode.port.onmessage=function(q){q.data.name==="amplitude"&&(this.volume=q.data.volume,this.volNorm=q.data.volNorm,this.stereoVol=q.data.stereoVol,this.stereoVolNorm=q.data.stereoVolNorm)}.bind(this),this.input=this._workletNode,this.output=this.audiocontext.createGain(),this.volume=0,this.volNorm=0,this.stereoVol=[0,0],this.stereoVolNorm=[0,0],this.normalize=!1,this._workletNode.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),t.meter.connect(this._workletNode),t.soundArray.push(this)}return function(A,q,Q){q&&Ne(A.prototype,q),Q&&Ne(A,Q)}(fe,[{key:"setInput",value:function(A,q){t.meter.disconnect(),q&&(this._workletNode.parameters.get("smoothing").value=q),A==null?t.meter.connect(this._workletNode):A?(A.connect(this._workletNode),this._workletNode.disconnect(),this._workletNode.connect(this.output)):t.meter.connect(this._workletNode)}},{key:"connect",value:function(A){A?A.hasOwnProperty("input")?this.output.connect(A.input):this.output.connect(A):this.output.connect(this.panner.connect(t.input))}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"getLevel",value:function(A){return A!==void 0?this.normalize?this.stereoVolNorm[A]:this.stereoVol[A]:this.normalize?this.volNorm:this.volume}},{key:"toggleNormalize",value:function(A){this.normalize=typeof A=="boolean"?A:!this.normalize,this._workletNode.port.postMessage({name:"toggleNormalize",normalize:this.normalize})}},{key:"smooth",value:function(A){0<=A&&A<1&&this._workletNode.port.postMessage({name:"smoothing",smoothing:A})}},{key:"dispose",value:function(){var A=t.soundArray.indexOf(this);t.soundArray.splice(A,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._workletNode.disconnect(),delete this._workletNode}}]),fe}();function Be(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var $e=function(){function fe(A,q){(function(Q,Ae){if(!(Q instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,fe),this.input=this.analyser=t.audiocontext.createAnalyser(),Object.defineProperties(this,{bins:{get:function(){return this.analyser.fftSize/2},set:function(Q){this.analyser.fftSize=2*Q},configurable:!0,enumerable:!0},smoothing:{get:function(){return this.analyser.smoothingTimeConstant},set:function(Q){this.analyser.smoothingTimeConstant=Q},configurable:!0,enumerable:!0}}),this.smooth(A),this.bins=q||1024,t.fftMeter.connect(this.analyser),this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3],t.soundArray.push(this)}return function(A,q,Q){q&&Be(A.prototype,q),Q&&Be(A,Q)}(fe,[{key:"setInput",value:function(A){A?(A.output?A.output.connect(this.analyser):A.connect&&A.connect(this.analyser),t.fftMeter.disconnect()):t.fftMeter.connect(this.analyser)}},{key:"waveform",value:function(){for(var A,q,Q=new Array,Ae=0;Ae<arguments.length;Ae++)typeof arguments[Ae]=="number"&&(A=arguments[Ae],this.analyser.fftSize=2*A),typeof arguments[Ae]=="string"&&(q=arguments[Ae]);if(q&&!p5.prototype._isSafari())return function(Ot){!(Ot.timeDomain instanceof Float32Array)&&(Ot.timeDomain=new Float32Array(Ot.analyser.frequencyBinCount))}(this,this.timeDomain),this.analyser.getFloatTimeDomainData(this.timeDomain),this.timeDomain;(function(Ot){!(Ot.timeDomain instanceof Uint8Array)&&(Ot.timeDomain=new Uint8Array(Ot.analyser.frequencyBinCount))})(this,this.timeDomain),this.analyser.getByteTimeDomainData(this.timeDomain);for(var et=0;et<this.timeDomain.length;et++){var ct=p5.prototype.map(this.timeDomain[et],0,255,-1,1);Q.push(ct)}return Q}},{key:"analyze",value:function(){for(var A,q=0;q<arguments.length;q++)typeof arguments[q]=="number"&&(this.bins=arguments[q],this.analyser.fftSize=2*this.bins),typeof arguments[q]=="string"&&(A=arguments[q]);return A&&A.toLowerCase()==="db"?(function(Q){!(Q.freqDomain instanceof Float32Array)&&(Q.freqDomain=new Float32Array(Q.analyser.frequencyBinCount))}(this),this.analyser.getFloatFrequencyData(this.freqDomain),this.freqDomain):(function(Q){!(Q.freqDomain instanceof Uint8Array)&&(Q.freqDomain=new Uint8Array(Q.analyser.frequencyBinCount))}(this,this.freqDomain),this.analyser.getByteFrequencyData(this.freqDomain),Array.apply([],this.freqDomain))}},{key:"getEnergy",value:function(A,q){var Q=t.audiocontext.sampleRate/2;if(A==="bass"?(A=this.bass[0],q=this.bass[1]):A==="lowMid"?(A=this.lowMid[0],q=this.lowMid[1]):A==="mid"?(A=this.mid[0],q=this.mid[1]):A==="highMid"?(A=this.highMid[0],q=this.highMid[1]):A==="treble"&&(A=this.treble[0],q=this.treble[1]),typeof A!="number")throw"invalid input for getEnergy()";if(q){if(A&&q){if(q<A){var Ae=q;q=A,A=Ae}for(var et=Math.round(A/Q*this.freqDomain.length),ct=Math.round(q/Q*this.freqDomain.length),Ot=0,Nt=0,$t=et;$t<=ct;$t++)Ot+=this.freqDomain[$t],Nt+=1;return Ot/Nt}throw"invalid input for getEnergy()"}var br=Math.round(A/Q*this.freqDomain.length);return this.freqDomain[br]}},{key:"getFreq",value:function(A,q){return this.getEnergy(A,q)}},{key:"getCentroid",value:function(){for(var A=t.audiocontext.sampleRate/2,q=0,Q=0,Ae=0;Ae<this.freqDomain.length;Ae++)q+=Ae*this.freqDomain[Ae],Q+=this.freqDomain[Ae];var et=0;return Q!==0&&(et=q/Q),et*(A/this.freqDomain.length)}},{key:"smooth",value:function(A){return A!==void 0&&(this.smoothing=A),this.smoothing}},{key:"dispose",value:function(){var A=t.soundArray.indexOf(this);t.soundArray.splice(A,1),this.analyser&&(this.analyser.disconnect(),delete this.analyser)}},{key:"linAverages",value:function(A){for(var q=A||16,Q=this.freqDomain,Ae=Q.length,et=Math.floor(Ae/q),ct=new Array(q),Ot=0,Nt=0;Nt<Ae;Nt++)ct[Ot]=ct[Ot]!==void 0?(ct[Ot]+Q[Nt])/2:Q[Nt],Nt%et==et-1&&Ot++;return ct}},{key:"logAverages",value:function(A){for(var q=t.audiocontext.sampleRate/2,Q=this.freqDomain,Ae=Q.length,et=new Array(A.length),ct=0,Ot=0;Ot<Ae;Ot++)Math.round(Ot*q/this.freqDomain.length)>A[ct].hi&&ct++,et[ct]=et[ct]!==void 0?(et[ct]+Q[Ot])/2:Q[Ot];return et}},{key:"getOctaveBands",value:function(A,q){var Q=A||3,Ae=q||15.625,et=[],ct={lo:Ae/Math.pow(2,1/(2*Q)),ctr:Ae,hi:Ae*Math.pow(2,1/(2*Q))};et.push(ct);for(var Ot=t.audiocontext.sampleRate/2;ct.hi<Ot;){var Nt={};Nt.lo=ct.hi,Nt.ctr=ct.ctr*Math.pow(2,1/Q),Nt.hi=Nt.ctr*Math.pow(2,1/(2*Q)),et.push(Nt),ct=Nt}return et}}]),fe}(),ut=C(4),Ke=C.n(ut),_t=C(1),at=C.n(_t),Fe=C(8),ae=C.n(Fe);function me(fe){return(me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function Te(fe,A){return!A||me(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function Me(fe){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function Ve(fe,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(A&&A.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),A&&je(fe,A)}function je(fe,A){return(je=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}function Pe(fe,A){if(!(fe instanceof A))throw new TypeError("Cannot call a class as a function")}function _e(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function He(fe,A,q,Q,Ae){var et=fe.oscillator;for(var ct in fe.mathOps)fe.mathOps[ct]instanceof Ae&&(et.disconnect(),fe.mathOps[ct].dispose(),(q=ct)<fe.mathOps.length-2&&(Q=fe.mathOps[ct+1]));return q===fe.mathOps.length-1&&fe.mathOps.push(Q),0<ct&&(et=fe.mathOps[ct-1]),et.disconnect(),et.connect(A),A.connect(Q),fe.mathOps[q]=A,fe}var ze=function(){function fe(A,q){if(Pe(this,fe),typeof A=="string"){var Q=q;q=A,A=Q}if(typeof q=="number"){var Ae=q;q=A,A=Ae}this.started=!1,this.phaseAmount=void 0,this.oscillator=t.audiocontext.createOscillator(),this.f=A||440,this.oscillator.type=q||"sine",this.oscillator.frequency.setValueAtTime(this.f,t.audiocontext.currentTime),this.output=t.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,t.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=t.input,this.panner=new oe(this.output,this.connection,1),this.mathOps=[this.output],t.soundArray.push(this),this.fade=this.amp}return function(A,q,Q){q&&_e(A.prototype,q),Q&&_e(A,Q)}(fe,[{key:"start",value:function(A,q){if(this.started){var Q=t.audiocontext.currentTime;this.stop(Q)}if(!this.started){var Ae=q||this.f,et=this.oscillator.type;for(var ct in this.oscillator&&(this.oscillator.disconnect(),delete this.oscillator),this.oscillator=t.audiocontext.createOscillator(),this.oscillator.frequency.value=Math.abs(Ae),this.oscillator.type=et,this.oscillator.connect(this.output),A=A||0,this.oscillator.start(A+t.audiocontext.currentTime),this.freqNode=this.oscillator.frequency,this._freqMods)this._freqMods[ct].connect!==void 0&&this._freqMods[ct].connect(this.oscillator.frequency);this.started=!0}}},{key:"stop",value:function(A){if(this.started){var q=A||0,Q=t.audiocontext.currentTime;this.oscillator.stop(q+Q),this.started=!1}}},{key:"amp",value:function(A,q,Q){var Ae=1<arguments.length&&q!==void 0?q:0,et=2<arguments.length&&Q!==void 0?Q:0;if(typeof A=="number"){var ct=t.audiocontext.currentTime;this.output.gain.linearRampToValueAtTime(A,ct+et+Ae)}else{if(!A)return this.output.gain;A.connect(this.output.gain)}}},{key:"getAmp",value:function(){return this.output.gain.value}},{key:"freq",value:function(A,q,Q){var Ae=1<arguments.length&&q!==void 0?q:0,et=2<arguments.length&&Q!==void 0?Q:0;if(typeof A!="number"||isNaN(A)){if(!A)return this.oscillator.frequency;A.output&&(A=A.output),A.connect(this.oscillator.frequency),this._freqMods.push(A)}else{this.f=A;var ct=t.audiocontext.currentTime;Ae===0?this.oscillator.frequency.setValueAtTime(A,et+ct):0<A?this.oscillator.frequency.exponentialRampToValueAtTime(A,et+Ae+ct):this.oscillator.frequency.linearRampToValueAtTime(A,et+Ae+ct),this.phaseAmount&&this.phase(this.phaseAmount)}}},{key:"getFreq",value:function(){return this.oscillator.frequency.value}},{key:"setType",value:function(A){this.oscillator.type=A}},{key:"getType",value:function(){return this.oscillator.type}},{key:"connect",value:function(A){A?A.hasOwnProperty("input")?(this.panner.connect(A.input),this.connection=A.input):(this.panner.connect(A),this.connection=A):this.panner.connect(t.input)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect(),this.panner&&(this.panner.disconnect(),this.output&&this.output.connect(this.panner)),this.oscMods=[]}},{key:"pan",value:function(A,q){this.panPosition=A,this.panner.pan(A,q)}},{key:"getPan",value:function(){return this.panPosition}},{key:"dispose",value:function(){var A=t.soundArray.indexOf(this);if(t.soundArray.splice(A,1),this.oscillator){var q=t.audiocontext.currentTime;this.stop(q),this.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()}},{key:"phase",value:function(A){var q=p5.prototype.map(A,0,1,0,1/this.f),Q=t.audiocontext.currentTime;this.phaseAmount=A,this.dNode||(this.dNode=t.audiocontext.createDelay(),this.oscillator.disconnect(),this.oscillator.connect(this.dNode),this.dNode.connect(this.output)),this.dNode.delayTime.setValueAtTime(q,Q)}},{key:"add",value:function(A){var q=new Ke.a(A);return He(this,q,this.mathOps.length-1,this.output,Ke.a)}},{key:"mult",value:function(A){var q=new at.a(A);return He(this,q,this.mathOps.length-1,this.output,at.a)}},{key:"scale",value:function(A,q,Q,Ae){var et,ct;ct=arguments.length===4?(et=p5.prototype.map(Q,A,q,0,1)-.5,p5.prototype.map(Ae,A,q,0,1)-.5):(et=A,q);var Ot=new ae.a(et,ct);return He(this,Ot,this.mathOps.length-1,this.output,ae.a)}}]),fe}(),Ge=function(){function fe(A){return Pe(this,fe),Te(this,Me(fe).call(this,A,"sine"))}return Ve(fe,ze),fe}(),st=function(){function fe(A){return Pe(this,fe),Te(this,Me(fe).call(this,A,"triangle"))}return Ve(fe,ze),fe}(),ht=function(){function fe(A){return Pe(this,fe),Te(this,Me(fe).call(this,A,"sawtooth"))}return Ve(fe,ze),fe}(),it=function(){function fe(A){return Pe(this,fe),Te(this,Me(fe).call(this,A,"square"))}return Ve(fe,ze),fe}(),mt=ze,gt=C(7),St=C.n(gt);p5.Envelope=function(fe,A,q,Q,Ae,et){this.aTime=fe||.1,this.aLevel=A||1,this.dTime=q||.5,this.dLevel=Q||0,this.rTime=Ae||0,this.rLevel=et||0,this._rampHighPercentage=.98,this._rampLowPercentage=.02,this.output=t.audiocontext.createGain(),this.control=new St.a,this._init(),this.control.connect(this.output),this.connection=null,this.mathOps=[this.control],this.isExponential=!1,this.sourceToClear=null,this.wasTriggered=!1,t.soundArray.push(this)},p5.Envelope.prototype._init=function(){var fe=t.audiocontext.currentTime;this.control.setTargetAtTime(1e-5,fe,.001),this._setRampAD(this.aTime,this.dTime)},p5.Envelope.prototype.set=function(fe,A,q,Q,Ae,et){this.aTime=fe,this.aLevel=A,this.dTime=q||0,this.dLevel=Q||0,this.rTime=Ae||0,this.rLevel=et||0,this._setRampAD(fe,q)},p5.Envelope.prototype.setADSR=function(fe,A,q,Q){this.aTime=fe,this.dTime=A||0,this.sPercent=q||0,this.dLevel=q!==void 0?q*(this.aLevel-this.rLevel)+this.rLevel:0,this.rTime=Q||0,this._setRampAD(fe,A)},p5.Envelope.prototype.setRange=function(fe,A){this.aLevel=fe||1,this.rLevel=A||0},p5.Envelope.prototype._setRampAD=function(fe,A){this._rampAttackTime=this.checkExpInput(fe),this._rampDecayTime=this.checkExpInput(A);var q=1;q=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=fe/this.checkExpInput(q),q=Math.log(1/this._rampLowPercentage),this._rampDecayTC=A/this.checkExpInput(q)},p5.Envelope.prototype.setRampPercentages=function(fe,A){this._rampHighPercentage=this.checkExpInput(fe),this._rampLowPercentage=this.checkExpInput(A);var q=1;q=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=this._rampAttackTime/this.checkExpInput(q),q=Math.log(1/this._rampLowPercentage),this._rampDecayTC=this._rampDecayTime/this.checkExpInput(q)},p5.Envelope.prototype.setInput=function(){for(var fe=0;fe<arguments.length;fe++)this.connect(arguments[fe])},p5.Envelope.prototype.setExp=function(fe){this.isExponential=fe},p5.Envelope.prototype.checkExpInput=function(fe){return fe<=0&&(fe=1e-8),fe},p5.Envelope.prototype.play=function(fe,A,q){var Q=A||0;fe&&this.connection!==fe&&this.connect(fe),this.triggerAttack(fe,Q),this.triggerRelease(fe,Q+this.aTime+this.dTime+~~q)},p5.Envelope.prototype.triggerAttack=function(fe,A){var q=t.audiocontext.currentTime+(A||0);this.lastAttack=q,this.wasTriggered=!0,fe&&this.connection!==fe&&this.connect(fe);var Q=this.control.getValueAtTime(q);this.isExponential===!0?this.control.exponentialRampToValueAtTime(this.checkExpInput(Q),q):this.control.linearRampToValueAtTime(Q,q),q+=this.aTime,this.isExponential===!0?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.aLevel),q),Q=this.checkExpInput(this.control.getValueAtTime(q)),this.control.cancelScheduledValues(q),this.control.exponentialRampToValueAtTime(Q,q)):(this.control.linearRampToValueAtTime(this.aLevel,q),Q=this.control.getValueAtTime(q),this.control.cancelScheduledValues(q),this.control.linearRampToValueAtTime(Q,q)),q+=this.dTime,this.isExponential===!0?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.dLevel),q),Q=this.checkExpInput(this.control.getValueAtTime(q)),this.control.cancelScheduledValues(q),this.control.exponentialRampToValueAtTime(Q,q)):(this.control.linearRampToValueAtTime(this.dLevel,q),Q=this.control.getValueAtTime(q),this.control.cancelScheduledValues(q),this.control.linearRampToValueAtTime(Q,q))},p5.Envelope.prototype.triggerRelease=function(fe,A){if(this.wasTriggered){var q=t.audiocontext.currentTime+(A||0);fe&&this.connection!==fe&&this.connect(fe);var Q=this.control.getValueAtTime(q);this.isExponential===!0?this.control.exponentialRampToValueAtTime(this.checkExpInput(Q),q):this.control.linearRampToValueAtTime(Q,q),q+=this.rTime,this.isExponential===!0?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.rLevel),q),Q=this.checkExpInput(this.control.getValueAtTime(q)),this.control.cancelScheduledValues(q),this.control.exponentialRampToValueAtTime(Q,q)):(this.control.linearRampToValueAtTime(this.rLevel,q),Q=this.control.getValueAtTime(q),this.control.cancelScheduledValues(q),this.control.linearRampToValueAtTime(Q,q)),this.wasTriggered=!1}},p5.Envelope.prototype.ramp=function(fe,A,q,Q){var Ae=t.audiocontext.currentTime+(A||0),et=this.checkExpInput(q),ct=Q!==void 0?this.checkExpInput(Q):void 0;fe&&this.connection!==fe&&this.connect(fe);var Ot=this.checkExpInput(this.control.getValueAtTime(Ae));Ot<et?(this.control.setTargetAtTime(et,Ae,this._rampAttackTC),Ae+=this._rampAttackTime):et<Ot&&(this.control.setTargetAtTime(et,Ae,this._rampDecayTC),Ae+=this._rampDecayTime),ct!==void 0&&(et<ct?this.control.setTargetAtTime(ct,Ae,this._rampAttackTC):ct<et&&this.control.setTargetAtTime(ct,Ae,this._rampDecayTC))},p5.Envelope.prototype.connect=function(fe){((this.connection=fe)instanceof p5.Oscillator||fe instanceof p5.SoundFile||fe instanceof p5.AudioIn||fe instanceof p5.Reverb||fe instanceof p5.Noise||fe instanceof p5.Filter||fe instanceof p5.Delay)&&(fe=fe.output.gain),fe instanceof AudioParam&&fe.setValueAtTime(0,t.audiocontext.currentTime),this.output.connect(fe)},p5.Envelope.prototype.disconnect=function(){this.output&&this.output.disconnect()},p5.Envelope.prototype.add=function(fe){var A=new Ke.a(fe),q=this.mathOps.length,Q=this.output;return p5.prototype._mathChain(this,A,q,Q,Ke.a)},p5.Envelope.prototype.mult=function(fe){var A=new at.a(fe),q=this.mathOps.length,Q=this.output;return p5.prototype._mathChain(this,A,q,Q,at.a)},p5.Envelope.prototype.scale=function(fe,A,q,Q){var Ae=new ae.a(fe,A,q,Q),et=this.mathOps.length,ct=this.output;return p5.prototype._mathChain(this,Ae,et,ct,ae.a)},p5.Envelope.prototype.dispose=function(){var fe=t.soundArray.indexOf(this);t.soundArray.splice(fe,1),this.disconnect(),this.control&&(this.control.dispose(),this.control=null);for(var A=1;A<this.mathOps.length;A++)this.mathOps[A].dispose()},p5.Env=function(fe,A,q,Q,Ae,et){p5.Envelope.call(this,fe,A,q,Q,Ae,et)},p5.Env.prototype=Object.create(p5.Envelope.prototype);var bt=p5.Envelope;function Et(fe){return(Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function i(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function e(fe,A){return!A||Et(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function r(fe){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function s(fe,A){return(s=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}var h=function(){for(var fe=2*t.audiocontext.sampleRate,A=t.audiocontext.createBuffer(1,fe,t.audiocontext.sampleRate),q=A.getChannelData(0),Q=0;Q<fe;Q++)q[Q]=2*Math.random()-1;return A.type="white",A}(),y=function(){var fe,A,q,Q,Ae,et,ct,Ot=2*t.audiocontext.sampleRate,Nt=t.audiocontext.createBuffer(1,Ot,t.audiocontext.sampleRate),$t=Nt.getChannelData(0);fe=A=q=Q=Ae=et=ct=0;for(var br=0;br<Ot;br++){var xr=2*Math.random()-1;fe=.99886*fe+.0555179*xr,A=.99332*A+.0750759*xr,q=.969*q+.153852*xr,Q=.8665*Q+.3104856*xr,Ae=.55*Ae+.5329522*xr,et=-.7616*et-.016898*xr,$t[br]=fe+A+q+Q+Ae+et+ct+.5362*xr,$t[br]*=.11,ct=.115926*xr}return Nt.type="pink",Nt}(),v=function(){for(var fe=2*t.audiocontext.sampleRate,A=t.audiocontext.createBuffer(1,fe,t.audiocontext.sampleRate),q=A.getChannelData(0),Q=0,Ae=0;Ae<fe;Ae++){var et=2*Math.random()-1;q[Ae]=(Q+.02*et)/1.02,Q=q[Ae],q[Ae]*=3.5}return A.type="brown",A}(),x=function(){function fe(A){var q,Q;return function(Ae,et){if(!(Ae instanceof et))throw new TypeError("Cannot call a class as a function")}(this,fe),delete(q=e(this,r(fe).call(this))).f,delete q.freq,delete q.oscillator,Q=A==="brown"?v:A==="pink"?y:h,q.buffer=Q,q}return function(A,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),q&&s(A,q)}(fe,mt),function(A,q,Q){q&&i(A.prototype,q),Q&&i(A,Q)}(fe,[{key:"setType",value:function(A){switch(A){case"white":this.buffer=h;break;case"pink":this.buffer=y;break;case"brown":this.buffer=v;break;default:this.buffer=h}if(this.started){var q=t.audiocontext.currentTime;this.stop(q),this.start(q+.01)}}},{key:"getType",value:function(){return this.buffer.type}},{key:"start",value:function(){this.started&&this.stop(),this.noise=t.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var A=t.audiocontext.currentTime;this.noise.start(A),this.started=!0}},{key:"stop",value:function(){var A=t.audiocontext.currentTime;this.noise&&(this.noise.stop(A),this.started=!1)}},{key:"dispose",value:function(){var A=t.audiocontext.currentTime,q=t.soundArray.indexOf(this);t.soundArray.splice(q,1),this.noise&&(this.noise.disconnect(),this.stop(A)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}]),fe}(),b=C(2),T=C.n(b);function O(fe){return(O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function L(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function D(fe,A){return!A||O(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function N(fe){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function R(fe,A){return(R=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}function X(){for(var fe=t.audiocontext,A=fe.createBuffer(1,2048,fe.sampleRate),q=A.getChannelData(0),Q=0;Q<2048;Q++)q[Q]=1;var Ae=fe.createBufferSource();return Ae.buffer=A,Ae.loop=!0,Ae}var Y=function(){function fe(A,q){var Q;(function(et,ct){if(!(et instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,fe),(Q=D(this,N(fe).call(this,A,"sawtooth"))).w=q||0,Q.osc2=new ht(A),Q.dNode=t.audiocontext.createDelay(),Q.dcOffset=X(),Q.dcGain=t.audiocontext.createGain(),Q.dcOffset.connect(Q.dcGain),Q.dcGain.connect(Q.output),Q.f=A||440;var Ae=Q.w/Q.oscillator.frequency.value;return Q.dNode.delayTime.value=Ae,Q.dcGain.gain.value=1.7*(.5-Q.w),Q.osc2.disconnect(),Q.osc2.panner.disconnect(),Q.osc2.amp(-1),Q.osc2.output.connect(Q.dNode),Q.dNode.connect(Q.output),Q.output.gain.value=1,Q.output.connect(Q.panner),Q}return function(A,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),q&&R(A,q)}(fe,mt),function(A,q,Q){q&&L(A.prototype,q),Q&&L(A,Q)}(fe,[{key:"width",value:function(A){if(typeof A=="number"){if(A<=1&&0<=A){this.w=A;var q=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=q}this.dcGain.gain.value=1.7*(.5-this.w)}else{A.connect(this.dNode.delayTime);var Q=new T.a(-.5);A.connect(Q);var Ae=new at.a(-1),et=new at.a(1.7);(Q=Q.connect(Ae).connect(et)).connect(this.dcGain.gain)}}},{key:"start",value:function(A,q){var Q=t.audiocontext.currentTime,Ae=q||0;if(!this.started){var et=A||this.f,ct=this.oscillator.type;this.oscillator=t.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(et,Q),this.oscillator.type=ct,this.oscillator.connect(this.output),this.oscillator.start(Ae+Q),this.osc2.oscillator=t.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(et,Ae+Q),this.osc2.oscillator.type=ct,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(Ae+Q),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=X(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(Ae+Q),this.mods!==void 0&&this.mods.frequency!==void 0&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}}},{key:"stop",value:function(A){if(this.started){var q=A||0,Q=t.audiocontext.currentTime;this.oscillator.stop(q+Q),this.osc2.oscillator&&this.osc2.oscillator.stop(q+Q),this.dcOffset.stop(q+Q),this.started=!1,this.osc2.started=!1}}},{key:"freq",value:function(A,q,Q){var Ae=1<arguments.length&&q!==void 0?q:0,et=2<arguments.length&&Q!==void 0?Q:0;if(typeof A=="number"){this.f=A;var ct=t.audiocontext.currentTime,Ot=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(ct),this.oscillator.frequency.setValueAtTime(Ot,ct+et),this.oscillator.frequency.exponentialRampToValueAtTime(A,et+Ae+ct),this.osc2.oscillator.frequency.cancelScheduledValues(ct),this.osc2.oscillator.frequency.setValueAtTime(Ot,ct+et),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(A,et+Ae+ct),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else A.output&&(A.output.disconnect(),A.output.connect(this.oscillator.frequency),A.output.connect(this.osc2.oscillator.frequency),this.freqMod=A)}}]),fe}();function K(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}t.inputSources=[];var H=function(){function fe(A){(function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,fe),this.input=t.audiocontext.createGain(),this.output=t.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=null,this.enabled=!1,this.amplitude=new Le,this.output.connect(this.amplitude.input),window.MediaStreamTrack&&window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia||(A?A():window.alert("This browser does not support MediaStreamTrack and mediaDevices")),t.soundArray.push(this)}return function(A,q,Q){q&&K(A.prototype,q),Q&&K(A,Q)}(fe,[{key:"start",value:function(A,q){var Q=this;this.stream&&this.stop();var Ae=t.inputSources[Q.currentSource],et={audio:{sampleRate:t.audiocontext.sampleRate,echoCancellation:!1}};t.inputSources[this.currentSource]&&(et.audio.deviceId=Ae.deviceId),window.navigator.mediaDevices.getUserMedia(et).then(function(ct){Q.stream=ct,Q.enabled=!0,Q.mediaStream=t.audiocontext.createMediaStreamSource(ct),Q.mediaStream.connect(Q.output),Q.amplitude.setInput(Q.output),A&&A()}).catch(function(ct){q&&q(ct)})}},{key:"stop",value:function(){this.stream&&(this.stream.getTracks().forEach(function(A){A.stop()}),this.mediaStream.disconnect(),delete this.mediaStream,delete this.stream)}},{key:"connect",value:function(A){A?A.hasOwnProperty("input")?this.output.connect(A.input):A.hasOwnProperty("analyser")?this.output.connect(A.analyser):this.output.connect(A):this.output.connect(t.input)}},{key:"disconnect",value:function(){this.output&&(this.output.disconnect(),this.output.connect(this.amplitude.input))}},{key:"getLevel",value:function(A){return A&&(this.amplitude.smoothing=A),this.amplitude.getLevel()}},{key:"amp",value:function(A,q){if(q){var Q=q||0,Ae=this.output.gain.value;this.output.gain.cancelScheduledValues(t.audiocontext.currentTime),this.output.gain.setValueAtTime(Ae,t.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(A,Q+t.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(t.audiocontext.currentTime),this.output.gain.setValueAtTime(A,t.audiocontext.currentTime)}},{key:"getSources",value:function(A,q){return new Promise(function(Q,Ae){window.navigator.mediaDevices.enumerateDevices().then(function(et){t.inputSources=et.filter(function(ct){return ct.kind==="audioinput"}),Q(t.inputSources),A&&A(t.inputSources)}).catch(function(et){Ae(et),q&&q(et)})})}},{key:"setSource",value:function(A){0<t.inputSources.length&&A<t.inputSources.length&&(this.currentSource=A),this.stream&&this.stream.active&&this.start()}},{key:"dispose",value:function(){var A=t.soundArray.indexOf(this);t.soundArray.splice(A,1),this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),delete this.amplitude,delete this.output}}]),fe}(),G=C(23),z=C.n(G);function Z(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var ee=function(){function fe(){(function(A,q){if(!(A instanceof q))throw new TypeError("Cannot call a class as a function")})(this,fe),this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._drywet=new z.a(1),this.wet=this.ac.createGain(),this.input.connect(this._drywet.a),this.wet.connect(this._drywet.b),this._drywet.connect(this.output),this.connect(),t.soundArray.push(this)}return function(A,q,Q){q&&Z(A.prototype,q),Q&&Z(A,Q)}(fe,[{key:"amp",value:function(A,q,Q){var Ae=1<arguments.length&&q!==void 0?q:0,et=2<arguments.length&&Q!==void 0?Q:0,ct=t.audiocontext.currentTime,Ot=ct+et,Nt=Ot+Ae+.001,$t=this.output.gain.value;this.output.gain.cancelScheduledValues(ct),this.output.gain.linearRampToValueAtTime($t,Ot+.001),this.output.gain.linearRampToValueAtTime(A,Nt)}},{key:"chain",value:function(A){if(0<arguments.length){this.connect(A);for(var q=1;q<arguments.length;q+=1)arguments[q-1].connect(arguments[q])}return this}},{key:"drywet",value:function(A){return A!==void 0&&(this._drywet.fade.value=A),this._drywet.fade.value}},{key:"connect",value:function(A){var q=A||p5.soundOut.input;this.output.connect(q.input?q.input:q)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){var A=t.soundArray.indexOf(this);t.soundArray.splice(A,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._drywet&&(this._drywet.disconnect(),delete this._drywet),this.wet&&(this.wet.disconnect(),delete this.wet),this.ac=void 0}}]),fe}();function le(fe){return(le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function ie(fe,A){if(!(fe instanceof A))throw new TypeError("Cannot call a class as a function")}function pe(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function ve(fe,A){return!A||le(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function xe(fe,A,q){return(xe=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,Ae,et){var ct=function(Nt,$t){for(;!Object.prototype.hasOwnProperty.call(Nt,$t)&&(Nt=Ce(Nt))!==null;);return Nt}(Q,Ae);if(ct){var Ot=Object.getOwnPropertyDescriptor(ct,Ae);return Ot.get?Ot.get.call(et):Ot.value}})(fe,A,q||fe)}function Ce(fe){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function be(fe,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(A&&A.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),A&&Ee(fe,A)}function Ee(fe,A){return(Ee=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}var Ie=function(){function fe(A){var q;return ie(this,fe),(q=ve(this,Ce(fe).call(this))).biquad=q.ac.createBiquadFilter(),q.input.connect(q.biquad),q.biquad.connect(q.wet),A&&q.setType(A),q._on=!0,q._untoggledType=q.biquad.type,q}return be(fe,ee),function(A,q,Q){q&&pe(A.prototype,q),Q&&pe(A,Q)}(fe,[{key:"process",value:function(A,q,Q,Ae){A.connect(this.input),this.set(q,Q,Ae)}},{key:"set",value:function(A,q,Q){A&&this.freq(A,Q),q&&this.res(q,Q)}},{key:"freq",value:function(A,q){var Q=q||0;return A<=0&&(A=1),typeof A=="number"?(this.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+Q),this.biquad.frequency.exponentialRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.biquad.frequency),this.biquad.frequency.value}},{key:"res",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.biquad.Q.value=A,this.biquad.Q.cancelScheduledValues(this.ac.currentTime+.01+Q),this.biquad.Q.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.biquad.Q),this.biquad.Q.value}},{key:"gain",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.biquad.gain.value=A,this.biquad.gain.cancelScheduledValues(this.ac.currentTime+.01+Q),this.biquad.gain.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.biquad.gain),this.biquad.gain.value}},{key:"toggle",value:function(){return this._on=!this._on,this._on===!0?this.biquad.type=this._untoggledType:this._on===!1&&(this.biquad.type="allpass"),this._on}},{key:"setType",value:function(A){this.biquad.type=A,this._untoggledType=this.biquad.type}},{key:"dispose",value:function(){xe(Ce(fe.prototype),"dispose",this).call(this),this.biquad&&(this.biquad.disconnect(),delete this.biquad)}}]),fe}(),Ue=function(){function fe(){return ie(this,fe),ve(this,Ce(fe).call(this,"lowpass"))}return be(fe,Ie),fe}(),We=function(){function fe(){return ie(this,fe),ve(this,Ce(fe).call(this,"highpass"))}return be(fe,Ie),fe}(),rt=function(){function fe(){return ie(this,fe),ve(this,Ce(fe).call(this,"bandpass"))}return be(fe,Ie),fe}(),ke=Ie;function Ye(fe){return(Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function ft(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function lt(fe,A){return!A||Ye(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function nt(fe){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function Ze(fe,A){return(Ze=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}var xt=function(){function fe(A,q){var Q;return function(Ae,et){if(!(Ae instanceof et))throw new TypeError("Cannot call a class as a function")}(this,fe),(Q=lt(this,nt(fe).call(this,"peaking"))).disconnect(),Q.set(A,q),Q.biquad.gain.value=0,delete Q.input,delete Q.output,delete Q._drywet,delete Q.wet,Q}return function(A,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),q&&Ze(A,q)}(fe,ke),function(A,q,Q){q&&ft(A.prototype,q),Q&&ft(A,Q)}(fe,[{key:"amp",value:function(){}},{key:"drywet",value:function(){}},{key:"connect",value:function(A){var q=A||p5.soundOut.input;this.biquad?this.biquad.connect(q.input?q.input:q):this.output.connect(q.input?q.input:q)}},{key:"disconnect",value:function(){this.biquad&&this.biquad.disconnect()}},{key:"dispose",value:function(){var A=t.soundArray.indexOf(this);t.soundArray.splice(A,1),this.disconnect(),delete this.biquad}}]),fe}();function Tt(fe){return(Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function It(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function Lt(fe,A){return!A||Tt(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function pt(fe,A,q){return(pt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,Ae,et){var ct=function(Nt,$t){for(;!Object.prototype.hasOwnProperty.call(Nt,$t)&&(Nt=Dt(Nt))!==null;);return Nt}(Q,Ae);if(ct){var Ot=Object.getOwnPropertyDescriptor(ct,Ae);return Ot.get?Ot.get.call(et):Ot.value}})(fe,A,q||fe)}function Dt(fe){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function jt(fe,A){return(jt=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}var Gt=function(){function fe(A){var q,Q,Ae,et;(function(Ot,Nt){if(!(Ot instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,fe),q=Lt(this,Dt(fe).call(this)),Q=(A=A===3||A===8?A:3)===3?Math.pow(2,3):2,q.bands=[];for(var ct=0;ct<A;ct++)et=ct===A-1?(Ae=21e3,.01):ct===0?(Ae=100,.1):(Ae=ct===1?A===3?360*Q:360:q.bands[ct-1].freq()*Q,1),q.bands[ct]=q._newBand(Ae,et),0<ct?q.bands[ct-1].connect(q.bands[ct].biquad):q.input.connect(q.bands[ct].biquad);return q.bands[A-1].connect(q.output),q}return function(A,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),q&&jt(A,q)}(fe,ee),function(A,q,Q){q&&It(A.prototype,q),Q&&It(A,Q)}(fe,[{key:"process",value:function(A){A.connect(this.input)}},{key:"set",value:function(){if(arguments.length===2*this.bands.length)for(var A=0;A<arguments.length;A+=2)this.bands[A/2].freq(arguments[A]),this.bands[A/2].gain(arguments[A+1])}},{key:"_newBand",value:function(A,q){return new xt(A,q)}},{key:"dispose",value:function(){if(pt(Dt(fe.prototype),"dispose",this).call(this),this.bands){for(;0<this.bands.length;)this.bands.pop().dispose();delete this.bands}}}]),fe}();function nr(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var sr=function(){function fe(A){(function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,fe),this.ac=t.audiocontext,this.listener=this.ac.listener}return function(A,q,Q){q&&nr(A.prototype,q),Q&&nr(A,Q)}(fe,[{key:"process",value:function(A){A.connect(this.input)}},{key:"position",value:function(A,q,Q,Ae){return this.positionX(A,Ae),this.positionY(q,Ae),this.positionZ(Q,Ae),[this.listener.positionX.value,this.listener.positionY.value,this.listener.positionZ.value]}},{key:"positionX",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.listener.positionX.value=A,this.listener.positionX.cancelScheduledValues(this.ac.currentTime+.01+Q),this.listener.positionX.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.listener.positionX),this.listener.positionX.value}},{key:"positionY",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.listener.positionY.value=A,this.listener.positionY.cancelScheduledValues(this.ac.currentTime+.01+Q),this.listener.positionY.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.listener.positionY),this.listener.positionY.value}},{key:"positionZ",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.listener.positionZ.value=A,this.listener.positionZ.cancelScheduledValues(this.ac.currentTime+.01+Q),this.listener.positionZ.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.listener.positionZ),this.listener.positionZ.value}},{key:"orient",value:function(A,q,Q,Ae,et,ct,Ot){return arguments.length===3||arguments.length===4?(Ot=Ae,this.orientForward(A,q,Q,Ot)):arguments.length!==6&&arguments!==7||(this.orientForward(A,q,Q),this.orientUp(Ae,et,ct,Ot)),[this.listener.forwardX.value,this.listener.forwardY.value,this.listener.forwardZ.value,this.listener.upX.value,this.listener.upY.value,this.listener.upZ.value]}},{key:"orientForward",value:function(A,q,Q,Ae){return this.forwardX(A,Ae),this.forwardY(q,Ae),this.forwardZ(Q,Ae),[this.listener.forwardX,this.listener.forwardY,this.listener.forwardZ]}},{key:"orientUp",value:function(A,q,Q,Ae){return this.upX(A,Ae),this.upY(q,Ae),this.upZ(Q,Ae),[this.listener.upX,this.listener.upY,this.listener.upZ]}},{key:"forwardX",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.listener.forwardX.value=A,this.listener.forwardX.cancelScheduledValues(this.ac.currentTime+.01+Q),this.listener.forwardX.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.listener.forwardX),this.listener.forwardX.value}},{key:"forwardY",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.listener.forwardY.value=A,this.listener.forwardY.cancelScheduledValues(this.ac.currentTime+.01+Q),this.listener.forwardY.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.listener.forwardY),this.listener.forwardY.value}},{key:"forwardZ",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.listener.forwardZ.value=A,this.listener.forwardZ.cancelScheduledValues(this.ac.currentTime+.01+Q),this.listener.forwardZ.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.listener.forwardZ),this.listener.forwardZ.value}},{key:"upX",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.listener.upX.value=A,this.listener.upX.cancelScheduledValues(this.ac.currentTime+.01+Q),this.listener.upX.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.listener.upX),this.listener.upX.value}},{key:"upY",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.listener.upY.value=A,this.listener.upY.cancelScheduledValues(this.ac.currentTime+.01+Q),this.listener.upY.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.listener.upY),this.listener.upY.value}},{key:"upZ",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.listener.upZ.value=A,this.listener.upZ.cancelScheduledValues(this.ac.currentTime+.01+Q),this.listener.upZ.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.listener.upZ),this.listener.upZ.value}}]),fe}();function ir(fe){return(ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function Qt(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function Kt(fe,A){return!A||ir(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function ar(fe,A,q){return(ar=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,Ae,et){var ct=function(Nt,$t){for(;!Object.prototype.hasOwnProperty.call(Nt,$t)&&(Nt=or(Nt))!==null;);return Nt}(Q,Ae);if(ct){var Ot=Object.getOwnPropertyDescriptor(ct,Ae);return Ot.get?Ot.get.call(et):Ot.value}})(fe,A,q||fe)}function or(fe){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function vr(fe,A){return(vr=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}var Ir=function(){function fe(){var A;return function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,fe),(A=Kt(this,or(fe).call(this))).panner=A.ac.createPanner(),A.panner.panningModel="HRTF",A.panner.distanceModel="linear",A.panner.connect(A.output),A.input.connect(A.panner),A}return function(A,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),q&&vr(A,q)}(fe,ee),function(A,q,Q){q&&Qt(A.prototype,q),Q&&Qt(A,Q)}(fe,[{key:"process",value:function(A){A.connect(this.input)}},{key:"set",value:function(A,q,Q,Ae){return this.positionX(A,Ae),this.positionY(q,Ae),this.positionZ(Q,Ae),[this.panner.positionX.value,this.panner.positionY.value,this.panner.positionZ.value]}},{key:"positionX",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.panner.positionX.value=A,this.panner.positionX.cancelScheduledValues(this.ac.currentTime+.01+Q),this.panner.positionX.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.panner.positionX),this.panner.positionX.value}},{key:"positionY",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.panner.positionY.value=A,this.panner.positionY.cancelScheduledValues(this.ac.currentTime+.01+Q),this.panner.positionY.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.panner.positionY),this.panner.positionY.value}},{key:"positionZ",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.panner.positionZ.value=A,this.panner.positionZ.cancelScheduledValues(this.ac.currentTime+.01+Q),this.panner.positionZ.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.panner.positionZ),this.panner.positionZ.value}},{key:"orient",value:function(A,q,Q,Ae){return this.orientX(A,Ae),this.orientY(q,Ae),this.orientZ(Q,Ae),[this.panner.orientationX.value,this.panner.orientationY.value,this.panner.orientationZ.value]}},{key:"orientX",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.panner.orientationX.value=A,this.panner.orientationX.cancelScheduledValues(this.ac.currentTime+.01+Q),this.panner.orientationX.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.panner.orientationX),this.panner.orientationX.value}},{key:"orientY",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.panner.orientationY.value=A,this.panner.orientationY.cancelScheduledValues(this.ac.currentTime+.01+Q),this.panner.orientationY.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.panner.orientationY),this.panner.orientationY.value}},{key:"orientZ",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.panner.orientationZ.value=A,this.panner.orientationZ.cancelScheduledValues(this.ac.currentTime+.01+Q),this.panner.orientationZ.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A&&A.connect(this.panner.orientationZ),this.panner.orientationZ.value}},{key:"setFalloff",value:function(A,q){this.maxDist(A),this.rolloff(q)}},{key:"maxDist",value:function(A){return typeof A=="number"&&(this.panner.maxDistance=A),this.panner.maxDistance}},{key:"rolloff",value:function(A){return typeof A=="number"&&(this.panner.rolloffFactor=A),this.panner.rolloffFactor}},{key:"dispose",value:function(){ar(or(fe.prototype),"dispose",this).call(this),this.panner&&(this.panner.disconnect(),delete this.panner)}}]),fe}();function Lr(fe){return(Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function Ar(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function qt(fe,A){return!A||Lr(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function yr(fe,A,q){return(yr=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,Ae,et){var ct=function(Nt,$t){for(;!Object.prototype.hasOwnProperty.call(Nt,$t)&&(Nt=kr(Nt))!==null;);return Nt}(Q,Ae);if(ct){var Ot=Object.getOwnPropertyDescriptor(ct,Ae);return Ot.get?Ot.get.call(et):Ot.value}})(fe,A,q||fe)}function kr(fe){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function Dr(fe,A){return(Dr=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}var Gr=function(){function fe(){var A;return function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,fe),(A=qt(this,kr(fe).call(this)))._split=A.ac.createChannelSplitter(2),A._merge=A.ac.createChannelMerger(2),A._leftGain=A.ac.createGain(),A._rightGain=A.ac.createGain(),A.leftDelay=A.ac.createDelay(),A.rightDelay=A.ac.createDelay(),A._leftFilter=new ke,A._rightFilter=new ke,A._leftFilter.disconnect(),A._rightFilter.disconnect(),A._leftFilter.biquad.frequency.setValueAtTime(1200,A.ac.currentTime),A._rightFilter.biquad.frequency.setValueAtTime(1200,A.ac.currentTime),A._leftFilter.biquad.Q.setValueAtTime(.3,A.ac.currentTime),A._rightFilter.biquad.Q.setValueAtTime(.3,A.ac.currentTime),A.input.connect(A._split),A.leftDelay.connect(A._leftGain),A.rightDelay.connect(A._rightGain),A._leftGain.connect(A._leftFilter.input),A._rightGain.connect(A._rightFilter.input),A._merge.connect(A.wet),A._leftFilter.biquad.gain.setValueAtTime(1,A.ac.currentTime),A._rightFilter.biquad.gain.setValueAtTime(1,A.ac.currentTime),A.setType(0),A._maxDelay=A.leftDelay.delayTime.maxValue,A.feedback(.5),A}return function(A,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),q&&Dr(A,q)}(fe,ee),function(A,q,Q){q&&Ar(A.prototype,q),Q&&Ar(A,Q)}(fe,[{key:"process",value:function(A,q,Q,Ae){var et=Q||0,ct=q||0;if(1<=et)throw new Error("Feedback value will force a positive feedback loop.");if(ct>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");A.connect(this.input),this.leftDelay.delayTime.setValueAtTime(ct,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(ct,this.ac.currentTime),this._leftGain.gain.value=et,this._rightGain.gain.value=et,Ae&&(this._leftFilter.freq(Ae),this._rightFilter.freq(Ae))}},{key:"delayTime",value:function(A){typeof A!="number"?(A.connect(this.leftDelay.delayTime),A.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(A,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(A,this.ac.currentTime))}},{key:"feedback",value:function(A){if(A&&typeof A!="number")A.connect(this._leftGain.gain),A.connect(this._rightGain.gain);else{if(1<=A)throw new Error("Feedback value will force a positive feedback loop.");typeof A=="number"&&(this._leftGain.gain.value=A,this._rightGain.gain.value=A)}return this._leftGain.gain.value}},{key:"filter",value:function(A,q){this._leftFilter.set(A,q),this._rightFilter.set(A,q)}},{key:"setType",value:function(A){switch(A===1&&(A="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),A){case"pingPong":this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay);break;default:this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._rightFilter.output.connect(this.rightDelay)}}},{key:"dispose",value:function(){yr(kr(fe.prototype),"dispose",this).call(this),this._split.disconnect(),this._leftFilter.dispose(),this._rightFilter.dispose(),this._merge.disconnect(),this._leftGain.disconnect(),this._rightGain.disconnect(),this.leftDelay.disconnect(),this.rightDelay.disconnect(),this._split=void 0,this._leftFilter=void 0,this._rightFilter=void 0,this._merge=void 0,this._leftGain=void 0,this._rightGain=void 0,this.leftDelay=void 0,this.rightDelay=void 0}}]),fe}();function _n(fe){return(_n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function Tn(fe,A){if(!(fe instanceof A))throw new TypeError("Cannot call a class as a function")}function Rn(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function M(fe,A,q){return A&&Rn(fe.prototype,A),q&&Rn(fe,q),fe}function te(fe,A){return!A||_n(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function Se(fe,A,q){return(Se=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,Ae,et){var ct=function(Nt,$t){for(;!Object.prototype.hasOwnProperty.call(Nt,$t)&&(Nt=De(Nt))!==null;);return Nt}(Q,Ae);if(ct){var Ot=Object.getOwnPropertyDescriptor(ct,Ae);return Ot.get?Ot.get.call(et):Ot.value}})(fe,A,q||fe)}function De(fe){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function tt(fe,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(A&&A.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),A&&wt(fe,A)}function wt(fe,A){return(wt=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}var Mt=function(){function fe(){var A;return Tn(this,fe),(A=te(this,De(fe).call(this)))._initConvolverNode(),A.input.gain.value=.5,A._seconds=3,A._decay=2,A._reverse=!1,A._buildImpulse(),A}return tt(fe,ee),M(fe,[{key:"_initConvolverNode",value:function(){this.convolverNode=this.ac.createConvolver(),this.input.connect(this.convolverNode),this.convolverNode.connect(this.wet)}},{key:"_teardownConvolverNode",value:function(){this.convolverNode&&(this.convolverNode.disconnect(),delete this.convolverNode)}},{key:"_setBuffer",value:function(A){this._teardownConvolverNode(),this._initConvolverNode(),this.convolverNode.buffer=A}},{key:"process",value:function(A,q,Q,Ae){A.connect(this.input);var et=!1;q&&(this._seconds=q,et=!0),Q&&(this._decay=Q),Ae&&(this._reverse=Ae),et&&this._buildImpulse()}},{key:"set",value:function(A,q,Q){var Ae=!1;A&&(this._seconds=A,Ae=!0),q&&(this._decay=q),Q&&(this._reverse=Q),Ae&&this._buildImpulse()}},{key:"_buildImpulse",value:function(){var A,q,Q=this.ac.sampleRate,Ae=Q*this._seconds,et=this._decay,ct=this.ac.createBuffer(2,Ae,Q),Ot=ct.getChannelData(0),Nt=ct.getChannelData(1);for(q=0;q<Ae;q++)A=this._reverse?Ae-q:q,Ot[q]=(2*Math.random()-1)*Math.pow(1-A/Ae,et),Nt[q]=(2*Math.random()-1)*Math.pow(1-A/Ae,et);this._setBuffer(ct)}},{key:"dispose",value:function(){Se(De(fe.prototype),"dispose",this).call(this),this._teardownConvolverNode()}}]),fe}(),Bt=function(){function fe(A,q,Q){var Ae;return Tn(this,fe),(Ae=te(this,De(fe).call(this)))._initConvolverNode(),Ae.input.gain.value=.5,A?(Ae.impulses=[],Ae._loadBuffer(A,q,Q)):(Ae._seconds=3,Ae._decay=2,Ae._reverse=!1,Ae._buildImpulse()),Ae.impulses=[],Ae.set=null,Ae}return tt(fe,Mt),M(fe,[{key:"_loadBuffer",value:function(A,q,Q){var Ae=p5.prototype._checkFileFormats(A),et=this,ct=new Error().stack,Ot=Object(S.b)(),Nt=new XMLHttpRequest;Nt.open("GET",Ae,!0),Nt.responseType="arraybuffer",Nt.onload=function(){if(Nt.status===200)Ot.decodeAudioData(Nt.response,function(xr){var Vr={},En=Ae.split("/");Vr.name=En[En.length-1],Vr.audioBuffer=xr,et.impulses.push(Vr),et._setBuffer(Vr.audioBuffer),q&&q(Vr)},function(){var xr=new k("decodeAudioData",ct,et.url),Vr="AudioContext error at decodeAudioData for "+et.url;Q&&(xr.msg=Vr,Q(xr))});else{var $t=new k("loadConvolver",ct,et.url),br="Unable to load "+et.url+". The request status was: "+Nt.status+" ("+Nt.statusText+")";Q&&($t.message=br,Q($t))}},Nt.onerror=function(){var $t=new k("loadConvolver",ct,et.url),br="There was no response from the server at "+et.url+". Check the url and internet connectivity.";Q&&($t.message=br,Q($t))},Nt.send()}},{key:"process",value:function(A){A.connect(this.input)}},{key:"addImpulse",value:function(A,q,Q){-1<window.location.origin.indexOf("file://")&&window.cordova==="undefined"&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this._loadBuffer(A,q,Q)}},{key:"resetImpulse",value:function(A,q,Q){-1<window.location.origin.indexOf("file://")&&window.cordova==="undefined"&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this.impulses=[],this._loadBuffer(A,q,Q)}},{key:"toggleImpulse",value:function(A){if(typeof A=="number"&&A<this.impulses.length&&this._setBuffer(this.impulses[A].audioBuffer),typeof A=="string"){for(var q=0;q<this.impulses.length;q++)if(this.impulses[q].name===A){this._setBuffer(this.impulses[q].audioBuffer);break}}}},{key:"dispose",value:function(){for(var A in Se(De(fe.prototype),"dispose",this).call(this),this.impulses)this.impulses[A]&&(this.impulses[A]=null)}}]),fe}(),Vt=C(11),er=C.n(Vt);function tr(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var Tr=function(){function fe(){(function(A,q){if(!(A instanceof q))throw new TypeError("Cannot call a class as a function")})(this,fe),this.clock=new er.a({callback:this.ontick.bind(this)}),this.syncedParts=[],this.bpm=120,this._init(),this.prevTick=0,this.tatumTime=0,this.tickCallback=function(){}}return function(A,q,Q){q&&tr(A.prototype,q),Q&&tr(A,Q)}(fe,[{key:"ontick",value:function(A){var q=A-this.prevTick,Q=A-t.audiocontext.currentTime;if(!(q-this.tatumTime<=-.02)){this.prevTick=A;var Ae=this;this.syncedParts.forEach(function(et){et.isPlaying&&(et.incrementStep(Q),et.phrases.forEach(function(ct){var Ot=ct.sequence,Nt=Ae.metroTicks%Ot.length;Ot[Nt]!==0&&(Ae.metroTicks<Ot.length||!ct.looping)&&ct.callback(Q,Ot[Nt])}))}),this.metroTicks+=1,this.tickCallback(Q)}}},{key:"setBPM",value:function(A,q){var Q=1<arguments.length&&q!==void 0?q:0,Ae=60/(A*this.tatums),et=t.audiocontext.currentTime;this.tatumTime=Ae,this.clock.frequency.setValueAtTime(this.clock.frequency.value,et),this.clock.frequency.linearRampToValueAtTime(A,et+Q),this.bpm=A}},{key:"getBPM",value:function(){return this.clock.getRate()/this.tatums*60}},{key:"_init",value:function(){this.metroTicks=0}},{key:"resetSync",value:function(A){this.syncedParts=[A]}},{key:"pushSync",value:function(A){this.syncedParts.push(A)}},{key:"start",value:function(A){var q=A||0,Q=t.audiocontext.currentTime;this.clock.start(Q+q),this.setBPM(this.bpm)}},{key:"stop",value:function(A){var q=A||0,Q=t.audiocontext.currentTime;this.clock.stop(Q+q)}},{key:"beatLength",value:function(A){this.tatums=1/A/4}}]),fe}();function jr(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function Xr(fe,A,q){return A&&jr(fe.prototype,A),q&&jr(fe,q),fe}function $r(fe,A){if(!(fe instanceof A))throw new TypeError("Cannot call a class as a function")}var nn=120;p5.prototype.setBPM=function(fe,A){for(var q in nn=fe,t.parts)t.parts[q]&&t.parts[q].setBPM(fe,A)};function Zr(fe,A,q){$r(this,Zr),this.phraseStep=0,this.name=fe,this.callback=A,this.sequence=q}var hn=function(){function fe(A,q){$r(this,fe),this.length=A||0,this.partStep=0,this.phrases=[],this.isPlaying=!1,this.noLoop(),this.tatums=q||.0625,this.metro=new Tr,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(nn),t.parts.push(this),this.callback=function(){}}return Xr(fe,[{key:"setBPM",value:function(A,q){this.metro.setBPM(A,q)}},{key:"getBPM",value:function(){return this.metro.getBPM()}},{key:"start",value:function(A){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var q=A||0;this.metro.start(q)}}},{key:"loop",value:function(A){this.looping=!0,this.onended=function(){this.partStep=0};var q=A||0;this.start(q)}},{key:"noLoop",value:function(){this.looping=!1,this.onended=function(){this.stop()}}},{key:"stop",value:function(A){this.partStep=0,this.pause(A)}},{key:"pause",value:function(A){this.isPlaying=!1;var q=A||0;this.metro.stop(q)}},{key:"addPhrase",value:function(A,q,Q){var Ae;if(arguments.length===3)Ae=new Zr(A,q,Q);else{if(!(A instanceof Zr))throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";Ae=A}this.phrases.push(Ae),Ae.sequence.length>this.length&&(this.length=Ae.sequence.length)}},{key:"removePhrase",value:function(A){for(var q in this.phrases)this.phrases[q].name===A&&this.phrases.splice(q,1)}},{key:"getPhrase",value:function(A){for(var q in this.phrases)if(this.phrases[q].name===A)return this.phrases[q]}},{key:"replaceSequence",value:function(A,q){for(var Q in this.phrases)this.phrases[Q].name===A&&(this.phrases[Q].sequence=q)}},{key:"incrementStep",value:function(A){this.partStep<this.length-1?(this.callback(A),this.partStep+=1):this.looping||this.partStep!==this.length-1||this.onended()}},{key:"onStep",value:function(A){this.callback=A}}]),fe}(),bn=function(){function fe(){$r(this,fe),this.parts=[],this.currentPart=new Array(arguments.length);var A=this;for(var q in arguments)this.parts[q]=arguments[q],this.parts[q].nextPart=this.parts[q+1],this.parts[q].onended=function(){A.resetPart(q),Pn(A)};this.looping=!1}return Xr(fe,[{key:"onended",value:function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0}},{key:"start",value:function(){this.parts[this.currentPart].start(),this.scoreStep=0}},{key:"stop",value:function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0}},{key:"pause",value:function(){this.parts[this.currentPart].stop()}},{key:"loop",value:function(){this.looping=!0,this.start()}},{key:"noLoop",value:function(){this.looping=!1}},{key:"resetParts",value:function(){var A=this;this.parts.forEach(function(q){A.resetParts[q]})}},{key:"resetPart",value:function(A){for(var q in this.parts[A].stop(),this.parts[A].partStep=0,this.parts[A].phrases)this.parts[A]&&(this.parts[A].phrases[q].phraseStep=0)}},{key:"setBPM",value:function(A,q){for(var Q in this.parts)this.parts[Q]&&this.parts[Q].setBPM(A,q)}}]),fe}();function Pn(fe){fe.currentPart++,fe.currentPart>=fe.parts.length?(fe.scoreStep=0,fe.onended()):(fe.scoreStep=0,fe.parts[fe.currentPart-1].stop(),fe.parts[fe.currentPart].start())}function si(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var ai=function(){function fe(A,q){(function(Ae,et){if(!(Ae instanceof et))throw new TypeError("Cannot call a class as a function")})(this,fe),Object.defineProperty(this,"bpm",{get:function(){return this._bpm},set:function(Ae){this.musicalTimeMode,this._bpm=Ae,this._update()}}),Object.defineProperty(this,"timeSignature",{get:function(){return this._timeSignature},set:function(Ae){this.musicalTimeMode,this._timeSignature=Ae,this._update()}}),Object.defineProperty(this,"interval",{get:function(){return this._interval},set:function(Ae){this.musicalTimeMode=typeof Ae!="number",this._interval=Ae,this._update()}}),Object.defineProperty(this,"iterations",{get:function(){return this.clock.ticks}}),this.callback=A,this.musicalTimeMode=typeof this._interval!="number",this._interval=q||1,this._timeSignature=4,this._bpm=60,this.isPlaying=!1,this.maxIterations=1/0;var Q=this;this.clock=new er.a({callback:function(Ae){var et=Ae-t.audiocontext.currentTime;0<et&&Q.iterations<=Q.maxIterations&&Q.callback(et)},frequency:this._calcFreq()})}return function(A,q,Q){q&&si(A.prototype,q),Q&&si(A,Q)}(fe,[{key:"start",value:function(A){var q=A||0,Q=t.audiocontext.currentTime;this.isPlaying||(this.clock.start(Q+q),this.isPlaying=!0)}},{key:"stop",value:function(A){var q=A||0,Q=t.audiocontext.currentTime;this.isPlaying&&(this.clock.stop(Q+q),this.isPlaying=!1)}},{key:"pause",value:function(A){var q=A||0,Q=t.audiocontext.currentTime;this.isPlaying&&(this.clock.pause(Q+q),this.isPlaying=!1)}},{key:"syncedStart",value:function(A,q){var Q=q||0,Ae=t.audiocontext.currentTime;if(A.isPlaying){if(A.isPlaying){var et=A.clock._nextTick-t.audiocontext.currentTime;this.clock.start(Ae+et),this.isPlaying=!0}}else A.clock.start(Ae+Q),A.isPlaying=!0,this.clock.start(Ae+Q),this.isPlaying=!0}},{key:"_update",value:function(){this.clock.frequency.value=this._calcFreq()}},{key:"_calcFreq",value:function(){return typeof this._interval=="number"?(this.musicalTimeMode=!1,1/this._interval):typeof this._interval=="string"?(this.musicalTimeMode=!0,this._bpm/60/this._convertNotation(this._interval)*(this._timeSignature/4)):void 0}},{key:"_convertNotation",value:function(A){var q=A.slice(-1);switch(A=Number(A.slice(0,-1)),q){case"m":return this._measure(A);case"n":return this._note(A)}}},{key:"_measure",value:function(A){return A*this._timeSignature}},{key:"_note",value:function(A){return this._timeSignature/A}}]),fe}();function oi(fe){return(oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function bi(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function as(fe,A){return!A||oi(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function xi(fe,A,q){return(xi=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,Ae,et){var ct=function(Nt,$t){for(;!Object.prototype.hasOwnProperty.call(Nt,$t)&&(Nt=ui(Nt))!==null;);return Nt}(Q,Ae);if(ct){var Ot=Object.getOwnPropertyDescriptor(ct,Ae);return Ot.get?Ot.get.call(et):Ot.value}})(fe,A,q||fe)}function ui(fe){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function Fi(fe,A){return(Fi=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}var os=function(){function fe(){var A;return function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,fe),(A=as(this,ui(fe).call(this))).compressor=A.ac.createDynamicsCompressor(),A.input.connect(A.compressor),A.compressor.connect(A.wet),A}return function(A,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),q&&Fi(A,q)}(fe,ee),function(A,q,Q){q&&bi(A.prototype,q),Q&&bi(A,Q)}(fe,[{key:"process",value:function(A,q,Q,Ae,et,ct){A.connect(this.input),this.set(q,Q,Ae,et,ct)}},{key:"set",value:function(A,q,Q,Ae,et){A!==void 0&&this.attack(A),q!==void 0&&this.knee(q),Q!==void 0&&this.ratio(Q),Ae!==void 0&&this.threshold(Ae),et!==void 0&&this.release(et)}},{key:"attack",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.compressor.attack.value=A,this.compressor.attack.cancelScheduledValues(this.ac.currentTime+.01+Q),this.compressor.attack.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A!==void 0&&A.connect(this.compressor.attack),this.compressor.attack.value}},{key:"knee",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.compressor.knee.value=A,this.compressor.knee.cancelScheduledValues(this.ac.currentTime+.01+Q),this.compressor.knee.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A!==void 0&&A.connect(this.compressor.knee),this.compressor.knee.value}},{key:"ratio",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.compressor.ratio.value=A,this.compressor.ratio.cancelScheduledValues(this.ac.currentTime+.01+Q),this.compressor.ratio.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A!==void 0&&A.connect(this.compressor.ratio),this.compressor.ratio.value}},{key:"threshold",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.compressor.threshold.value=A,this.compressor.threshold.cancelScheduledValues(this.ac.currentTime+.01+Q),this.compressor.threshold.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):A!==void 0&&A.connect(this.compressor.threshold),this.compressor.threshold.value}},{key:"release",value:function(A,q){var Q=q||0;return typeof A=="number"?(this.compressor.release.value=A,this.compressor.release.cancelScheduledValues(this.ac.currentTime+.01+Q),this.compressor.release.linearRampToValueAtTime(A,this.ac.currentTime+.02+Q)):typeof number<"u"&&A.connect(this.compressor.release),this.compressor.release.value}},{key:"reduction",value:function(){return this.compressor.reduction.value}},{key:"dispose",value:function(){xi(ui(fe.prototype),"dispose",this).call(this),this.compressor&&(this.compressor.disconnect(),delete this.compressor)}}]),fe}();function Bi(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var wi=function(){function fe(A,q,Q,Ae){(function(et,ct){if(!(et instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,fe),this.framesPerPeak=Ae||20,this.framesSinceLastPeak=0,this.decayRate=.95,this.threshold=Q||.35,this.cutoff=0,this.cutoffMult=1.5,this.energy=0,this.penergy=0,this.currentValue=0,this.isDetected=!1,this.f1=A||40,this.f2=q||2e4,this._onPeak=function(){}}return function(A,q,Q){q&&Bi(A.prototype,q),Q&&Bi(A,Q)}(fe,[{key:"update",value:function(A){var q=this.energy=A.getEnergy(this.f1,this.f2)/255;q>this.cutoff&&q>this.threshold&&0<q-this.penergy?(this._onPeak(),this.isDetected=!0,this.cutoff=q*this.cutoffMult,this.framesSinceLastPeak=0):(this.isDetected=!1,this.framesSinceLastPeak<=this.framesPerPeak?this.framesSinceLastPeak++:(this.cutoff*=this.decayRate,this.cutoff=Math.max(this.cutoff,this.threshold))),this.currentValue=q,this.penergy=q}},{key:"onPeak",value:function(A,q){var Q=this;Q._onPeak=function(){A(Q.energy,q)}}}]),fe}();function Qr(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var Wr=t.audiocontext,Hn=function(){function fe(){(function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,fe),this.input=Wr.createGain(),this.output=Wr.createGain(),this._inputChannels=2,this._outputChannels=2;var A=_(1024);this._workletNode=new AudioWorkletNode(Wr,f.a.recorderProcessor,{outputChannelCount:[this._outputChannels],processorOptions:{numInputChannels:this._inputChannels,bufferSize:A}}),this._workletNode.port.onmessage=function(q){if(q.data.name==="buffers"){var Q=[new Float32Array(q.data.leftBuffer),new Float32Array(q.data.rightBuffer)];this._callback(Q)}}.bind(this),this._callback=function(){},this._workletNode.connect(p5.soundOut._silentNode),this.setInput(),t.soundArray.push(this)}return function(A,q,Q){q&&Qr(A.prototype,q),Q&&Qr(A,Q)}(fe,[{key:"setInput",value:function(A){this.input.disconnect(),this.input=null,this.input=Wr.createGain(),this.input.connect(this._workletNode),this.input.connect(this.output),A?A.connect(this.input):p5.soundOut.output.connect(this.input)}},{key:"record",value:function(A,q,Q){this._workletNode.port.postMessage({name:"start",duration:q}),A&&Q?this._callback=function(Ae){A.setBuffer(Ae),Q()}:A&&(this._callback=function(Ae){A.setBuffer(Ae)})}},{key:"stop",value:function(){this._workletNode.port.postMessage({name:"stop"})}},{key:"dispose",value:function(){var A=t.soundArray.indexOf(this);t.soundArray.splice(A,1),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._workletNode=null}}]),fe}();function Nn(fe){return(Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function sn(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function xn(fe,A){return!A||Nn(A)!=="object"&&typeof A!="function"?function(q){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(fe):A}function Ui(fe,A,q){return(Ui=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,Ae,et){var ct=function(Nt,$t){for(;!Object.prototype.hasOwnProperty.call(Nt,$t)&&(Nt=an(Nt))!==null;);return Nt}(Q,Ae);if(ct){var Ot=Object.getOwnPropertyDescriptor(ct,Ae);return Ot.get?Ot.get.call(et):Ot.value}})(fe,A,q||fe)}function an(fe){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function Dn(fe,A){return(Dn=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}function Si(fe){for(var A,q=typeof fe=="number"?fe:50,Q=new Float32Array(44100),Ae=Math.PI/180,et=0;et<44100;++et)A=2*et/44100-1,Q[et]=(3+q)*A*20*Ae/(Math.PI+q*Math.abs(A));return Q}var Ci=function(){function fe(A,q){var Q;if(function(et,ct){if(!(et instanceof ct))throw new TypeError("Cannot call a class as a function")}(this,fe),Q=xn(this,an(fe).call(this)),A===void 0&&(A=.25),typeof A!="number")throw new Error("amount must be a number");if(q===void 0&&(q="2x"),typeof q!="string")throw new Error("oversample must be a String");var Ae=p5.prototype.map(A,0,1,0,2e3);return Q.waveShaperNode=Q.ac.createWaveShaper(),Q.amount=Ae,Q.waveShaperNode.curve=Si(Ae),Q.waveShaperNode.oversample=q,Q.input.connect(Q.waveShaperNode),Q.waveShaperNode.connect(Q.wet),Q}return function(A,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),q&&Dn(A,q)}(fe,ee),function(A,q,Q){q&&sn(A.prototype,q),Q&&sn(A,Q)}(fe,[{key:"process",value:function(A,q,Q){A.connect(this.input),this.set(q,Q)}},{key:"set",value:function(A,q){if(A){var Q=p5.prototype.map(A,0,1,0,2e3);this.amount=Q,this.waveShaperNode.curve=Si(Q)}q&&(this.waveShaperNode.oversample=q)}},{key:"getAmount",value:function(){return this.amount}},{key:"getOversample",value:function(){return this.waveShaperNode.oversample}},{key:"dispose",value:function(){Ui(an(fe.prototype),"dispose",this).call(this),this.waveShaperNode&&(this.waveShaperNode.disconnect(),this.waveShaperNode=null)}}]),fe}();function Ti(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var Wn=function(){function fe(){(function(A,q){if(!(A instanceof q))throw new TypeError("Cannot call a class as a function")})(this,fe),this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.output),t.soundArray.push(this)}return function(A,q,Q){q&&Ti(A.prototype,q),Q&&Ti(A,Q)}(fe,[{key:"setInput",value:function(A){A.connect(this.input)}},{key:"connect",value:function(A){var q=A||p5.soundOut.input;this.output.connect(q.input?q.input:q)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"amp",value:function(A,q,Q){var Ae=1<arguments.length&&q!==void 0?q:0,et=2<arguments.length&&Q!==void 0?Q:0,ct=t.audiocontext.currentTime,Ot=this.output.gain.value;this.output.gain.cancelScheduledValues(ct),this.output.gain.linearRampToValueAtTime(Ot,ct+et),this.output.gain.linearRampToValueAtTime(A,ct+et+Ae)}},{key:"dispose",value:function(){var A=t.soundArray.indexOf(this);t.soundArray.splice(A,1),this.output&&(this.output.disconnect(),delete this.output),this.input&&(this.input.disconnect(),delete this.input)}}]),fe}();function wn(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var Fn=function(){function fe(){(function(A,q){if(!(A instanceof q))throw new TypeError("Cannot call a class as a function")})(this,fe),this.ac=t.audiocontext,this.output=this.ac.createGain(),this.connect(),t.soundArray.push(this)}return function(A,q,Q){q&&wn(A.prototype,q),Q&&wn(A,Q)}(fe,[{key:"play",value:function(A,q,Q,Ae){}},{key:"triggerAttack",value:function(A,q,Q){}},{key:"triggerRelease",value:function(A){}},{key:"amp",value:function(A,q){}},{key:"connect",value:function(A){var q=A||t.input;this.output.connect(q.input?q.input:q)}},{key:"disconnect",value:function(){this.output.disconnect()}},{key:"dispose",value:function(){this.output&&(this.output.disconnect(),delete this.output)}}]),fe}();function Xn(fe){return(Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(fe)}function gn(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}function Zn(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function Br(fe,A,q){return(Br=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,Ae,et){var ct=function(Nt,$t){for(;!Object.prototype.hasOwnProperty.call(Nt,$t)&&(Nt=Yn(Nt))!==null;);return Nt}(Q,Ae);if(ct){var Ot=Object.getOwnPropertyDescriptor(ct,Ae);return Ot.get?Ot.get.call(et):Ot.value}})(fe,A,q||fe)}function Yn(fe){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(fe)}function Kn(fe,A){return(Kn=Object.setPrototypeOf||function(q,Q){return q.__proto__=Q,q})(fe,A)}var kn=function(){function fe(){var A;return function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,fe),(A=function(q,Q){return!Q||Xn(Q)!=="object"&&typeof Q!="function"?Zn(q):Q}(this,Yn(fe).call(this))).oscillator=new mt,A.env=new bt,A.env.setRange(1,0),A.env.setExp(!0),A.setADSR(.02,.25,.05,.35),A.oscillator.disconnect(),A.oscillator.connect(A.output),A.env.disconnect(),A.env.setInput(A.output.gain),A.oscillator.output.gain.value=1,A.oscillator.start(),A.connect(),t.soundArray.push(Zn(A)),Object.defineProperties(Zn(A),{attack:{get:function(){return this.env.aTime},set:function(q){this.env.setADSR(q,this.env.dTime,this.env.sPercent,this.env.rTime)}},decay:{get:function(){return this.env.dTime},set:function(q){this.env.setADSR(this.env.aTime,q,this.env.sPercent,this.env.rTime)}},sustain:{get:function(){return this.env.sPercent},set:function(q){this.env.setADSR(this.env.aTime,this.env.dTime,q,this.env.rTime)}},release:{get:function(){return this.env.rTime},set:function(q){this.env.setADSR(this.env.aTime,this.env.dTime,this.env.sPercent,q)}}}),A}return function(A,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),q&&Kn(A,q)}(fe,Fn),function(A,q,Q){q&&gn(A.prototype,q),Q&&gn(A,Q)}(fe,[{key:"play",value:function(A,q,Q,Ae){this.triggerAttack(A,q,~~Q),this.triggerRelease(~~Q+(Ae||.15))}},{key:"triggerAttack",value:function(A,q,Q){var Ae=2<arguments.length&&Q!==void 0?Q:0,et=a(A),ct=q||.1;this.oscillator.freq(et,0,Ae),this.env.ramp(this.output.gain,Ae,ct)}},{key:"triggerRelease",value:function(A){var q=0<arguments.length&&A!==void 0?A:0;this.env.ramp(this.output.gain,q,0)}},{key:"setADSR",value:function(A,q,Q,Ae){this.env.setADSR(A,q,Q,Ae)}},{key:"amp",value:function(A,q){var Q=q||0;return A!==void 0&&this.oscillator.amp(A,Q),this.oscillator.amp().value}},{key:"connect",value:function(A){var q=A||t.input;this.output.connect(q.input?q.input:q)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){Br(Yn(fe.prototype),"dispose",this).call(this),this.env&&this.env.dispose(),this.oscillator&&this.oscillator.dispose()}}]),fe}();function Pi(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var Vi=function(){function fe(A,q,Q,Ae){(function(et,ct){if(!(et instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,fe),this.isDetected=!1,this.freqLow=A,this.freqHigh=q,this.treshold=Q,this.energy=0,this.penergy=0,this.sensitivity=500,this.callback=Ae}return function(A,q,Q){q&&Pi(A.prototype,q),Q&&Pi(A,Q)}(fe,[{key:"update",value:function(A,q){if(this.energy=A.getEnergy(this.freqLow,this.freqHigh)/255,this.isDetected===!1&&this.energy-this.penergy>this.treshold){this.isDetected=!0,this.callback?this.callback(this.energy):q&&q(this.energy);var Q=this;setTimeout(function(){Q.isDetected=!1},this.sensitivity)}this.penergy=this.energy}}]),fe}();function ki(fe,A){for(var q=0;q<A.length;q++){var Q=A[q];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(fe,Q.key,Q)}}var Ei=function(){function fe(A,q){(function(Q,Ae){if(!(Q instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,fe),this.audiovoices=[],this.notes={},this._newest=0,this._oldest=0,this.maxVoices=q||8,this.AudioVoice=A===void 0?p5.MonoSynth:A,this._voicesInUse=new St.a(0),this.output=t.audiocontext.createGain(),this.connect(),this._allocateVoices(),t.soundArray.push(this)}return function(A,q,Q){q&&ki(A.prototype,q),Q&&ki(A,Q)}(fe,[{key:"_allocateVoices",value:function(){for(var A=0;A<this.maxVoices;A++)this.audiovoices.push(new this.AudioVoice),this.audiovoices[A].disconnect(),this.audiovoices[A].connect(this.output)}},{key:"play",value:function(A,q,Q,Ae){var et=3<arguments.length&&Ae!==void 0?Ae:1;this.noteAttack(A,q,Q),this.noteRelease(A,Q+et)}},{key:"noteADSR",value:function(A,q,Q,Ae,et,ct){var Ot=5<arguments.length&&ct!==void 0?ct:0,Nt=t.audiocontext.currentTime+Ot;this.audiovoices[this.notes[A].getValueAtTime(Nt)].setADSR(q,Q,Ae,et)}},{key:"setADSR",value:function(A,q,Q,Ae){this.audiovoices.forEach(function(et){et.setADSR(A,q,Q,Ae)})}},{key:"noteAttack",value:function(A,q,Q){var Ae,et=2<arguments.length&&Q!==void 0?Q:0,ct=t.audiocontext.currentTime+et,Ot=a(A),Nt=q||.1;this.notes[Ot]&&this.notes[Ot].getValueAtTime(ct)!==null&&this.noteRelease(Ot,0),this._voicesInUse.getValueAtTime(ct)<this.maxVoices?Ae=Math.max(~~this._voicesInUse.getValueAtTime(ct),0):(Ae=this._oldest,oldestNote=p(this.audiovoices[this._oldest].oscillator.freq().value),this.noteRelease(oldestNote),this._oldest=(this._oldest+1)%(this.maxVoices-1)),this.notes[Ot]=new St.a,this.notes[Ot].setValueAtTime(Ae,ct);var $t=this._voicesInUse._searchBefore(ct)===null?0:this._voicesInUse._searchBefore(ct).value;if(this._voicesInUse.setValueAtTime($t+1,ct),this._updateAfter(ct,1),this._newest=Ae,typeof Nt=="number"){var br=1/this._voicesInUse.getValueAtTime(ct)*2;Nt=br<Nt?br:Nt}this.audiovoices[Ae].triggerAttack(Ot,Nt,et)}},{key:"_updateAfter",value:function(A,q){if(this._voicesInUse._searchAfter(A)!==null){this._voicesInUse._searchAfter(A).value+=q;var Q=this._voicesInUse._searchAfter(A).time;this._updateAfter(Q,q)}}},{key:"noteRelease",value:function(A,q){var Q=t.audiocontext.currentTime,Ae=q||0,et=Q+Ae;if(A){var ct=a(A);if(this.notes[ct]&&this.notes[ct].getValueAtTime(et)!==null){var Ot=Math.max(~~this._voicesInUse.getValueAtTime(et).value,1);this._voicesInUse.setValueAtTime(Ot-1,et),0<Ot&&this._updateAfter(et,-1),this.audiovoices[this.notes[ct].getValueAtTime(et)].triggerRelease(Ae),this.notes[ct].dispose(),delete this.notes[ct],this._newest=this._newest===0?0:(this._newest-1)%(this.maxVoices-1)}}else for(var Nt in this.audiovoices.forEach(function($t){$t.triggerRelease(Ae)}),this._voicesInUse.setValueAtTime(0,et),this.notes)this.notes[Nt].dispose(),delete this.notes[Nt]}},{key:"connect",value:function(A){var q=A||t.input;this.output.connect(q.input?q.input:q)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){this.audiovoices.forEach(function(A){A.dispose()}),this.output&&(this.output.disconnect(),delete this.output)}}]),fe}();function $n(){(function(fe,A){if(!(fe instanceof A))throw new TypeError("Cannot call a class as a function")})(this,$n)}p5.prototype.getAudioContext=S.b,p5.prototype.userStartAudio=S.c,p5.prototype.sampleRate=function(){return t.audiocontext.sampleRate},p5.prototype.freqToMidi=p,p5.prototype.midiToFreq=u,p5.prototype.noteToFreq=a,p5.prototype.soundFormats=function(){t.extensions=[];for(var fe=0;fe<arguments.length;fe++){if(arguments[fe]=arguments[fe].toLowerCase(),!(-1<["mp3","wav","ogg","m4a","aac"].indexOf(arguments[fe])))throw arguments[fe]+" is not a valid sound format!";t.extensions.push(arguments[fe])}},p5.prototype.disposeSound=function(){for(var fe=0;fe<t.soundArray.length;fe++)t.soundArray[fe].dispose()},p5.prototype._checkFileFormats=function(fe){var A;if(typeof fe=="string"){var q=(A=fe).split(".").pop();if(-1<["mp3","wav","ogg","m4a","aac"].indexOf(q)){if(!p5.prototype.isFileSupported(q))for(var Q=A.split("."),Ae=Q[Q.length-1],et=0;et<t.extensions.length;et++){var ct=t.extensions[et];if(p5.prototype.isFileSupported(ct)){Ae="",Q.length===2&&(Ae+=Q[0]);for(var Ot=1;Ot<=Q.length-2;Ot++)Ae+="."+Q[Ot];A=Ae+=".",A=A+=ct;break}}}else for(var Nt=0;Nt<t.extensions.length;Nt++){var $t=t.extensions[Nt];if(p5.prototype.isFileSupported($t)){A=A+"."+$t;break}}}else if(m(fe)==="object")for(var br=0;br<fe.length;br++){var xr=fe[br].split(".").pop();if(p5.prototype.isFileSupported(xr)){A=fe[br];break}}return A},p5.prototype._mathChain=function(fe,A,q,Q,Ae){for(var et in fe.mathOps)fe.mathOps[et]instanceof Ae&&(fe.mathOps[et].dispose(),(q=et)<fe.mathOps.length-1&&(Q=fe.mathOps[et+1]));return fe.mathOps[q-1].disconnect(),fe.mathOps[q-1].connect(A),A.connect(Q),fe.mathOps[q]=A,fe},p5.prototype.convertToWav=l,p5.prototype.interleave=o,p5.prototype.writeUTFBytes=d,p5.prototype.safeBufferSize=_,p5.prototype.saveSound=function(fe,A){var q=l(fe.buffer);p5.prototype.writeFile([q],A,"wav")},p5.prototype.registerMethod("remove",p5.prototype.disposeSound),p5.Panner=oe,p5.SoundFile=de,p5.prototype.loadSound=function(fe,A,q,Q){-1<window.location.origin.indexOf("file://")&&window.cordova==="undefined"&&window.alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var Ae=this;return new Oe(fe,function(){typeof A=="function"&&A.apply(Ae,arguments),typeof Ae._decrementPreload=="function"&&Ae._decrementPreload()},q,Q)},p5.prototype.registerPreloadMethod("loadSound",p5.prototype),p5.Amplitude=Le,p5.FFT=$e,p5.Oscillator=mt,p5.SinOsc=Ge,p5.TriOsc=st,p5.SawOsc=ht,p5.SqrOsc=it,p5.Noise=x,p5.Pulse=Y,p5.AudioIn=H,p5.Effect=ee,p5.Filter=ke,p5.LowPass=Ue,p5.HighPass=We,p5.BandPass=rt,p5.EQ=Gt,p5.listener3D=sr,p5.Panner3D=Ir,p5.Delay=Gr,p5.Reverb=Mt,p5.Convolver=Bt,p5.prototype.createConvolver=function(fe,A,q){-1<window.location.origin.indexOf("file://")&&window.cordova==="undefined"&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var Q=this,Ae=new Bt(fe,function(et){typeof A=="function"&&A(et),typeof Q._decrementPreload=="function"&&Q._decrementPreload()},q);return Ae.impulses=[],Ae},p5.prototype.registerPreloadMethod("createConvolver",p5.prototype),p5.Metro=Tr,p5.Phrase=Zr,p5.Part=hn,p5.Score=bn,p5.SoundLoop=ai,p5.Compressor=os,p5.peakDetect=wi,p5.SoundRecorder=Hn,p5.Distortion=Ci,p5.Gain=Wn,p5.AudioVoice=Fn,p5.MonoSynth=kn,p5.OnsetDetect=Vi,p5.PolySynth=Ei,p5.PeakDetect=wi,p5.Signal=$n}]);(function(){function P(k){return!k||typeof k=="string"?k:k+""}class n{async svg2canvas(E,I,U){const V=await new Promise(se=>{var ne=new Image;ne.onload=function(){se(ne)},ne.src=E});var $=document.createElement("canvas");return $.width=I,$.height=U,$.getContext("2d").drawImage(V,0,0),$}toDataURL(E,I,U,V,$,B){var se=new XMLSerializer().serializeToString(E),ne=document.documentMode;if(ne){var oe=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi;oe.test(se)&&(se=se.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink'))}B||(B={});var ge="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(se);if(V==="image/svg+xml"||!V)return B.async?Promise.resolve(ge):ge;if(V==="image/jpeg"||V==="image/png"){if(!B.async)throw new Error("svgcanvas: options.async must be set to true if type is image/jpeg | image/png");return(async()=>{const J=await this.svg2canvas(ge,I,U),ue=J.toDataURL(V,$);return J.remove(),ue})()}throw new Error("svgcanvas: Unknown type for toDataURL, please use image/jpeg | image/png | image/svg+xml.")}getImageData(E,I,U,V,$,B,se,ne){if(ne||(ne={}),!ne.async)throw new Error("svgcanvas: options.async must be set to true for getImageData");const oe=this.toDataURL(E,I,U,"image/svg+xml");return(async()=>{const ge=await this.svg2canvas(oe,I,U),ue=ge.getContext("2d").getImageData(V,$,B,se);return ge.remove(),ue})()}}const C=new n;/*!!
 *  SVGCanvas v2.0.3
 *  Draw on SVG using Canvas's 2D Context API.
 *
 *  Licensed under the MIT license:
 *  http://www.opensource.org/licenses/mit-license.php
 *
 *  Author:
 *  Kerry Liu
 *  Zeno Zeng
 *
 *  Copyright (c) 2014 Gliffy Inc.
 *  Copyright (c) 2021 Zeno Zeng
 */var S=function(){var k,E,I,U,V;function $(J,ue){var he=Object.keys(ue),ye;for(ye=0;ye<he.length;ye++)J=J.replace(new RegExp("\\{"+he[ye]+"\\}","gi"),ue[he[ye]]);return J}function B(J){var ue,he,ye;if(!J)throw new Error("cannot create a random attribute name for an undefined object");ue="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",he="";do for(he="",ye=0;ye<12;ye++)he+=ue[Math.floor(Math.random()*ue.length)];while(J[he]);return he}function se(J,ue){var he,ye,Oe={},de;for(J=J.split(","),ue=ue||10,he=0;he<J.length;he+=2)ye="&"+J[he+1]+";",de=parseInt(J[he],ue),Oe[ye]="&#"+de+";";return Oe["\\xa0"]="&#160;",Oe}function ne(J){var ue={left:"start",right:"end",center:"middle",start:"start",end:"end"};return ue[J]||ue.start}function oe(J){var ue={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return ue[J]||ue.alphabetic}V=se("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),k={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},I=function(J,ue){this.__root=J,this.__ctx=ue},I.prototype.addColorStop=function(J,ue){var he=this.__ctx.__createElement("stop"),ye,Oe;he.setAttribute("offset",J),P(ue).indexOf("rgba")!==-1?(ye=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,Oe=ye.exec(ue),he.setAttribute("stop-color",$("rgb({r},{g},{b})",{r:Oe[1],g:Oe[2],b:Oe[3]})),he.setAttribute("stop-opacity",Oe[4])):he.setAttribute("stop-color",P(ue)),this.__root.appendChild(he)},U=function(J,ue){this.__root=J,this.__ctx=ue},E=function(J){var ue={width:500,height:500,enableMirroring:!1},he;if(arguments.length>1?(he=ue,he.width=arguments[0],he.height=arguments[1]):J?he=J:he=ue,!(this instanceof E))return new E(he);this.width=he.width||ue.width,this.height=he.height||ue.height,this.enableMirroring=he.enableMirroring!==void 0?he.enableMirroring:ue.enableMirroring,this.canvas=this,this.__document=he.document||document,he.ctx?this.__ctx=he.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__styleStack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement),this.resetTransform(),this.__options=he,this.__id=Math.random().toString(16).substring(2,8),this.__debug("new",J)},E.prototype.__debug=function(...J){!this.__options.debug||console.debug(`svgcanvas#${this.__id}:`,...J)},E.prototype.__createElement=function(J,ue,he){typeof ue>"u"&&(ue={});var ye=this.__document.createElementNS("http://www.w3.org/2000/svg",J),Oe=Object.keys(ue),de,Ne;for(he&&(ye.setAttribute("fill","none"),ye.setAttribute("stroke","none")),de=0;de<Oe.length;de++)Ne=Oe[de],ye.setAttribute(Ne,ue[Ne]);return ye},E.prototype.__setDefaultStyles=function(){var J=Object.keys(k),ue,he;for(ue=0;ue<J.length;ue++)he=J[ue],this[he]=k[he].canvas},E.prototype.__applyStyleState=function(J){var ue=Object.keys(J),he,ye;for(he=0;he<ue.length;he++)ye=ue[he],this[ye]=J[ye]},E.prototype.__getStyleState=function(){var J,ue={},he=Object.keys(k),ye;for(J=0;J<he.length;J++)ye=he[J],ue[ye]=this[ye];return ue},E.prototype.__applyTransformation=function(J,ue){const{a:he,b:ye,c:Oe,d:de,e:Ne,f:Le}=ue||this.getTransform();J.setAttribute("transform",`matrix(${he} ${ye} ${Oe} ${de} ${Ne} ${Le})`)},E.prototype.__applyStyleToCurrentElement=function(J){var ue=this.__currentElement,he=this.__currentElementsToStyle;he&&(ue.setAttribute(J,""),ue=he.element,he.children.forEach(function(ae){ae.setAttribute(J,"")}));var ye=Object.keys(k),Oe,de,Ne,Le,Be,$e,ut,Ke;for(Oe=0;Oe<ye.length;Oe++)if(de=k[ye[Oe]],Ne=this[ye[Oe]],de.apply){if(Ne instanceof U){if(Ne.__ctx)for(ut=0;ut<Ne.__ctx.__defs.childNodes.length;ut++)Ke=Ne.__ctx.__defs.childNodes[ut],$e=Ke.getAttribute("id"),this.__ids[$e]=$e,this.__defs.appendChild(Ke);ue.setAttribute(de.apply,$("url(#{id})",{id:Ne.__root.getAttribute("id")}))}else if(Ne instanceof I)ue.setAttribute(de.apply,$("url(#{id})",{id:Ne.__root.getAttribute("id")}));else if(de.apply.indexOf(J)!==-1&&de.svg!==Ne)if((de.svgAttr==="stroke"||de.svgAttr==="fill")&&Ne.indexOf("rgba")!==-1){Le=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,Be=Le.exec(Ne),ue.setAttribute(de.svgAttr,$("rgb({r},{g},{b})",{r:Be[1],g:Be[2],b:Be[3]}));var _t=Be[4],at=this.globalAlpha;at!=null&&(_t*=at),ue.setAttribute(de.svgAttr+"-opacity",_t)}else{var Fe=de.svgAttr;if(ye[Oe]==="globalAlpha"&&(Fe=J+"-"+de.svgAttr,ue.getAttribute(Fe)))continue;ue.setAttribute(Fe,Ne)}}},E.prototype.__closestGroupOrSvg=function(J){return J=J||this.__currentElement,J.nodeName==="g"||J.nodeName==="svg"?J:this.__closestGroupOrSvg(J.parentNode)},E.prototype.getSerializedSvg=function(J){var ue=new XMLSerializer().serializeToString(this.__root),he,ye,Oe,de,Ne,Le;if(Le=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi,Le.test(ue)&&(ue=ue.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),J)for(he=Object.keys(V),ye=0;ye<he.length;ye++)Oe=he[ye],de=V[Oe],Ne=new RegExp(Oe,"gi"),Ne.test(ue)&&(ue=ue.replace(Ne,de));return ue},E.prototype.getSvg=function(){return this.__root},E.prototype.save=function(){var J=this.__createElement("g"),ue=this.__closestGroupOrSvg();this.__groupStack.push(ue),ue.appendChild(J),this.__currentElement=J;const he=this.__getStyleState();this.__debug("save style",he),this.__styleStack.push(he),this.__transformMatrixStack||(this.__transformMatrixStack=[]),this.__transformMatrixStack.push(this.getTransform())},E.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var J=this.__styleStack.pop();this.__debug("restore style",J),this.__applyStyleState(J),this.__transformMatrixStack&&this.__transformMatrixStack.length>0&&this.setTransform(this.__transformMatrixStack.pop())},E.prototype.beginPath=function(){var J,ue;this.__currentDefaultPath="",this.__currentPosition={},J=this.__createElement("path",{},!0),ue=this.__closestGroupOrSvg(),ue.appendChild(J),this.__currentElement=J},E.prototype.__applyCurrentDefaultPath=function(){var J=this.__currentElement;J.nodeName==="path"?J.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",J.nodeName)},E.prototype.__addPathCommand=function(J){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=J},E.prototype.moveTo=function(J,ue){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:J,y:ue},this.__addPathCommand($("M {x} {y}",{x:this.__matrixTransform(J,ue).x,y:this.__matrixTransform(J,ue).y}))},E.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},E.prototype.lineTo=function(J,ue){this.__currentPosition={x:J,y:ue},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand($("L {x} {y}",{x:this.__matrixTransform(J,ue).x,y:this.__matrixTransform(J,ue).y})):this.__addPathCommand($("M {x} {y}",{x:this.__matrixTransform(J,ue).x,y:this.__matrixTransform(J,ue).y}))},E.prototype.bezierCurveTo=function(J,ue,he,ye,Oe,de){this.__currentPosition={x:Oe,y:de},this.__addPathCommand($("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:this.__matrixTransform(J,ue).x,cp1y:this.__matrixTransform(J,ue).y,cp2x:this.__matrixTransform(he,ye).x,cp2y:this.__matrixTransform(he,ye).y,x:this.__matrixTransform(Oe,de).x,y:this.__matrixTransform(Oe,de).y}))},E.prototype.quadraticCurveTo=function(J,ue,he,ye){this.__currentPosition={x:he,y:ye},this.__addPathCommand($("Q {cpx} {cpy} {x} {y}",{cpx:this.__matrixTransform(J,ue).x,cpy:this.__matrixTransform(J,ue).y,x:this.__matrixTransform(he,ye).x,y:this.__matrixTransform(he,ye).y}))};var ge=function(J){var ue=Math.sqrt(J[0]*J[0]+J[1]*J[1]);return[J[0]/ue,J[1]/ue]};return E.prototype.arcTo=function(J,ue,he,ye,Oe){var de=this.__currentPosition&&this.__currentPosition.x,Ne=this.__currentPosition&&this.__currentPosition.y;if(!(typeof de>"u"||typeof Ne>"u")){if(Oe<0)throw new Error("IndexSizeError: The radius provided ("+Oe+") is negative.");if(de===J&&Ne===ue||J===he&&ue===ye||Oe===0){this.lineTo(J,ue);return}var Le=ge([de-J,Ne-ue]),Be=ge([he-J,ye-ue]);if(Le[0]*Be[1]===Le[1]*Be[0]){this.lineTo(J,ue);return}var $e=Le[0]*Be[0]+Le[1]*Be[1],ut=Math.acos(Math.abs($e)),Ke=ge([Le[0]+Be[0],Le[1]+Be[1]]),_t=Oe/Math.sin(ut/2),at=J+_t*Ke[0],Fe=ue+_t*Ke[1],ae=[-Le[1],Le[0]],me=[Be[1],-Be[0]],Te=function(je){var Pe=je[0],_e=je[1];return _e>=0?Math.acos(Pe):-Math.acos(Pe)},Me=Te(ae),Ve=Te(me);this.lineTo(at+ae[0]*Oe,Fe+ae[1]*Oe),this.arc(at,Fe,Oe,Me,Ve)}},E.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},E.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},E.prototype.rect=function(J,ue,he,ye){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(J,ue),this.lineTo(J+he,ue),this.lineTo(J+he,ue+ye),this.lineTo(J,ue+ye),this.lineTo(J,ue),this.closePath()},E.prototype.fillRect=function(J,ue,he,ye){let{a:Oe,b:de,c:Ne,d:Le,e:Be,f:$e}=this.getTransform();JSON.stringify([Oe,de,Ne,Le,Be,$e])===JSON.stringify([1,0,0,1,0,0])&&J===0&&ue===0&&he===this.width&&ye===this.height&&this.__clearCanvas();var ut,Ke;ut=this.__createElement("rect",{x:J,y:ue,width:he,height:ye},!0),Ke=this.__closestGroupOrSvg(),Ke.appendChild(ut),this.__currentElement=ut,this.__applyTransformation(ut),this.__applyStyleToCurrentElement("fill")},E.prototype.strokeRect=function(J,ue,he,ye){var Oe,de;Oe=this.__createElement("rect",{x:J,y:ue,width:he,height:ye},!0),de=this.__closestGroupOrSvg(),de.appendChild(Oe),this.__currentElement=Oe,this.__applyTransformation(Oe),this.__applyStyleToCurrentElement("stroke")},E.prototype.__clearCanvas=function(){var J=this.__root.childNodes[1];this.__root.removeChild(J),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement),this.__groupStack=[]},E.prototype.clearRect=function(J,ue,he,ye){let{a:Oe,b:de,c:Ne,d:Le,e:Be,f:$e}=this.getTransform();if(JSON.stringify([Oe,de,Ne,Le,Be,$e])===JSON.stringify([1,0,0,1,0,0])&&J===0&&ue===0&&he===this.width&&ye===this.height){this.__clearCanvas();return}var ut,Ke=this.__closestGroupOrSvg();ut=this.__createElement("rect",{x:J,y:ue,width:he,height:ye,fill:"#FFFFFF"},!0),this.__applyTransformation(ut),Ke.appendChild(ut)},E.prototype.createLinearGradient=function(J,ue,he,ye){var Oe=this.__createElement("linearGradient",{id:B(this.__ids),x1:J+"px",x2:he+"px",y1:ue+"px",y2:ye+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(Oe),new I(Oe,this)},E.prototype.createRadialGradient=function(J,ue,he,ye,Oe,de){var Ne=this.__createElement("radialGradient",{id:B(this.__ids),cx:ye+"px",cy:Oe+"px",r:de+"px",fx:J+"px",fy:ue+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(Ne),new I(Ne,this)},E.prototype.__parseFont=function(){var J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i,ue=J.exec(this.font),he={style:ue[1]||"normal",size:ue[4]||"10px",family:ue[6]||"sans-serif",weight:ue[3]||"normal",decoration:ue[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(he.decoration="underline"),this.__fontHref&&(he.href=this.__fontHref),he},E.prototype.__wrapTextLink=function(J,ue){if(J.href){var he=this.__createElement("a");return he.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",J.href),he.appendChild(ue),he}return ue},E.prototype.__applyText=function(J,ue,he,ye){var Oe=this.__parseFont(),de=this.__closestGroupOrSvg(),Ne=this.__createElement("text",{"font-family":Oe.family,"font-size":Oe.size,"font-style":Oe.style,"font-weight":Oe.weight,"text-decoration":Oe.decoration,x:ue,y:he,"text-anchor":ne(this.textAlign),"dominant-baseline":oe(this.textBaseline)},!0);Ne.appendChild(this.__document.createTextNode(J)),this.__currentElement=Ne,this.__applyTransformation(Ne),this.__applyStyleToCurrentElement(ye),de.appendChild(this.__wrapTextLink(Oe,Ne))},E.prototype.fillText=function(J,ue,he){this.__applyText(J,ue,he,"fill")},E.prototype.strokeText=function(J,ue,he){this.__applyText(J,ue,he,"stroke")},E.prototype.measureText=function(J){return this.__ctx.font=this.font,this.__ctx.measureText(J)},E.prototype.arc=function(J,ue,he,ye,Oe,de){if(ye!==Oe){ye=ye%(2*Math.PI),Oe=Oe%(2*Math.PI),ye===Oe&&(Oe=(Oe+2*Math.PI-.001*(de?-1:1))%(2*Math.PI));var Ne=J+he*Math.cos(Oe),Le=ue+he*Math.sin(Oe),Be=J+he*Math.cos(ye),$e=ue+he*Math.sin(ye),ut=de?0:1,Ke=0,_t=Oe-ye;_t<0&&(_t+=2*Math.PI),de?Ke=_t>Math.PI?0:1:Ke=_t>Math.PI?1:0,this.lineTo(Be,$e),this.__addPathCommand($("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:he,ry:he,xAxisRotation:0,largeArcFlag:Ke,sweepFlag:ut,endX:this.__matrixTransform(Ne,Le).x,endY:this.__matrixTransform(Ne,Le).y})),this.__currentPosition={x:Ne,y:Le}}},E.prototype.clip=function(){var J=this.__closestGroupOrSvg(),ue=this.__createElement("clipPath"),he=B(this.__ids),ye=this.__createElement("g");this.__applyCurrentDefaultPath(),J.removeChild(this.__currentElement),ue.setAttribute("id",he),ue.appendChild(this.__currentElement),this.__defs.appendChild(ue),J.setAttribute("clip-path",$("url(#{id})",{id:he})),J.appendChild(ye),this.__currentElement=ye},E.prototype.drawImage=function(){var J=Array.prototype.slice.call(arguments),ue=J[0],he,ye,Oe,de,Ne=0,Le=0,Be,$e,ut,Ke,_t,at,Fe,ae,me,Te;if(J.length===3)he=J[1],ye=J[2],Be=ue.width,$e=ue.height,Oe=Be,de=$e;else if(J.length===5)he=J[1],ye=J[2],Oe=J[3],de=J[4],Be=ue.width,$e=ue.height;else if(J.length===9)Ne=J[1],Le=J[2],Be=J[3],$e=J[4],he=J[5],ye=J[6],Oe=J[7],de=J[8];else throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);ut=this.__closestGroupOrSvg();const Me=this.getTransform().translate(he,ye);if(ue instanceof E){if(Ke=ue.getSvg().cloneNode(!0),Ke.childNodes&&Ke.childNodes.length>1){for(_t=Ke.childNodes[0];_t.childNodes.length;)Te=_t.childNodes[0].getAttribute("id"),this.__ids[Te]=Te,this.__defs.appendChild(_t.childNodes[0]);at=Ke.childNodes[1],at&&(this.__applyTransformation(at,Me),ut.appendChild(at))}}else(ue.nodeName==="CANVAS"||ue.nodeName==="IMG")&&(Fe=this.__createElement("image"),Fe.setAttribute("width",Oe),Fe.setAttribute("height",de),Fe.setAttribute("preserveAspectRatio","none"),(Ne||Le||Be!==ue.width||$e!==ue.height)&&(ae=this.__document.createElement("canvas"),ae.width=Oe,ae.height=de,me=ae.getContext("2d"),me.drawImage(ue,Ne,Le,Be,$e,0,0,Oe,de),ue=ae),this.__applyTransformation(Fe,Me),Fe.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",ue.nodeName==="CANVAS"?ue.toDataURL():ue.getAttribute("src")),ut.appendChild(Fe))},E.prototype.createPattern=function(J,ue){var he=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),ye=B(this.__ids),Oe;return he.setAttribute("id",ye),he.setAttribute("width",J.width),he.setAttribute("height",J.height),he.setAttribute("patternUnits","userSpaceOnUse"),J.nodeName==="CANVAS"||J.nodeName==="IMG"?(Oe=this.__document.createElementNS("http://www.w3.org/2000/svg","image"),Oe.setAttribute("width",J.width),Oe.setAttribute("height",J.height),Oe.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",J.nodeName==="CANVAS"?J.toDataURL():J.getAttribute("src")),he.appendChild(Oe),this.__defs.appendChild(he)):J instanceof E&&(he.appendChild(J.__root.childNodes[1]),this.__defs.appendChild(he)),new U(he,this)},E.prototype.setLineDash=function(J){J&&J.length>0?this.lineDash=J.join(","):this.lineDash=null},E.prototype.setTransform=function(J,ue,he,ye,Oe,de){J instanceof DOMMatrix?this.__transformMatrix=new DOMMatrix([J.a,J.b,J.c,J.d,J.e,J.f]):this.__transformMatrix=new DOMMatrix([J,ue,he,ye,Oe,de])},E.prototype.getTransform=function(){let{a:J,b:ue,c:he,d:ye,e:Oe,f:de}=this.__transformMatrix;return new DOMMatrix([J,ue,he,ye,Oe,de])},E.prototype.resetTransform=function(){this.setTransform(1,0,0,1,0,0)},E.prototype.scale=function(J,ue){if(ue===void 0&&(ue=J),isNaN(J)||isNaN(ue)||!isFinite(J)||!isFinite(ue))return;let he=this.getTransform().scale(J,ue);this.setTransform(he)},E.prototype.rotate=function(J){let ue=this.getTransform().multiply(new DOMMatrix([Math.cos(J),Math.sin(J),-Math.sin(J),Math.cos(J),0,0]));this.setTransform(ue)},E.prototype.translate=function(J,ue){const he=this.getTransform().translate(J,ue);this.setTransform(he)},E.prototype.transform=function(J,ue,he,ye,Oe,de){const Ne=this.getTransform().multiply(new DOMMatrix([J,ue,he,ye,Oe,de]));this.setTransform(Ne)},E.prototype.__matrixTransform=function(J,ue){return new DOMPoint(J,ue).matrixTransform(this.__transformMatrix)},E.prototype.getImageData=function(J,ue,he,ye,Oe){return C.getImageData(this.getSvg(),this.width,this.height,J,ue,he,ye,Oe)},E.prototype.drawFocusRing=function(){},E.prototype.createImageData=function(){},E.prototype.putImageData=function(){},E.prototype.globalCompositeOperation=function(){},E}();function g(k){this.ctx=new S(k),this.svg=this.ctx.__root;var E=this.svg,I=this,U=document.createElement("div");U.style.display="inline-block",U.appendChild(E),this.wrapper=U,Object.defineProperty(this,"className",{get:function(){return U.getAttribute("class")||""},set:function(V){return U.setAttribute("class",V)}}),["width","height"].forEach(function(V){Object.defineProperty(I,V,{get:function(){return E.getAttribute(V)|0},set:function($){if(!(isNaN($)||typeof $>"u"))return I.ctx[V]=$,E.setAttribute(V,$),U[V]=$}})}),["style","id"].forEach(function(V){Object.defineProperty(I,V,{get:function(){return U[V]},set:function($){if(typeof $<"u")return U[V]=$}})}),["getBoundingClientRect"].forEach(function(V){I[V]=function(){return E[V]()}})}g.prototype.getContext=function(k){if(k!=="2d")throw new Error("Unsupported type of context for SVGCanvas");return this.ctx},g.prototype.toObjectURL=function(){var k=new XMLSerializer().serializeToString(this.svg),E=new Blob([k],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(E)},g.prototype.toDataURL=function(k,E,I){return C.toDataURL(this.svg,this.width,this.height,k,E,I)},g.prototype.addEventListener=function(){return this.svg.addEventListener.apply(this.svg,arguments)},g.prototype.getElement=function(){return this.wrapper};var t=g;const c=!1;function f(k){function E(I,U,V){var $=new t({debug:c}),B=$.svg,se=I.parentNode,ne=I.id,oe=I.className;se.replaceChild($.getElement(),I),$.id=ne,$.className=oe,I=$,I.parentNode={removeChild:function(J){if(J===I){var ue=$.getElement();ue.parentNode.removeChild(ue)}}};const ge=new Proxy(U,{get:function(J,ue){return ue==="_pixelDensity"?1:J[ue]}});return k.Renderer2D.call(this,I,ge,V),this.isSVG=!0,this.svg=B,this}E.prototype=Object.create(k.Renderer2D.prototype),E.prototype._applyDefaults=function(){k.Renderer2D.prototype._applyDefaults.call(this),this.drawingContext.lineWidth=1},E.prototype.resize=function(I,U){!I||!U||((this.width!==I||this.height!==U)&&this.drawingContext.__clearCanvas(),k.Renderer2D.prototype.resize.call(this,I,U),this.svg.setAttribute("viewBox",[0,0,I,U].join(" ")))},E.prototype.appendChild=function(I){I&&I.elt&&(I=I.elt);var U=this.drawingContext.__closestGroupOrSvg();U.appendChild(I)},E.prototype.image=function(I,U,V,$,B,se,ne,oe,ge){if(!I)throw new Error("Invalid image: "+I);var J=I._renderer&&I._renderer.svg;J=J||I.elt&&I.elt.nodeName&&I.elt.nodeName.toLowerCase()==="svg"&&I.elt,J=J||I.nodeName&&I.nodeName.toLowerCase()=="svg"&&I,J?(J=J.cloneNode(!0),J.setAttribute("width",oe),J.setAttribute("height",ge),J.setAttribute("x",se),J.setAttribute("y",ne),(U||V||$||B)&&($/=this._pInst._pixelDensity,B/=this._pInst._pixelDensity,J.setAttribute("viewBox",[U,V,$,B].join(", "))),this.appendChild(J)):k.Renderer2D.prototype.image.apply(this,arguments)},E.prototype.parent=function(){const I={elt:this.elt.getElement()};return k.Element.prototype.parent.apply(I,arguments)},E.prototype.loadPixels=async function(){const I=this._pixelsState,U=I._pixelDensity,V=this.width*U,$=this.height*U,B=await this.drawingContext.getImageData(0,0,V,$,{async:!0});I._setProperty("imageData",B),I._setProperty("pixels",B.data)},k.RendererSVG=E}var m={SVG:"svg"};function p(k){var E=k.Graphics;k.Graphics=function(U,V,$,B){const se=$===m.SVG;if(E.apply(this,[U,V,se?k.P2D:$,B]),se){var ne=this._renderer.elt;this._renderer=new k.RendererSVG(ne,this,!1),ne=this._renderer.elt,this.elt=ne,this._renderer.resize(U,V),this._renderer._applyDefaults()}return this},k.Graphics.prototype=E.prototype;var I=k.prototype.createCanvas;k.prototype.createCanvas=function(U,V,$){var B=I.apply(this,arguments);if($===m.SVG){var se=B.canvas;this._setProperty("_renderer",new k.RendererSVG(se,this,!0)),this._isdefaultGraphics=!0,this._renderer.resize(U,V),this._renderer._applyDefaults()}return this._renderer},k.prototype.createGraphics=function(U,V,$){return new k.Graphics(U,V,$,this)}}function u(k){var E=function(V,$,B){if(V=new XMLSerializer().serializeToString(V),V="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(V),$=="image/svg+xml"){B(null,V);return}var se=new Image,ne=document.createElement("canvas"),oe=ne.getContext("2d");se.onload=function(){ne.width=se.width,ne.height=se.height,oe.drawImage(se,0,0);var ge=ne.toDataURL($);B(null,ge)},se.src=V};k.prototype._makeSVGFrame=function(V){var $=V.filename||"untitled",B=V.extension;B=B||this._checkFileExtension($,B)[1];var se=new RegExp("\\."+B+"$");$=$.replace(se,""),B===""&&(B="svg");var ne={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpeg",svg:"image/svg+xml"}[B];if(!ne)throw new Error("Fail to getFrame, invalid extension: "+B+", please use png | jpeg | jpg | svg.");var oe=V.svg||this._renderer.svg;E(oe,ne,function(ge,J){var ue="image/octet-stream";J=J.replace(ne,ue),V.callback(ge,{imageData:J,filename:$,ext:B})})},k.prototype.saveSVG=function(){var V=arguments;V=[V[0],V[1],V[2]];var $;V[0]instanceof k.Graphics&&($=V[0]._renderer.svg,V.shift()),V[0]&&V[0].elt&&($=V[0].elt,V.shift()),typeof V[0]=="object"&&($=V[0],V.shift());var B=V[0],se=V[1],ne=this;this._makeSVGFrame({svg:$,filename:B,extension:se,callback:function(oe,ge){ne.downloadFile(ge.imageData,ge.filename,ge.ext)}})};var I=k.prototype.saveFrames;k.prototype.saveFrames=function(V,$,B,se,ne){var oe=arguments;if(!this._renderer.svg){I.apply(this,oe);return}B=B||3,B=k.prototype.constrain(B,0,15),B=B*1e3,se=se||15,se=k.prototype.constrain(se,0,22);var ge=0,J=[],ue=0,he=this,ye=setInterval(function(){(function(de){ue++,he._makeSVGFrame({filename:V+de,extension:$,callback:function(Ne,Le){J[de]=Le,ue--}})})(ge),ge++},1e3/se),Oe=function(){if(ue>0){setTimeout(function(){Oe()},10);return}ne?ne(J):J.forEach(function(de){he.downloadFile(de.imageData,de.filename,de.ext)})};setTimeout(function(){clearInterval(ye),Oe()},B+.01)};var U=k.prototype.save;k.prototype.save=function(){var V=arguments;V=[V[0],V[1]];var $;if(V[0]instanceof k.Graphics){var B=V[0].elt;$=B.svg,V.shift()}V[0]&&V[0].elt&&($=V[0].elt,V.shift()),typeof V[0]=="object"&&($=V[0],V.shift()),$=$||this._renderer&&this._renderer.svg;var se=V[0],ne=["jpeg","png","jpg","svg",""],oe=this._checkFileExtension(se,"")[1],ge=$&&$.nodeName&&$.nodeName.toLowerCase()==="svg"&&ne.indexOf(oe)>-1;if(ge)this.saveSVG($,se);else return U.apply(this,arguments)},k.prototype._svg_get=function(V,$,B){if(V.indexOf("data:")===0){if(V.indexOf(",")===-1){B(new Error("Fail to parse dataurl: "+V));return}var se=V.split(",").pop();return setTimeout(function(){V.indexOf(";base64,")>-1?se=atob(se):se=decodeURIComponent(se),$(se)},1),se}else return this.httpGet(V,$),null},k.prototype.loadSVG=function(V,$,B){var se=document.createElement("div"),ne=new k.SVGElement(se);return this._incrementPreload(),new Promise((oe,ge)=>{this._svg_get(V,function(J){if(se.innerHTML=J,J=se.querySelector("svg"),!J){ge("Fail to create <svg>.");return}ne.elt=J,oe(ne)},ge)}).then(oe=>{$&&$(oe)}).catch(oe=>{B&&B(oe)}).finally(()=>{this._decrementPreload()}),ne},k.prototype.getDataURL=function(){return this._renderer.elt.toDataURL("image/svg+xml")}}function a(k){k.prototype.querySVG=function(I){var U=this._renderer&&this._renderer.svg;return U?k.SVGElement.prototype.query.call({elt:U},I):null};function E(I){return I?k.Element.apply(this,arguments):null}E.prototype=Object.create(k.Element.prototype),E.prototype.query=function(I){for(var U=this.elt.querySelectorAll(I),V=[],$=0;$<U.length;$++)V[$]=new E(U[$]);return V},E.prototype.append=function(I){var U=I.elt||I;return this.elt.appendChild(U),this},E.prototype.attribute=function(){var I=arguments;return I.length===3&&this.elt.setAttributeNS.apply(this.elt,I),I.length===2&&this.elt.setAttribute.apply(this.elt,I),I.length===1?this.elt.getAttribute.apply(this.elt,I):this},E.prototype._filter=function(I,U,V){return k.SVGFilters.apply(this,I,U,V),this},E.create=function(I,U){U=U||{};var V=document.createElementNS("http://www.w3.org/2000/svg",I);return Object.keys(U).forEach(function($){V.setAttribute($,U[$])}),new E(V)},E.prototype.parentNode=function(I){if(!I)return new E(this.elt.parentNode);for(var U=this;U;)if(U=this.parentNode(),U&&U.matches(I))return U;return null},k.SVGElement=E}function l(k){var E=function(){},I=k.SVGElement,U=function(){return Date.now().toString()+Math.random().toString().replace(/0\./,"")};return E.apply=function(V,$,B,se){var ne=V.attribute("data-p5-svg-filters")||"[]";if(ne=JSON.parse(ne),$&&ne.push([$,B]),V.attribute("data-p5-svg-filters",JSON.stringify(ne)),ne.length===0){V.attribute("filter",null);return}ne=ne.map(function(ue,he){var ye=he===0?"SourceGraphic":"result-"+(he-1),Oe="result-"+he;return E[ue[0]].call(null,ye,Oe,ue[1])});var oe=V.attribute("data-p5-svg-filter-id");oe||(oe="p5-svg-"+U(),V.attribute("data-p5-svg-filter-id",oe)),V.attribute("filter","url(#"+oe+")");var ge=I.create("filter",{id:oe});ne.forEach(function(ue){Array.isArray(ue)||(ue=[ue]),ue.forEach(function(he){ge.append(he)})});var J=se.querySelectorAll("#"+oe)[0];J?J.elt.parentNode.replaceChild(ge.elt,J):se.appendChild(ge.elt)},E.blur=function(V,$,B){return I.create("feGaussianBlur",{stdDeviation:B,in:V,result:$,"color-interpolation-filters":"sRGB"})},E.colorMatrix=function(V,$,B){return I.create("feColorMatrix",{type:"matrix",values:B.join(" "),"color-interpolation-filters":"sRGB",in:V,result:$})},E.gray=function(V,$){var B=[.2126,.7152,.0722,0,0,.2126,.7152,.0722,0,0,.2126,.7152,.0722,0,0,0,0,0,1,0];return E.colorMatrix(V,$,B)},E.threshold=function(V,$,B){var se=[];se.push(E.gray(V,$+"-tmp"));var ne=I.create("feComponentTransfer",{in:$+"-tmp",result:$}),oe=Math.floor(B*255);return["R","G","B"].forEach(function(ge){var J=I.create("feFunc"+ge,{type:"linear",slope:255,intercept:(oe-1)*-1});ne.append(J)}),se.push(ne),se},E.invert=function(V,$){var B=[-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,1,0,0,0,1,0];return E.colorMatrix(V,$,B)},E.opaque=function(V,$){var B=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1];return E.colorMatrix(V,$,B)},E._discreteTableValues=function(V){for(var $=[],B=0;B<256;B++){var se=V(B);$.push(se/255)}return $},E.posterize=function(V,$,B){if(B=parseInt(B,10),B<2||B>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");var se=E._discreteTableValues(function(oe){return(oe*B>>8)*255/(B-1)}),ne=I.create("feComponentTransfer",{in:V,result:$,"color-interpolation-filters":"sRGB"});return["R","G","B"].forEach(function(oe){var ge=I.create("feFunc"+oe,{type:"discrete",tableValues:se.join(" ")});ne.append(ge)}),ne},E._blendOffset=function(V,$,B){var se=[];return[["left",-1,0],["right",1,0],["up",0,-1],["down",0,1]].forEach(function(ne){se.push(I.create("feOffset",{in:V,result:$+"-"+ne[0],dx:ne[1],dy:ne[2]}))}),[[null,V],[$+"-left",$+"-tmp-0"],[$+"-right",$+"-tmp-1"],[$+"-up",$+"-tmp-2"],[$+"-down",$+"-tmp-3"]].forEach(function(ne,oe,ge){oe!==0&&se.push(I.create("feBlend",{in:ge[oe-1][1],in2:ne[0],result:ne[1],mode:B}))}),se},E.erode=function(V,$){return E._blendOffset(V,$,"darken")},E.dilate=function(V,$){return E._blendOffset(V,$,"lighten")},k.SVGFilters=E,E}function o(k){var E=k.prototype.filter,I=l(k);k.prototype.registerSVGFilter=function(U,V){I[U]=V},k.prototype.filter=function(U,V){var $=this._renderer.svg;if($){const B=this._renderer.drawingContext,se=B.__root.querySelectorAll("defs")[0],ne=B.__root.childNodes[1];let oe=k.SVGElement.create("g");for(;ne.childNodes.length>0;)oe.elt.appendChild(ne.childNodes[0]);ne.appendChild(oe.elt),oe._filter(U,V,se),oe=k.SVGElement.create("g"),ne.appendChild(oe.elt),B.__currentElement=oe.elt}else E.apply(this,arguments)}}function d(k){k.prototype.loadPixels=function(...E){return k._validateParameters("loadPixels",E),this._renderer.loadPixels()}}function _(k){f(k),p(k),u(k),a(k),o(k),d(k),Object.keys(m).forEach(function(E){k.prototype[E]=m[E]})}return typeof window.p5<"u"&&_(window.p5),_})();const Np='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.6452 42.6981"><path d="M0,21.3491C0,33.14,5.517,42.6981,12.3226,42.6981S24.6452,33.14,24.6452,21.3491,19.271,0,12.4654,0,0,9.5583,0,21.3491Z" style="fill:#101820"/></svg>',Dp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.9528 53.9528"><path d="M27.1192,0A26.9766,26.9766,0,1,1,0,26.9764,26.8548,26.8548,0,0,1,27.1192,0Z" style="fill:#101820"/></svg>',Fp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 33.9636 46.4421"><path d="M16.9818,46.4421C8.2626,46.4421,1.0706,37.6034,0,26.1742l4.725-2.9531L0,20.2679C1.0706,8.8388,8.2626,0,16.9818,0S32.893,8.8388,33.9636,20.2679l-4.725,2.9532,4.725,2.9531C32.893,37.6034,25.7011,46.4421,16.9818,46.4421Z" style="fill:#101820"/></svg>',Bp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 63.6881 53.9528"><path d="M58.6355,23.8185a26.9769,26.9769,0,0,0-53.5828,0L0,26.9764l5.0527,3.158a26.9769,26.9769,0,0,0,53.5828,0l5.0526-3.1579Z" style="fill:#101820"/></svg>',Up='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44.5639 44.067"><path d="M40.3029,39.806c-3.957,4.0109-9.5922,5.77-16.8765,2.7056a39.79,39.79,0,0,1-12.49-8.72c-4.0154-4.07-7.7132-8.95-9.5531-13.3231C-1.6815,13.184.747,8.218,4.7579,4.261,8.715.25,14.35-1.5093,21.6345,1.5554a41.0375,41.0375,0,0,1,12.654,8.884,39.79,39.79,0,0,1,8.72,12.49C46.0732,30.2138,44.3138,35.849,40.3029,39.806Z" style="fill:#101820"/></svg>',Vp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.0748 53.0749"><path d="M26.8483.0269l-4.0016,0C8.7656-.55,0,8.1848,0,24.4152v3.6733C0,45.0877,8.9862,53.0749,24.07,53.0749h5.6164c15.4049,0,23.3882-8.756,23.3882-25.67V23.8173C53.0748,8.4411,44.8107.0268,26.8483.0269Z" style="fill:#101820"/></svg>',zp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35.0096 35.0096"><path d="M17.7508,35.01A17.7366,17.7366,0,0,1,0,17.5048,17.7366,17.7366,0,0,1,17.7508,0,17.316,17.316,0,0,1,35.01,17.5048,17.316,17.316,0,0,1,17.7508,35.01Z" style="fill:#101820"/></svg>',Gp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.1645 53.1645"><path d="M26.8282,0A26.7934,26.7934,0,0,0,0,26.5823,26.7933,26.7933,0,0,0,26.8282,53.1645,26.3734,26.3734,0,0,0,53.1645,26.5823,26.3734,26.3734,0,0,0,26.8282,0Z" style="fill:#101820"/></svg>',qp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.3526 69.6759"><path d="M23.9912,0h0A23.9471,23.9471,0,0,0,0,23.6763V46A23.9471,23.9471,0,0,0,23.9911,69.6759h0A23.41,23.41,0,0,0,47.3526,46V23.6763A23.41,23.41,0,0,0,23.9912,0Z" style="fill:#101820"/></svg>',Hp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29.1971 51.5203"><path d="M29.1971,36.9218A14.3493,14.3493,0,0,1,14.9134,51.52,14.8876,14.8876,0,0,1,0,36.9218V14.5985A14.8876,14.8876,0,0,1,14.9134,0,14.3493,14.3493,0,0,1,29.1971,14.5985Z" style="fill:#101820"/></svg>',Wp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.7717 37.8415"><polygon points="32.772 28.381 16.386 37.841 0 28.381 0 9.46 16.386 0 32.772 9.46 32.772 28.381" style="fill:#101820"/></svg>',Xp='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50.9273 58.8057"><polygon points="0 14.701 0 44.104 25.464 58.806 50.927 44.104 50.927 14.701 25.464 0 0 14.701" style="fill:#101820"/></svg>';var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zp(P){var n=P.default;if(typeof n=="function"){var C=function(){return n.apply(this,arguments)};C.prototype=n.prototype}else C={};return Object.defineProperty(C,"__esModule",{value:!0}),Object.keys(P).forEach(function(S){var g=Object.getOwnPropertyDescriptor(P,S);Object.defineProperty(C,S,g.get?g:{enumerable:!0,get:function(){return P[S]}})}),C}function Yp(P){throw new Error('Could not dynamically require "'+P+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pl={exports:{}};const Kp={},$p=Object.freeze(Object.defineProperty({__proto__:null,default:Kp},Symbol.toStringTag,{value:"Module"})),Zs=Zp($p);var Ns={exports:{}},ru;function Qp(){return ru||(ru=1,function(P,n){(function(C,S){S(n)})(io,function(C){var S=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],g=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],t="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",c="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",f={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},m="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",p={5:m,"5module":m+" export import",6:m+" const class extends export import super"},u=/^in(stanceof)?$/,a=new RegExp("["+c+"]"),l=new RegExp("["+c+t+"]");function o(M,te){for(var Se=65536,De=0;De<te.length;De+=2){if(Se+=te[De],Se>M)return!1;if(Se+=te[De+1],Se>=M)return!0}}function d(M,te){return M<65?M===36:M<91?!0:M<97?M===95:M<123?!0:M<=65535?M>=170&&a.test(String.fromCharCode(M)):te===!1?!1:o(M,g)}function _(M,te){return M<48?M===36:M<58?!0:M<65?!1:M<91?!0:M<97?M===95:M<123?!0:M<=65535?M>=170&&l.test(String.fromCharCode(M)):te===!1?!1:o(M,g)||o(M,S)}var k=function(te,Se){Se===void 0&&(Se={}),this.label=te,this.keyword=Se.keyword,this.beforeExpr=!!Se.beforeExpr,this.startsExpr=!!Se.startsExpr,this.isLoop=!!Se.isLoop,this.isAssign=!!Se.isAssign,this.prefix=!!Se.prefix,this.postfix=!!Se.postfix,this.binop=Se.binop||null,this.updateContext=null};function E(M,te){return new k(M,{beforeExpr:!0,binop:te})}var I={beforeExpr:!0},U={startsExpr:!0},V={};function $(M,te){return te===void 0&&(te={}),te.keyword=M,V[M]=new k(M,te)}var B={num:new k("num",U),regexp:new k("regexp",U),string:new k("string",U),name:new k("name",U),privateId:new k("privateId",U),eof:new k("eof"),bracketL:new k("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new k("]"),braceL:new k("{",{beforeExpr:!0,startsExpr:!0}),braceR:new k("}"),parenL:new k("(",{beforeExpr:!0,startsExpr:!0}),parenR:new k(")"),comma:new k(",",I),semi:new k(";",I),colon:new k(":",I),dot:new k("."),question:new k("?",I),questionDot:new k("?."),arrow:new k("=>",I),template:new k("template"),invalidTemplate:new k("invalidTemplate"),ellipsis:new k("...",I),backQuote:new k("`",U),dollarBraceL:new k("${",{beforeExpr:!0,startsExpr:!0}),eq:new k("=",{beforeExpr:!0,isAssign:!0}),assign:new k("_=",{beforeExpr:!0,isAssign:!0}),incDec:new k("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new k("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:E("||",1),logicalAND:E("&&",2),bitwiseOR:E("|",3),bitwiseXOR:E("^",4),bitwiseAND:E("&",5),equality:E("==/!=/===/!==",6),relational:E("</>/<=/>=",7),bitShift:E("<</>>/>>>",8),plusMin:new k("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:E("%",10),star:E("*",10),slash:E("/",10),starstar:new k("**",{beforeExpr:!0}),coalesce:E("??",1),_break:$("break"),_case:$("case",I),_catch:$("catch"),_continue:$("continue"),_debugger:$("debugger"),_default:$("default",I),_do:$("do",{isLoop:!0,beforeExpr:!0}),_else:$("else",I),_finally:$("finally"),_for:$("for",{isLoop:!0}),_function:$("function",U),_if:$("if"),_return:$("return",I),_switch:$("switch"),_throw:$("throw",I),_try:$("try"),_var:$("var"),_const:$("const"),_while:$("while",{isLoop:!0}),_with:$("with"),_new:$("new",{beforeExpr:!0,startsExpr:!0}),_this:$("this",U),_super:$("super",U),_class:$("class",U),_extends:$("extends",I),_export:$("export"),_import:$("import",U),_null:$("null",U),_true:$("true",U),_false:$("false",U),_in:$("in",{beforeExpr:!0,binop:7}),_instanceof:$("instanceof",{beforeExpr:!0,binop:7}),_typeof:$("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:$("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:$("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},se=/\r\n?|\n|\u2028|\u2029/,ne=new RegExp(se.source,"g");function oe(M){return M===10||M===13||M===8232||M===8233}function ge(M,te,Se){Se===void 0&&(Se=M.length);for(var De=te;De<Se;De++){var tt=M.charCodeAt(De);if(oe(tt))return De<Se-1&&tt===13&&M.charCodeAt(De+1)===10?De+2:De+1}return-1}var J=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ue=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,he=Object.prototype,ye=he.hasOwnProperty,Oe=he.toString,de=Object.hasOwn||function(M,te){return ye.call(M,te)},Ne=Array.isArray||function(M){return Oe.call(M)==="[object Array]"};function Le(M){return new RegExp("^(?:"+M.replace(/ /g,"|")+")$")}function Be(M){return M<=65535?String.fromCharCode(M):(M-=65536,String.fromCharCode((M>>10)+55296,(M&1023)+56320))}var $e=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ut=function(te,Se){this.line=te,this.column=Se};ut.prototype.offset=function(te){return new ut(this.line,this.column+te)};var Ke=function(te,Se,De){this.start=Se,this.end=De,te.sourceFile!==null&&(this.source=te.sourceFile)};function _t(M,te){for(var Se=1,De=0;;){var tt=ge(M,De,te);if(tt<0)return new ut(Se,te-De);++Se,De=tt}}var at={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Fe=!1;function ae(M){var te={};for(var Se in at)te[Se]=M&&de(M,Se)?M[Se]:at[Se];if(te.ecmaVersion==="latest"?te.ecmaVersion=1e8:te.ecmaVersion==null?(!Fe&&typeof console=="object"&&console.warn&&(Fe=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),te.ecmaVersion=11):te.ecmaVersion>=2015&&(te.ecmaVersion-=2009),te.allowReserved==null&&(te.allowReserved=te.ecmaVersion<5),M.allowHashBang==null&&(te.allowHashBang=te.ecmaVersion>=14),Ne(te.onToken)){var De=te.onToken;te.onToken=function(tt){return De.push(tt)}}return Ne(te.onComment)&&(te.onComment=me(te,te.onComment)),te}function me(M,te){return function(Se,De,tt,wt,Mt,Bt){var Vt={type:Se?"Block":"Line",value:De,start:tt,end:wt};M.locations&&(Vt.loc=new Ke(this,Mt,Bt)),M.ranges&&(Vt.range=[tt,wt]),te.push(Vt)}}var Te=1,Me=2,Ve=4,je=8,Pe=16,_e=32,He=64,ze=128,Ge=256,st=Te|Me|Ge;function ht(M,te){return Me|(M?Ve:0)|(te?je:0)}var it=0,mt=1,gt=2,St=3,bt=4,Et=5,i=function(te,Se,De){this.options=te=ae(te),this.sourceFile=te.sourceFile,this.keywords=Le(p[te.ecmaVersion>=6?6:te.sourceType==="module"?"5module":5]);var tt="";te.allowReserved!==!0&&(tt=f[te.ecmaVersion>=6?6:te.ecmaVersion===5?5:3],te.sourceType==="module"&&(tt+=" await")),this.reservedWords=Le(tt);var wt=(tt?tt+" ":"")+f.strict;this.reservedWordsStrict=Le(wt),this.reservedWordsStrictBind=Le(wt+" "+f.strictBind),this.input=String(Se),this.containsEsc=!1,De?(this.pos=De,this.lineStart=this.input.lastIndexOf(`
`,De-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(se).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=B.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=te.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&te.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Te),this.regexpState=null,this.privateNameStack=[]},e={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};i.prototype.parse=function(){var te=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(te)},e.inFunction.get=function(){return(this.currentVarScope().flags&Me)>0},e.inGenerator.get=function(){return(this.currentVarScope().flags&je)>0&&!this.currentVarScope().inClassFieldInit},e.inAsync.get=function(){return(this.currentVarScope().flags&Ve)>0&&!this.currentVarScope().inClassFieldInit},e.canAwait.get=function(){for(var M=this.scopeStack.length-1;M>=0;M--){var te=this.scopeStack[M];if(te.inClassFieldInit||te.flags&Ge)return!1;if(te.flags&Me)return(te.flags&Ve)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},e.allowSuper.get=function(){var M=this.currentThisScope(),te=M.flags,Se=M.inClassFieldInit;return(te&He)>0||Se||this.options.allowSuperOutsideMethod},e.allowDirectSuper.get=function(){return(this.currentThisScope().flags&ze)>0},e.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},e.allowNewDotTarget.get=function(){var M=this.currentThisScope(),te=M.flags,Se=M.inClassFieldInit;return(te&(Me|Ge))>0||Se},e.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Ge)>0},i.extend=function(){for(var te=[],Se=arguments.length;Se--;)te[Se]=arguments[Se];for(var De=this,tt=0;tt<te.length;tt++)De=te[tt](De);return De},i.parse=function(te,Se){return new this(Se,te).parse()},i.parseExpressionAt=function(te,Se,De){var tt=new this(De,te,Se);return tt.nextToken(),tt.parseExpression()},i.tokenizer=function(te,Se){return new this(Se,te)},Object.defineProperties(i.prototype,e);var r=i.prototype,s=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;r.strictDirective=function(M){if(this.options.ecmaVersion<5)return!1;for(;;){ue.lastIndex=M,M+=ue.exec(this.input)[0].length;var te=s.exec(this.input.slice(M));if(!te)return!1;if((te[1]||te[2])==="use strict"){ue.lastIndex=M+te[0].length;var Se=ue.exec(this.input),De=Se.index+Se[0].length,tt=this.input.charAt(De);return tt===";"||tt==="}"||se.test(Se[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(tt)||tt==="!"&&this.input.charAt(De+1)==="=")}M+=te[0].length,ue.lastIndex=M,M+=ue.exec(this.input)[0].length,this.input[M]===";"&&M++}},r.eat=function(M){return this.type===M?(this.next(),!0):!1},r.isContextual=function(M){return this.type===B.name&&this.value===M&&!this.containsEsc},r.eatContextual=function(M){return this.isContextual(M)?(this.next(),!0):!1},r.expectContextual=function(M){this.eatContextual(M)||this.unexpected()},r.canInsertSemicolon=function(){return this.type===B.eof||this.type===B.braceR||se.test(this.input.slice(this.lastTokEnd,this.start))},r.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},r.semicolon=function(){!this.eat(B.semi)&&!this.insertSemicolon()&&this.unexpected()},r.afterTrailingComma=function(M,te){if(this.type===M)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),te||this.next(),!0},r.expect=function(M){this.eat(M)||this.unexpected()},r.unexpected=function(M){this.raise(M!=null?M:this.start,"Unexpected token")};var h=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};r.checkPatternErrors=function(M,te){if(!!M){M.trailingComma>-1&&this.raiseRecoverable(M.trailingComma,"Comma is not permitted after the rest element");var Se=te?M.parenthesizedAssign:M.parenthesizedBind;Se>-1&&this.raiseRecoverable(Se,te?"Assigning to rvalue":"Parenthesized pattern")}},r.checkExpressionErrors=function(M,te){if(!M)return!1;var Se=M.shorthandAssign,De=M.doubleProto;if(!te)return Se>=0||De>=0;Se>=0&&this.raise(Se,"Shorthand property assignments are valid only in destructuring patterns"),De>=0&&this.raiseRecoverable(De,"Redefinition of __proto__ property")},r.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},r.isSimpleAssignTarget=function(M){return M.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(M.expression):M.type==="Identifier"||M.type==="MemberExpression"};var y=i.prototype;y.parseTopLevel=function(M){var te=Object.create(null);for(M.body||(M.body=[]);this.type!==B.eof;){var Se=this.parseStatement(null,!0,te);M.body.push(Se)}if(this.inModule)for(var De=0,tt=Object.keys(this.undefinedExports);De<tt.length;De+=1){var wt=tt[De];this.raiseRecoverable(this.undefinedExports[wt].start,"Export '"+wt+"' is not defined")}return this.adaptDirectivePrologue(M.body),this.next(),M.sourceType=this.options.sourceType,this.finishNode(M,"Program")};var v={kind:"loop"},x={kind:"switch"};y.isLet=function(M){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ue.lastIndex=this.pos;var te=ue.exec(this.input),Se=this.pos+te[0].length,De=this.input.charCodeAt(Se);if(De===91||De===92||De>55295&&De<56320)return!0;if(M)return!1;if(De===123)return!0;if(d(De,!0)){for(var tt=Se+1;_(De=this.input.charCodeAt(tt),!0);)++tt;if(De===92||De>55295&&De<56320)return!0;var wt=this.input.slice(Se,tt);if(!u.test(wt))return!0}return!1},y.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ue.lastIndex=this.pos;var M=ue.exec(this.input),te=this.pos+M[0].length,Se;return!se.test(this.input.slice(this.pos,te))&&this.input.slice(te,te+8)==="function"&&(te+8===this.input.length||!(_(Se=this.input.charCodeAt(te+8))||Se>55295&&Se<56320))},y.parseStatement=function(M,te,Se){var De=this.type,tt=this.startNode(),wt;switch(this.isLet(M)&&(De=B._var,wt="let"),De){case B._break:case B._continue:return this.parseBreakContinueStatement(tt,De.keyword);case B._debugger:return this.parseDebuggerStatement(tt);case B._do:return this.parseDoStatement(tt);case B._for:return this.parseForStatement(tt);case B._function:return M&&(this.strict||M!=="if"&&M!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(tt,!1,!M);case B._class:return M&&this.unexpected(),this.parseClass(tt,!0);case B._if:return this.parseIfStatement(tt);case B._return:return this.parseReturnStatement(tt);case B._switch:return this.parseSwitchStatement(tt);case B._throw:return this.parseThrowStatement(tt);case B._try:return this.parseTryStatement(tt);case B._const:case B._var:return wt=wt||this.value,M&&wt!=="var"&&this.unexpected(),this.parseVarStatement(tt,wt);case B._while:return this.parseWhileStatement(tt);case B._with:return this.parseWithStatement(tt);case B.braceL:return this.parseBlock(!0,tt);case B.semi:return this.parseEmptyStatement(tt);case B._export:case B._import:if(this.options.ecmaVersion>10&&De===B._import){ue.lastIndex=this.pos;var Mt=ue.exec(this.input),Bt=this.pos+Mt[0].length,Vt=this.input.charCodeAt(Bt);if(Vt===40||Vt===46)return this.parseExpressionStatement(tt,this.parseExpression())}return this.options.allowImportExportEverywhere||(te||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),De===B._import?this.parseImport(tt):this.parseExport(tt,Se);default:if(this.isAsyncFunction())return M&&this.unexpected(),this.next(),this.parseFunctionStatement(tt,!0,!M);var er=this.value,tr=this.parseExpression();return De===B.name&&tr.type==="Identifier"&&this.eat(B.colon)?this.parseLabeledStatement(tt,er,tr,M):this.parseExpressionStatement(tt,tr)}},y.parseBreakContinueStatement=function(M,te){var Se=te==="break";this.next(),this.eat(B.semi)||this.insertSemicolon()?M.label=null:this.type!==B.name?this.unexpected():(M.label=this.parseIdent(),this.semicolon());for(var De=0;De<this.labels.length;++De){var tt=this.labels[De];if((M.label==null||tt.name===M.label.name)&&(tt.kind!=null&&(Se||tt.kind==="loop")||M.label&&Se))break}return De===this.labels.length&&this.raise(M.start,"Unsyntactic "+te),this.finishNode(M,Se?"BreakStatement":"ContinueStatement")},y.parseDebuggerStatement=function(M){return this.next(),this.semicolon(),this.finishNode(M,"DebuggerStatement")},y.parseDoStatement=function(M){return this.next(),this.labels.push(v),M.body=this.parseStatement("do"),this.labels.pop(),this.expect(B._while),M.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(B.semi):this.semicolon(),this.finishNode(M,"DoWhileStatement")},y.parseForStatement=function(M){this.next();var te=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(v),this.enterScope(0),this.expect(B.parenL),this.type===B.semi)return te>-1&&this.unexpected(te),this.parseFor(M,null);var Se=this.isLet();if(this.type===B._var||this.type===B._const||Se){var De=this.startNode(),tt=Se?"let":this.value;return this.next(),this.parseVar(De,!0,tt),this.finishNode(De,"VariableDeclaration"),(this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&De.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===B._in?te>-1&&this.unexpected(te):M.await=te>-1),this.parseForIn(M,De)):(te>-1&&this.unexpected(te),this.parseFor(M,De))}var wt=this.isContextual("let"),Mt=!1,Bt=new h,Vt=this.parseExpression(te>-1?"await":!0,Bt);return this.type===B._in||(Mt=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===B._in?te>-1&&this.unexpected(te):M.await=te>-1),wt&&Mt&&this.raise(Vt.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Vt,!1,Bt),this.checkLValPattern(Vt),this.parseForIn(M,Vt)):(this.checkExpressionErrors(Bt,!0),te>-1&&this.unexpected(te),this.parseFor(M,Vt))},y.parseFunctionStatement=function(M,te,Se){return this.next(),this.parseFunction(M,T|(Se?0:O),!1,te)},y.parseIfStatement=function(M){return this.next(),M.test=this.parseParenExpression(),M.consequent=this.parseStatement("if"),M.alternate=this.eat(B._else)?this.parseStatement("if"):null,this.finishNode(M,"IfStatement")},y.parseReturnStatement=function(M){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(B.semi)||this.insertSemicolon()?M.argument=null:(M.argument=this.parseExpression(),this.semicolon()),this.finishNode(M,"ReturnStatement")},y.parseSwitchStatement=function(M){this.next(),M.discriminant=this.parseParenExpression(),M.cases=[],this.expect(B.braceL),this.labels.push(x),this.enterScope(0);for(var te,Se=!1;this.type!==B.braceR;)if(this.type===B._case||this.type===B._default){var De=this.type===B._case;te&&this.finishNode(te,"SwitchCase"),M.cases.push(te=this.startNode()),te.consequent=[],this.next(),De?te.test=this.parseExpression():(Se&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Se=!0,te.test=null),this.expect(B.colon)}else te||this.unexpected(),te.consequent.push(this.parseStatement(null));return this.exitScope(),te&&this.finishNode(te,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(M,"SwitchStatement")},y.parseThrowStatement=function(M){return this.next(),se.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),M.argument=this.parseExpression(),this.semicolon(),this.finishNode(M,"ThrowStatement")};var b=[];y.parseTryStatement=function(M){if(this.next(),M.block=this.parseBlock(),M.handler=null,this.type===B._catch){var te=this.startNode();if(this.next(),this.eat(B.parenL)){te.param=this.parseBindingAtom();var Se=te.param.type==="Identifier";this.enterScope(Se?_e:0),this.checkLValPattern(te.param,Se?bt:gt),this.expect(B.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),te.param=null,this.enterScope(0);te.body=this.parseBlock(!1),this.exitScope(),M.handler=this.finishNode(te,"CatchClause")}return M.finalizer=this.eat(B._finally)?this.parseBlock():null,!M.handler&&!M.finalizer&&this.raise(M.start,"Missing catch or finally clause"),this.finishNode(M,"TryStatement")},y.parseVarStatement=function(M,te){return this.next(),this.parseVar(M,!1,te),this.semicolon(),this.finishNode(M,"VariableDeclaration")},y.parseWhileStatement=function(M){return this.next(),M.test=this.parseParenExpression(),this.labels.push(v),M.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(M,"WhileStatement")},y.parseWithStatement=function(M){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),M.object=this.parseParenExpression(),M.body=this.parseStatement("with"),this.finishNode(M,"WithStatement")},y.parseEmptyStatement=function(M){return this.next(),this.finishNode(M,"EmptyStatement")},y.parseLabeledStatement=function(M,te,Se,De){for(var tt=0,wt=this.labels;tt<wt.length;tt+=1){var Mt=wt[tt];Mt.name===te&&this.raise(Se.start,"Label '"+te+"' is already declared")}for(var Bt=this.type.isLoop?"loop":this.type===B._switch?"switch":null,Vt=this.labels.length-1;Vt>=0;Vt--){var er=this.labels[Vt];if(er.statementStart===M.start)er.statementStart=this.start,er.kind=Bt;else break}return this.labels.push({name:te,kind:Bt,statementStart:this.start}),M.body=this.parseStatement(De?De.indexOf("label")===-1?De+"label":De:"label"),this.labels.pop(),M.label=Se,this.finishNode(M,"LabeledStatement")},y.parseExpressionStatement=function(M,te){return M.expression=te,this.semicolon(),this.finishNode(M,"ExpressionStatement")},y.parseBlock=function(M,te,Se){for(M===void 0&&(M=!0),te===void 0&&(te=this.startNode()),te.body=[],this.expect(B.braceL),M&&this.enterScope(0);this.type!==B.braceR;){var De=this.parseStatement(null);te.body.push(De)}return Se&&(this.strict=!1),this.next(),M&&this.exitScope(),this.finishNode(te,"BlockStatement")},y.parseFor=function(M,te){return M.init=te,this.expect(B.semi),M.test=this.type===B.semi?null:this.parseExpression(),this.expect(B.semi),M.update=this.type===B.parenR?null:this.parseExpression(),this.expect(B.parenR),M.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(M,"ForStatement")},y.parseForIn=function(M,te){var Se=this.type===B._in;return this.next(),te.type==="VariableDeclaration"&&te.declarations[0].init!=null&&(!Se||this.options.ecmaVersion<8||this.strict||te.kind!=="var"||te.declarations[0].id.type!=="Identifier")&&this.raise(te.start,(Se?"for-in":"for-of")+" loop variable declaration may not have an initializer"),M.left=te,M.right=Se?this.parseExpression():this.parseMaybeAssign(),this.expect(B.parenR),M.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(M,Se?"ForInStatement":"ForOfStatement")},y.parseVar=function(M,te,Se){for(M.declarations=[],M.kind=Se;;){var De=this.startNode();if(this.parseVarId(De,Se),this.eat(B.eq)?De.init=this.parseMaybeAssign(te):Se==="const"&&!(this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():De.id.type!=="Identifier"&&!(te&&(this.type===B._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):De.init=null,M.declarations.push(this.finishNode(De,"VariableDeclarator")),!this.eat(B.comma))break}return M},y.parseVarId=function(M,te){M.id=this.parseBindingAtom(),this.checkLValPattern(M.id,te==="var"?mt:gt,!1)};var T=1,O=2,L=4;y.parseFunction=function(M,te,Se,De,tt){this.initFunction(M),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!De)&&(this.type===B.star&&te&O&&this.unexpected(),M.generator=this.eat(B.star)),this.options.ecmaVersion>=8&&(M.async=!!De),te&T&&(M.id=te&L&&this.type!==B.name?null:this.parseIdent(),M.id&&!(te&O)&&this.checkLValSimple(M.id,this.strict||M.generator||M.async?this.treatFunctionsAsVar?mt:gt:St));var wt=this.yieldPos,Mt=this.awaitPos,Bt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ht(M.async,M.generator)),te&T||(M.id=this.type===B.name?this.parseIdent():null),this.parseFunctionParams(M),this.parseFunctionBody(M,Se,!1,tt),this.yieldPos=wt,this.awaitPos=Mt,this.awaitIdentPos=Bt,this.finishNode(M,te&T?"FunctionDeclaration":"FunctionExpression")},y.parseFunctionParams=function(M){this.expect(B.parenL),M.params=this.parseBindingList(B.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},y.parseClass=function(M,te){this.next();var Se=this.strict;this.strict=!0,this.parseClassId(M,te),this.parseClassSuper(M);var De=this.enterClassBody(),tt=this.startNode(),wt=!1;for(tt.body=[],this.expect(B.braceL);this.type!==B.braceR;){var Mt=this.parseClassElement(M.superClass!==null);Mt&&(tt.body.push(Mt),Mt.type==="MethodDefinition"&&Mt.kind==="constructor"?(wt&&this.raise(Mt.start,"Duplicate constructor in the same class"),wt=!0):Mt.key&&Mt.key.type==="PrivateIdentifier"&&D(De,Mt)&&this.raiseRecoverable(Mt.key.start,"Identifier '#"+Mt.key.name+"' has already been declared"))}return this.strict=Se,this.next(),M.body=this.finishNode(tt,"ClassBody"),this.exitClassBody(),this.finishNode(M,te?"ClassDeclaration":"ClassExpression")},y.parseClassElement=function(M){if(this.eat(B.semi))return null;var te=this.options.ecmaVersion,Se=this.startNode(),De="",tt=!1,wt=!1,Mt="method",Bt=!1;if(this.eatContextual("static")){if(te>=13&&this.eat(B.braceL))return this.parseClassStaticBlock(Se),Se;this.isClassElementNameStart()||this.type===B.star?Bt=!0:De="static"}if(Se.static=Bt,!De&&te>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===B.star)&&!this.canInsertSemicolon()?wt=!0:De="async"),!De&&(te>=9||!wt)&&this.eat(B.star)&&(tt=!0),!De&&!wt&&!tt){var Vt=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Mt=Vt:De=Vt)}if(De?(Se.computed=!1,Se.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Se.key.name=De,this.finishNode(Se.key,"Identifier")):this.parseClassElementName(Se),te<13||this.type===B.parenL||Mt!=="method"||tt||wt){var er=!Se.static&&N(Se,"constructor"),tr=er&&M;er&&Mt!=="method"&&this.raise(Se.key.start,"Constructor can't have get/set modifier"),Se.kind=er?"constructor":Mt,this.parseClassMethod(Se,tt,wt,tr)}else this.parseClassField(Se);return Se},y.isClassElementNameStart=function(){return this.type===B.name||this.type===B.privateId||this.type===B.num||this.type===B.string||this.type===B.bracketL||this.type.keyword},y.parseClassElementName=function(M){this.type===B.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),M.computed=!1,M.key=this.parsePrivateIdent()):this.parsePropertyName(M)},y.parseClassMethod=function(M,te,Se,De){var tt=M.key;M.kind==="constructor"?(te&&this.raise(tt.start,"Constructor can't be a generator"),Se&&this.raise(tt.start,"Constructor can't be an async method")):M.static&&N(M,"prototype")&&this.raise(tt.start,"Classes may not have a static property named prototype");var wt=M.value=this.parseMethod(te,Se,De);return M.kind==="get"&&wt.params.length!==0&&this.raiseRecoverable(wt.start,"getter should have no params"),M.kind==="set"&&wt.params.length!==1&&this.raiseRecoverable(wt.start,"setter should have exactly one param"),M.kind==="set"&&wt.params[0].type==="RestElement"&&this.raiseRecoverable(wt.params[0].start,"Setter cannot use rest params"),this.finishNode(M,"MethodDefinition")},y.parseClassField=function(M){if(N(M,"constructor")?this.raise(M.key.start,"Classes can't have a field named 'constructor'"):M.static&&N(M,"prototype")&&this.raise(M.key.start,"Classes can't have a static field named 'prototype'"),this.eat(B.eq)){var te=this.currentThisScope(),Se=te.inClassFieldInit;te.inClassFieldInit=!0,M.value=this.parseMaybeAssign(),te.inClassFieldInit=Se}else M.value=null;return this.semicolon(),this.finishNode(M,"PropertyDefinition")},y.parseClassStaticBlock=function(M){M.body=[];var te=this.labels;for(this.labels=[],this.enterScope(Ge|He);this.type!==B.braceR;){var Se=this.parseStatement(null);M.body.push(Se)}return this.next(),this.exitScope(),this.labels=te,this.finishNode(M,"StaticBlock")},y.parseClassId=function(M,te){this.type===B.name?(M.id=this.parseIdent(),te&&this.checkLValSimple(M.id,gt,!1)):(te===!0&&this.unexpected(),M.id=null)},y.parseClassSuper=function(M){M.superClass=this.eat(B._extends)?this.parseExprSubscripts(!1):null},y.enterClassBody=function(){var M={declared:Object.create(null),used:[]};return this.privateNameStack.push(M),M.declared},y.exitClassBody=function(){for(var M=this.privateNameStack.pop(),te=M.declared,Se=M.used,De=this.privateNameStack.length,tt=De===0?null:this.privateNameStack[De-1],wt=0;wt<Se.length;++wt){var Mt=Se[wt];de(te,Mt.name)||(tt?tt.used.push(Mt):this.raiseRecoverable(Mt.start,"Private field '#"+Mt.name+"' must be declared in an enclosing class"))}};function D(M,te){var Se=te.key.name,De=M[Se],tt="true";return te.type==="MethodDefinition"&&(te.kind==="get"||te.kind==="set")&&(tt=(te.static?"s":"i")+te.kind),De==="iget"&&tt==="iset"||De==="iset"&&tt==="iget"||De==="sget"&&tt==="sset"||De==="sset"&&tt==="sget"?(M[Se]="true",!1):De?!0:(M[Se]=tt,!1)}function N(M,te){var Se=M.computed,De=M.key;return!Se&&(De.type==="Identifier"&&De.name===te||De.type==="Literal"&&De.value===te)}y.parseExport=function(M,te){if(this.next(),this.eat(B.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(M.exported=this.parseModuleExportName(),this.checkExport(te,M.exported,this.lastTokStart)):M.exported=null),this.expectContextual("from"),this.type!==B.string&&this.unexpected(),M.source=this.parseExprAtom(),this.semicolon(),this.finishNode(M,"ExportAllDeclaration");if(this.eat(B._default)){this.checkExport(te,"default",this.lastTokStart);var Se;if(this.type===B._function||(Se=this.isAsyncFunction())){var De=this.startNode();this.next(),Se&&this.next(),M.declaration=this.parseFunction(De,T|L,!1,Se)}else if(this.type===B._class){var tt=this.startNode();M.declaration=this.parseClass(tt,"nullableID")}else M.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(M,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())M.declaration=this.parseStatement(null),M.declaration.type==="VariableDeclaration"?this.checkVariableExport(te,M.declaration.declarations):this.checkExport(te,M.declaration.id,M.declaration.id.start),M.specifiers=[],M.source=null;else{if(M.declaration=null,M.specifiers=this.parseExportSpecifiers(te),this.eatContextual("from"))this.type!==B.string&&this.unexpected(),M.source=this.parseExprAtom();else{for(var wt=0,Mt=M.specifiers;wt<Mt.length;wt+=1){var Bt=Mt[wt];this.checkUnreserved(Bt.local),this.checkLocalExport(Bt.local),Bt.local.type==="Literal"&&this.raise(Bt.local.start,"A string literal cannot be used as an exported binding without `from`.")}M.source=null}this.semicolon()}return this.finishNode(M,"ExportNamedDeclaration")},y.checkExport=function(M,te,Se){!M||(typeof te!="string"&&(te=te.type==="Identifier"?te.name:te.value),de(M,te)&&this.raiseRecoverable(Se,"Duplicate export '"+te+"'"),M[te]=!0)},y.checkPatternExport=function(M,te){var Se=te.type;if(Se==="Identifier")this.checkExport(M,te,te.start);else if(Se==="ObjectPattern")for(var De=0,tt=te.properties;De<tt.length;De+=1){var wt=tt[De];this.checkPatternExport(M,wt)}else if(Se==="ArrayPattern")for(var Mt=0,Bt=te.elements;Mt<Bt.length;Mt+=1){var Vt=Bt[Mt];Vt&&this.checkPatternExport(M,Vt)}else Se==="Property"?this.checkPatternExport(M,te.value):Se==="AssignmentPattern"?this.checkPatternExport(M,te.left):Se==="RestElement"?this.checkPatternExport(M,te.argument):Se==="ParenthesizedExpression"&&this.checkPatternExport(M,te.expression)},y.checkVariableExport=function(M,te){if(!!M)for(var Se=0,De=te;Se<De.length;Se+=1){var tt=De[Se];this.checkPatternExport(M,tt.id)}},y.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},y.parseExportSpecifiers=function(M){var te=[],Se=!0;for(this.expect(B.braceL);!this.eat(B.braceR);){if(Se)Se=!1;else if(this.expect(B.comma),this.afterTrailingComma(B.braceR))break;var De=this.startNode();De.local=this.parseModuleExportName(),De.exported=this.eatContextual("as")?this.parseModuleExportName():De.local,this.checkExport(M,De.exported,De.exported.start),te.push(this.finishNode(De,"ExportSpecifier"))}return te},y.parseImport=function(M){return this.next(),this.type===B.string?(M.specifiers=b,M.source=this.parseExprAtom()):(M.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),M.source=this.type===B.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(M,"ImportDeclaration")},y.parseImportSpecifiers=function(){var M=[],te=!0;if(this.type===B.name){var Se=this.startNode();if(Se.local=this.parseIdent(),this.checkLValSimple(Se.local,gt),M.push(this.finishNode(Se,"ImportDefaultSpecifier")),!this.eat(B.comma))return M}if(this.type===B.star){var De=this.startNode();return this.next(),this.expectContextual("as"),De.local=this.parseIdent(),this.checkLValSimple(De.local,gt),M.push(this.finishNode(De,"ImportNamespaceSpecifier")),M}for(this.expect(B.braceL);!this.eat(B.braceR);){if(te)te=!1;else if(this.expect(B.comma),this.afterTrailingComma(B.braceR))break;var tt=this.startNode();tt.imported=this.parseModuleExportName(),this.eatContextual("as")?tt.local=this.parseIdent():(this.checkUnreserved(tt.imported),tt.local=tt.imported),this.checkLValSimple(tt.local,gt),M.push(this.finishNode(tt,"ImportSpecifier"))}return M},y.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===B.string){var M=this.parseLiteral(this.value);return $e.test(M.value)&&this.raise(M.start,"An export name cannot include a lone surrogate."),M}return this.parseIdent(!0)},y.adaptDirectivePrologue=function(M){for(var te=0;te<M.length&&this.isDirectiveCandidate(M[te]);++te)M[te].directive=M[te].expression.raw.slice(1,-1)},y.isDirectiveCandidate=function(M){return this.options.ecmaVersion>=5&&M.type==="ExpressionStatement"&&M.expression.type==="Literal"&&typeof M.expression.value=="string"&&(this.input[M.start]==='"'||this.input[M.start]==="'")};var R=i.prototype;R.toAssignable=function(M,te,Se){if(this.options.ecmaVersion>=6&&M)switch(M.type){case"Identifier":this.inAsync&&M.name==="await"&&this.raise(M.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":M.type="ObjectPattern",Se&&this.checkPatternErrors(Se,!0);for(var De=0,tt=M.properties;De<tt.length;De+=1){var wt=tt[De];this.toAssignable(wt,te),wt.type==="RestElement"&&(wt.argument.type==="ArrayPattern"||wt.argument.type==="ObjectPattern")&&this.raise(wt.argument.start,"Unexpected token")}break;case"Property":M.kind!=="init"&&this.raise(M.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(M.value,te);break;case"ArrayExpression":M.type="ArrayPattern",Se&&this.checkPatternErrors(Se,!0),this.toAssignableList(M.elements,te);break;case"SpreadElement":M.type="RestElement",this.toAssignable(M.argument,te),M.argument.type==="AssignmentPattern"&&this.raise(M.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":M.operator!=="="&&this.raise(M.left.end,"Only '=' operator can be used for specifying default value."),M.type="AssignmentPattern",delete M.operator,this.toAssignable(M.left,te);break;case"ParenthesizedExpression":this.toAssignable(M.expression,te,Se);break;case"ChainExpression":this.raiseRecoverable(M.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!te)break;default:this.raise(M.start,"Assigning to rvalue")}else Se&&this.checkPatternErrors(Se,!0);return M},R.toAssignableList=function(M,te){for(var Se=M.length,De=0;De<Se;De++){var tt=M[De];tt&&this.toAssignable(tt,te)}if(Se){var wt=M[Se-1];this.options.ecmaVersion===6&&te&&wt&&wt.type==="RestElement"&&wt.argument.type!=="Identifier"&&this.unexpected(wt.argument.start)}return M},R.parseSpread=function(M){var te=this.startNode();return this.next(),te.argument=this.parseMaybeAssign(!1,M),this.finishNode(te,"SpreadElement")},R.parseRestBinding=function(){var M=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==B.name&&this.unexpected(),M.argument=this.parseBindingAtom(),this.finishNode(M,"RestElement")},R.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case B.bracketL:var M=this.startNode();return this.next(),M.elements=this.parseBindingList(B.bracketR,!0,!0),this.finishNode(M,"ArrayPattern");case B.braceL:return this.parseObj(!0)}return this.parseIdent()},R.parseBindingList=function(M,te,Se){for(var De=[],tt=!0;!this.eat(M);)if(tt?tt=!1:this.expect(B.comma),te&&this.type===B.comma)De.push(null);else{if(Se&&this.afterTrailingComma(M))break;if(this.type===B.ellipsis){var wt=this.parseRestBinding();this.parseBindingListItem(wt),De.push(wt),this.type===B.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(M);break}else{var Mt=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(Mt),De.push(Mt)}}return De},R.parseBindingListItem=function(M){return M},R.parseMaybeDefault=function(M,te,Se){if(Se=Se||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(B.eq))return Se;var De=this.startNodeAt(M,te);return De.left=Se,De.right=this.parseMaybeAssign(),this.finishNode(De,"AssignmentPattern")},R.checkLValSimple=function(M,te,Se){te===void 0&&(te=it);var De=te!==it;switch(M.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(M.name)&&this.raiseRecoverable(M.start,(De?"Binding ":"Assigning to ")+M.name+" in strict mode"),De&&(te===gt&&M.name==="let"&&this.raiseRecoverable(M.start,"let is disallowed as a lexically bound name"),Se&&(de(Se,M.name)&&this.raiseRecoverable(M.start,"Argument name clash"),Se[M.name]=!0),te!==Et&&this.declareName(M.name,te,M.start));break;case"ChainExpression":this.raiseRecoverable(M.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":De&&this.raiseRecoverable(M.start,"Binding member expression");break;case"ParenthesizedExpression":return De&&this.raiseRecoverable(M.start,"Binding parenthesized expression"),this.checkLValSimple(M.expression,te,Se);default:this.raise(M.start,(De?"Binding":"Assigning to")+" rvalue")}},R.checkLValPattern=function(M,te,Se){switch(te===void 0&&(te=it),M.type){case"ObjectPattern":for(var De=0,tt=M.properties;De<tt.length;De+=1){var wt=tt[De];this.checkLValInnerPattern(wt,te,Se)}break;case"ArrayPattern":for(var Mt=0,Bt=M.elements;Mt<Bt.length;Mt+=1){var Vt=Bt[Mt];Vt&&this.checkLValInnerPattern(Vt,te,Se)}break;default:this.checkLValSimple(M,te,Se)}},R.checkLValInnerPattern=function(M,te,Se){switch(te===void 0&&(te=it),M.type){case"Property":this.checkLValInnerPattern(M.value,te,Se);break;case"AssignmentPattern":this.checkLValPattern(M.left,te,Se);break;case"RestElement":this.checkLValPattern(M.argument,te,Se);break;default:this.checkLValPattern(M,te,Se)}};var X=function(te,Se,De,tt,wt){this.token=te,this.isExpr=!!Se,this.preserveSpace=!!De,this.override=tt,this.generator=!!wt},Y={b_stat:new X("{",!1),b_expr:new X("{",!0),b_tmpl:new X("${",!1),p_stat:new X("(",!1),p_expr:new X("(",!0),q_tmpl:new X("`",!0,!0,function(M){return M.tryReadTemplateToken()}),f_stat:new X("function",!1),f_expr:new X("function",!0),f_expr_gen:new X("function",!0,!1,null,!0),f_gen:new X("function",!1,!1,null,!0)},K=i.prototype;K.initialContext=function(){return[Y.b_stat]},K.curContext=function(){return this.context[this.context.length-1]},K.braceIsBlock=function(M){var te=this.curContext();return te===Y.f_expr||te===Y.f_stat?!0:M===B.colon&&(te===Y.b_stat||te===Y.b_expr)?!te.isExpr:M===B._return||M===B.name&&this.exprAllowed?se.test(this.input.slice(this.lastTokEnd,this.start)):M===B._else||M===B.semi||M===B.eof||M===B.parenR||M===B.arrow?!0:M===B.braceL?te===Y.b_stat:M===B._var||M===B._const||M===B.name?!1:!this.exprAllowed},K.inGeneratorContext=function(){for(var M=this.context.length-1;M>=1;M--){var te=this.context[M];if(te.token==="function")return te.generator}return!1},K.updateContext=function(M){var te,Se=this.type;Se.keyword&&M===B.dot?this.exprAllowed=!1:(te=Se.updateContext)?te.call(this,M):this.exprAllowed=Se.beforeExpr},K.overrideContext=function(M){this.curContext()!==M&&(this.context[this.context.length-1]=M)},B.parenR.updateContext=B.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var M=this.context.pop();M===Y.b_stat&&this.curContext().token==="function"&&(M=this.context.pop()),this.exprAllowed=!M.isExpr},B.braceL.updateContext=function(M){this.context.push(this.braceIsBlock(M)?Y.b_stat:Y.b_expr),this.exprAllowed=!0},B.dollarBraceL.updateContext=function(){this.context.push(Y.b_tmpl),this.exprAllowed=!0},B.parenL.updateContext=function(M){var te=M===B._if||M===B._for||M===B._with||M===B._while;this.context.push(te?Y.p_stat:Y.p_expr),this.exprAllowed=!0},B.incDec.updateContext=function(){},B._function.updateContext=B._class.updateContext=function(M){M.beforeExpr&&M!==B._else&&!(M===B.semi&&this.curContext()!==Y.p_stat)&&!(M===B._return&&se.test(this.input.slice(this.lastTokEnd,this.start)))&&!((M===B.colon||M===B.braceL)&&this.curContext()===Y.b_stat)?this.context.push(Y.f_expr):this.context.push(Y.f_stat),this.exprAllowed=!1},B.backQuote.updateContext=function(){this.curContext()===Y.q_tmpl?this.context.pop():this.context.push(Y.q_tmpl),this.exprAllowed=!1},B.star.updateContext=function(M){if(M===B._function){var te=this.context.length-1;this.context[te]===Y.f_expr?this.context[te]=Y.f_expr_gen:this.context[te]=Y.f_gen}this.exprAllowed=!0},B.name.updateContext=function(M){var te=!1;this.options.ecmaVersion>=6&&M!==B.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(te=!0),this.exprAllowed=te};var H=i.prototype;H.checkPropClash=function(M,te,Se){if(!(this.options.ecmaVersion>=9&&M.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(M.computed||M.method||M.shorthand))){var De=M.key,tt;switch(De.type){case"Identifier":tt=De.name;break;case"Literal":tt=String(De.value);break;default:return}var wt=M.kind;if(this.options.ecmaVersion>=6){tt==="__proto__"&&wt==="init"&&(te.proto&&(Se?Se.doubleProto<0&&(Se.doubleProto=De.start):this.raiseRecoverable(De.start,"Redefinition of __proto__ property")),te.proto=!0);return}tt="$"+tt;var Mt=te[tt];if(Mt){var Bt;wt==="init"?Bt=this.strict&&Mt.init||Mt.get||Mt.set:Bt=Mt.init||Mt[wt],Bt&&this.raiseRecoverable(De.start,"Redefinition of property")}else Mt=te[tt]={init:!1,get:!1,set:!1};Mt[wt]=!0}},H.parseExpression=function(M,te){var Se=this.start,De=this.startLoc,tt=this.parseMaybeAssign(M,te);if(this.type===B.comma){var wt=this.startNodeAt(Se,De);for(wt.expressions=[tt];this.eat(B.comma);)wt.expressions.push(this.parseMaybeAssign(M,te));return this.finishNode(wt,"SequenceExpression")}return tt},H.parseMaybeAssign=function(M,te,Se){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(M);this.exprAllowed=!1}var De=!1,tt=-1,wt=-1,Mt=-1;te?(tt=te.parenthesizedAssign,wt=te.trailingComma,Mt=te.doubleProto,te.parenthesizedAssign=te.trailingComma=-1):(te=new h,De=!0);var Bt=this.start,Vt=this.startLoc;(this.type===B.parenL||this.type===B.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=M==="await");var er=this.parseMaybeConditional(M,te);if(Se&&(er=Se.call(this,er,Bt,Vt)),this.type.isAssign){var tr=this.startNodeAt(Bt,Vt);return tr.operator=this.value,this.type===B.eq&&(er=this.toAssignable(er,!1,te)),De||(te.parenthesizedAssign=te.trailingComma=te.doubleProto=-1),te.shorthandAssign>=er.start&&(te.shorthandAssign=-1),this.type===B.eq?this.checkLValPattern(er):this.checkLValSimple(er),tr.left=er,this.next(),tr.right=this.parseMaybeAssign(M),Mt>-1&&(te.doubleProto=Mt),this.finishNode(tr,"AssignmentExpression")}else De&&this.checkExpressionErrors(te,!0);return tt>-1&&(te.parenthesizedAssign=tt),wt>-1&&(te.trailingComma=wt),er},H.parseMaybeConditional=function(M,te){var Se=this.start,De=this.startLoc,tt=this.parseExprOps(M,te);if(this.checkExpressionErrors(te))return tt;if(this.eat(B.question)){var wt=this.startNodeAt(Se,De);return wt.test=tt,wt.consequent=this.parseMaybeAssign(),this.expect(B.colon),wt.alternate=this.parseMaybeAssign(M),this.finishNode(wt,"ConditionalExpression")}return tt},H.parseExprOps=function(M,te){var Se=this.start,De=this.startLoc,tt=this.parseMaybeUnary(te,!1,!1,M);return this.checkExpressionErrors(te)||tt.start===Se&&tt.type==="ArrowFunctionExpression"?tt:this.parseExprOp(tt,Se,De,-1,M)},H.parseExprOp=function(M,te,Se,De,tt){var wt=this.type.binop;if(wt!=null&&(!tt||this.type!==B._in)&&wt>De){var Mt=this.type===B.logicalOR||this.type===B.logicalAND,Bt=this.type===B.coalesce;Bt&&(wt=B.logicalAND.binop);var Vt=this.value;this.next();var er=this.start,tr=this.startLoc,Tr=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,tt),er,tr,wt,tt),jr=this.buildBinary(te,Se,M,Tr,Vt,Mt||Bt);return(Mt&&this.type===B.coalesce||Bt&&(this.type===B.logicalOR||this.type===B.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(jr,te,Se,De,tt)}return M},H.buildBinary=function(M,te,Se,De,tt,wt){De.type==="PrivateIdentifier"&&this.raise(De.start,"Private identifier can only be left side of binary expression");var Mt=this.startNodeAt(M,te);return Mt.left=Se,Mt.operator=tt,Mt.right=De,this.finishNode(Mt,wt?"LogicalExpression":"BinaryExpression")},H.parseMaybeUnary=function(M,te,Se,De){var tt=this.start,wt=this.startLoc,Mt;if(this.isContextual("await")&&this.canAwait)Mt=this.parseAwait(De),te=!0;else if(this.type.prefix){var Bt=this.startNode(),Vt=this.type===B.incDec;Bt.operator=this.value,Bt.prefix=!0,this.next(),Bt.argument=this.parseMaybeUnary(null,!0,Vt,De),this.checkExpressionErrors(M,!0),Vt?this.checkLValSimple(Bt.argument):this.strict&&Bt.operator==="delete"&&Bt.argument.type==="Identifier"?this.raiseRecoverable(Bt.start,"Deleting local variable in strict mode"):Bt.operator==="delete"&&G(Bt.argument)?this.raiseRecoverable(Bt.start,"Private fields can not be deleted"):te=!0,Mt=this.finishNode(Bt,Vt?"UpdateExpression":"UnaryExpression")}else if(!te&&this.type===B.privateId)(De||this.privateNameStack.length===0)&&this.unexpected(),Mt=this.parsePrivateIdent(),this.type!==B._in&&this.unexpected();else{if(Mt=this.parseExprSubscripts(M,De),this.checkExpressionErrors(M))return Mt;for(;this.type.postfix&&!this.canInsertSemicolon();){var er=this.startNodeAt(tt,wt);er.operator=this.value,er.prefix=!1,er.argument=Mt,this.checkLValSimple(Mt),this.next(),Mt=this.finishNode(er,"UpdateExpression")}}if(!Se&&this.eat(B.starstar))if(te)this.unexpected(this.lastTokStart);else return this.buildBinary(tt,wt,Mt,this.parseMaybeUnary(null,!1,!1,De),"**",!1);else return Mt};function G(M){return M.type==="MemberExpression"&&M.property.type==="PrivateIdentifier"||M.type==="ChainExpression"&&G(M.expression)}H.parseExprSubscripts=function(M,te){var Se=this.start,De=this.startLoc,tt=this.parseExprAtom(M,te);if(tt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return tt;var wt=this.parseSubscripts(tt,Se,De,!1,te);return M&&wt.type==="MemberExpression"&&(M.parenthesizedAssign>=wt.start&&(M.parenthesizedAssign=-1),M.parenthesizedBind>=wt.start&&(M.parenthesizedBind=-1),M.trailingComma>=wt.start&&(M.trailingComma=-1)),wt},H.parseSubscripts=function(M,te,Se,De,tt){for(var wt=this.options.ecmaVersion>=8&&M.type==="Identifier"&&M.name==="async"&&this.lastTokEnd===M.end&&!this.canInsertSemicolon()&&M.end-M.start===5&&this.potentialArrowAt===M.start,Mt=!1;;){var Bt=this.parseSubscript(M,te,Se,De,wt,Mt,tt);if(Bt.optional&&(Mt=!0),Bt===M||Bt.type==="ArrowFunctionExpression"){if(Mt){var Vt=this.startNodeAt(te,Se);Vt.expression=Bt,Bt=this.finishNode(Vt,"ChainExpression")}return Bt}M=Bt}},H.parseSubscript=function(M,te,Se,De,tt,wt,Mt){var Bt=this.options.ecmaVersion>=11,Vt=Bt&&this.eat(B.questionDot);De&&Vt&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var er=this.eat(B.bracketL);if(er||Vt&&this.type!==B.parenL&&this.type!==B.backQuote||this.eat(B.dot)){var tr=this.startNodeAt(te,Se);tr.object=M,er?(tr.property=this.parseExpression(),this.expect(B.bracketR)):this.type===B.privateId&&M.type!=="Super"?tr.property=this.parsePrivateIdent():tr.property=this.parseIdent(this.options.allowReserved!=="never"),tr.computed=!!er,Bt&&(tr.optional=Vt),M=this.finishNode(tr,"MemberExpression")}else if(!De&&this.eat(B.parenL)){var Tr=new h,jr=this.yieldPos,Xr=this.awaitPos,$r=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var nn=this.parseExprList(B.parenR,this.options.ecmaVersion>=8,!1,Tr);if(tt&&!Vt&&!this.canInsertSemicolon()&&this.eat(B.arrow))return this.checkPatternErrors(Tr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=jr,this.awaitPos=Xr,this.awaitIdentPos=$r,this.parseArrowExpression(this.startNodeAt(te,Se),nn,!0,Mt);this.checkExpressionErrors(Tr,!0),this.yieldPos=jr||this.yieldPos,this.awaitPos=Xr||this.awaitPos,this.awaitIdentPos=$r||this.awaitIdentPos;var Zr=this.startNodeAt(te,Se);Zr.callee=M,Zr.arguments=nn,Bt&&(Zr.optional=Vt),M=this.finishNode(Zr,"CallExpression")}else if(this.type===B.backQuote){(Vt||wt)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var hn=this.startNodeAt(te,Se);hn.tag=M,hn.quasi=this.parseTemplate({isTagged:!0}),M=this.finishNode(hn,"TaggedTemplateExpression")}return M},H.parseExprAtom=function(M,te){this.type===B.slash&&this.readRegexp();var Se,De=this.potentialArrowAt===this.start;switch(this.type){case B._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),Se=this.startNode(),this.next(),this.type===B.parenL&&!this.allowDirectSuper&&this.raise(Se.start,"super() call outside constructor of a subclass"),this.type!==B.dot&&this.type!==B.bracketL&&this.type!==B.parenL&&this.unexpected(),this.finishNode(Se,"Super");case B._this:return Se=this.startNode(),this.next(),this.finishNode(Se,"ThisExpression");case B.name:var tt=this.start,wt=this.startLoc,Mt=this.containsEsc,Bt=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Mt&&Bt.name==="async"&&!this.canInsertSemicolon()&&this.eat(B._function))return this.overrideContext(Y.f_expr),this.parseFunction(this.startNodeAt(tt,wt),0,!1,!0,te);if(De&&!this.canInsertSemicolon()){if(this.eat(B.arrow))return this.parseArrowExpression(this.startNodeAt(tt,wt),[Bt],!1,te);if(this.options.ecmaVersion>=8&&Bt.name==="async"&&this.type===B.name&&!Mt&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Bt=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(B.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(tt,wt),[Bt],!0,te)}return Bt;case B.regexp:var Vt=this.value;return Se=this.parseLiteral(Vt.value),Se.regex={pattern:Vt.pattern,flags:Vt.flags},Se;case B.num:case B.string:return this.parseLiteral(this.value);case B._null:case B._true:case B._false:return Se=this.startNode(),Se.value=this.type===B._null?null:this.type===B._true,Se.raw=this.type.keyword,this.next(),this.finishNode(Se,"Literal");case B.parenL:var er=this.start,tr=this.parseParenAndDistinguishExpression(De,te);return M&&(M.parenthesizedAssign<0&&!this.isSimpleAssignTarget(tr)&&(M.parenthesizedAssign=er),M.parenthesizedBind<0&&(M.parenthesizedBind=er)),tr;case B.bracketL:return Se=this.startNode(),this.next(),Se.elements=this.parseExprList(B.bracketR,!0,!0,M),this.finishNode(Se,"ArrayExpression");case B.braceL:return this.overrideContext(Y.b_expr),this.parseObj(!1,M);case B._function:return Se=this.startNode(),this.next(),this.parseFunction(Se,0);case B._class:return this.parseClass(this.startNode(),!1);case B._new:return this.parseNew();case B.backQuote:return this.parseTemplate();case B._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},H.parseExprImport=function(){var M=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var te=this.parseIdent(!0);switch(this.type){case B.parenL:return this.parseDynamicImport(M);case B.dot:return M.meta=te,this.parseImportMeta(M);default:this.unexpected()}},H.parseDynamicImport=function(M){if(this.next(),M.source=this.parseMaybeAssign(),!this.eat(B.parenR)){var te=this.start;this.eat(B.comma)&&this.eat(B.parenR)?this.raiseRecoverable(te,"Trailing comma is not allowed in import()"):this.unexpected(te)}return this.finishNode(M,"ImportExpression")},H.parseImportMeta=function(M){this.next();var te=this.containsEsc;return M.property=this.parseIdent(!0),M.property.name!=="meta"&&this.raiseRecoverable(M.property.start,"The only valid meta property for import is 'import.meta'"),te&&this.raiseRecoverable(M.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(M.start,"Cannot use 'import.meta' outside a module"),this.finishNode(M,"MetaProperty")},H.parseLiteral=function(M){var te=this.startNode();return te.value=M,te.raw=this.input.slice(this.start,this.end),te.raw.charCodeAt(te.raw.length-1)===110&&(te.bigint=te.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(te,"Literal")},H.parseParenExpression=function(){this.expect(B.parenL);var M=this.parseExpression();return this.expect(B.parenR),M},H.parseParenAndDistinguishExpression=function(M,te){var Se=this.start,De=this.startLoc,tt,wt=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Mt=this.start,Bt=this.startLoc,Vt=[],er=!0,tr=!1,Tr=new h,jr=this.yieldPos,Xr=this.awaitPos,$r;for(this.yieldPos=0,this.awaitPos=0;this.type!==B.parenR;)if(er?er=!1:this.expect(B.comma),wt&&this.afterTrailingComma(B.parenR,!0)){tr=!0;break}else if(this.type===B.ellipsis){$r=this.start,Vt.push(this.parseParenItem(this.parseRestBinding())),this.type===B.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else Vt.push(this.parseMaybeAssign(!1,Tr,this.parseParenItem));var nn=this.lastTokEnd,Zr=this.lastTokEndLoc;if(this.expect(B.parenR),M&&!this.canInsertSemicolon()&&this.eat(B.arrow))return this.checkPatternErrors(Tr,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=jr,this.awaitPos=Xr,this.parseParenArrowList(Se,De,Vt,te);(!Vt.length||tr)&&this.unexpected(this.lastTokStart),$r&&this.unexpected($r),this.checkExpressionErrors(Tr,!0),this.yieldPos=jr||this.yieldPos,this.awaitPos=Xr||this.awaitPos,Vt.length>1?(tt=this.startNodeAt(Mt,Bt),tt.expressions=Vt,this.finishNodeAt(tt,"SequenceExpression",nn,Zr)):tt=Vt[0]}else tt=this.parseParenExpression();if(this.options.preserveParens){var hn=this.startNodeAt(Se,De);return hn.expression=tt,this.finishNode(hn,"ParenthesizedExpression")}else return tt},H.parseParenItem=function(M){return M},H.parseParenArrowList=function(M,te,Se,De){return this.parseArrowExpression(this.startNodeAt(M,te),Se,!1,De)};var z=[];H.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var M=this.startNode(),te=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(B.dot)){M.meta=te;var Se=this.containsEsc;return M.property=this.parseIdent(!0),M.property.name!=="target"&&this.raiseRecoverable(M.property.start,"The only valid meta property for new is 'new.target'"),Se&&this.raiseRecoverable(M.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(M.start,"'new.target' can only be used in functions and class static block"),this.finishNode(M,"MetaProperty")}var De=this.start,tt=this.startLoc,wt=this.type===B._import;return M.callee=this.parseSubscripts(this.parseExprAtom(),De,tt,!0,!1),wt&&M.callee.type==="ImportExpression"&&this.raise(De,"Cannot use new with import()"),this.eat(B.parenL)?M.arguments=this.parseExprList(B.parenR,this.options.ecmaVersion>=8,!1):M.arguments=z,this.finishNode(M,"NewExpression")},H.parseTemplateElement=function(M){var te=M.isTagged,Se=this.startNode();return this.type===B.invalidTemplate?(te||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Se.value={raw:this.value,cooked:null}):Se.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Se.tail=this.type===B.backQuote,this.finishNode(Se,"TemplateElement")},H.parseTemplate=function(M){M===void 0&&(M={});var te=M.isTagged;te===void 0&&(te=!1);var Se=this.startNode();this.next(),Se.expressions=[];var De=this.parseTemplateElement({isTagged:te});for(Se.quasis=[De];!De.tail;)this.type===B.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(B.dollarBraceL),Se.expressions.push(this.parseExpression()),this.expect(B.braceR),Se.quasis.push(De=this.parseTemplateElement({isTagged:te}));return this.next(),this.finishNode(Se,"TemplateLiteral")},H.isAsyncProp=function(M){return!M.computed&&M.key.type==="Identifier"&&M.key.name==="async"&&(this.type===B.name||this.type===B.num||this.type===B.string||this.type===B.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===B.star)&&!se.test(this.input.slice(this.lastTokEnd,this.start))},H.parseObj=function(M,te){var Se=this.startNode(),De=!0,tt={};for(Se.properties=[],this.next();!this.eat(B.braceR);){if(De)De=!1;else if(this.expect(B.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(B.braceR))break;var wt=this.parseProperty(M,te);M||this.checkPropClash(wt,tt,te),Se.properties.push(wt)}return this.finishNode(Se,M?"ObjectPattern":"ObjectExpression")},H.parseProperty=function(M,te){var Se=this.startNode(),De,tt,wt,Mt;if(this.options.ecmaVersion>=9&&this.eat(B.ellipsis))return M?(Se.argument=this.parseIdent(!1),this.type===B.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Se,"RestElement")):(Se.argument=this.parseMaybeAssign(!1,te),this.type===B.comma&&te&&te.trailingComma<0&&(te.trailingComma=this.start),this.finishNode(Se,"SpreadElement"));this.options.ecmaVersion>=6&&(Se.method=!1,Se.shorthand=!1,(M||te)&&(wt=this.start,Mt=this.startLoc),M||(De=this.eat(B.star)));var Bt=this.containsEsc;return this.parsePropertyName(Se),!M&&!Bt&&this.options.ecmaVersion>=8&&!De&&this.isAsyncProp(Se)?(tt=!0,De=this.options.ecmaVersion>=9&&this.eat(B.star),this.parsePropertyName(Se,te)):tt=!1,this.parsePropertyValue(Se,M,De,tt,wt,Mt,te,Bt),this.finishNode(Se,"Property")},H.parsePropertyValue=function(M,te,Se,De,tt,wt,Mt,Bt){if((Se||De)&&this.type===B.colon&&this.unexpected(),this.eat(B.colon))M.value=te?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Mt),M.kind="init";else if(this.options.ecmaVersion>=6&&this.type===B.parenL)te&&this.unexpected(),M.kind="init",M.method=!0,M.value=this.parseMethod(Se,De);else if(!te&&!Bt&&this.options.ecmaVersion>=5&&!M.computed&&M.key.type==="Identifier"&&(M.key.name==="get"||M.key.name==="set")&&this.type!==B.comma&&this.type!==B.braceR&&this.type!==B.eq){(Se||De)&&this.unexpected(),M.kind=M.key.name,this.parsePropertyName(M),M.value=this.parseMethod(!1);var Vt=M.kind==="get"?0:1;if(M.value.params.length!==Vt){var er=M.value.start;M.kind==="get"?this.raiseRecoverable(er,"getter should have no params"):this.raiseRecoverable(er,"setter should have exactly one param")}else M.kind==="set"&&M.value.params[0].type==="RestElement"&&this.raiseRecoverable(M.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!M.computed&&M.key.type==="Identifier"?((Se||De)&&this.unexpected(),this.checkUnreserved(M.key),M.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=tt),M.kind="init",te?M.value=this.parseMaybeDefault(tt,wt,this.copyNode(M.key)):this.type===B.eq&&Mt?(Mt.shorthandAssign<0&&(Mt.shorthandAssign=this.start),M.value=this.parseMaybeDefault(tt,wt,this.copyNode(M.key))):M.value=this.copyNode(M.key),M.shorthand=!0):this.unexpected()},H.parsePropertyName=function(M){if(this.options.ecmaVersion>=6){if(this.eat(B.bracketL))return M.computed=!0,M.key=this.parseMaybeAssign(),this.expect(B.bracketR),M.key;M.computed=!1}return M.key=this.type===B.num||this.type===B.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},H.initFunction=function(M){M.id=null,this.options.ecmaVersion>=6&&(M.generator=M.expression=!1),this.options.ecmaVersion>=8&&(M.async=!1)},H.parseMethod=function(M,te,Se){var De=this.startNode(),tt=this.yieldPos,wt=this.awaitPos,Mt=this.awaitIdentPos;return this.initFunction(De),this.options.ecmaVersion>=6&&(De.generator=M),this.options.ecmaVersion>=8&&(De.async=!!te),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ht(te,De.generator)|He|(Se?ze:0)),this.expect(B.parenL),De.params=this.parseBindingList(B.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(De,!1,!0,!1),this.yieldPos=tt,this.awaitPos=wt,this.awaitIdentPos=Mt,this.finishNode(De,"FunctionExpression")},H.parseArrowExpression=function(M,te,Se,De){var tt=this.yieldPos,wt=this.awaitPos,Mt=this.awaitIdentPos;return this.enterScope(ht(Se,!1)|Pe),this.initFunction(M),this.options.ecmaVersion>=8&&(M.async=!!Se),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,M.params=this.toAssignableList(te,!0),this.parseFunctionBody(M,!0,!1,De),this.yieldPos=tt,this.awaitPos=wt,this.awaitIdentPos=Mt,this.finishNode(M,"ArrowFunctionExpression")},H.parseFunctionBody=function(M,te,Se,De){var tt=te&&this.type!==B.braceL,wt=this.strict,Mt=!1;if(tt)M.body=this.parseMaybeAssign(De),M.expression=!0,this.checkParams(M,!1);else{var Bt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(M.params);(!wt||Bt)&&(Mt=this.strictDirective(this.end),Mt&&Bt&&this.raiseRecoverable(M.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Vt=this.labels;this.labels=[],Mt&&(this.strict=!0),this.checkParams(M,!wt&&!Mt&&!te&&!Se&&this.isSimpleParamList(M.params)),this.strict&&M.id&&this.checkLValSimple(M.id,Et),M.body=this.parseBlock(!1,void 0,Mt&&!wt),M.expression=!1,this.adaptDirectivePrologue(M.body.body),this.labels=Vt}this.exitScope()},H.isSimpleParamList=function(M){for(var te=0,Se=M;te<Se.length;te+=1){var De=Se[te];if(De.type!=="Identifier")return!1}return!0},H.checkParams=function(M,te){for(var Se=Object.create(null),De=0,tt=M.params;De<tt.length;De+=1){var wt=tt[De];this.checkLValInnerPattern(wt,mt,te?null:Se)}},H.parseExprList=function(M,te,Se,De){for(var tt=[],wt=!0;!this.eat(M);){if(wt)wt=!1;else if(this.expect(B.comma),te&&this.afterTrailingComma(M))break;var Mt=void 0;Se&&this.type===B.comma?Mt=null:this.type===B.ellipsis?(Mt=this.parseSpread(De),De&&this.type===B.comma&&De.trailingComma<0&&(De.trailingComma=this.start)):Mt=this.parseMaybeAssign(!1,De),tt.push(Mt)}return tt},H.checkUnreserved=function(M){var te=M.start,Se=M.end,De=M.name;if(this.inGenerator&&De==="yield"&&this.raiseRecoverable(te,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&De==="await"&&this.raiseRecoverable(te,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&De==="arguments"&&this.raiseRecoverable(te,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(De==="arguments"||De==="await")&&this.raise(te,"Cannot use "+De+" in class static initialization block"),this.keywords.test(De)&&this.raise(te,"Unexpected keyword '"+De+"'"),!(this.options.ecmaVersion<6&&this.input.slice(te,Se).indexOf("\\")!==-1)){var tt=this.strict?this.reservedWordsStrict:this.reservedWords;tt.test(De)&&(!this.inAsync&&De==="await"&&this.raiseRecoverable(te,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(te,"The keyword '"+De+"' is reserved"))}},H.parseIdent=function(M,te){var Se=this.startNode();return this.type===B.name?Se.name=this.value:this.type.keyword?(Se.name=this.type.keyword,(Se.name==="class"||Se.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!M),this.finishNode(Se,"Identifier"),M||(this.checkUnreserved(Se),Se.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Se.start)),Se},H.parsePrivateIdent=function(){var M=this.startNode();return this.type===B.privateId?M.name=this.value:this.unexpected(),this.next(),this.finishNode(M,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(M.start,"Private field '#"+M.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(M),M},H.parseYield=function(M){this.yieldPos||(this.yieldPos=this.start);var te=this.startNode();return this.next(),this.type===B.semi||this.canInsertSemicolon()||this.type!==B.star&&!this.type.startsExpr?(te.delegate=!1,te.argument=null):(te.delegate=this.eat(B.star),te.argument=this.parseMaybeAssign(M)),this.finishNode(te,"YieldExpression")},H.parseAwait=function(M){this.awaitPos||(this.awaitPos=this.start);var te=this.startNode();return this.next(),te.argument=this.parseMaybeUnary(null,!0,!1,M),this.finishNode(te,"AwaitExpression")};var Z=i.prototype;Z.raise=function(M,te){var Se=_t(this.input,M);te+=" ("+Se.line+":"+Se.column+")";var De=new SyntaxError(te);throw De.pos=M,De.loc=Se,De.raisedAt=this.pos,De},Z.raiseRecoverable=Z.raise,Z.curPosition=function(){if(this.options.locations)return new ut(this.curLine,this.pos-this.lineStart)};var ee=i.prototype,le=function(te){this.flags=te,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};ee.enterScope=function(M){this.scopeStack.push(new le(M))},ee.exitScope=function(){this.scopeStack.pop()},ee.treatFunctionsAsVarInScope=function(M){return M.flags&Me||!this.inModule&&M.flags&Te},ee.declareName=function(M,te,Se){var De=!1;if(te===gt){var tt=this.currentScope();De=tt.lexical.indexOf(M)>-1||tt.functions.indexOf(M)>-1||tt.var.indexOf(M)>-1,tt.lexical.push(M),this.inModule&&tt.flags&Te&&delete this.undefinedExports[M]}else if(te===bt){var wt=this.currentScope();wt.lexical.push(M)}else if(te===St){var Mt=this.currentScope();this.treatFunctionsAsVar?De=Mt.lexical.indexOf(M)>-1:De=Mt.lexical.indexOf(M)>-1||Mt.var.indexOf(M)>-1,Mt.functions.push(M)}else for(var Bt=this.scopeStack.length-1;Bt>=0;--Bt){var Vt=this.scopeStack[Bt];if(Vt.lexical.indexOf(M)>-1&&!(Vt.flags&_e&&Vt.lexical[0]===M)||!this.treatFunctionsAsVarInScope(Vt)&&Vt.functions.indexOf(M)>-1){De=!0;break}if(Vt.var.push(M),this.inModule&&Vt.flags&Te&&delete this.undefinedExports[M],Vt.flags&st)break}De&&this.raiseRecoverable(Se,"Identifier '"+M+"' has already been declared")},ee.checkLocalExport=function(M){this.scopeStack[0].lexical.indexOf(M.name)===-1&&this.scopeStack[0].var.indexOf(M.name)===-1&&(this.undefinedExports[M.name]=M)},ee.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},ee.currentVarScope=function(){for(var M=this.scopeStack.length-1;;M--){var te=this.scopeStack[M];if(te.flags&st)return te}},ee.currentThisScope=function(){for(var M=this.scopeStack.length-1;;M--){var te=this.scopeStack[M];if(te.flags&st&&!(te.flags&Pe))return te}};var ie=function(te,Se,De){this.type="",this.start=Se,this.end=0,te.options.locations&&(this.loc=new Ke(te,De)),te.options.directSourceFile&&(this.sourceFile=te.options.directSourceFile),te.options.ranges&&(this.range=[Se,0])},pe=i.prototype;pe.startNode=function(){return new ie(this,this.start,this.startLoc)},pe.startNodeAt=function(M,te){return new ie(this,M,te)};function ve(M,te,Se,De){return M.type=te,M.end=Se,this.options.locations&&(M.loc.end=De),this.options.ranges&&(M.range[1]=Se),M}pe.finishNode=function(M,te){return ve.call(this,M,te,this.lastTokEnd,this.lastTokEndLoc)},pe.finishNodeAt=function(M,te,Se,De){return ve.call(this,M,te,Se,De)},pe.copyNode=function(M){var te=new ie(this,M.start,this.startLoc);for(var Se in M)te[Se]=M[Se];return te};var xe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Ce=xe+" Extended_Pictographic",be=Ce,Ee=be+" EBase EComp EMod EPres ExtPict",Ie=Ee,Ue={9:xe,10:Ce,11:be,12:Ee,13:Ie},We="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",rt="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ke=rt+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Ye=ke+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ft=Ye+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",lt=ft+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",nt={9:rt,10:ke,11:Ye,12:ft,13:lt},Ze={};function xt(M){var te=Ze[M]={binary:Le(Ue[M]+" "+We),nonBinary:{General_Category:Le(We),Script:Le(nt[M])}};te.nonBinary.Script_Extensions=te.nonBinary.Script,te.nonBinary.gc=te.nonBinary.General_Category,te.nonBinary.sc=te.nonBinary.Script,te.nonBinary.scx=te.nonBinary.Script_Extensions}for(var Tt=0,It=[9,10,11,12,13];Tt<It.length;Tt+=1){var Lt=It[Tt];xt(Lt)}var pt=i.prototype,Dt=function(te){this.parser=te,this.validFlags="gim"+(te.options.ecmaVersion>=6?"uy":"")+(te.options.ecmaVersion>=9?"s":"")+(te.options.ecmaVersion>=13?"d":""),this.unicodeProperties=Ze[te.options.ecmaVersion>=13?13:te.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Dt.prototype.reset=function(te,Se,De){var tt=De.indexOf("u")!==-1;this.start=te|0,this.source=Se+"",this.flags=De,this.switchU=tt&&this.parser.options.ecmaVersion>=6,this.switchN=tt&&this.parser.options.ecmaVersion>=9},Dt.prototype.raise=function(te){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+te)},Dt.prototype.at=function(te,Se){Se===void 0&&(Se=!1);var De=this.source,tt=De.length;if(te>=tt)return-1;var wt=De.charCodeAt(te);if(!(Se||this.switchU)||wt<=55295||wt>=57344||te+1>=tt)return wt;var Mt=De.charCodeAt(te+1);return Mt>=56320&&Mt<=57343?(wt<<10)+Mt-56613888:wt},Dt.prototype.nextIndex=function(te,Se){Se===void 0&&(Se=!1);var De=this.source,tt=De.length;if(te>=tt)return tt;var wt=De.charCodeAt(te),Mt;return!(Se||this.switchU)||wt<=55295||wt>=57344||te+1>=tt||(Mt=De.charCodeAt(te+1))<56320||Mt>57343?te+1:te+2},Dt.prototype.current=function(te){return te===void 0&&(te=!1),this.at(this.pos,te)},Dt.prototype.lookahead=function(te){return te===void 0&&(te=!1),this.at(this.nextIndex(this.pos,te),te)},Dt.prototype.advance=function(te){te===void 0&&(te=!1),this.pos=this.nextIndex(this.pos,te)},Dt.prototype.eat=function(te,Se){return Se===void 0&&(Se=!1),this.current(Se)===te?(this.advance(Se),!0):!1},pt.validateRegExpFlags=function(M){for(var te=M.validFlags,Se=M.flags,De=0;De<Se.length;De++){var tt=Se.charAt(De);te.indexOf(tt)===-1&&this.raise(M.start,"Invalid regular expression flag"),Se.indexOf(tt,De+1)>-1&&this.raise(M.start,"Duplicate regular expression flag")}},pt.validateRegExpPattern=function(M){this.regexp_pattern(M),!M.switchN&&this.options.ecmaVersion>=9&&M.groupNames.length>0&&(M.switchN=!0,this.regexp_pattern(M))},pt.regexp_pattern=function(M){M.pos=0,M.lastIntValue=0,M.lastStringValue="",M.lastAssertionIsQuantifiable=!1,M.numCapturingParens=0,M.maxBackReference=0,M.groupNames.length=0,M.backReferenceNames.length=0,this.regexp_disjunction(M),M.pos!==M.source.length&&(M.eat(41)&&M.raise("Unmatched ')'"),(M.eat(93)||M.eat(125))&&M.raise("Lone quantifier brackets")),M.maxBackReference>M.numCapturingParens&&M.raise("Invalid escape");for(var te=0,Se=M.backReferenceNames;te<Se.length;te+=1){var De=Se[te];M.groupNames.indexOf(De)===-1&&M.raise("Invalid named capture referenced")}},pt.regexp_disjunction=function(M){for(this.regexp_alternative(M);M.eat(124);)this.regexp_alternative(M);this.regexp_eatQuantifier(M,!0)&&M.raise("Nothing to repeat"),M.eat(123)&&M.raise("Lone quantifier brackets")},pt.regexp_alternative=function(M){for(;M.pos<M.source.length&&this.regexp_eatTerm(M););},pt.regexp_eatTerm=function(M){return this.regexp_eatAssertion(M)?(M.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(M)&&M.switchU&&M.raise("Invalid quantifier"),!0):(M.switchU?this.regexp_eatAtom(M):this.regexp_eatExtendedAtom(M))?(this.regexp_eatQuantifier(M),!0):!1},pt.regexp_eatAssertion=function(M){var te=M.pos;if(M.lastAssertionIsQuantifiable=!1,M.eat(94)||M.eat(36))return!0;if(M.eat(92)){if(M.eat(66)||M.eat(98))return!0;M.pos=te}if(M.eat(40)&&M.eat(63)){var Se=!1;if(this.options.ecmaVersion>=9&&(Se=M.eat(60)),M.eat(61)||M.eat(33))return this.regexp_disjunction(M),M.eat(41)||M.raise("Unterminated group"),M.lastAssertionIsQuantifiable=!Se,!0}return M.pos=te,!1},pt.regexp_eatQuantifier=function(M,te){return te===void 0&&(te=!1),this.regexp_eatQuantifierPrefix(M,te)?(M.eat(63),!0):!1},pt.regexp_eatQuantifierPrefix=function(M,te){return M.eat(42)||M.eat(43)||M.eat(63)||this.regexp_eatBracedQuantifier(M,te)},pt.regexp_eatBracedQuantifier=function(M,te){var Se=M.pos;if(M.eat(123)){var De=0,tt=-1;if(this.regexp_eatDecimalDigits(M)&&(De=M.lastIntValue,M.eat(44)&&this.regexp_eatDecimalDigits(M)&&(tt=M.lastIntValue),M.eat(125)))return tt!==-1&&tt<De&&!te&&M.raise("numbers out of order in {} quantifier"),!0;M.switchU&&!te&&M.raise("Incomplete quantifier"),M.pos=Se}return!1},pt.regexp_eatAtom=function(M){return this.regexp_eatPatternCharacters(M)||M.eat(46)||this.regexp_eatReverseSolidusAtomEscape(M)||this.regexp_eatCharacterClass(M)||this.regexp_eatUncapturingGroup(M)||this.regexp_eatCapturingGroup(M)},pt.regexp_eatReverseSolidusAtomEscape=function(M){var te=M.pos;if(M.eat(92)){if(this.regexp_eatAtomEscape(M))return!0;M.pos=te}return!1},pt.regexp_eatUncapturingGroup=function(M){var te=M.pos;if(M.eat(40)){if(M.eat(63)&&M.eat(58)){if(this.regexp_disjunction(M),M.eat(41))return!0;M.raise("Unterminated group")}M.pos=te}return!1},pt.regexp_eatCapturingGroup=function(M){if(M.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(M):M.current()===63&&M.raise("Invalid group"),this.regexp_disjunction(M),M.eat(41))return M.numCapturingParens+=1,!0;M.raise("Unterminated group")}return!1},pt.regexp_eatExtendedAtom=function(M){return M.eat(46)||this.regexp_eatReverseSolidusAtomEscape(M)||this.regexp_eatCharacterClass(M)||this.regexp_eatUncapturingGroup(M)||this.regexp_eatCapturingGroup(M)||this.regexp_eatInvalidBracedQuantifier(M)||this.regexp_eatExtendedPatternCharacter(M)},pt.regexp_eatInvalidBracedQuantifier=function(M){return this.regexp_eatBracedQuantifier(M,!0)&&M.raise("Nothing to repeat"),!1},pt.regexp_eatSyntaxCharacter=function(M){var te=M.current();return jt(te)?(M.lastIntValue=te,M.advance(),!0):!1};function jt(M){return M===36||M>=40&&M<=43||M===46||M===63||M>=91&&M<=94||M>=123&&M<=125}pt.regexp_eatPatternCharacters=function(M){for(var te=M.pos,Se=0;(Se=M.current())!==-1&&!jt(Se);)M.advance();return M.pos!==te},pt.regexp_eatExtendedPatternCharacter=function(M){var te=M.current();return te!==-1&&te!==36&&!(te>=40&&te<=43)&&te!==46&&te!==63&&te!==91&&te!==94&&te!==124?(M.advance(),!0):!1},pt.regexp_groupSpecifier=function(M){if(M.eat(63)){if(this.regexp_eatGroupName(M)){M.groupNames.indexOf(M.lastStringValue)!==-1&&M.raise("Duplicate capture group name"),M.groupNames.push(M.lastStringValue);return}M.raise("Invalid group")}},pt.regexp_eatGroupName=function(M){if(M.lastStringValue="",M.eat(60)){if(this.regexp_eatRegExpIdentifierName(M)&&M.eat(62))return!0;M.raise("Invalid capture group name")}return!1},pt.regexp_eatRegExpIdentifierName=function(M){if(M.lastStringValue="",this.regexp_eatRegExpIdentifierStart(M)){for(M.lastStringValue+=Be(M.lastIntValue);this.regexp_eatRegExpIdentifierPart(M);)M.lastStringValue+=Be(M.lastIntValue);return!0}return!1},pt.regexp_eatRegExpIdentifierStart=function(M){var te=M.pos,Se=this.options.ecmaVersion>=11,De=M.current(Se);return M.advance(Se),De===92&&this.regexp_eatRegExpUnicodeEscapeSequence(M,Se)&&(De=M.lastIntValue),Gt(De)?(M.lastIntValue=De,!0):(M.pos=te,!1)};function Gt(M){return d(M,!0)||M===36||M===95}pt.regexp_eatRegExpIdentifierPart=function(M){var te=M.pos,Se=this.options.ecmaVersion>=11,De=M.current(Se);return M.advance(Se),De===92&&this.regexp_eatRegExpUnicodeEscapeSequence(M,Se)&&(De=M.lastIntValue),nr(De)?(M.lastIntValue=De,!0):(M.pos=te,!1)};function nr(M){return _(M,!0)||M===36||M===95||M===8204||M===8205}pt.regexp_eatAtomEscape=function(M){return this.regexp_eatBackReference(M)||this.regexp_eatCharacterClassEscape(M)||this.regexp_eatCharacterEscape(M)||M.switchN&&this.regexp_eatKGroupName(M)?!0:(M.switchU&&(M.current()===99&&M.raise("Invalid unicode escape"),M.raise("Invalid escape")),!1)},pt.regexp_eatBackReference=function(M){var te=M.pos;if(this.regexp_eatDecimalEscape(M)){var Se=M.lastIntValue;if(M.switchU)return Se>M.maxBackReference&&(M.maxBackReference=Se),!0;if(Se<=M.numCapturingParens)return!0;M.pos=te}return!1},pt.regexp_eatKGroupName=function(M){if(M.eat(107)){if(this.regexp_eatGroupName(M))return M.backReferenceNames.push(M.lastStringValue),!0;M.raise("Invalid named reference")}return!1},pt.regexp_eatCharacterEscape=function(M){return this.regexp_eatControlEscape(M)||this.regexp_eatCControlLetter(M)||this.regexp_eatZero(M)||this.regexp_eatHexEscapeSequence(M)||this.regexp_eatRegExpUnicodeEscapeSequence(M,!1)||!M.switchU&&this.regexp_eatLegacyOctalEscapeSequence(M)||this.regexp_eatIdentityEscape(M)},pt.regexp_eatCControlLetter=function(M){var te=M.pos;if(M.eat(99)){if(this.regexp_eatControlLetter(M))return!0;M.pos=te}return!1},pt.regexp_eatZero=function(M){return M.current()===48&&!or(M.lookahead())?(M.lastIntValue=0,M.advance(),!0):!1},pt.regexp_eatControlEscape=function(M){var te=M.current();return te===116?(M.lastIntValue=9,M.advance(),!0):te===110?(M.lastIntValue=10,M.advance(),!0):te===118?(M.lastIntValue=11,M.advance(),!0):te===102?(M.lastIntValue=12,M.advance(),!0):te===114?(M.lastIntValue=13,M.advance(),!0):!1},pt.regexp_eatControlLetter=function(M){var te=M.current();return sr(te)?(M.lastIntValue=te%32,M.advance(),!0):!1};function sr(M){return M>=65&&M<=90||M>=97&&M<=122}pt.regexp_eatRegExpUnicodeEscapeSequence=function(M,te){te===void 0&&(te=!1);var Se=M.pos,De=te||M.switchU;if(M.eat(117)){if(this.regexp_eatFixedHexDigits(M,4)){var tt=M.lastIntValue;if(De&&tt>=55296&&tt<=56319){var wt=M.pos;if(M.eat(92)&&M.eat(117)&&this.regexp_eatFixedHexDigits(M,4)){var Mt=M.lastIntValue;if(Mt>=56320&&Mt<=57343)return M.lastIntValue=(tt-55296)*1024+(Mt-56320)+65536,!0}M.pos=wt,M.lastIntValue=tt}return!0}if(De&&M.eat(123)&&this.regexp_eatHexDigits(M)&&M.eat(125)&&ir(M.lastIntValue))return!0;De&&M.raise("Invalid unicode escape"),M.pos=Se}return!1};function ir(M){return M>=0&&M<=1114111}pt.regexp_eatIdentityEscape=function(M){if(M.switchU)return this.regexp_eatSyntaxCharacter(M)?!0:M.eat(47)?(M.lastIntValue=47,!0):!1;var te=M.current();return te!==99&&(!M.switchN||te!==107)?(M.lastIntValue=te,M.advance(),!0):!1},pt.regexp_eatDecimalEscape=function(M){M.lastIntValue=0;var te=M.current();if(te>=49&&te<=57){do M.lastIntValue=10*M.lastIntValue+(te-48),M.advance();while((te=M.current())>=48&&te<=57);return!0}return!1},pt.regexp_eatCharacterClassEscape=function(M){var te=M.current();if(Qt(te))return M.lastIntValue=-1,M.advance(),!0;if(M.switchU&&this.options.ecmaVersion>=9&&(te===80||te===112)){if(M.lastIntValue=-1,M.advance(),M.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(M)&&M.eat(125))return!0;M.raise("Invalid property name")}return!1};function Qt(M){return M===100||M===68||M===115||M===83||M===119||M===87}pt.regexp_eatUnicodePropertyValueExpression=function(M){var te=M.pos;if(this.regexp_eatUnicodePropertyName(M)&&M.eat(61)){var Se=M.lastStringValue;if(this.regexp_eatUnicodePropertyValue(M)){var De=M.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(M,Se,De),!0}}if(M.pos=te,this.regexp_eatLoneUnicodePropertyNameOrValue(M)){var tt=M.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(M,tt),!0}return!1},pt.regexp_validateUnicodePropertyNameAndValue=function(M,te,Se){de(M.unicodeProperties.nonBinary,te)||M.raise("Invalid property name"),M.unicodeProperties.nonBinary[te].test(Se)||M.raise("Invalid property value")},pt.regexp_validateUnicodePropertyNameOrValue=function(M,te){M.unicodeProperties.binary.test(te)||M.raise("Invalid property name")},pt.regexp_eatUnicodePropertyName=function(M){var te=0;for(M.lastStringValue="";Kt(te=M.current());)M.lastStringValue+=Be(te),M.advance();return M.lastStringValue!==""};function Kt(M){return sr(M)||M===95}pt.regexp_eatUnicodePropertyValue=function(M){var te=0;for(M.lastStringValue="";ar(te=M.current());)M.lastStringValue+=Be(te),M.advance();return M.lastStringValue!==""};function ar(M){return Kt(M)||or(M)}pt.regexp_eatLoneUnicodePropertyNameOrValue=function(M){return this.regexp_eatUnicodePropertyValue(M)},pt.regexp_eatCharacterClass=function(M){if(M.eat(91)){if(M.eat(94),this.regexp_classRanges(M),M.eat(93))return!0;M.raise("Unterminated character class")}return!1},pt.regexp_classRanges=function(M){for(;this.regexp_eatClassAtom(M);){var te=M.lastIntValue;if(M.eat(45)&&this.regexp_eatClassAtom(M)){var Se=M.lastIntValue;M.switchU&&(te===-1||Se===-1)&&M.raise("Invalid character class"),te!==-1&&Se!==-1&&te>Se&&M.raise("Range out of order in character class")}}},pt.regexp_eatClassAtom=function(M){var te=M.pos;if(M.eat(92)){if(this.regexp_eatClassEscape(M))return!0;if(M.switchU){var Se=M.current();(Se===99||Lr(Se))&&M.raise("Invalid class escape"),M.raise("Invalid escape")}M.pos=te}var De=M.current();return De!==93?(M.lastIntValue=De,M.advance(),!0):!1},pt.regexp_eatClassEscape=function(M){var te=M.pos;if(M.eat(98))return M.lastIntValue=8,!0;if(M.switchU&&M.eat(45))return M.lastIntValue=45,!0;if(!M.switchU&&M.eat(99)){if(this.regexp_eatClassControlLetter(M))return!0;M.pos=te}return this.regexp_eatCharacterClassEscape(M)||this.regexp_eatCharacterEscape(M)},pt.regexp_eatClassControlLetter=function(M){var te=M.current();return or(te)||te===95?(M.lastIntValue=te%32,M.advance(),!0):!1},pt.regexp_eatHexEscapeSequence=function(M){var te=M.pos;if(M.eat(120)){if(this.regexp_eatFixedHexDigits(M,2))return!0;M.switchU&&M.raise("Invalid escape"),M.pos=te}return!1},pt.regexp_eatDecimalDigits=function(M){var te=M.pos,Se=0;for(M.lastIntValue=0;or(Se=M.current());)M.lastIntValue=10*M.lastIntValue+(Se-48),M.advance();return M.pos!==te};function or(M){return M>=48&&M<=57}pt.regexp_eatHexDigits=function(M){var te=M.pos,Se=0;for(M.lastIntValue=0;vr(Se=M.current());)M.lastIntValue=16*M.lastIntValue+Ir(Se),M.advance();return M.pos!==te};function vr(M){return M>=48&&M<=57||M>=65&&M<=70||M>=97&&M<=102}function Ir(M){return M>=65&&M<=70?10+(M-65):M>=97&&M<=102?10+(M-97):M-48}pt.regexp_eatLegacyOctalEscapeSequence=function(M){if(this.regexp_eatOctalDigit(M)){var te=M.lastIntValue;if(this.regexp_eatOctalDigit(M)){var Se=M.lastIntValue;te<=3&&this.regexp_eatOctalDigit(M)?M.lastIntValue=te*64+Se*8+M.lastIntValue:M.lastIntValue=te*8+Se}else M.lastIntValue=te;return!0}return!1},pt.regexp_eatOctalDigit=function(M){var te=M.current();return Lr(te)?(M.lastIntValue=te-48,M.advance(),!0):(M.lastIntValue=0,!1)};function Lr(M){return M>=48&&M<=55}pt.regexp_eatFixedHexDigits=function(M,te){var Se=M.pos;M.lastIntValue=0;for(var De=0;De<te;++De){var tt=M.current();if(!vr(tt))return M.pos=Se,!1;M.lastIntValue=16*M.lastIntValue+Ir(tt),M.advance()}return!0};var Ar=function(te){this.type=te.type,this.value=te.value,this.start=te.start,this.end=te.end,te.options.locations&&(this.loc=new Ke(te,te.startLoc,te.endLoc)),te.options.ranges&&(this.range=[te.start,te.end])},qt=i.prototype;qt.next=function(M){!M&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ar(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},qt.getToken=function(){return this.next(),new Ar(this)},typeof Symbol<"u"&&(qt[Symbol.iterator]=function(){var M=this;return{next:function(){var te=M.getToken();return{done:te.type===B.eof,value:te}}}}),qt.nextToken=function(){var M=this.curContext();if((!M||!M.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(B.eof);if(M.override)return M.override(this);this.readToken(this.fullCharCodeAtPos())},qt.readToken=function(M){return d(M,this.options.ecmaVersion>=6)||M===92?this.readWord():this.getTokenFromCode(M)},qt.fullCharCodeAtPos=function(){var M=this.input.charCodeAt(this.pos);if(M<=55295||M>=56320)return M;var te=this.input.charCodeAt(this.pos+1);return te<=56319||te>=57344?M:(M<<10)+te-56613888},qt.skipBlockComment=function(){var M=this.options.onComment&&this.curPosition(),te=this.pos,Se=this.input.indexOf("*/",this.pos+=2);if(Se===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Se+2,this.options.locations)for(var De=void 0,tt=te;(De=ge(this.input,tt,this.pos))>-1;)++this.curLine,tt=this.lineStart=De;this.options.onComment&&this.options.onComment(!0,this.input.slice(te+2,Se),te,this.pos,M,this.curPosition())},qt.skipLineComment=function(M){for(var te=this.pos,Se=this.options.onComment&&this.curPosition(),De=this.input.charCodeAt(this.pos+=M);this.pos<this.input.length&&!oe(De);)De=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(te+M,this.pos),te,this.pos,Se,this.curPosition())},qt.skipSpace=function(){e:for(;this.pos<this.input.length;){var M=this.input.charCodeAt(this.pos);switch(M){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(M>8&&M<14||M>=5760&&J.test(String.fromCharCode(M)))++this.pos;else break e}}},qt.finishToken=function(M,te){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Se=this.type;this.type=M,this.value=te,this.updateContext(Se)},qt.readToken_dot=function(){var M=this.input.charCodeAt(this.pos+1);if(M>=48&&M<=57)return this.readNumber(!0);var te=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&M===46&&te===46?(this.pos+=3,this.finishToken(B.ellipsis)):(++this.pos,this.finishToken(B.dot))},qt.readToken_slash=function(){var M=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):M===61?this.finishOp(B.assign,2):this.finishOp(B.slash,1)},qt.readToken_mult_modulo_exp=function(M){var te=this.input.charCodeAt(this.pos+1),Se=1,De=M===42?B.star:B.modulo;return this.options.ecmaVersion>=7&&M===42&&te===42&&(++Se,De=B.starstar,te=this.input.charCodeAt(this.pos+2)),te===61?this.finishOp(B.assign,Se+1):this.finishOp(De,Se)},qt.readToken_pipe_amp=function(M){var te=this.input.charCodeAt(this.pos+1);if(te===M){if(this.options.ecmaVersion>=12){var Se=this.input.charCodeAt(this.pos+2);if(Se===61)return this.finishOp(B.assign,3)}return this.finishOp(M===124?B.logicalOR:B.logicalAND,2)}return te===61?this.finishOp(B.assign,2):this.finishOp(M===124?B.bitwiseOR:B.bitwiseAND,1)},qt.readToken_caret=function(){var M=this.input.charCodeAt(this.pos+1);return M===61?this.finishOp(B.assign,2):this.finishOp(B.bitwiseXOR,1)},qt.readToken_plus_min=function(M){var te=this.input.charCodeAt(this.pos+1);return te===M?te===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||se.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(B.incDec,2):te===61?this.finishOp(B.assign,2):this.finishOp(B.plusMin,1)},qt.readToken_lt_gt=function(M){var te=this.input.charCodeAt(this.pos+1),Se=1;return te===M?(Se=M===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Se)===61?this.finishOp(B.assign,Se+1):this.finishOp(B.bitShift,Se)):te===33&&M===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(te===61&&(Se=2),this.finishOp(B.relational,Se))},qt.readToken_eq_excl=function(M){var te=this.input.charCodeAt(this.pos+1);return te===61?this.finishOp(B.equality,this.input.charCodeAt(this.pos+2)===61?3:2):M===61&&te===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(B.arrow)):this.finishOp(M===61?B.eq:B.prefix,1)},qt.readToken_question=function(){var M=this.options.ecmaVersion;if(M>=11){var te=this.input.charCodeAt(this.pos+1);if(te===46){var Se=this.input.charCodeAt(this.pos+2);if(Se<48||Se>57)return this.finishOp(B.questionDot,2)}if(te===63){if(M>=12){var De=this.input.charCodeAt(this.pos+2);if(De===61)return this.finishOp(B.assign,3)}return this.finishOp(B.coalesce,2)}}return this.finishOp(B.question,1)},qt.readToken_numberSign=function(){var M=this.options.ecmaVersion,te=35;if(M>=13&&(++this.pos,te=this.fullCharCodeAtPos(),d(te,!0)||te===92))return this.finishToken(B.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Be(te)+"'")},qt.getTokenFromCode=function(M){switch(M){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(B.parenL);case 41:return++this.pos,this.finishToken(B.parenR);case 59:return++this.pos,this.finishToken(B.semi);case 44:return++this.pos,this.finishToken(B.comma);case 91:return++this.pos,this.finishToken(B.bracketL);case 93:return++this.pos,this.finishToken(B.bracketR);case 123:return++this.pos,this.finishToken(B.braceL);case 125:return++this.pos,this.finishToken(B.braceR);case 58:return++this.pos,this.finishToken(B.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(B.backQuote);case 48:var te=this.input.charCodeAt(this.pos+1);if(te===120||te===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(te===111||te===79)return this.readRadixNumber(8);if(te===98||te===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(M);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(M);case 124:case 38:return this.readToken_pipe_amp(M);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(M);case 60:case 62:return this.readToken_lt_gt(M);case 61:case 33:return this.readToken_eq_excl(M);case 63:return this.readToken_question();case 126:return this.finishOp(B.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Be(M)+"'")},qt.finishOp=function(M,te){var Se=this.input.slice(this.pos,this.pos+te);return this.pos+=te,this.finishToken(M,Se)},qt.readRegexp=function(){for(var M,te,Se=this.pos;;){this.pos>=this.input.length&&this.raise(Se,"Unterminated regular expression");var De=this.input.charAt(this.pos);if(se.test(De)&&this.raise(Se,"Unterminated regular expression"),M)M=!1;else{if(De==="[")te=!0;else if(De==="]"&&te)te=!1;else if(De==="/"&&!te)break;M=De==="\\"}++this.pos}var tt=this.input.slice(Se,this.pos);++this.pos;var wt=this.pos,Mt=this.readWord1();this.containsEsc&&this.unexpected(wt);var Bt=this.regexpState||(this.regexpState=new Dt(this));Bt.reset(Se,tt,Mt),this.validateRegExpFlags(Bt),this.validateRegExpPattern(Bt);var Vt=null;try{Vt=new RegExp(tt,Mt)}catch{}return this.finishToken(B.regexp,{pattern:tt,flags:Mt,value:Vt})},qt.readInt=function(M,te,Se){for(var De=this.options.ecmaVersion>=12&&te===void 0,tt=Se&&this.input.charCodeAt(this.pos)===48,wt=this.pos,Mt=0,Bt=0,Vt=0,er=te==null?1/0:te;Vt<er;++Vt,++this.pos){var tr=this.input.charCodeAt(this.pos),Tr=void 0;if(De&&tr===95){tt&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Bt===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Vt===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Bt=tr;continue}if(tr>=97?Tr=tr-97+10:tr>=65?Tr=tr-65+10:tr>=48&&tr<=57?Tr=tr-48:Tr=1/0,Tr>=M)break;Bt=tr,Mt=Mt*M+Tr}return De&&Bt===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===wt||te!=null&&this.pos-wt!==te?null:Mt};function yr(M,te){return te?parseInt(M,8):parseFloat(M.replace(/_/g,""))}function kr(M){return typeof BigInt!="function"?null:BigInt(M.replace(/_/g,""))}qt.readRadixNumber=function(M){var te=this.pos;this.pos+=2;var Se=this.readInt(M);return Se==null&&this.raise(this.start+2,"Expected number in radix "+M),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Se=kr(this.input.slice(te,this.pos)),++this.pos):d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(B.num,Se)},qt.readNumber=function(M){var te=this.pos;!M&&this.readInt(10,void 0,!0)===null&&this.raise(te,"Invalid number");var Se=this.pos-te>=2&&this.input.charCodeAt(te)===48;Se&&this.strict&&this.raise(te,"Invalid number");var De=this.input.charCodeAt(this.pos);if(!Se&&!M&&this.options.ecmaVersion>=11&&De===110){var tt=kr(this.input.slice(te,this.pos));return++this.pos,d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(B.num,tt)}Se&&/[89]/.test(this.input.slice(te,this.pos))&&(Se=!1),De===46&&!Se&&(++this.pos,this.readInt(10),De=this.input.charCodeAt(this.pos)),(De===69||De===101)&&!Se&&(De=this.input.charCodeAt(++this.pos),(De===43||De===45)&&++this.pos,this.readInt(10)===null&&this.raise(te,"Invalid number")),d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var wt=yr(this.input.slice(te,this.pos),Se);return this.finishToken(B.num,wt)},qt.readCodePoint=function(){var M=this.input.charCodeAt(this.pos),te;if(M===123){this.options.ecmaVersion<6&&this.unexpected();var Se=++this.pos;te=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,te>1114111&&this.invalidStringToken(Se,"Code point out of bounds")}else te=this.readHexChar(4);return te},qt.readString=function(M){for(var te="",Se=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var De=this.input.charCodeAt(this.pos);if(De===M)break;De===92?(te+=this.input.slice(Se,this.pos),te+=this.readEscapedChar(!1),Se=this.pos):De===8232||De===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(oe(De)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return te+=this.input.slice(Se,this.pos++),this.finishToken(B.string,te)};var Dr={};qt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(M){if(M===Dr)this.readInvalidTemplateToken();else throw M}this.inTemplateElement=!1},qt.invalidStringToken=function(M,te){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Dr;this.raise(M,te)},qt.readTmplToken=function(){for(var M="",te=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Se=this.input.charCodeAt(this.pos);if(Se===96||Se===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===B.template||this.type===B.invalidTemplate)?Se===36?(this.pos+=2,this.finishToken(B.dollarBraceL)):(++this.pos,this.finishToken(B.backQuote)):(M+=this.input.slice(te,this.pos),this.finishToken(B.template,M));if(Se===92)M+=this.input.slice(te,this.pos),M+=this.readEscapedChar(!0),te=this.pos;else if(oe(Se)){switch(M+=this.input.slice(te,this.pos),++this.pos,Se){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:M+=`
`;break;default:M+=String.fromCharCode(Se);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),te=this.pos}else++this.pos}},qt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(B.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},qt.readEscapedChar=function(M){var te=this.input.charCodeAt(++this.pos);switch(++this.pos,te){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Be(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),M){var Se=this.pos-1;return this.invalidStringToken(Se,"Invalid escape sequence in template string"),null}default:if(te>=48&&te<=55){var De=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],tt=parseInt(De,8);return tt>255&&(De=De.slice(0,-1),tt=parseInt(De,8)),this.pos+=De.length-1,te=this.input.charCodeAt(this.pos),(De!=="0"||te===56||te===57)&&(this.strict||M)&&this.invalidStringToken(this.pos-1-De.length,M?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(tt)}return oe(te)?"":String.fromCharCode(te)}},qt.readHexChar=function(M){var te=this.pos,Se=this.readInt(16,M);return Se===null&&this.invalidStringToken(te,"Bad character escape sequence"),Se},qt.readWord1=function(){this.containsEsc=!1;for(var M="",te=!0,Se=this.pos,De=this.options.ecmaVersion>=6;this.pos<this.input.length;){var tt=this.fullCharCodeAtPos();if(_(tt,De))this.pos+=tt<=65535?1:2;else if(tt===92){this.containsEsc=!0,M+=this.input.slice(Se,this.pos);var wt=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Mt=this.readCodePoint();(te?d:_)(Mt,De)||this.invalidStringToken(wt,"Invalid Unicode escape"),M+=Be(Mt),Se=this.pos}else break;te=!1}return M+this.input.slice(Se,this.pos)},qt.readWord=function(){var M=this.readWord1(),te=B.name;return this.keywords.test(M)&&(te=V[M]),this.finishToken(te,M)};var Gr="8.8.0";i.acorn={Parser:i,version:Gr,defaultOptions:at,Position:ut,SourceLocation:Ke,getLineInfo:_t,Node:ie,TokenType:k,tokTypes:B,keywordTypes:V,TokContext:X,tokContexts:Y,isIdentifierChar:_,isIdentifierStart:d,Token:Ar,isNewLine:oe,lineBreak:se,lineBreakG:ne,nonASCIIwhitespace:J};function _n(M,te){return i.parse(M,te)}function Tn(M,te,Se){return i.parseExpressionAt(M,te,Se)}function Rn(M,te){return i.tokenizer(M,te)}C.Node=ie,C.Parser=i,C.Position=ut,C.SourceLocation=Ke,C.TokContext=X,C.Token=Ar,C.TokenType=k,C.defaultOptions=at,C.getLineInfo=_t,C.isIdentifierChar=_,C.isIdentifierStart=d,C.isNewLine=oe,C.keywordTypes=V,C.lineBreak=se,C.lineBreakG=ne,C.nonASCIIwhitespace=J,C.parse=_n,C.parseExpressionAt=Tn,C.tokContexts=Y,C.tokTypes=B,C.tokenizer=Rn,C.version=Gr,Object.defineProperty(C,"__esModule",{value:!0})})}(Ns,Ns.exports)),Ns.exports}/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(P){(function(n,C){n=n||Zs;var S=n.window,g=n.document,t=new function(){var e=/^(statics|enumerable|beans|preserve)$/,r=[],s=r.slice,h=Object.create,y=Object.getOwnPropertyDescriptor,v=Object.defineProperty,x=r.forEach||function(N,R){for(var X=0,Y=this.length;X<Y;X++)N.call(R,this[X],X,this)},b=function(N,R){for(var X in this)this.hasOwnProperty(X)&&N.call(R,this[X],X,this)},T=Object.assign||function(N){for(var R=1,X=arguments.length;R<X;R++){var Y=arguments[R];for(var K in Y)Y.hasOwnProperty(K)&&(N[K]=Y[K])}return N},O=function(N,R,X){if(N){var Y=y(N,"length");(Y&&typeof Y.value=="number"?x:b).call(N,R,X=X||N)}return X};function L(N,R,X,Y,K){var H={};function G(ie,pe){pe=pe||(pe=y(R,ie))&&(pe.get?pe:pe.value),typeof pe=="string"&&pe[0]==="#"&&(pe=N[pe.substring(1)]||pe);var ve=typeof pe=="function",xe=pe,Ce=K||ve&&!pe.base?pe&&pe.get?ie in N:N[ie]:null,be;(!K||!Ce)&&(ve&&Ce&&(pe.base=Ce),ve&&Y!==!1&&(be=ie.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(H[be[3].toLowerCase()+be[4]]=be[2]),(!xe||ve||!xe.get||typeof xe.get!="function"||!D.isPlainObject(xe))&&(xe={value:xe,writable:!0}),(y(N,ie)||{configurable:!0}).configurable&&(xe.configurable=!0,xe.enumerable=X!=null?X:!be),v(N,ie,xe))}if(R){for(var z in R)R.hasOwnProperty(z)&&!e.test(z)&&G(z);for(var z in H){var Z=H[z],ee=N["set"+Z],le=N["get"+Z]||ee&&N["is"+Z];le&&(Y===!0||le.length===0)&&G(z,{get:le,set:ee})}}return N}function D(){for(var N=0,R=arguments.length;N<R;N++){var X=arguments[N];X&&T(this,X)}return this}return L(D,{inject:function(N){if(N){var R=N.statics===!0?N:N.statics,X=N.beans,Y=N.preserve;R!==N&&L(this.prototype,N,N.enumerable,X,Y),L(this,R,null,X,Y)}for(var K=1,H=arguments.length;K<H;K++)this.inject(arguments[K]);return this},extend:function(){for(var N=this,R,X,Y=0,K,H=arguments.length;Y<H&&!(R&&X);Y++)K=arguments[Y],R=R||K.initialize,X=X||K.prototype;return R=R||function(){N.apply(this,arguments)},X=R.prototype=X||h(this.prototype),v(X,"constructor",{value:R,writable:!0,configurable:!0}),L(R,this),arguments.length&&this.inject.apply(R,arguments),R.base=N,R}}).inject({enumerable:!1,initialize:D,set:D,inject:function(){for(var N=0,R=arguments.length;N<R;N++){var X=arguments[N];X&&L(this,X,X.enumerable,X.beans,X.preserve)}return this},extend:function(){var N=h(this);return N.inject.apply(N,arguments)},each:function(N,R){return O(this,N,R)},clone:function(){return new this.constructor(this)},statics:{set:T,each:O,create:h,define:v,describe:y,clone:function(N){return T(new N.constructor,N)},isPlainObject:function(N){var R=N!=null&&N.constructor;return R&&(R===Object||R===D||R.name==="Object")},pick:function(N,R){return N!==C?N:R},slice:function(N,R,X){return s.call(N,R,X)}}})};P.exports=t,t.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+t.each(this,function(e,r){if(!/^_/.test(r)){var s=typeof e;this.push(r+": "+(s==="number"?u.instance.number(e):s==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return t.importJSON(e,this)},exportJSON:function(e){return t.exportJSON(this,e)},toJSON:function(){return t.serialize(this)},set:function(e,r){return e&&t.filter(this,e,r,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var r=e.base.apply(this,arguments),s=r.prototype._class;return s&&!t.exports[s]&&(t.exports[s]=r),r},equals:function(e,r){if(e===r)return!0;if(e&&e.equals)return e.equals(r);if(r&&r.equals)return r.equals(e);if(e&&r&&typeof e=="object"&&typeof r=="object"){if(Array.isArray(e)&&Array.isArray(r)){var s=e.length;if(s!==r.length)return!1;for(;s--;)if(!t.equals(e[s],r[s]))return!1}else{var h=Object.keys(e),s=h.length;if(s!==Object.keys(r).length)return!1;for(;s--;){var y=h[s];if(!(r.hasOwnProperty(y)&&t.equals(e[y],r[y])))return!1}}return!0}return!1},read:function(e,r,s,h){if(this===t){var y=this.peek(e,r);return e.__index++,y}var v=this.prototype,x=v._readIndex,b=r||x&&e.__index||0,T=e.length,O=e[b];if(h=h||T-b,O instanceof this||s&&s.readNull&&O==null&&h<=1)return x&&(e.__index=b+1),O&&s&&s.clone?O.clone():O;if(O=t.create(v),x&&(O.__read=!0),O=O.initialize.apply(O,b>0||b+h<T?t.slice(e,b,b+h):e)||O,x){e.__index=b+O.__read;var L=O.__filtered;L&&(e.__filtered=L,O.__filtered=C),O.__read=C}return O},peek:function(e,r){return e[e.__index=r||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,r,s,h){for(var y=[],v,x=r||0,b=h?x+h:e.length,T=x;T<b;T++)y.push(Array.isArray(v=e[T])?this.read(v,0,s):this.read(e,T,s,1));return y},readNamed:function(e,r,s,h,y){var v=this.getNamed(e,r),x=v!==C;if(x){var b=e.__filtered;if(!b){var T=this.getSource(e);b=e.__filtered=t.create(T),b.__unfiltered=T}b[r]=C}return this.read(x?[v]:e,s,h,y)},readSupported:function(e,r){var s=this.getSource(e),h=this,y=!1;return s&&Object.keys(s).forEach(function(v){if(v in r){var x=h.readNamed(e,v);x!==C&&(r[v]=x),y=!0}}),y},getSource:function(e){var r=e.__source;if(r===C){var s=e.length===1&&e[0];r=e.__source=s&&t.isPlainObject(s)?s:null}return r},getNamed:function(e,r){var s=this.getSource(e);if(s)return r?s[r]:e.__filtered||s},hasNamed:function(e,r){return!!this.getNamed(e,r)},filter:function(e,r,s,h){var y;function v(L){if(!(s&&L in s)&&!(y&&L in y)){var D=r[L];D!==C&&(e[L]=D)}}if(h){for(var x={},b=0,T,O=h.length;b<O;b++)(T=h[b])in r&&(v(T),x[T]=!0);y=x}return Object.keys(r.__unfiltered||r).forEach(v),e},isPlainValue:function(e,r){return t.isPlainObject(e)||Array.isArray(e)||r&&typeof e=="string"},serialize:function(e,r,s,h){r=r||{};var y=!h,v;if(y&&(r.formatter=new u(r.precision),h={length:0,definitions:{},references:{},add:function(D,N){var R="#"+D._id,X=this.references[R];if(!X){this.length++;var Y=N.call(D),K=D._class;K&&Y[0]!==K&&Y.unshift(K),this.definitions[R]=Y,X=this.references[R]=[R]}return X}}),e&&e._serialize){v=e._serialize(r,h);var x=e._class;x&&!e._compactSerialize&&(y||!s)&&v[0]!==x&&v.unshift(x)}else if(Array.isArray(e)){v=[];for(var b=0,T=e.length;b<T;b++)v[b]=t.serialize(e[b],r,s,h)}else if(t.isPlainObject(e)){v={};for(var O=Object.keys(e),b=0,T=O.length;b<T;b++){var L=O[b];v[L]=t.serialize(e[L],r,s,h)}}else typeof e=="number"?v=r.formatter.number(e,r.precision):v=e;return y&&h.length>0?[["dictionary",h.definitions],v]:v},deserialize:function(e,r,s,h,y){var v=e,x=!s,b=x&&e&&e.length&&e[0][0]==="dictionary";if(s=s||{},Array.isArray(e)){var T=e[0],O=T==="dictionary";if(e.length==1&&/^#/.test(T))return s.dictionary[T];T=t.exports[T],v=[];for(var L=T?1:0,D=e.length;L<D;L++)v.push(t.deserialize(e[L],r,s,O,b));if(T){var N=v;r?v=r(T,N,x||y):v=new T(N)}}else if(t.isPlainObject(e)){v={},h&&(s.dictionary=v);for(var R in e)v[R]=t.deserialize(e[R],r,s)}return b?v[1]:v},exportJSON:function(e,r){var s=t.serialize(e,r);return r&&r.asString==!1?s:JSON.stringify(s)},importJSON:function(e,r){return t.deserialize(typeof e=="string"?JSON.parse(e):e,function(s,h,y){var v=y&&r&&r.constructor===s,x=v?r:t.create(s.prototype);if(h.length===1&&x instanceof B&&(v||!(x instanceof ne))){var b=h[0];t.isPlainObject(b)&&(b.insert=!1,v&&(h=h.concat([{insert:!0}])))}return(v?x.set:s).apply(x,h),v&&(r=null),x})},push:function(e,r){var s=r.length;if(s<4096)e.push.apply(e,r);else{var h=e.length;e.length+=s;for(var y=0;y<s;y++)e[h+y]=r[y]}return e},splice:function(e,r,s,h){var y=r&&r.length,v=s===C;s=v?e.length:s,s>e.length&&(s=e.length);for(var x=0;x<y;x++)r[x]._index=s+x;if(v)return t.push(e,r),[];var b=[s,h];r&&t.push(b,r);for(var T=e.splice.apply(e,b),x=0,O=T.length;x<O;x++)T[x]._index=C;for(var x=s+y,O=e.length;x<O;x++)e[x]._index=x;return T},capitalize:function(e){return e.replace(/\b[a-z]/g,function(r){return r.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(r,s){return s.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var c={on:function(e,r){if(typeof e!="string")t.each(e,function(v,x){this.on(x,v)},this);else{var s=this._eventTypes,h=s&&s[e],y=this._callbacks=this._callbacks||{};y=y[e]=y[e]||[],y.indexOf(r)===-1&&(y.push(r),h&&h.install&&y.length===1&&h.install.call(this,e))}return this},off:function(e,r){if(typeof e!="string"){t.each(e,function(x,b){this.off(b,x)},this);return}var s=this._eventTypes,h=s&&s[e],y=this._callbacks&&this._callbacks[e],v;return y&&(!r||(v=y.indexOf(r))!==-1&&y.length===1?(h&&h.uninstall&&h.uninstall.call(this,e),delete this._callbacks[e]):v!==-1&&y.splice(v,1)),this},once:function(e,r){return this.on(e,function s(){r.apply(this,arguments),this.off(e,s)})},emit:function(e,r){var s=this._callbacks&&this._callbacks[e];if(!s)return!1;var h=t.slice(arguments,1),y=r&&r.target&&!r.currentTarget;s=s.slice(),y&&(r.currentTarget=this);for(var v=0,x=s.length;v<x;v++)if(s[v].apply(this,h)==!1){r&&r.stop&&r.stop();break}return y&&delete r.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var r=this._eventTypes,s=this._callbacks,h=e?"install":"uninstall";if(r){for(var y in s)if(s[y].length>0){var v=r[y],x=v&&v[h];x&&x.call(this,y)}}},statics:{inject:function e(r){var s=r._events;if(s){var h={};t.each(s,function(y,v){var x=typeof y=="string",b=x?y:v,T=t.capitalize(b),O=b.substring(2).toLowerCase();h[O]=x?{}:y,b="_"+b,r["get"+T]=function(){return this[b]},r["set"+T]=function(L){var D=this[b];D&&this.off(O,D),L&&this.on(O,L),this[b]=L}}),r._eventTypes=h}return e.base.apply(this,arguments)}}},f=t.extend({_class:"PaperScope",initialize:function e(){i=this,this.settings=new t({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var r=e.prototype;if(!this.support){var s=gt.getContext(1,1)||{};r.support={nativeDash:"setLineDash"in s||"mozDash"in s,nativeBlendModes:St.nativeModes},gt.release(s)}if(!this.agent){var h=n.navigator.userAgent.toLowerCase(),y=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(h)||[])[0],v=y==="darwin"?"mac":y,x=r.agent=r.browser={platform:v};v&&(x[v]=!0),h.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(b,T,O,L,D){if(!x.chrome){var N=T==="opera"?L:/^(node|trident)$/.test(T)?D:O;x.version=N,x.versionNumber=parseFloat(N),T={trident:"msie",jsdom:"node"}[T]||T,x.name=T,x[T]=!0}}),x.chrome&&delete x.webkit,x.atom&&delete x.chrome}},version:"0.12.15",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,r){var s=i.PaperScript.execute(e,this,r);return je.updateFocus(),s},install:function(e){var r=this;t.each(["project","view","tool"],function(h){t.define(e,h,{configurable:!0,get:function(){return r[h]}})});for(var s in this)!/^_/.test(s)&&this[s]&&(e[s]=this[s])},setup:function(e){return i=this,this.project=new $(e),this},createCanvas:function(e,r){return gt.getCanvas(e,r)},activate:function(){i=this},clear:function(){for(var e=this.projects,r=this.tools,s=e.length-1;s>=0;s--)e[s].remove();for(var s=r.length-1;s>=0;s--)r[s].remove()},remove:function(){this.clear(),delete f._scopes[this._id]},statics:new function(){function e(r){return r+="Attribute",function(s,h){return s[r](h)||s[r]("data-paper-"+h)}}return{_scopes:{},_id:0,get:function(r){return this._scopes[r]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),m=t.extend(c,{initialize:function(e){this._scope=i,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(t.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),p={findItemBoundsCollisions:function(e,r,s){function h(x){for(var b=new Array(x.length),T=0;T<x.length;T++){var O=x[T].getBounds();b[T]=[O.left,O.top,O.right,O.bottom]}return b}var y=h(e),v=!r||r===e?y:h(r);return this.findBoundsCollisions(y,v,s||0)},findCurveBoundsCollisions:function(e,r,s,h){function y(N){for(var R=Math.min,X=Math.max,Y=new Array(N.length),K=0;K<N.length;K++){var H=N[K];Y[K]=[R(H[0],H[2],H[4],H[6]),R(H[1],H[3],H[5],H[7]),X(H[0],H[2],H[4],H[6]),X(H[1],H[3],H[5],H[7])]}return Y}var v=y(e),x=!r||r===e?v:y(r);if(h){for(var b=this.findBoundsCollisions(v,x,s||0,!1,!0),T=this.findBoundsCollisions(v,x,s||0,!0,!0),O=[],L=0,D=b.length;L<D;L++)O[L]={hor:b[L],ver:T[L]};return O}return this.findBoundsCollisions(v,x,s||0)},findBoundsCollisions:function(e,r,s,h,y){var v=!r||e===r,x=v?e:e.concat(r),b=e.length,T=x.length;function O(Ye,ft,lt){for(var nt=0,Ze=Ye.length;nt<Ze;){var xt=Ze+nt>>>1;x[Ye[xt]][ft]<lt?nt=xt+1:Ze=xt}return nt-1}for(var L=h?1:0,D=L+2,N=h?0:1,R=N+2,X=new Array(T),Y=0;Y<T;Y++)X[Y]=Y;X.sort(function(Ye,ft){return x[Ye][L]-x[ft][L]});for(var K=[],H=new Array(b),Y=0;Y<T;Y++){var G=X[Y],z=x[G],Z=v?G:G-b,ee=G<b,le=v||!ee,ie=ee?[]:null;if(K.length){var pe=O(K,D,z[L]-s)+1;if(K.splice(0,pe),v&&y){ie=ie.concat(K);for(var ve=0;ve<K.length;ve++){var xe=K[ve];H[xe].push(Z)}}else for(var Ce=z[R],be=z[N],ve=0;ve<K.length;ve++){var xe=K[ve],Ee=x[xe],Ie=xe<b,Ue=v||xe>=b;(y||(ee&&Ue||le&&Ie)&&Ce>=Ee[N]-s&&be<=Ee[R]+s)&&(ee&&Ue&&ie.push(v?xe:xe-b),le&&Ie&&H[xe].push(Z))}}if(ee&&(e===r&&ie.push(G),H[G]=ie),K.length){var We=z[D],rt=O(K,D,We);K.splice(rt+1,0,G)}else K.push(G)}for(var Y=0;Y<H.length;Y++){var ke=H[Y];ke&&ke.sort(function(ft,lt){return ft-lt})}return H}},u=t.extend({initialize:function(e){this.precision=t.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,r,s){return this.number(e)+(s||",")+this.number(r)},point:function(e,r){return this.number(e.x)+(r||",")+this.number(e.y)},size:function(e,r){return this.number(e.width)+(r||",")+this.number(e.height)},rectangle:function(e,r){return this.point(e,r)+(r||",")+this.size(e,r)}});u.instance=new u;var a=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,h=Math.sqrt,y=Math.pow,v=Math.log2||function(D){return Math.log(D)*Math.LOG2E},x=1e-12,b=112e-18;function T(D,N,R){return D<N?N:D>R?R:D}function O(D,N,R){function X(pe){var ve=pe*134217729,xe=pe-ve,Ce=xe+ve,be=pe-Ce;return[Ce,be]}var Y=N*N-D*R,K=N*N+D*R;if(s(Y)*3<K){var H=X(D),G=X(N),z=X(R),Z=N*N,ee=G[0]*G[0]-Z+2*G[0]*G[1]+G[1]*G[1],le=D*R,ie=H[0]*z[0]-le+H[0]*z[1]+H[1]*z[0]+H[1]*z[1];Y=Z-le+(ee-ie)}return Y}function L(){var D=Math.max.apply(Math,arguments);return D&&(D<1e-8||D>1e8)?y(2,-Math.round(v(D))):0}return{EPSILON:x,MACHINE_EPSILON:b,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(h(2)-1)/3,isZero:function(D){return D>=-x&&D<=x},isMachineZero:function(D){return D>=-b&&D<=b},clamp:T,integrate:function(D,N,R,X){for(var Y=e[X-2],K=r[X-2],H=(R-N)*.5,G=H+N,z=0,Z=X+1>>1,ee=X&1?K[z++]*D(G):0;z<Z;){var le=H*Y[z];ee+=K[z++]*(D(G+le)+D(G-le))}return H*ee},findRoot:function(D,N,R,X,Y,K,H){for(var G=0;G<K;G++){var z=D(R),Z=z/N(R),ee=R-Z;if(s(Z)<H){R=ee;break}z>0?(Y=R,R=ee<=X?(X+Y)*.5:ee):(X=R,R=ee>=Y?(X+Y)*.5:ee)}return T(R,X,Y)},solveQuadratic:function(D,N,R,X,Y,K){var H,G=1/0;if(s(D)<x){if(s(N)<x)return s(R)<x?-1:0;H=-R/N}else{N*=-.5;var z=O(D,N,R);if(z&&s(z)<b){var Z=L(s(D),s(N),s(R));Z&&(D*=Z,N*=Z,R*=Z,z=O(D,N,R))}if(z>=-b){var ee=z<0?0:h(z),le=N+(N<0?-ee:ee);le===0?(H=R/D,G=-H):(H=le/D,G=R/le)}}var ie=0,pe=Y==null,ve=Y-x,xe=K+x;return isFinite(H)&&(pe||H>ve&&H<xe)&&(X[ie++]=pe?H:T(H,Y,K)),G!==H&&isFinite(G)&&(pe||G>ve&&G<xe)&&(X[ie++]=pe?G:T(G,Y,K)),ie},solveCubic:function(D,N,R,X,Y,K,H){var G=L(s(D),s(N),s(R),s(X)),z,Z,ee,le,ie;G&&(D*=G,N*=G,R*=G,X*=G);function pe(rt){z=rt;var ke=D*z;Z=ke+N,ee=Z*z+R,le=(ke+Z)*z+ee,ie=ee*z+X}if(s(D)<x)D=N,Z=R,ee=X,z=1/0;else if(s(X)<x)Z=N,ee=R,z=0;else{pe(-(N/D)/3);var ve=ie/D,xe=y(s(ve),1/3),Ce=ve<0?-1:1,be=-le/D,Ee=be>0?1.324717957244746*Math.max(xe,h(be)):xe,Ie=z-Ce*Ee;if(Ie!==z){do pe(Ie),Ie=le===0?z:z-ie/le/(1+b);while(Ce*Ie>Ce*z);s(D)*z*z>s(X/z)&&(ee=-X/z,Z=(ee-R)/z)}}var Ue=a.solveQuadratic(D,Z,ee,Y,K,H),We=K==null;return isFinite(z)&&(Ue===0||Ue>0&&z!==Y[0]&&z!==Y[1])&&(We||z>K-x&&z<H+x)&&(Y[Ue++]=We?z:T(z,K,H)),Ue}}},l={_id:1,_pools:{},get:function(e){if(e){var r=this._pools[e];return r||(r=this._pools[e]={_id:1}),r._id++}else return this._id++}},o=t.extend({_class:"Point",_readIndex:!0,initialize:function(r,s){var h=typeof r,y=this.__read,v=0;if(h==="number"){var x=typeof s=="number";this._set(r,x?s:r),y&&(v=x?2:1)}else if(h==="undefined"||r===null)this._set(0,0),y&&(v=r===null?1:0);else{var b=h==="string"?r.split(/[\s,]+/)||[]:r;v=1,Array.isArray(b)?this._set(+b[0],+(b.length>1?b[1]:b[0])):"x"in b?this._set(b.x||0,b.y||0):"width"in b?this._set(b.width||0,b.height||0):"angle"in b?(this._set(b.length||0,0),this.setAngle(b.angle||0)):(this._set(0,0),v=0)}return y&&(this.__read=v),this},set:"#initialize",_set:function(e,r){return this.x=e,this.y=r,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new o(this.x,this.y)},toString:function(){var e=u.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var r=e.formatter;return[r.number(this.x),r.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var r=this._angle||0;this._set(Math.cos(r)*e,Math.sin(r)*e)}else{var s=e/this.getLength();a.isZero(s)&&this.getAngle(),this._set(this.x*s,this.y*s)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=o.read(arguments),r=this.getLength()*e.getLength();if(a.isZero(r))return NaN;var s=this.dot(e)/r;return Math.acos(s<-1?-1:s>1?1:s)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var r=this.getLength();this._set(Math.cos(e)*r,Math.sin(e)*r)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=o.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,r=o.read(e),s=r.x-this.x,h=r.y-this.y,y=s*s+h*h,v=t.read(e);return v?y:Math.sqrt(y)},normalize:function(e){e===C&&(e=1);var r=this.getLength(),s=r!==0?e/r:0,h=new o(this.x*s,this.y*s);return s>=0&&(h._angle=this._angle),h},rotate:function(e,r){if(e===0)return this.clone();e=e*Math.PI/180;var s=r?this.subtract(r):this,h=Math.sin(e),y=Math.cos(e);return s=new o(s.x*y-s.y*h,s.x*h+s.y*y),r?s.add(r):s},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=o.read(arguments);return new o(this.x+e.x,this.y+e.y)},subtract:function(){var e=o.read(arguments);return new o(this.x-e.x,this.y-e.y)},multiply:function(){var e=o.read(arguments);return new o(this.x*e.x,this.y*e.y)},divide:function(){var e=o.read(arguments);return new o(this.x/e.x,this.y/e.y)},modulo:function(){var e=o.read(arguments);return new o(this.x%e.x,this.y%e.y)},negate:function(){return new o(-this.x,-this.y)},isInside:function(){return E.read(arguments).contains(this)},isClose:function(){var e=arguments,r=o.read(e),s=t.read(e);return this.getDistance(r)<=s},isCollinear:function(){var e=o.read(arguments);return o.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=o.read(arguments);return o.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=a.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=o.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=o.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=o.read(arguments),r=e.isZero()?0:this.dot(e)/e.dot(e);return new o(e.x*r,e.y*r)},statics:{min:function(){var e=arguments,r=o.read(e),s=o.read(e);return new o(Math.min(r.x,s.x),Math.min(r.y,s.y))},max:function(){var e=arguments,r=o.read(e),s=o.read(e);return new o(Math.max(r.x,s.x),Math.max(r.y,s.y))},random:function(){return new o(Math.random(),Math.random())},isCollinear:function(e,r,s,h){return Math.abs(e*h-r*s)<=Math.sqrt((e*e+r*r)*(s*s+h*h))*1e-8},isOrthogonal:function(e,r,s,h){return Math.abs(e*s+r*h)<=Math.sqrt((e*e+r*r)*(s*s+h*h))*1e-8}}},t.each(["round","ceil","floor","abs"],function(e){var r=Math[e];this[e]=function(){return new o(r(this.x),r(this.y))}},{})),d=o.extend({initialize:function(r,s,h,y){this._x=r,this._y=s,this._owner=h,this._setter=y},_set:function(e,r,s){return this._x=e,this._y=r,s||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),_=t.extend({_class:"Size",_readIndex:!0,initialize:function(r,s){var h=typeof r,y=this.__read,v=0;if(h==="number"){var x=typeof s=="number";this._set(r,x?s:r),y&&(v=x?2:1)}else if(h==="undefined"||r===null)this._set(0,0),y&&(v=r===null?1:0);else{var b=h==="string"?r.split(/[\s,]+/)||[]:r;v=1,Array.isArray(b)?this._set(+b[0],+(b.length>1?b[1]:b[0])):"width"in b?this._set(b.width||0,b.height||0):"x"in b?this._set(b.x||0,b.y||0):(this._set(0,0),v=0)}return y&&(this.__read=v),this},set:"#initialize",_set:function(e,r){return this.width=e,this.height=r,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new _(this.width,this.height)},toString:function(){var e=u.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var r=e.formatter;return[r.number(this.width),r.number(this.height)]},add:function(){var e=_.read(arguments);return new _(this.width+e.width,this.height+e.height)},subtract:function(){var e=_.read(arguments);return new _(this.width-e.width,this.height-e.height)},multiply:function(){var e=_.read(arguments);return new _(this.width*e.width,this.height*e.height)},divide:function(){var e=_.read(arguments);return new _(this.width/e.width,this.height/e.height)},modulo:function(){var e=_.read(arguments);return new _(this.width%e.width,this.height%e.height)},negate:function(){return new _(-this.width,-this.height)},isZero:function(){var e=a.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,r){return new _(Math.min(e.width,r.width),Math.min(e.height,r.height))},max:function(e,r){return new _(Math.max(e.width,r.width),Math.max(e.height,r.height))},random:function(){return new _(Math.random(),Math.random())}}},t.each(["round","ceil","floor","abs"],function(e){var r=Math[e];this[e]=function(){return new _(r(this.width),r(this.height))}},{})),k=_.extend({initialize:function(r,s,h,y){this._width=r,this._height=s,this._owner=h,this._setter=y},_set:function(e,r,s){return this._width=e,this._height=r,s||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),E=t.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(r,s,h,y){var v=arguments,x=typeof r,b;if(x==="number"?(this._set(r,s,h,y),b=4):x==="undefined"||r===null?(this._set(0,0,0,0),b=r===null?1:0):v.length===1&&(Array.isArray(r)?(this._set.apply(this,r),b=1):r.x!==C||r.width!==C?(this._set(r.x||0,r.y||0,r.width||0,r.height||0),b=1):r.from===C&&r.to===C&&(this._set(0,0,0,0),t.readSupported(v,this)&&(b=1))),b===C){var T=o.readNamed(v,"from"),O=t.peek(v),L=T.x,D=T.y,N,R;if(O&&O.x!==C||t.hasNamed(v,"to")){var X=o.readNamed(v,"to");N=X.x-L,R=X.y-D,N<0&&(L=X.x,N=-N),R<0&&(D=X.y,R=-R)}else{var Y=_.read(v);N=Y.width,R=Y.height}this._set(L,D,N,R),b=v.__index}var K=v.__filtered;return K&&(this.__filtered=K),this.__read&&(this.__read=b),this},set:"#initialize",_set:function(e,r,s,h){return this.x=e,this.y=r,this.width=s,this.height=h,this},clone:function(){return new E(this.x,this.y,this.width,this.height)},equals:function(e){var r=t.isPlainValue(e)?E.read(arguments):e;return r===this||r&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height||!1},toString:function(){var e=u.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var r=e.formatter;return[r.number(this.x),r.number(this.y),r.number(this.width),r.number(this.height)]},getPoint:function(e){var r=e?o:d;return new r(this.x,this.y,this,"setPoint")},setPoint:function(){var e=o.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var r=e?_:k;return new r(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=_.read(arguments),r=this._sx,s=this._sy,h=e.width,y=e.height;r&&(this.x+=(this.width-h)*r),s&&(this.y+=(this.height-y)*s),this.width=h,this.height=y,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var r=e-this.x;this.width-=this._sx===.5?r*2:r}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var r=e-this.y;this.height-=this._sy===.5?r*2:r}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var r=e-this.x;this.width=this._sx===.5?r*2:r}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var r=e-this.y;this.height=this._sy===.5?r*2:r}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var r=e?o:d;return new r(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=o.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==C||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(E.read(arguments)):this._containsPoint(o.read(arguments))},_containsPoint:function(e){var r=e.x,s=e.y;return r>=this.x&&s>=this.y&&r<=this.x+this.width&&s<=this.y+this.height},_containsRectangle:function(e){var r=e.x,s=e.y;return r>=this.x&&s>=this.y&&r+e.width<=this.x+this.width&&s+e.height<=this.y+this.height},intersects:function(){var e=E.read(arguments),r=t.read(arguments)||0;return e.x+e.width>this.x-r&&e.y+e.height>this.y-r&&e.x<this.x+this.width+r&&e.y<this.y+this.height+r},intersect:function(){var e=E.read(arguments),r=Math.max(this.x,e.x),s=Math.max(this.y,e.y),h=Math.min(this.x+this.width,e.x+e.width),y=Math.min(this.y+this.height,e.y+e.height);return new E(r,s,h-r,y-s)},unite:function(){var e=E.read(arguments),r=Math.min(this.x,e.x),s=Math.min(this.y,e.y),h=Math.max(this.x+this.width,e.x+e.width),y=Math.max(this.y+this.height,e.y+e.height);return new E(r,s,h-r,y-s)},include:function(){var e=o.read(arguments),r=Math.min(this.x,e.x),s=Math.min(this.y,e.y),h=Math.max(this.x+this.width,e.x),y=Math.max(this.y+this.height,e.y);return new E(r,s,h-r,y-s)},expand:function(){var e=_.read(arguments),r=e.width,s=e.height;return new E(this.x-r/2,this.y-s/2,this.width+r,this.height+s)},scale:function(e,r){return this.expand(this.width*e-this.width,this.height*(r===C?e:r)-this.height)}},t.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,r){var s=e.join(""),h=/^[RL]/.test(s);r>=4&&(e[1]+=h?"Y":"X");var y=e[h?0:1],v=e[h?1:0],x="get"+y,b="get"+v,T="set"+y,O="set"+v,L="get"+s,D="set"+s;this[L]=function(N){var R=N?o:d;return new R(this[x](),this[b](),this,D)},this[D]=function(){var N=o.read(arguments);this[T](N.x),this[O](N.y)}},{beans:!0})),I=E.extend({initialize:function(r,s,h,y,v,x){this._set(r,s,h,y,!0),this._owner=v,this._setter=x},_set:function(e,r,s,h,y){return this._x=e,this._y=r,this._width=s,this._height=h,y||this._owner[this._setter](this),this}},new function(){var e=E.prototype;return t.each(["x","y","width","height"],function(r){var s=t.capitalize(r),h="_"+r;this["get"+s]=function(){return this[h]},this["set"+s]=function(y){this[h]=y,this._dontNotify||this._owner[this._setter](this)}},t.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(r){var s="set"+r;this[s]=function(){this._dontNotify=!0,e[s].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(r){var s=this._owner;s._changeSelection&&s._changeSelection(2,r)}}))}),U=t.extend({_class:"Matrix",initialize:function e(r,s){var h=arguments,y=h.length,v=!0;if(y>=6?this._set.apply(this,h):y===1||y===2?r instanceof e?this._set(r._a,r._b,r._c,r._d,r._tx,r._ty,s):Array.isArray(r)?this._set.apply(this,s?r.concat([s]):r):v=!1:y?v=!1:this.reset(),!v)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,r,s,h,y,v,x){return this._a=e,this._b=r,this._c=s,this._d=h,this._tx=y,this._ty=v,x||this._changed(),this},_serialize:function(e,r){return t.serialize(this.getValues(),e,!0,r)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new U(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=u.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,r){var s=this._owner;return s?(s.transform(null,t.pick(e,!0),r),this.isIdentity()):!1},translate:function(){var e=o.read(arguments),r=e.x,s=e.y;return this._tx+=r*this._a+s*this._c,this._ty+=r*this._b+s*this._d,this._changed(),this},scale:function(){var e=arguments,r=o.read(e),s=o.read(e,0,{readNull:!0});return s&&this.translate(s),this._a*=r.x,this._b*=r.x,this._c*=r.y,this._d*=r.y,s&&this.translate(s.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var r=o.read(arguments,1),s=r.x,h=r.y,y=Math.cos(e),v=Math.sin(e),x=s-s*y+h*v,b=h-s*v-h*y,T=this._a,O=this._b,L=this._c,D=this._d;return this._a=y*T+v*L,this._b=y*O+v*D,this._c=-v*T+y*L,this._d=-v*O+y*D,this._tx+=x*T+b*L,this._ty+=x*O+b*D,this._changed(),this},shear:function(){var e=arguments,r=o.read(e),s=o.read(e,0,{readNull:!0});s&&this.translate(s);var h=this._a,y=this._b;return this._a+=r.y*this._c,this._b+=r.y*this._d,this._c+=r.x*h,this._d+=r.x*y,s&&this.translate(s.negate()),this._changed(),this},skew:function(){var e=arguments,r=o.read(e),s=o.read(e,0,{readNull:!0}),h=Math.PI/180,y=new o(Math.tan(r.x*h),Math.tan(r.y*h));return this.shear(y,s)},append:function(e,r){if(e){var s=this._a,h=this._b,y=this._c,v=this._d,x=e._a,b=e._c,T=e._b,O=e._d,L=e._tx,D=e._ty;this._a=x*s+T*y,this._c=b*s+O*y,this._b=x*h+T*v,this._d=b*h+O*v,this._tx+=L*s+D*y,this._ty+=L*h+D*v,r||this._changed()}return this},prepend:function(e,r){if(e){var s=this._a,h=this._b,y=this._c,v=this._d,x=this._tx,b=this._ty,T=e._a,O=e._c,L=e._b,D=e._d,N=e._tx,R=e._ty;this._a=T*s+O*h,this._c=T*y+O*v,this._b=L*s+D*h,this._d=L*y+D*v,this._tx=T*x+O*b+N,this._ty=L*x+D*b+R,r||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,r=this._b,s=this._c,h=this._d,y=this._tx,v=this._ty,x=e*h-r*s,b=null;return x&&!isNaN(x)&&isFinite(y)&&isFinite(v)&&(this._a=h/x,this._b=-r/x,this._c=-s/x,this._d=e/x,this._tx=(s*v-h*y)/x,this._ty=(r*y-e*v)/x,b=this),b},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new U(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,r,s){return arguments.length<3?this._transformPoint(o.read(arguments)):this._transformCoordinates(e,r,s)},_transformPoint:function(e,r,s){var h=e.x,y=e.y;return r||(r=new o),r._set(h*this._a+y*this._c+this._tx,h*this._b+y*this._d+this._ty,s)},_transformCoordinates:function(e,r,s){for(var h=0,y=2*s;h<y;h+=2){var v=e[h],x=e[h+1];r[h]=v*this._a+x*this._c+this._tx,r[h+1]=v*this._b+x*this._d+this._ty}return r},_transformCorners:function(e){var r=e.x,s=e.y,h=r+e.width,y=s+e.height,v=[r,s,h,s,h,y,r,y];return this._transformCoordinates(v,v,4)},_transformBounds:function(e,r,s){for(var h=this._transformCorners(e),y=h.slice(0,2),v=y.slice(),x=2;x<8;x++){var b=h[x],T=x&1;b<y[T]?y[T]=b:b>v[T]&&(v[T]=b)}return r||(r=new E),r._set(y[0],y[1],v[0]-y[0],v[1]-y[1],s)},inverseTransform:function(){return this._inverseTransform(o.read(arguments))},_inverseTransform:function(e,r,s){var h=this._a,y=this._b,v=this._c,x=this._d,b=this._tx,T=this._ty,O=h*x-y*v,L=null;if(O&&!isNaN(O)&&isFinite(b)&&isFinite(T)){var D=e.x-this._tx,N=e.y-this._ty;r||(r=new o),L=r._set((D*x-N*v)/O,(N*h-D*y)/O,s)}return L},decompose:function(){var e=this._a,r=this._b,s=this._c,h=this._d,y=e*h-r*s,v=Math.sqrt,x=Math.atan2,b=180/Math.PI,T,O,L;if(e!==0||r!==0){var D=v(e*e+r*r);T=Math.acos(e/D)*(r>0?1:-1),O=[D,y/D],L=[x(e*s+r*h,D*D),0]}else if(s!==0||h!==0){var N=v(s*s+h*h);T=Math.asin(s/N)*(h>0?1:-1),O=[y/N,N],L=[0,x(e*s+r*h,N*N)]}else T=0,L=O=[0,0];return{translation:this.getTranslation(),rotation:T*b,scaling:new o(O),skewing:new o(L[0]*b,L[1]*b)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new o(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},t.each(["a","b","c","d","tx","ty"],function(e){var r=t.capitalize(e),s="_"+e;this["get"+r]=function(){return this[s]},this["set"+r]=function(h){this[s]=h,this._changed()}},{})),V=t.extend({_class:"Line",initialize:function(r,s,h,y,v){var x=!1;arguments.length>=4?(this._px=r,this._py=s,this._vx=h,this._vy=y,x=v):(this._px=r.x,this._py=r.y,this._vx=s.x,this._vy=s.y,x=h),x||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new o(this._px,this._py)},getVector:function(){return new o(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,r){return V.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,r)},getSide:function(e,r){return V.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,r)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return V.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return o.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return o.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,r,s,h,y,v,x,b,T,O){T||(s-=e,h-=r,x-=y,b-=v);var L=s*b-h*x;if(!a.isMachineZero(L)){var D=e-y,N=r-v,R=(x*N-b*D)/L,X=(s*N-h*D)/L,Y=1e-12,K=-Y,H=1+Y;if(O||K<R&&R<H&&K<X&&X<H)return O||(R=R<=0?0:R>=1?1:R),new o(e+R*s,r+R*h)}},getSide:function(e,r,s,h,y,v,x,b){x||(s-=e,h-=r);var T=y-e,O=v-r,L=T*h-O*s;return!b&&a.isMachineZero(L)&&(L=(T*s+T*s)/(s*s+h*h),L>=0&&L<=1&&(L=0)),L<0?-1:L>0?1:0},getSignedDistance:function(e,r,s,h,y,v,x){return x||(s-=e,h-=r),s===0?h>0?y-e:e-y:h===0?s<0?v-r:r-v:((y-e)*h-(v-r)*s)/(h>s?h*Math.sqrt(1+s*s/(h*h)):s*Math.sqrt(1+h*h/(s*s)))},getDistance:function(e,r,s,h,y,v,x){return Math.abs(V.getSignedDistance(e,r,s,h,y,v,x))}}}),$=m.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(r){m.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Te(null,null,this),this._view=je.create(this,r||gt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,r){return t.serialize(this._children,e,!0,r)},_changed:function(e,r){if(e&1){var s=this._view;s&&(s._needsUpdate=!0,!s._requested&&s._autoUpdate&&s.requestUpdate())}var h=this._changes;if(h&&r){var y=this._changesById,v=r._id,x=y[v];x?x.flags|=e:h.push(y[v]={item:r,flags:e})}},clear:function(){for(var e=this._children,r=e.length-1;r>=0;r--)e[r].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new ne({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],r={};return this.getItems({class:J,match:function(s){var h=s._definition,y=h._id;return r[y]||(r[y]=!0,e.push(h)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,r=[];for(var s in e){var h=e[s],y=h._selection;y&1&&h.isInserted()?r.push(h):y||this._updateSelection(h)}return r},_updateSelection:function(e){var r=e._id,s=this._selectionItems;e._selection?s[r]!==e&&(this._selectionCount++,s[r]=e):s[r]===e&&(this._selectionCount--,delete s[r])},selectAll:function(){for(var e=this._children,r=0,s=e.length;r<s;r++)e[r].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var r in e)e[r].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(C,e)},insertLayer:function(e,r){if(r instanceof ne){r._remove(!1,!0),t.splice(this._children,[r],e,0),r._setProject(this,!0);var s=r._name;s&&r.setName(s),this._changes&&r._changed(5),this._activeLayer||(this._activeLayer=r)}else r=null;return r},_insertItem:function(e,r,s){return r=this.insertLayer(e,r)||(this._activeLayer||this._insertItem(C,new ne(B.NO_INSERT),!0)).insertChild(e,r),s&&r.activate&&r.activate(),r},getItems:function(e){return B._getItems(this,e)},getItem:function(e){return B._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var r=this._activeLayer;return t.importJSON(e,r&&r.isEmpty()&&r)},removeOn:function(e){var r=this._removeSets;if(r){e==="mouseup"&&(r.mousedrag=null);var s=r[e];if(s){for(var h in s){var y=s[h];for(var v in r){var x=r[v];x&&x!=s&&delete x[y._id]}y.remove()}r[e]=null}}},draw:function(e,r,s){this._updateVersion++,e.save(),r.applyToContext(e);for(var h=this._children,y=new t({offset:new o(0,0),pixelRatio:s,viewMatrix:r.isIdentity()?null:r,matrices:[new U],updateMatrix:!0}),v=0,x=h.length;v<x;v++)h[v].draw(e,y);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var b=this._selectionItems,T=this._scope.settings.handleSize,O=this._updateVersion;for(var L in b)b[L]._drawSelection(e,r,T,b,O);e.restore()}}}),B=t.extend(c,{statics:{extend:function e(r){return r._serializeFields&&(r._serializeFields=t.set({},this.prototype._serializeFields,r._serializeFields)),e.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new U,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return t.each(e,function(r){this._events[r]={install:function(s){this.getView()._countItemEvent(s,1)},uninstall:function(s){this.getView()._countItemEvent(s,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,r){var s=e&&t.isPlainObject(e),h=s&&e.internal===!0,y=this._matrix=new U,v=s&&e.project||i.project,x=i.settings;return this._id=h?null:l.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&x.applyMatrix,r&&y.translate(r),y._owner=this,this._style=new Te(v._currentStyle,this,v),h||s&&e.insert==!1||!x.insertItems&&!(s&&e.insert===!0)?this._setProject(v):(s&&e.parent||v)._insertItem(C,this,!0),s&&e!==B.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),s},_serialize:function(e,r){var s={},h=this;function y(v){for(var x in v){var b=h[x];t.equals(b,x==="leading"?v.fontSize*1.2:v[x])||(s[x]=t.serialize(b,e,x!=="data",r))}}return y(this._serializeFields),this instanceof se||y(this._style._defaults),[this._class,s]},_changed:function(e){var r=this._symbol,s=this._parent||r,h=this._project;e&8&&(this._bounds=this._position=this._decomposed=C),e&16&&(this._globalMatrix=C),s&&e&72&&B._clearBoundsCache(s),e&2&&B._clearBoundsCache(this),h&&h._changed(e,this),r&&r._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._getOwner();if(e&&r){var s=r._children,h=r._namedChildren;(h[e]=h[e]||[]).push(this),e in s||(s[e]=this)}this._name=e||C,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},t.each(["locked","visible","blendMode","opacity","guide"],function(e){var r=t.capitalize(e),s="_"+e,h={locked:256,visible:265};this["get"+r]=function(){return this[s]},this["set"+r]=function(y){y!=this[s]&&(this[s]=y,this._changed(h[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var r=this._project;r&&(r._updateSelection(this),this._changed(257))}},_changeSelection:function(e,r){var s=this._selection;this.setSelection(r?s|e:s&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,r=0,s=e.length;r<s;r++)if(e[r].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var r=this._children,s=0,h=r.length;s<h;s++)r[s].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,r=!!(this._selection&1);if(e&&r){for(var s=0,h=e.length;s<h;s++)if(!e[s].isFullySelected())return!1;return!0}return r},setFullySelected:function(e){var r=this._children;if(r)for(var s=0,h=r.length;s<h;s++)r[s].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var r=e?o:d,s=this._position||(this._position=this._getPositionFromBounds());return new r(s.x,s.y,this,"setPosition")},setPosition:function(){this.translate(o.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new d(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=o.read(arguments,0,{clone:!0,readNull:!0}),this._position=C}},t.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,r){this[r]=function(s){return this.getBounds(s,e)}},{beans:!0,getBounds:function(e,r){var s=r||e instanceof U,h=t.set({},s?r:e,this._boundsOptions);(!h.stroke||this.getStrokeScaling())&&(h.cacheItem=this);var y=this._getCachedBounds(s&&e,h).rect;return arguments.length?y:new I(y.x,y.y,y.width,y.height,this,"setBounds")},setBounds:function(){var e=E.read(arguments),r=this.getBounds(),s=this._matrix,h=new U,y=e.getCenter();h.translate(y),(e.width!=r.width||e.height!=r.height)&&(s.isInvertible()||(s.set(s._backup||new U().translate(s.getTranslation())),r=this.getBounds()),h.scale(r.width!==0?e.width/r.width:0,r.height!==0?e.height/r.height:0)),y=r.getCenter(),h.translate(-y.x,-y.y),this.transform(h)},_getBounds:function(e,r){var s=this._children;return!s||!s.length?new E:(B._updateBoundsCache(this,r.cacheItem),B._getBounds(s,e,r))},_getBoundsCacheKey:function(e,r){return[e.stroke?1:0,e.handle?1:0,r?1:0].join("")},_getCachedBounds:function(e,r,s){e=e&&e._orNullIfIdentity();var h=r.internal&&!s,y=r.cacheItem,v=h?null:this._matrix._orNullIfIdentity(),x=y&&(!e||e.equals(v))&&this._getBoundsCacheKey(r,h),b=this._bounds;if(B._updateBoundsCache(this._parent||this._symbol,y),x&&b&&x in b){var T=b[x];return{rect:T.rect.clone(),nonscaling:T.nonscaling}}var O=this._getBounds(e||v,r),L=O.rect||O,D=this._style,N=O.nonscaling||D.hasStroke()&&!D.getStrokeScaling();if(x){b||(this._bounds=b={});var T=b[x]={rect:L.clone(),nonscaling:N,internal:h}}return{rect:L,nonscaling:N}},_getStrokeMatrix:function(e,r){var s=this.getStrokeScaling()?null:r&&r.internal?this:this._parent||this._symbol&&this._symbol._item,h=s?s.getViewMatrix().invert():e;return h&&h._shiftless()},statics:{_updateBoundsCache:function(e,r){if(e&&r){var s=r._id,h=e._boundsCache=e._boundsCache||{ids:{},list:[]};h.ids[s]||(h.list.push(r),h.ids[s]=r)}},_clearBoundsCache:function(e){var r=e._boundsCache;if(r){e._bounds=e._position=e._boundsCache=C;for(var s=0,h=r.list,y=h.length;s<y;s++){var v=h[s];v!==e&&(v._bounds=v._position=C,v._boundsCache&&B._clearBoundsCache(v))}}},_getBounds:function(e,r,s){var h=1/0,y=-h,v=h,x=y,b=!1;s=s||{};for(var T=0,O=e.length;T<O;T++){var L=e[T];if(L._visible&&!L.isEmpty(!0)){var D=L._getCachedBounds(r&&r.appended(L._matrix),s,!0),N=D.rect;h=Math.min(N.x,h),v=Math.min(N.y,v),y=Math.max(N.x+N.width,y),x=Math.max(N.y+N.height,x),D.nonscaling&&(b=!0)}}return{rect:isFinite(h)?new E(h,v,y-h,x-v):new E,nonscaling:b}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var r=this.getRotation();if(r!=null&&e!=null){var s=this._decomposed;this.rotate(e-r),s&&(s.rotation=e,this._decomposed=s)}},getScaling:function(){var e=this._decompose(),r=e&&e.scaling;return new d(r?r.x:1,r?r.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),r=o.read(arguments,0,{clone:!0,readNull:!0});if(e&&r&&!e.equals(r)){var s=this.getRotation(),h=this._decomposed,y=new U,v=a.isZero;if(v(e.x)||v(e.y))y.translate(h.translation),s&&y.rotate(s),y.scale(r.x,r.y),this._matrix.set(y);else{var x=this.getPosition(!0);y.translate(x),s&&y.rotate(s),y.scale(r.x/e.x,r.y/e.y),s&&y.rotate(-s),y.translate(x.negate()),this.transform(y)}h&&(h.scaling=r,this._decomposed=h)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var r=this._globalMatrix;if(r)for(var s=this._parent,h=[];s;){if(!s._globalMatrix){r=null;for(var y=0,v=h.length;y<v;y++)h[y]._globalMatrix=null;break}h.push(s),s=s._parent}if(!r){r=this._globalMatrix=this._matrix.clone();var s=this._parent;s&&r.prepend(s.getGlobalMatrix(!0))}return e?r:r.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,r){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var s=this._children,h=0,y=s&&s.length;h<y;h++)s[h]._setProject(e);r=!0}r&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(r){e.base.call(this,r);for(var s=this._children,h=0,y=s&&s.length;h<y;h++)s[h]._installEvents(r)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof ne)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return t.equals(this._children,e._children)},clone:function(e){var r=new this.constructor(B.NO_INSERT),s=this._children,h=t.pick(e?e.insert:C,e===C||e===!0),y=t.pick(e?e.deep:C,!0);s&&r.copyAttributes(this),(!s||y)&&r.copyContent(this),s||r.copyAttributes(this),h&&r.insertAbove(this);var v=this._name,x=this._parent;if(v&&x){for(var s=x._children,b=v,T=1;s[v];)v=b+" "+T++;v!==b&&r.setName(v)}return r},copyContent:function(e){for(var r=e._children,s=0,h=r&&r.length;s<h;s++)this.addChild(r[s].clone(!1),!0)},copyAttributes:function(e,r){this.setStyle(e._style);for(var s=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],h=0,y=s.length;h<y;h++){var v=s[h];e.hasOwnProperty(v)&&(this[v]=e[v])}r||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var x=e._data,b=e._name;this._data=x?t.clone(x):null,b&&this.setName(b)},rasterize:function(e,r){var s,h,y;t.isPlainObject(e)?(s=e.resolution,h=e.insert,y=e.raster):(s=e,h=r),y?y.matrix.reset(!0):y=new ge(B.NO_INSERT);var v=this.getStrokeBounds(),x=(s||this.getView().getResolution())/72,b=v.getTopLeft().floor(),T=v.getBottomRight().ceil(),O=new _(T.subtract(b)),L=O.multiply(x);if(y.setSize(L,!0),!L.isZero()){var D=y.getContext(!0),N=new U().scale(x).translate(b.negate());D.save(),N.applyToContext(D),this.draw(D,new t({matrices:[N]})),D.restore()}return y.transform(new U().translate(b.add(O.divide(2))).scale(1/x)),(h===C||h)&&y.insertAbove(this),y},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(o.read(arguments)))},_contains:function(e){var r=this._children;if(r){for(var s=r.length-1;s>=0;s--)if(r[s].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return E.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Be.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,r){return e instanceof B?this._asPathItem().getIntersections(e._asPathItem(),null,r,!0).length>0:!1}},new function(){function e(){var h=arguments;return this._hitTest(o.read(h),he.getOptions(h))}function r(){var h=arguments,y=o.read(h),v=he.getOptions(h),x=[];return this._hitTest(y,new t({all:x},v)),x}function s(h,y,v,x){var b=this._children;if(b)for(var T=b.length-1;T>=0;T--){var O=b[T],L=O!==x&&O._hitTest(h,y,v);if(L&&!y.all)return L}return null}return $.inject({hitTest:e,hitTestAll:r,_hitTest:s}),{hitTest:e,hitTestAll:r,_hitTestChildren:s}},{_hitTest:function(e,r,s){if(this._locked||!this._visible||this._guide&&!r.guides||this.isEmpty())return null;var h=this._matrix,y=s?s.appended(h):this.getGlobalMatrix().prepend(this.getView()._matrix),v=Math.max(r.tolerance,1e-12),x=r._tolerancePadding=new _(Be._getStrokePadding(v,h._shiftless().invert()));if(e=h._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(x.multiply(2))._containsPoint(e))return null;var b=!(r.guides&&!this._guide||r.selected&&!this.isSelected()||r.type&&r.type!==t.hyphenate(this._class)||r.class&&!(this instanceof r.class)),T=r.match,O=this,L,D;function N(z){return z&&T&&!T(z)&&(z=null),z&&r.all&&r.all.push(z),z}function R(z,Z){var ee=Z?L["get"+Z]():O.getPosition();if(e.subtract(ee).divide(x).length<=1)return new he(z,O,{name:Z?t.hyphenate(Z):z,point:ee})}var X=r.position,Y=r.center,K=r.bounds;if(b&&this._parent&&(X||Y||K)){if((Y||K)&&(L=this.getInternalBounds()),D=X&&R("position")||Y&&R("center","Center"),!D&&K)for(var H=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],G=0;G<8&&!D;G++)D=R("bounds",H[G]);D=N(D)}return D||(D=this._hitTestChildren(e,r,y)||b&&N(this._hitTestSelf(e,r,y,this.getStrokeScaling()?null:y._shiftless().invert()))||null),D&&D.point&&(D.point=h.transform(D.point)),D},_hitTestSelf:function(e,r){if(r.fill&&this.hasFill()&&this._contains(e))return new he("fill",this)},matches:function(e,r){function s(x,b){for(var T in x)if(x.hasOwnProperty(T)){var O=x[T],L=b[T];if(t.isPlainObject(O)&&t.isPlainObject(L)){if(!s(O,L))return!1}else if(!t.equals(O,L))return!1}return!0}var h=typeof e;if(h==="object"){for(var y in e)if(e.hasOwnProperty(y)&&!this.matches(y,e[y]))return!1;return!0}else{if(h==="function")return e(this);if(e==="match")return r(this);var v=/^(empty|editable)$/.test(e)?this["is"+t.capitalize(e)]():e==="type"?t.hyphenate(this._class):this[e];if(e==="class"){if(typeof r=="function")return this instanceof r;v=this._class}if(typeof r=="function")return!!r(v);if(r){if(r.test)return r.test(v);if(t.isPlainObject(r))return s(r,v)}return t.equals(v,r)}},getItems:function(e){return B._getItems(this,e,this._matrix)},getItem:function(e){return B._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(r,s,h,y,v){if(!y){var x=typeof s=="object"&&s,b=x&&x.overlapping,T=x&&x.inside,O=b||T,N=O&&E.read([O]);y={items:[],recursive:x&&x.recursive!==!1,inside:!!T,overlapping:!!b,rect:N,path:b&&new Be.Rectangle({rectangle:N,insert:!1})},x&&(s=t.filter({},s,{recursive:!0,inside:!0,overlapping:!0}))}var L=r._children,D=y.items,N=y.rect;h=N&&(h||new U);for(var R=0,X=L&&L.length;R<X;R++){var Y=L[R],K=h&&h.appended(Y._matrix),H=!0;if(N){var O=Y.getBounds(K);if(!N.intersects(O))continue;N.contains(O)||y.overlapping&&(O.contains(N)||y.path.intersects(Y,K))||(H=!1)}if(H&&Y.matches(s)&&(D.push(Y),v)||(y.recursive!==!1&&e(Y,s,K,y,v),v&&D.length>0))break}return D}}},{importJSON:function(e){var r=t.importJSON(e,this);return r!==this?this.addChild(r):r},addChild:function(e){return this.insertChild(C,e)},insertChild:function(e,r){var s=r?this.insertChildren(e,[r]):null;return s&&s[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,r){var s=this._children;if(s&&r&&r.length>0){r=t.slice(r);for(var h={},y=r.length-1;y>=0;y--){var v=r[y],x=v&&v._id;!v||h[x]?r.splice(y,1):(v._remove(!1,!0),h[x]=!0)}t.splice(s,r,e,0);for(var b=this._project,T=b._changes,y=0,O=r.length;y<O;y++){var v=r[y],L=v._name;v._parent=this,v._setProject(b,!0),L&&v.setName(L),T&&v._changed(5)}this._changed(11)}else r=null;return r},_insertItem:"#insertChild",_insertAt:function(e,r){var s=e&&e._getOwner(),h=e!==this&&s?this:null;return h&&(h._remove(!1,!0),s._insertItem(e._index+r,h)),h},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(C,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(C,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var r=this._children;if(r&&r.length===1){var s=r[0].reduce(e);return this._parent?(s.insertAbove(this),this.remove()):s.remove(),s}return this},_removeNamed:function(){var e=this._getOwner();if(e){var r=e._children,s=e._namedChildren,h=this._name,y=s[h],v=y?y.indexOf(this):-1;v!==-1&&(r[h]==this&&delete r[h],y.splice(v,1),y.length?r[h]=y[0]:delete s[h])}},_remove:function(e,r){var s=this._getOwner(),h=this._project,y=this._index;return this._style&&this._style._dispose(),s?(this._name&&this._removeNamed(),y!=null&&(h._activeLayer===this&&(h._activeLayer=this.getNextSibling()||this.getPreviousSibling()),t.splice(s._children,null,y,1)),this._installEvents(!1),e&&h._changes&&this._changed(5),r&&s._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var r=e&&e.insertBelow(this);return r&&this.remove(),r},removeChildren:function(e,r){if(!this._children)return null;e=e||0,r=t.pick(r,this._children.length);for(var s=t.splice(this._children,null,e,r-e),h=s.length-1;h>=0;h--)s[h]._remove(!0,!1);return s.length>0&&this._changed(11),s},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,r=this._children.length;e<r;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var r=this._children,s=r?r.length:0;if(e){for(var h=0;h<s;h++)if(!r[h].isEmpty(e))return!1;return!0}return!s},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function r(x){var b=[];do b.unshift(x);while(x=x._parent);return b}for(var s=r(this),h=r(e),y=0,v=Math.min(s.length,h.length);y<v;y++)if(s[y]!=h[y])return s[y]._index<h[y]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var r=this;r=r._parent;)if(r===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var r=this._parent;r;){if(r._parent&&/^(Group|Layer|CompoundPath)$/.test(r._class)&&e.isDescendant(r))return!0;r=r._parent}return!1}},t.each(["rotate","scale","shear","skew"],function(e){var r=e==="rotate";this[e]=function(){var s=arguments,h=(r?t:o).read(s),y=o.read(s,0,{readNull:!0});return this.transform(new U()[e](h,y||this.getPosition(!0)))}},{translate:function(){var e=new U;return this.transform(e.translate.apply(e,arguments))},transform:function(e,r,s){var h=this._matrix,y=e&&!e.isIdentity(),v=s&&this._canApplyMatrix||this._applyMatrix&&(y||!h.isIdentity()||r&&this._children);if(!y&&!v)return this;if(y){!e.isInvertible()&&h.isInvertible()&&(h._backup=h.getValues()),h.prepend(e,!0);var x=this._style,b=x.getFillColor(!0),T=x.getStrokeColor(!0);b&&b.transform(e),T&&T.transform(e)}if(v&&(v=this._transformContent(h,r,s))){var O=this._pivot;O&&h._transformPoint(O,O,!0),h.reset(!0),s&&this._canApplyMatrix&&(this._applyMatrix=!0)}var L=this._bounds,D=this._position;(y||v)&&this._changed(25);var N=y&&L&&e.decompose();if(N&&N.skewing.isZero()&&N.rotation%90===0){for(var R in L){var X=L[R];if(X.nonscaling)delete L[R];else if(v||!X.internal){var Y=X.rect;e._transformBounds(Y,Y)}}this._bounds=L;var K=L[this._getBoundsCacheKey(this._boundsOptions||{})];K&&(this._position=this._getPositionFromBounds(K.rect))}else y&&D&&this._pivot&&(this._position=e._transformPoint(D,D));return this},_transformContent:function(e,r,s){var h=this._children;if(h){for(var y=0,v=h.length;y<v;y++)h[y].transform(e,r,s);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(o.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(o.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(o.read(arguments))},localToParent:function(){return this._matrix._transformPoint(o.read(arguments))},fitBounds:function(e,r){e=E.read(arguments);var s=this.getBounds(),h=s.height/s.width,y=e.height/e.width,v=(r?h>y:h<y)?e.width/s.width:e.height/s.height,x=new E(new o,new _(s.width*v,s.height*v));x.setCenter(e.getCenter()),this.setBounds(x)}}),{_setStyles:function(e,r,s){var h=this._style,y=this._matrix;if(h.hasFill()&&(e.fillStyle=h.getFillColor().toCanvasStyle(e,y)),h.hasStroke()){e.strokeStyle=h.getStrokeColor().toCanvasStyle(e,y),e.lineWidth=h.getStrokeWidth();var v=h.getStrokeJoin(),x=h.getStrokeCap(),b=h.getMiterLimit();if(v&&(e.lineJoin=v),x&&(e.lineCap=x),b&&(e.miterLimit=b),i.support.nativeDash){var T=h.getDashArray(),O=h.getDashOffset();T&&T.length&&("setLineDash"in e?(e.setLineDash(T),e.lineDashOffset=O):(e.mozDash=T,e.mozDashOffset=O))}}if(h.hasShadow()){var L=r.pixelRatio||1,D=s._shiftless().prepend(new U().scale(L,L)),N=D.transform(new o(h.getShadowBlur(),0)),R=D.transform(this.getShadowOffset());e.shadowColor=h.getShadowColor().toCanvasStyle(e),e.shadowBlur=N.getLength(),e.shadowOffsetX=R.x,e.shadowOffsetY=R.y}},draw:function(e,r,s){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var h=r.matrices,y=r.viewMatrix,v=this._matrix,x=h[h.length-1].appended(v);if(!!x.isInvertible()){y=y?y.appended(x):x,h.push(x),r.updateMatrix&&(this._globalMatrix=x);var b=this._blendMode,T=a.clamp(this._opacity,0,1),O=b==="normal",L=St.nativeModes[b],D=O&&T===1||r.dontStart||r.clip||(L||O&&T<1)&&this._canComposite(),N=r.pixelRatio||1,R,X,Y;if(!D){var K=this.getStrokeBounds(y);if(!K.width||!K.height){h.pop();return}Y=r.offset,X=r.offset=K.getTopLeft().floor(),R=e,e=gt.getContext(K.getSize().ceil().add(1).multiply(N)),N!==1&&e.scale(N,N)}e.save();var H=s?s.appended(v):this._canScaleStroke&&!this.getStrokeScaling(!0)&&y,G=!D&&r.clipItem,z=!H||G;if(D?(e.globalAlpha=T,L&&(e.globalCompositeOperation=b)):z&&e.translate(-X.x,-X.y),z&&(D?v:y).applyToContext(e),G&&r.clipItem.draw(e,r.extend({clip:!0})),H){e.setTransform(N,0,0,N,0,0);var Z=r.offset;Z&&e.translate(-Z.x,-Z.y)}this._draw(e,r,y,H),e.restore(),h.pop(),r.clip&&!r.dontFinish&&e.clip(this.getFillRule()),D||(St.process(b,e,R,T,X.subtract(Y).multiply(N)),gt.release(e),r.offset=Y)}}},_isUpdated:function(e){var r=this._parent;if(r instanceof $e)return r._isUpdated(e);var s=this._updateVersion===e;return!s&&r&&r._visible&&r._isUpdated(e)&&(this._updateVersion=e,s=!0),s},_drawSelection:function(e,r,s,h,y){var v=this._selection,x=v&1,b=v&2||x&&this._selectBounds,T=v&4;if(this._drawSelected||(x=!1),(x||b||T)&&this._isUpdated(y)){var O,L=this.getSelectedColor(!0)||(O=this.getLayer())&&O.getSelectedColor(!0),D=r.appended(this.getGlobalMatrix(!0)),N=s/2;if(e.strokeStyle=e.fillStyle=L?L.toCanvasStyle(e):"#009dec",x&&this._drawSelected(e,D,h),T){var R=this.getPosition(!0),X=this._parent,Y=X?X.localToGlobal(R):R,K=Y.x,H=Y.y;e.beginPath(),e.arc(K,H,N,0,Math.PI*2,!0),e.stroke();for(var G=[[0,-1],[1,0],[0,1],[-1,0]],z=N,Z=s+1,ee=0;ee<4;ee++){var le=G[ee],ie=le[0],pe=le[1];e.moveTo(K+ie*z,H+pe*z),e.lineTo(K+ie*Z,H+pe*Z),e.stroke()}}if(b){var ve=D._transformCorners(this.getInternalBounds());e.beginPath();for(var ee=0;ee<8;ee++)e[ee?"lineTo":"moveTo"](ve[ee],ve[++ee]);e.closePath(),e.stroke();for(var ee=0;ee<8;ee++)e.fillRect(ve[ee]-N,ve[++ee]-N,s,s)}}},_canComposite:function(){return!1}},t.each(["down","drag","up","move"],function(e){this["removeOn"+t.capitalize(e)]=function(){var r={};return r[e]=!0,this.removeOn(r)}},{removeOn:function(e){for(var r in e)if(e[r]){var s="mouse"+r,h=this._project,y=h._removeSets=h._removeSets||{};y[s]=y[s]||{},y[s][this._id]=this}return this}}),{tween:function(e,r,s){s||(s=r,r=e,e=null,s||(s=r,r=null));var h=s&&s.easing,y=s&&s.start,v=s!=null&&(typeof s=="number"?s:s.duration),x=new it(this,e,r,v,h,y);function b(T){x._handleFrame(T.time*1e3),x.running||this.off("frame",b)}return v&&this.on("frame",b),x},tweenTo:function(e,r){return this.tween(null,e,r)},tweenFrom:function(e,r){return this.tween(e,null,r)}}),se=B.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||this.addChildren(Array.isArray(r)?r:arguments)},_changed:function e(r){e.base.call(this,r),r&2050&&(this._clipItem=C)},_getClipItem:function(){var e=this._clipItem;if(e===C){e=null;for(var r=this._children,s=0,h=r.length;s<h;s++)if(r[s]._clipMask){e=r[s];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var r=this.getFirstChild();r&&r.setClipMask(e)},_getBounds:function e(r,s){var h=this._getClipItem();return h?h._getCachedBounds(h._matrix.prepended(r),t.set({},s,{stroke:!1})):e.base.call(this,r,s)},_hitTestChildren:function e(r,s,h){var y=this._getClipItem();return(!y||y.contains(r))&&e.base.call(this,r,s,h,y)},_draw:function(e,r){var s=r.clip,h=!s&&this._getClipItem();r=r.extend({clipItem:h,clip:!1}),s?(e.beginPath(),r.dontStart=r.dontFinish=!0):h&&h.draw(e,r.extend({clip:!0}));for(var y=this._children,v=0,x=y.length;v<x;v++){var b=y[v];b!==h&&b.draw(e,r)}}}),ne=se.extend({_class:"Layer",initialize:function(){se.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),oe=B.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(r,s){this._initialize(r,s)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&t.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new k(e.width,e.height,this,"setSize")},setSize:function(){var e=_.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var r=this._type,s=e.width,h=e.height;r==="rectangle"?this._radius.set(_.min(this._radius,e.divide(2).abs())):r==="circle"?(s=h=(s+h)/2,this._radius=s/2):r==="ellipse"&&this._radius._set(s/2,h/2),this._size._set(s,h),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new k(e.width,e.height,this,"setRadius")},setRadius:function(e){var r=this._type;if(r==="circle"){if(e===this._radius)return;var s=e*2;this._radius=e,this._size._set(s,s)}else if(e=_.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),r==="rectangle"){var s=_.max(this._size,e.multiply(2));this._size.set(s)}else r==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var r=new Be[t.capitalize(this._type)]({center:new o,size:this._size,radius:this._radius,insert:!1});return r.copyAttributes(this),i.settings.applyMatrix&&r.setApplyMatrix(!0),(e===C||e)&&r.insertAbove(this),r},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,r,s,h){var y=this._style,v=y.hasFill(),x=y.hasStroke(),b=r.dontFinish||r.clip,T=!h;if(v||x||b){var O=this._type,L=this._radius,D=O==="circle";if(r.dontStart||e.beginPath(),T&&D)e.arc(0,0,L,0,Math.PI*2,!0);else{var N=D?L:L.width,R=D?L:L.height,X=this._size,Y=X.width,K=X.height;if(T&&O==="rectangle"&&N===0&&R===0)e.rect(-Y/2,-K/2,Y,K);else{var H=Y/2,G=K/2,z=1-.5522847498307936,Z=N*z,ee=R*z,le=[-H,-G+R,-H,-G+ee,-H+Z,-G,-H+N,-G,H-N,-G,H-Z,-G,H,-G+ee,H,-G+R,H,G-R,H,G-ee,H-Z,G,H-N,G,-H+N,G,-H+Z,G,-H,G-ee,-H,G-R];h&&h.transform(le,le,32),e.moveTo(le[0],le[1]),e.bezierCurveTo(le[2],le[3],le[4],le[5],le[6],le[7]),H!==N&&e.lineTo(le[8],le[9]),e.bezierCurveTo(le[10],le[11],le[12],le[13],le[14],le[15]),G!==R&&e.lineTo(le[16],le[17]),e.bezierCurveTo(le[18],le[19],le[20],le[21],le[22],le[23]),H!==N&&e.lineTo(le[24],le[25]),e.bezierCurveTo(le[26],le[27],le[28],le[29],le[30],le[31])}}e.closePath()}!b&&(v||x)&&(this._setStyles(e,r,s),v&&(e.fill(y.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),x&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,r){var s=new E(this._size).setCenter(0,0),h=this._style,y=r.stroke&&h.hasStroke()&&h.getStrokeWidth();return e&&(s=e._transformBounds(s)),y?s.expand(Be._getStrokePadding(y,this._getStrokeMatrix(e,r))):s}},new function(){function e(s,h,y){var v=s._radius;if(!v.isZero())for(var x=s._size.divide(2),b=1;b<=4;b++){var T=new o(b>1&&b<4?-1:1,b>2?-1:1),O=T.multiply(x),L=O.subtract(T.multiply(v)),D=new E(y?O.add(T.multiply(y)):O,L);if(D.contains(h))return{point:L,quadrant:b}}}function r(s,h,y,v){var x=s.divide(h);return(!v||x.isInQuadrant(v))&&x.subtract(x.normalize()).multiply(h).divide(y).length<=1}return{_contains:function s(h){if(this._type==="rectangle"){var y=e(this,h);return y?h.subtract(y.point).divide(this._radius).getLength()<=1:s.base.call(this,h)}else return h.divide(this.size).getLength()<=.5},_hitTestSelf:function s(h,y,v,x){var b=!1,T=this._style,O=y.stroke&&T.hasStroke(),L=y.fill&&T.hasFill();if(O||L){var D=this._type,N=this._radius,R=O?T.getStrokeWidth()/2:0,X=y._tolerancePadding.add(Be._getStrokePadding(R,!T.getStrokeScaling()&&x));if(D==="rectangle"){var Y=X.multiply(2),K=e(this,h,Y);if(K)b=r(h.subtract(K.point),N,X,K.quadrant);else{var H=new E(this._size).setCenter(0,0),G=H.expand(Y),z=H.expand(Y.negate());b=G._containsPoint(h)&&!z._containsPoint(h)}}else b=r(h,N,X)}return b?new he(O?"stroke":"fill",this):s.base.apply(this,arguments)}}},{statics:new function(){function e(r,s,h,y,v){var x=t.create(oe.prototype);return x._type=r,x._size=h,x._radius=y,x._initialize(t.getNamed(v),s),x}return{Circle:function(){var r=arguments,s=o.readNamed(r,"center"),h=t.readNamed(r,"radius");return e("circle",s,new _(h*2),h,r)},Rectangle:function(){var r=arguments,s=E.readNamed(r,"rectangle"),h=_.min(_.readNamed(r,"radius"),s.getSize(!0).divide(2));return e("rectangle",s.getCenter(!0),s.getSize(!0),h,r)},Ellipse:function(){var r=arguments,s=oe._readEllipse(r),h=s.radius;return e("ellipse",s.center,h.multiply(2),h,r)},_readEllipse:function(r){var s,h;if(t.hasNamed(r,"radius"))s=o.readNamed(r,"center"),h=_.readNamed(r,"radius");else{var y=E.readNamed(r,"rectangle");s=y.getCenter(!0),h=y.getSize(!0).divide(2)}return{center:s,radius:h}}}}}),ge=B.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(r,s){if(!this._initialize(r,s!==C&&o.read(arguments))){var h,y=typeof r,v=y==="string"?g.getElementById(r):y==="object"?r:null;if(v&&v!==B.NO_INSERT){if(v.getContext||v.naturalHeight!=null)h=v;else if(v){var x=_.read(arguments);x.isZero()||(h=gt.getCanvas(x))}}h?this.setImage(h):this.setSource(r)}this._size||(this._size=new _,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var r=e._image,s=e._canvas;if(r)this._setImage(r);else if(s){var h=gt.getCanvas(e._size);h.getContext("2d").drawImage(s,0,0),this._setImage(h)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new k(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,r){var s=_.read(arguments);if(s.equals(this._size))r&&this.clear();else if(s.width>0&&s.height>0){var h=!r&&this.getElement();this._setImage(gt.getCanvas(s)),h&&this.getContext(!0).drawImage(h,0,0,s.width,s.height)}else this._canvas&&gt.release(this._canvas),this._size=s.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,r=new o(0,0).transform(e),s=new o(1,0).transform(e).subtract(r),h=new o(0,1).transform(e).subtract(r);return new _(72/s.getLength(),72/h.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var r=this;function s(h){var y=r.getView(),v=h&&h.type||"load";y&&r.responds(v)&&(i=y._scope,r.emit(v,new _e(h)))}this._setImage(e),this._loaded?setTimeout(s,0):e&&Ve.add(e,{load:function(h){r._setImage(e),s(h)},error:s})},_setImage:function(e){this._canvas&&gt.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new _(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=gt.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch{gt.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var r=new n.Image,s=this._crossOrigin;s&&(r.crossOrigin=s),e&&(r.src=e),this.setImage(r)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var r=this._image;r&&(r.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=E.read(arguments),r=gt.getContext(e.getSize());return r.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),r.canvas},getSubRaster:function(){var e=E.read(arguments),r=new ge(B.NO_INSERT);return r._setImage(this.getSubCanvas(e)),r.translate(e.getCenter().subtract(this.getSize().divide(2))),r._matrix.prepend(this._matrix),r.insertAbove(this),r},toDataURL:function(){var e=this._image,r=e&&e.src;if(/^data:/.test(r))return r;var s=this.getCanvas();return s?s.toDataURL.apply(s,arguments):null},drawImage:function(e){var r=o.read(arguments,1);this.getContext(!0).drawImage(e,r.x,r.y)},getAverageColor:function(e){var r,s;if(e?e instanceof Le?(s=e,r=e.getBounds()):typeof e=="object"&&("width"in e?r=new E(e):"x"in e&&(r=new E(e.x-.5,e.y-.5,1,1))):r=this.getBounds(),!r)return null;var h=32,y=Math.min(r.width,h),v=Math.min(r.height,h),x=ge._sampleContext;x?x.clearRect(0,0,h+1,h+1):x=ge._sampleContext=gt.getContext(new _(h)),x.save();var b=new U().scale(y/r.width,v/r.height).translate(-r.x,-r.y);b.applyToContext(x),s&&s.draw(x,new t({clip:!0,matrices:[b]})),this._matrix.applyToContext(x);var T=this.getElement(),O=this._size;T&&x.drawImage(T,-O.width/2,-O.height/2),x.restore();for(var L=x.getImageData(.5,.5,Math.ceil(y),Math.ceil(v)).data,D=[0,0,0],N=0,R=0,X=L.length;R<X;R+=4){var Y=L[R+3];N+=Y,Y/=255,D[0]+=L[R]*Y,D[1]+=L[R+1]*Y,D[2]+=L[R+2]*Y}for(var R=0;R<3;R++)D[R]/=N;return N?Fe.read(D):null},getPixel:function(){var e=o.read(arguments),r=this.getContext().getImageData(e.x,e.y,1,1).data;return new Fe("rgb",[r[0]/255,r[1]/255,r[2]/255],r[3]/255)},setPixel:function(){var e=arguments,r=o.read(e),s=Fe.read(e),h=s._convert("rgb"),y=s._alpha,v=this.getContext(!0),x=v.createImageData(1,1),b=x.data;b[0]=h[0]*255,b[1]=h[1]*255,b[2]=h[2]*255,b[3]=y!=null?y*255:255,v.putImageData(x,r.x,r.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=_.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=E.read(arguments);return e.isEmpty()&&(e=new E(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var r=o.read(arguments,1);this.getContext(!0).putImageData(e,r.x,r.y)},_getBounds:function(e,r){var s=new E(this._size).setCenter(0,0);return e?e._transformBounds(s):s},_hitTestSelf:function(e){if(this._contains(e)){var r=this;return new he("pixel",r,{offset:e.add(r._size.divide(2)).round(),color:{get:function(){return r.getPixel(this.offset)}}})}},_draw:function(e,r,s){var h=this.getElement();if(h&&h.width>0&&h.height>0){e.globalAlpha=a.clamp(this._opacity,0,1),this._setStyles(e,r,s);var y=this._smoothing,v=y==="off";Me.setPrefixed(e,v?"imageSmoothingEnabled":"imageSmoothingQuality",v?!1:y),e.drawImage(h,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),J=B.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(r,s){this._initialize(r,s!==C&&o.read(arguments,1))||this.setDefinition(r instanceof ue?r:new ue(r))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,r){var s=this._definition._item;return s._getCachedBounds(s._matrix.prepended(e),r)},_hitTestSelf:function(e,r,s){var h=r.extend({all:!1}),y=this._definition._item._hitTest(e,h,s);return y&&(y.item=this),y},_draw:function(e,r){this._definition._item.draw(e,r)}}),ue=t.extend({_class:"SymbolDefinition",initialize:function(r,s){this._id=l.get(),this.project=i.project,r&&this.setItem(r,s)},_serialize:function(e,r){return r.add(this,function(){return t.serialize([this._class,this._item],e,!1,r)})},_changed:function(e){e&8&&B._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,r){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),r||e.setPosition(new o),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new J(this,e)},clone:function(){return new ue(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),he=t.extend({_class:"HitResult",initialize:function(r,s,h){this.type=r,this.item=s,h&&this.inject(h)},statics:{getOptions:function(e){var r=e&&t.read(e);return new t({type:null,tolerance:i.settings.hitTolerance,fill:!r,stroke:!r,segments:!r,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},r)}}}),ye=t.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(r,s,h,y,v,x){var b=arguments.length,T,O,L,D;b>0&&(r==null||typeof r=="object"?b===1&&r&&"point"in r?(T=r.point,O=r.handleIn,L=r.handleOut,D=r.selection):(T=r,O=s,L=h,D=y):(T=[r,s],O=h!==C?[h,y]:null,L=v!==C?[v,x]:null)),new Oe(T,this,"_point"),new Oe(O,this,"_handleIn"),new Oe(L,this,"_handleOut"),D&&this.setSelection(D)},_serialize:function(e,r){var s=this._point,h=this._selection,y=h||this.hasHandles()?[s,this._handleIn,this._handleOut]:s;return h&&y.push(h),t.serialize(y,e,!0,r)},_changed:function(e){var r=this._path;if(!!r){var s=r._curves,h=this._index,y;s&&((!e||e===this._point||e===this._handleIn)&&(y=h>0?s[h-1]:r._closed?s[s.length-1]:null)&&y._changed(),(!e||e===this._point||e===this._handleOut)&&(y=s[h])&&y._changed()),r._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(o.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(o.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(o.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,r=this._handleOut;return!e.isZero()&&!r.isZero()&&e.isCollinear(r)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var r=this._selection,s=this._path;this._selection=e=e||0,s&&e!==r&&(s._updateSelection(this,r,e),s._changed(257))},_changeSelection:function(e,r){var s=this._selection;this.setSelection(r?s|e:s&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==C?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,r=this._index;return e?(r>0&&!e._closed&&r===e._segments.length-1&&r--,e.getCurves()[r]||null):null},getLocation:function(){var e=this.getCurve();return e?new Ne(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,r,s){var h=e||{},y=h.type,v=h.factor,x=this.getPrevious(),b=this.getNext(),T=(x||this)._point,O=this._point,L=(b||this)._point,D=T.getDistance(O),N=O.getDistance(L);if(!y||y==="catmull-rom"){var R=v===C?.5:v,X=Math.pow(D,R),Y=X*X,K=Math.pow(N,R),H=K*K;if(!r&&x){var G=2*H+3*K*X+Y,z=3*K*(K+X);this.setHandleIn(z!==0?new o((H*T._x+G*O._x-Y*L._x)/z-O._x,(H*T._y+G*O._y-Y*L._y)/z-O._y):new o)}if(!s&&b){var G=2*Y+3*X*K+H,z=3*X*(X+K);this.setHandleOut(z!==0?new o((Y*L._x+G*O._x-H*T._x)/z-O._x,(Y*L._y+G*O._y-H*T._y)/z-O._y):new o)}}else if(y==="geometric"){if(x&&b){var Z=T.subtract(L),ee=v===C?.4:v,le=ee*D/(D+N);r||this.setHandleIn(Z.multiply(le)),s||this.setHandleOut(Z.multiply(le-ee))}}else throw new Error("Smoothing method '"+y+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,r=this._handleOut,s=e.clone();e.set(r),r.set(s)},reversed:function(){return new ye(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new ye(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,r,s){var h=1-s,y=s,v=e._point,x=r._point,b=e._handleIn,T=r._handleIn,O=r._handleOut,L=e._handleOut;this._point._set(h*v._x+y*x._x,h*v._y+y*x._y,!0),this._handleIn._set(h*b._x+y*T._x,h*b._y+y*T._y,!0),this._handleOut._set(h*L._x+y*O._x,h*L._y+y*O._y,!0),this._changed()},_transformCoordinates:function(e,r,s){var h=this._point,y=!s||!this._handleIn.isZero()?this._handleIn:null,v=!s||!this._handleOut.isZero()?this._handleOut:null,x=h._x,b=h._y,T=2;return r[0]=x,r[1]=b,y&&(r[T++]=y._x+x,r[T++]=y._y+b),v&&(r[T++]=v._x+x,r[T++]=v._y+b),e&&(e._transformCoordinates(r,r,T/2),x=r[0],b=r[1],s?(h._x=x,h._y=b,T=2,y&&(y._x=r[T++]-x,y._y=r[T++]-b),v&&(v._x=r[T++]-x,v._y=r[T++]-b)):(y||(r[T++]=x,r[T++]=b),v||(r[T++]=x,r[T++]=b))),r}}),Oe=o.extend({initialize:function(r,s,h){var y,v,x;if(!r)y=v=0;else if((y=r[0])!==C)v=r[1];else{var b=r;(y=b.x)===C&&(b=o.read(arguments),y=b.x),v=b.y,x=b.selected}this._x=y,this._y=v,this._owner=s,s[h]=this,x&&this.setSelected(!0)},_set:function(e,r){return this._x=e,this._y=r,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=a.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),de=t.extend({_class:"Curve",beans:!0,initialize:function(r,s,h,y,v,x,b,T){var O=arguments.length,L,D,N,R,X,Y;O===3?(this._path=r,L=s,D=h):O?O===1?"segment1"in r?(L=new ye(r.segment1),D=new ye(r.segment2)):"point1"in r?(N=r.point1,X=r.handle1,Y=r.handle2,R=r.point2):Array.isArray(r)&&(N=[r[0],r[1]],R=[r[6],r[7]],X=[r[2]-r[0],r[3]-r[1]],Y=[r[4]-r[6],r[5]-r[7]]):O===2?(L=new ye(r),D=new ye(s)):O===4?(N=r,X=s,Y=h,R=y):O===8&&(N=[r,s],R=[b,T],X=[h-r,y-s],Y=[v-b,x-T]):(L=new ye,D=new ye),this._segment1=L||new ye(N,null,X),this._segment2=D||new ye(R,Y,null)},_serialize:function(e,r){return t.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,r)},_changed:function(){this._length=this._bounds=C},clone:function(){return new de(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return de.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var r=this._segment2,s=r._handleOut;e=r.remove(),e&&this._segment1._handleOut.set(s)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(o.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(o.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(o.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(o.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return de.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),r=[],s=0;s<8;s+=2)r.push(new o(e[s],e[s+1]));return r}},{getLength:function(){return this._length==null&&(this._length=de.getLength(this.getValues(),0,1)),this._length},getArea:function(){return de.getArea(this.getValues())},getLine:function(){return new V(this._segment1._point,this._segment2._point)},getPart:function(e,r){return new de(de.getPart(this.getValues(),e,r))},getPartLength:function(e,r){return de.getLength(this.getValues(),e,r)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,r){var s=1e-8,h=1-s,y=null;if(e>=s&&e<=h){var v=de.subdivide(this.getValues(),e),x=v[0],b=v[1],T=r||this.hasHandles(),O=this._segment1,L=this._segment2,D=this._path;T&&(O._handleOut._set(x[2]-x[0],x[3]-x[1]),L._handleIn._set(b[4]-b[6],b[5]-b[7]));var N=x[6],R=x[7],X=new ye(new o(N,R),T&&new o(x[4]-N,x[5]-R),T&&new o(b[2]-N,b[3]-R));D?(D.insert(O._index+1,X),y=this.getNext()):(this._segment2=X,this._changed(),y=new de(X,L))}return y},splitAt:function(e){var r=this._path;return r?r.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,r){return this.divideAtTime(e===C?.5:r?e:this.getTimeAt(e))},split:function(e,r){return this.splitAtTime(e===C?.5:r?e:this.getTimeAt(e))},reversed:function(){return new de(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,r,s,h){var y=e._point,v=e._handleOut,x=r._handleIn,b=r._point,T=y.x,O=y.y,L=b.x,D=b.y,N=h?[T,O,T,O,L,D,L,D]:[T,O,T+v._x,O+v._y,L+x._x,D+x._y,L,D];return s&&s._transformCoordinates(N,N,4),N},subdivide:function(e,r){var s=e[0],h=e[1],y=e[2],v=e[3],x=e[4],b=e[5],T=e[6],O=e[7];r===C&&(r=.5);var L=1-r,D=L*s+r*y,N=L*h+r*v,R=L*y+r*x,X=L*v+r*b,Y=L*x+r*T,K=L*b+r*O,H=L*D+r*R,G=L*N+r*X,z=L*R+r*Y,Z=L*X+r*K,ee=L*H+r*z,le=L*G+r*Z;return[[s,h,D,N,H,G,ee,le],[ee,le,z,Z,Y,K,T,O]]},getMonoCurves:function(e,r){var s=[],h=r?0:1,y=e[h+0],v=e[h+2],x=e[h+4],b=e[h+6];if(y>=v==v>=x&&v>=x==x>=b||de.isStraight(e))s.push(e);else{var T=3*(v-x)-y+b,O=2*(y+x)-4*v,L=v-y,D=1e-8,N=1-D,R=[],X=a.solveQuadratic(T,O,L,R,D,N);if(!X)s.push(e);else{R.sort();var Y=R[0],K=de.subdivide(e,Y);s.push(K[0]),X>1&&(Y=(R[1]-Y)/(1-Y),K=de.subdivide(K[1],Y),s.push(K[0])),s.push(K[1])}}return s},solveCubic:function(e,r,s,h,y,v){var x=e[r],b=e[r+2],T=e[r+4],O=e[r+6],L=0;if(!(x<s&&O<s&&b<s&&T<s||x>s&&O>s&&b>s&&T>s)){var D=3*(b-x),N=3*(T-b)-D,R=O-x-D-N;L=a.solveCubic(R,N,D,x-s,h,y,v)}return L},getTimeOf:function(e,r){var s=new o(e[0],e[1]),h=new o(e[6],e[7]),y=1e-12,v=1e-7,x=r.isClose(s,y)?0:r.isClose(h,y)?1:null;if(x===null)for(var b=[r.x,r.y],T=[],O=0;O<2;O++)for(var L=de.solveCubic(e,O,b[O],T,0,1),D=0;D<L;D++){var N=T[D];if(r.isClose(de.getPoint(e,N),v))return N}return r.isClose(s,v)?0:r.isClose(h,v)?1:null},getNearestTime:function(e,r){if(de.isStraight(e)){var s=e[0],h=e[1],y=e[6],v=e[7],x=y-s,b=v-h,T=x*x+b*b;if(T===0)return 0;var O=((r.x-s)*x+(r.y-h)*b)/T;return O<1e-12?0:O>.999999999999?1:de.getTimeOf(e,new o(s+O*x,h+O*b))}var L=100,D=1/0,N=0;function R(K){if(K>=0&&K<=1){var H=r.getDistance(de.getPoint(e,K),!0);if(H<D)return D=H,N=K,!0}}for(var X=0;X<=L;X++)R(X/L);for(var Y=1/(L*2);Y>1e-8;)!R(N-Y)&&!R(N+Y)&&(Y/=2);return N},getPart:function(e,r,s){var h=r>s;if(h){var y=r;r=s,s=y}return r>0&&(e=de.subdivide(e,r)[1]),s<1&&(e=de.subdivide(e,(s-r)/(1-r))[0]),h?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,r){var s=e[0],h=e[1],y=e[2],v=e[3],x=e[4],b=e[5],T=e[6],O=e[7],L=3*y-2*s-T,D=3*v-2*h-O,N=3*x-2*T-s,R=3*b-2*O-h;return Math.max(L*L,N*N)+Math.max(D*D,R*R)<=16*r*r},getArea:function(e){var r=e[0],s=e[1],h=e[2],y=e[3],v=e[4],x=e[5],b=e[6],T=e[7];return 3*((T-s)*(h+v)-(b-r)*(y+x)+y*(r-v)-h*(s-x)+T*(v+r/3)-b*(x+s/3))/20},getBounds:function(e){for(var r=e.slice(0,2),s=r.slice(),h=[0,0],y=0;y<2;y++)de._addBounds(e[y],e[y+2],e[y+4],e[y+6],y,0,r,s,h);return new E(r[0],r[1],s[0]-r[0],s[1]-r[1])},_addBounds:function(e,r,s,h,y,v,x,b,T){function O(ee,le){var ie=ee-le,pe=ee+le;ie<x[y]&&(x[y]=ie),pe>b[y]&&(b[y]=pe)}v/=2;var L=x[y]+v,D=b[y]-v;if(e<L||r<L||s<L||h<L||e>D||r>D||s>D||h>D)if(r<e!=r<h&&s<e!=s<h)O(e,0),O(h,0);else{var N=3*(r-s)-e+h,R=2*(e+s)-4*r,X=r-e,Y=a.solveQuadratic(N,R,X,T),K=1e-8,H=1-K;O(h,0);for(var G=0;G<Y;G++){var z=T[G],Z=1-z;K<=z&&z<=H&&O(Z*Z*Z*e+3*Z*Z*z*r+3*Z*z*z*s+z*z*z*h,v)}}}}},t.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var r=this._bounds[e];return r||(r=this._bounds[e]=Be[e]([this._segment1,this._segment2],!1,this._path)),r.clone()}},{}),t.each({isStraight:function(e,r,s,h){if(r.isZero()&&s.isZero())return!0;var y=h.subtract(e);if(y.isZero())return!1;if(y.isCollinear(r)&&y.isCollinear(s)){var v=new V(e,h),x=1e-7;if(v.getDistance(e.add(r))<x&&v.getDistance(h.add(s))<x){var b=y.dot(y),T=y.dot(r)/b,O=y.dot(s)/b;return T>=0&&T<=1&&O<=0&&O>=-1}}return!1},isLinear:function(e,r,s,h){var y=h.subtract(e).divide(3);return r.equals(y)&&s.negate().equals(y)}},function(e,r){this[r]=function(s){var h=this._segment1,y=this._segment2;return e(h._point,h._handleOut,y._handleIn,y._point,s)},this.statics[r]=function(s,h){var y=s[0],v=s[1],x=s[6],b=s[7];return e(new o(y,v),new o(s[2]-y,s[3]-v),new o(s[4]-x,s[5]-b),new o(x,b),h)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,r){return this.getLocationAtTime(r?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new Ne(this,e):null},getTimeAt:function(e,r){return de.getTimeAt(this.getValues(),e,r)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=o.read(arguments);return e.isZero()?[]:de.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(o.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return de.getTimeOf(this.getValues(),o.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=o.read(arguments),r=this.getValues(),s=de.getNearestTime(r,e),h=de.getPoint(r,s);return new Ne(this,s,h,null,e.getDistance(h))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return t.each(e,function(r){this[r+"At"]=function(s,h){var y=this.getValues();return de[r](y,h?s:de.getTimeAt(y,s))},this[r+"AtTime"]=function(s){return de[r](this.getValues(),s)}},{statics:{_evaluateMethods:e}})},new function(){function e(h){var y=h[0],v=h[1],x=h[2],b=h[3],T=h[4],O=h[5],L=h[6],D=h[7],N=9*(x-T)+3*(L-y),R=6*(y+T)-12*x,X=3*(x-y),Y=9*(b-O)+3*(D-v),K=6*(v+O)-12*b,H=3*(b-v);return function(G){var z=(N*G+R)*G+X,Z=(Y*G+K)*G+H;return Math.sqrt(z*z+Z*Z)}}function r(h,y){return Math.max(2,Math.min(16,Math.ceil(Math.abs(y-h)*32)))}function s(h,y,v,x){if(y==null||y<0||y>1)return null;var b=h[0],T=h[1],O=h[2],L=h[3],D=h[4],N=h[5],R=h[6],X=h[7],Y=a.isZero;Y(O-b)&&Y(L-T)&&(O=b,L=T),Y(D-R)&&Y(N-X)&&(D=R,N=X);var K=3*(O-b),H=3*(D-O)-K,G=R-b-K-H,z=3*(L-T),Z=3*(N-L)-z,ee=X-T-z-Z,le,ie;if(v===0)le=y===0?b:y===1?R:((G*y+H)*y+K)*y+b,ie=y===0?T:y===1?X:((ee*y+Z)*y+z)*y+T;else{var pe=1e-8,ve=1-pe;if(y<pe?(le=K,ie=z):y>ve?(le=3*(R-D),ie=3*(X-N)):(le=(3*G*y+2*H)*y+K,ie=(3*ee*y+2*Z)*y+z),x){le===0&&ie===0&&(y<pe||y>ve)&&(le=D-O,ie=N-L);var xe=Math.sqrt(le*le+ie*ie);xe&&(le/=xe,ie/=xe)}if(v===3){var D=6*G*y+2*H,N=6*ee*y+2*Z,Ce=Math.pow(le*le+ie*ie,3/2);le=Ce!==0?(le*N-ie*D)/Ce:0,ie=0}}return v===2?new o(ie,-le):new o(le,ie)}return{statics:{classify:function(h){var y=h[0],v=h[1],x=h[2],b=h[3],T=h[4],O=h[5],L=h[6],D=h[7],N=y*(D-O)+v*(T-L)+L*O-D*T,R=x*(v-D)+b*(L-y)+y*D-v*L,X=T*(b-v)+O*(y-x)+x*v-b*y,Y=3*X,K=Y-R,H=K-R+N,G=Math.sqrt(H*H+K*K+Y*Y),z=G!==0?1/G:0,Z=a.isZero,ee="serpentine";H*=z,K*=z,Y*=z;function le(xe,Ce,be){var Ee=Ce!==C,Ie=Ee&&Ce>0&&Ce<1,Ue=Ee&&be>0&&be<1;return Ee&&(!(Ie||Ue)||xe==="loop"&&!(Ie&&Ue))&&(xe="arch",Ie=Ue=!1),{type:xe,roots:Ie||Ue?Ie&&Ue?Ce<be?[Ce,be]:[be,Ce]:[Ie?Ce:be]:null}}if(Z(H))return Z(K)?le(Z(Y)?"line":"quadratic"):le(ee,Y/(3*K));var ie=3*K*K-4*H*Y;if(Z(ie))return le("cusp",K/(2*H));var pe=ie>0?Math.sqrt(ie/3):Math.sqrt(-ie),ve=2*H;return le(ie>0?ee:"loop",(K+pe)/ve,(K-pe)/ve)},getLength:function(h,y,v,x){if(y===C&&(y=0),v===C&&(v=1),de.isStraight(h)){var b=h;v<1&&(b=de.subdivide(b,v)[0],y/=v),y>0&&(b=de.subdivide(b,y)[1]);var T=b[6]-b[0],O=b[7]-b[1];return Math.sqrt(T*T+O*O)}return a.integrate(x||e(h),y,v,r(y,v))},getTimeAt:function(h,y,v){if(v===C&&(v=y<0?1:0),y===0)return v;var x=Math.abs,b=1e-12,T=y>0,O=T?v:0,L=T?1:v,D=e(h),N=de.getLength(h,O,L,D),R=x(y)-N;if(x(R)<b)return T?L:O;if(R>b)return null;var X=y/N,Y=0;function K(H){return Y+=a.integrate(D,v,H,r(v,H)),v=H,Y-y}return a.findRoot(K,D,v+X,O,L,32,1e-12)},getPoint:function(h,y){return s(h,y,0,!1)},getTangent:function(h,y){return s(h,y,1,!0)},getWeightedTangent:function(h,y){return s(h,y,1,!1)},getNormal:function(h,y){return s(h,y,2,!0)},getWeightedNormal:function(h,y){return s(h,y,2,!1)},getCurvature:function(h,y){return s(h,y,3,!1).x},getPeaks:function(h){var y=h[0],v=h[1],x=h[2],b=h[3],T=h[4],O=h[5],L=h[6],D=h[7],N=-y+3*x-3*T+L,R=3*y-6*x+3*T,X=-3*y+3*x,Y=-v+3*b-3*O+D,K=3*v-6*b+3*O,H=-3*v+3*b,G=1e-8,z=1-G,Z=[];return a.solveCubic(9*(N*N+Y*Y),9*(N*R+K*Y),2*(R*R+K*K)+3*(X*N+H*Y),X*R+K*H,Z,G,z),Z.sort()}}}},new function(){function e(R,X,Y,K,H,G,z){var Z=!z&&Y.getPrevious()===H,ee=!z&&Y!==H&&Y.getNext()===H,le=1e-8,ie=1-le;if(K!==null&&K>=(Z?le:0)&&K<=(ee?ie:1)&&G!==null&&G>=(ee?le:0)&&G<=(Z?ie:1)){var pe=new Ne(Y,K,null,z),ve=new Ne(H,G,null,z);pe._intersection=ve,ve._intersection=pe,(!X||X(pe))&&Ne.insert(R,pe,!0)}}function r(R,X,Y,K,H,G,z,Z,ee,le,ie,pe,ve){if(++ee>=4096||++Z>=40)return ee;var xe=1e-9,Ce=X[0],be=X[1],Ee=X[6],Ie=X[7],Ue=V.getSignedDistance,We=Ue(Ce,be,Ee,Ie,X[2],X[3]),rt=Ue(Ce,be,Ee,Ie,X[4],X[5]),ke=We*rt>0?3/4:4/9,Ye=ke*Math.min(0,We,rt),ft=ke*Math.max(0,We,rt),lt=Ue(Ce,be,Ee,Ie,R[0],R[1]),nt=Ue(Ce,be,Ee,Ie,R[2],R[3]),Ze=Ue(Ce,be,Ee,Ie,R[4],R[5]),xt=Ue(Ce,be,Ee,Ie,R[6],R[7]),Tt=s(lt,nt,Ze,xt),It=Tt[0],Lt=Tt[1],pt,Dt;if(We===0&&rt===0&&lt===0&&nt===0&&Ze===0&&xt===0||(pt=h(It,Lt,Ye,ft))==null||(Dt=h(It.reverse(),Lt.reverse(),Ye,ft))==null)return ee;var jt=le+(ie-le)*pt,Gt=le+(ie-le)*Dt;if(Math.max(ve-pe,Gt-jt)<xe){var nr=(jt+Gt)/2,sr=(pe+ve)/2;e(H,G,z?K:Y,z?sr:nr,z?Y:K,z?nr:sr)}else{R=de.getPart(R,pt,Dt);var ir=ve-pe;if(Dt-pt>.8)if(Gt-jt>ir){var Qt=de.subdivide(R,.5),nr=(jt+Gt)/2;ee=r(X,Qt[0],K,Y,H,G,!z,Z,ee,pe,ve,jt,nr),ee=r(X,Qt[1],K,Y,H,G,!z,Z,ee,pe,ve,nr,Gt)}else{var Qt=de.subdivide(X,.5),sr=(pe+ve)/2;ee=r(Qt[0],R,K,Y,H,G,!z,Z,ee,pe,sr,jt,Gt),ee=r(Qt[1],R,K,Y,H,G,!z,Z,ee,sr,ve,jt,Gt)}else ir===0||ir>=xe?ee=r(X,R,K,Y,H,G,!z,Z,ee,pe,ve,jt,Gt):ee=r(R,X,Y,K,H,G,z,Z,ee,jt,Gt,pe,ve)}return ee}function s(R,X,Y,K){var H=[0,R],G=[1/3,X],z=[2/3,Y],Z=[1,K],ee=X-(2*R+K)/3,le=Y-(R+2*K)/3,ie;if(ee*le<0)ie=[[H,G,Z],[H,z,Z]];else{var pe=ee/le;ie=[pe>=2?[H,G,Z]:pe<=.5?[H,z,Z]:[H,G,z,Z],[H,Z]]}return(ee||le)<0?ie.reverse():ie}function h(R,X,Y,K){return R[0][1]<Y?y(R,!0,Y):X[0][1]>K?y(X,!1,K):R[0][0]}function y(R,X,Y){for(var K=R[0][0],H=R[0][1],G=1,z=R.length;G<z;G++){var Z=R[G][0],ee=R[G][1];if(X?ee>=Y:ee<=Y)return ee===Y?Z:K+(Y-H)*(Z-K)/(ee-H);K=Z,H=ee}return null}function v(R,X,Y,K,H){var G=a.isZero;if(G(K)&&G(H)){var z=de.getTimeOf(R,new o(X,Y));return z===null?[]:[z]}for(var Z=Math.atan2(-H,K),ee=Math.sin(Z),le=Math.cos(Z),ie=[],pe=[],ve=0;ve<8;ve+=2){var xe=R[ve]-X,Ce=R[ve+1]-Y;ie.push(xe*le-Ce*ee,xe*ee+Ce*le)}return de.solveCubic(ie,1,0,pe,0,1),pe}function x(R,X,Y,K,H,G,z){for(var Z=X[0],ee=X[1],le=X[6],ie=X[7],pe=v(R,Z,ee,le-Z,ie-ee),ve=0,xe=pe.length;ve<xe;ve++){var Ce=pe[ve],be=de.getPoint(R,Ce),Ee=de.getTimeOf(X,be);Ee!==null&&e(H,G,z?K:Y,z?Ee:Ce,z?Y:K,z?Ce:Ee)}}function b(R,X,Y,K,H,G){var z=V.intersect(R[0],R[1],R[6],R[7],X[0],X[1],X[6],X[7]);z&&e(H,G,Y,de.getTimeOf(R,z),K,de.getTimeOf(X,z))}function T(R,X,Y,K,H,G){var z=1e-12,Z=Math.min,ee=Math.max;if(ee(R[0],R[2],R[4],R[6])+z>Z(X[0],X[2],X[4],X[6])&&Z(R[0],R[2],R[4],R[6])-z<ee(X[0],X[2],X[4],X[6])&&ee(R[1],R[3],R[5],R[7])+z>Z(X[1],X[3],X[5],X[7])&&Z(R[1],R[3],R[5],R[7])-z<ee(X[1],X[3],X[5],X[7])){var le=D(R,X);if(le)for(var ie=0;ie<2;ie++){var pe=le[ie];e(H,G,Y,pe[0],K,pe[1],!0)}else{var ve=de.isStraight(R),xe=de.isStraight(X),Ce=ve&&xe,be=ve&&!xe,Ee=H.length;if((Ce?b:ve||xe?x:r)(be?X:R,be?R:X,be?K:Y,be?Y:K,H,G,be,0,0,0,1,0,1),!Ce||H.length===Ee)for(var ie=0;ie<4;ie++){var Ie=ie>>1,Ue=ie&1,We=Ie*6,rt=Ue*6,ke=new o(R[We],R[We+1]),Ye=new o(X[rt],X[rt+1]);ke.isClose(Ye,z)&&e(H,G,Y,Ie,K,Ue)}}}return H}function O(R,X,Y,K){var H=de.classify(R);if(H.type==="loop"){var G=H.roots;e(Y,K,X,G[0],X,G[1])}return Y}function L(R,X,Y,K,H,G){var z=1e-7,Z=!X;Z&&(X=R);for(var ee=R.length,le=X.length,ie=new Array(ee),pe=Z?ie:new Array(le),ve=[],xe=0;xe<ee;xe++)ie[xe]=R[xe].getValues(K);if(!Z)for(var xe=0;xe<le;xe++)pe[xe]=X[xe].getValues(H);for(var Ce=p.findCurveBoundsCollisions(ie,pe,z),be=0;be<ee;be++){var Ee=R[be],Ie=ie[be];Z&&O(Ie,Ee,ve,Y);var Ue=Ce[be];if(Ue)for(var We=0;We<Ue.length;We++){if(G&&ve.length)return ve;var rt=Ue[We];if(!Z||rt>be){var ke=X[rt],Ye=pe[rt];T(Ie,Ye,Ee,ke,ve,Y)}}}return ve}function D(R,X){function Y(xt){var Tt=xt[6]-xt[0],It=xt[7]-xt[1];return Tt*Tt+It*It}var K=Math.abs,H=V.getDistance,G=1e-8,z=1e-7,Z=de.isStraight(R),ee=de.isStraight(X),le=Z&&ee,ie=Y(R)<Y(X),pe=ie?X:R,ve=ie?R:X,xe=pe[0],Ce=pe[1],be=pe[6]-xe,Ee=pe[7]-Ce;if(H(xe,Ce,be,Ee,ve[0],ve[1],!0)<z&&H(xe,Ce,be,Ee,ve[6],ve[7],!0)<z)!le&&H(xe,Ce,be,Ee,pe[2],pe[3],!0)<z&&H(xe,Ce,be,Ee,pe[4],pe[5],!0)<z&&H(xe,Ce,be,Ee,ve[2],ve[3],!0)<z&&H(xe,Ce,be,Ee,ve[4],ve[5],!0)<z&&(Z=ee=le=!0);else if(le)return null;if(Z^ee)return null;for(var Ie=[R,X],Ue=[],We=0;We<4&&Ue.length<2;We++){var rt=We&1,ke=rt^1,Ye=We>>1,ft=de.getTimeOf(Ie[rt],new o(Ie[ke][Ye?6:0],Ie[ke][Ye?7:1]));if(ft!=null){var lt=rt?[Ye,ft]:[ft,Ye];(!Ue.length||K(lt[0]-Ue[0][0])>G&&K(lt[1]-Ue[0][1])>G)&&Ue.push(lt)}if(We>2&&!Ue.length)break}if(Ue.length!==2)Ue=null;else if(!le){var nt=de.getPart(R,Ue[0][0],Ue[1][0]),Ze=de.getPart(X,Ue[0][1],Ue[1][1]);(K(Ze[2]-nt[2])>z||K(Ze[3]-nt[3])>z||K(Ze[4]-nt[4])>z||K(Ze[5]-nt[5])>z)&&(Ue=null)}return Ue}function N(R,X){var Y=R[0],K=R[1],H=R[2],G=R[3],z=R[4],Z=R[5],ee=R[6],le=R[7],ie=X.normalize(),pe=ie.x,ve=ie.y,xe=3*ee-9*z+9*H-3*Y,Ce=3*le-9*Z+9*G-3*K,be=6*z-12*H+6*Y,Ee=6*Z-12*G+6*K,Ie=3*H-3*Y,Ue=3*G-3*K,We=2*xe*ve-2*Ce*pe,rt=[];if(Math.abs(We)<a.CURVETIME_EPSILON){var ke=xe*Ue-Ce*Ie,We=xe*Ee-Ce*be;if(We!=0){var Ye=-ke/We;Ye>=0&&Ye<=1&&rt.push(Ye)}}else{var ft=(be*be-4*xe*Ie)*ve*ve+(-2*be*Ee+4*Ce*Ie+4*xe*Ue)*pe*ve+(Ee*Ee-4*Ce*Ue)*pe*pe,lt=be*ve-Ee*pe;if(ft>=0&&We!=0){var nt=Math.sqrt(ft),Ze=-(lt+nt)/We,xt=(-lt+nt)/We;Ze>=0&&Ze<=1&&rt.push(Ze),xt>=0&&xt<=1&&rt.push(xt)}}return rt}return{getIntersections:function(R){var X=this.getValues(),Y=R&&R!==this&&R.getValues();return Y?T(X,Y,this,R,[]):O(X,this,[])},statics:{getOverlaps:D,getIntersections:L,getCurveLineIntersections:v,getTimesWithTangent:N}}}),Ne=t.extend({_class:"CurveLocation",initialize:function(r,s,h,y,v){if(s>=.99999999){var x=r.getNext();x&&(s=0,r=x)}this._setCurve(r),this._time=s,this._point=h||r.getPointAtTime(s),this._overlap=y,this._distance=v,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var r=e.getCurve();r?this._setCurve(r):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var r=this.getCurve(),s=this.getTime();s===0?e=r._segment1:s===1?e=r._segment2:s!=null&&(e=r.getPartLength(0,s)<r.getPartLength(s,1)?r._segment1:r._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,r=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function s(h){var y=h&&h.getCurve();if(y&&(r._time=y.getTimeOf(r._point))!=null)return r._setCurve(y),y}return this._curve||s(this._segment)||s(this._segment1)||s(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),r=this._time;return e&&r==null?this._time=e.getTimeOf(this._point):r},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var r=this.getPath(),s=this.getIndex();if(r&&s!=null)for(var h=r.getCurves(),y=0;y<s;y++)e+=h[y].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var r=this.getCurve(),s=this.getTime();this._curveOffset=e=s!=null&&r&&r.getPartLength(0,s)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),r=e&&e.divideAtTime(this.getTime());return r&&this._setSegment(r._segment1),r},split:function(){var e=this.getCurve(),r=e._path,s=e&&e.splitAtTime(this.getTime());return s&&this._setSegment(r.getLastSegment()),s},equals:function(e,r){var s=this===e;if(!s&&e instanceof Ne){var h=this.getCurve(),y=e.getCurve(),v=h._path,x=y._path;if(v===x){var b=Math.abs,T=1e-7,O=b(this.getOffset()-e.getOffset()),L=!r&&this._intersection,D=!r&&e._intersection;s=(O<T||v&&b(v.getLength()-O)<T)&&(!L&&!D||L&&D&&L.equals(D,!0))}}return s},toString:function(){var e=[],r=this.getPoint(),s=u.instance;r&&e.push("point: "+r);var h=this.getIndex();h!=null&&e.push("index: "+h);var y=this.getTime();return y!=null&&e.push("time: "+s.number(y)),this._distance!=null&&e.push("distance: "+s.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var r=this.getCurve(),s=e.getCurve();return!(r.isStraight()&&s.isStraight()&&r.getLine().intersect(s.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var r=this.getTime(),s=e.getTime(),h=1e-8,y=1-h,v=r>=h&&r<=y,x=s>=h&&s<=y;if(v&&x)return!this.isTouching();var b=this.getCurve(),T=b&&r<h?b.getPrevious():b,O=e.getCurve(),L=O&&s<h?O.getPrevious():O;if(r>y&&(b=b.getNext()),s>y&&(O=O.getNext()),!T||!b||!L||!O)return!1;var D=[];function N(pe,ve){var xe=pe.getValues(),Ce=de.classify(xe).roots||de.getPeaks(xe),be=Ce.length,Ee=de.getLength(xe,ve&&be?Ce[be-1]:0,!ve&&be?Ce[0]:1);D.push(be?Ee:Ee/32)}function R(pe,ve,xe){return ve<xe?pe>ve&&pe<xe:pe>ve||pe<xe}v||(N(T,!0),N(b,!1)),x||(N(L,!0),N(O,!1));var X=this.getPoint(),Y=Math.min.apply(Math,D),K=v?b.getTangentAtTime(r):b.getPointAt(Y).subtract(X),H=v?K.negate():T.getPointAt(-Y).subtract(X),G=x?O.getTangentAtTime(s):O.getPointAt(Y).subtract(X),z=x?G.negate():L.getPointAt(-Y).subtract(X),Z=H.getAngle(),ee=K.getAngle(),le=z.getAngle(),ie=G.getAngle();return!!(v?R(Z,le,ie)^R(ee,le,ie)&&R(Z,ie,le)^R(ee,ie,le):R(le,Z,ee)^R(ie,Z,ee)&&R(le,ee,Z)^R(ie,ee,Z))},hasOverlap:function(){return!!this._overlap}},t.each(de._evaluateMethods,function(e){var r=e+"At";this[e]=function(){var s=this.getCurve(),h=this.getTime();return h!=null&&s&&s[r](h,!0)}},{preserve:!0}),new function(){function e(r,s,h){var y=r.length,v=0,x=y-1;function b(X,Y){for(var K=X+Y;K>=-1&&K<=y;K+=Y){var H=r[(K%y+y)%y];if(!s.getPoint().isClose(H.getPoint(),1e-7))break;if(s.equals(H))return H}return null}for(;v<=x;){var T=v+x>>>1,O=r[T],L;if(h&&(L=s.equals(O)?O:b(T,-1)||b(T,1)))return s._overlap&&(L._overlap=L._intersection._overlap=!0),L;var D=s.getPath(),N=O.getPath(),R=D!==N?D._id-N._id:s.getIndex()+s.getTime()-(O.getIndex()+O.getTime());R<0?x=T-1:v=T+1}return r.splice(v,0,s),s}return{statics:{insert:e,expand:function(r){for(var s=r.slice(),h=r.length-1;h>=0;h--)e(s,r[h]._intersection,!1);return s}}}}),Le=B.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var r,s,h;if(t.isPlainObject(e)?(s=e.segments,r=e.pathData):Array.isArray(e)?s=e:typeof e=="string"&&(r=e),s){var y=s[0];h=y&&Array.isArray(y[0])}else r&&(h=(r.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(r));var v=h?$e:Be;return new v(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var r=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),s,h=!1,y,v,x=new o,b=new o;function T(z,Z){var ee=+s[z];return h&&(ee+=x[Z]),ee}function O(z){return new o(T(z,"x"),T(z+1,"y"))}this.clear();for(var L=0,D=r&&r.length;L<D;L++){var N=r[L],R=N[0],X=R.toLowerCase();s=N.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var Y=s&&s.length;switch(h=R===X,y==="z"&&!/[mz]/.test(X)&&this.moveTo(x),X){case"m":case"l":for(var K=X==="m",H=0;H<Y;H+=2)this[K?"moveTo":"lineTo"](x=O(H)),K&&(b=x,K=!1);v=x;break;case"h":case"v":var G=X==="h"?"x":"y";x=x.clone();for(var H=0;H<Y;H++)x[G]=T(H,G),this.lineTo(x);v=x;break;case"c":for(var H=0;H<Y;H+=6)this.cubicCurveTo(O(H),v=O(H+2),x=O(H+4));break;case"s":for(var H=0;H<Y;H+=4)this.cubicCurveTo(/[cs]/.test(y)?x.multiply(2).subtract(v):x,v=O(H),x=O(H+2)),y=X;break;case"q":for(var H=0;H<Y;H+=4)this.quadraticCurveTo(v=O(H),x=O(H+2));break;case"t":for(var H=0;H<Y;H+=2)this.quadraticCurveTo(v=/[qt]/.test(y)?x.multiply(2).subtract(v):x,x=O(H)),y=X;break;case"a":for(var H=0;H<Y;H+=7)this.arcTo(x=O(H+5),new _(+s[H],+s[H+1]),+s[H+2],+s[H+4],+s[H+3]);break;case"z":this.closePath(1e-12),x=b;break}y=X}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var r=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return r.onPath||!!(this.getFillRule()==="evenodd"?r.windingL&1||r.windingR&1:r.winding)},getIntersections:function(e,r,s,h){var y=this===e||!e,v=this._matrix._orNullIfIdentity(),x=y?v:(s||e._matrix)._orNullIfIdentity();return y||this.getBounds(v).intersects(e.getBounds(x),1e-12)?de.getIntersections(this.getCurves(),!y&&e.getCurves(),r,v,x,h):[]},getCrossings:function(e){return this.getIntersections(e,function(r){return r.isCrossing()})},getNearestLocation:function(){for(var e=o.read(arguments),r=this.getCurves(),s=1/0,h=null,y=0,v=r.length;y<v;y++){var x=r[y].getNearestLocation(e);x._distance<s&&(s=x._distance,h=x)}return h},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,r,s){var h=!this._children,y=h?"_segments":"_children",v=e[y],x=r[y],b=this[y];if(!v||!x||v.length!==x.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+r);var T=b.length,O=x.length;if(T<O)for(var L=h?ye:Be,D=T;D<O;D++)this.add(new L);else T>O&&this[h?"removeSegments":"removeChildren"](O,T);for(var D=0;D<O;D++)b[D].interpolate(v[D],x[D],s);h&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var r=!1;if(e){var s=this._children||[this],h=e._children?e._children.slice():[e],y=s.length,v=h.length,x=[],b=0;r=!0;for(var T=p.findItemBoundsCollisions(s,h,a.GEOMETRIC_EPSILON),O=y-1;O>=0&&r;O--){var L=s[O];r=!1;var D=T[O];if(D)for(var N=D.length-1;N>=0&&!r;N--)L.compare(h[D[N]])&&(x[D[N]]||(x[D[N]]=!0,b++),r=!0)}r=r&&b===v}return r}}),Be=Le.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(r){this._closed=!1,this._segments=[],this._version=0;var s=arguments,h=Array.isArray(r)?typeof r[0]=="object"?r:s:r&&r.size===C&&(r.x!==C||r.point!==C)?s:null;h&&h.length>0?this.setSegments(h):(this._curves=C,this._segmentSelection=0,!h&&typeof r=="string"&&(this.setPathData(r),r=null)),this._initialize(!h&&r)},_equals:function(e){return this._closed===e._closed&&t.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(r){if(e.base.call(this,r),r&8){if(this._length=this._area=C,r&32)this._version++;else if(this._curves)for(var s=0,h=this._curves.length;s<h;s++)this._curves[s]._changed()}else r&64&&(this._bounds=C)},getStyle:function(){var e=this._parent;return(e instanceof $e?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var r=this.isFullySelected(),s=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=C,s){var h=e[s-1];typeof h=="boolean"&&(this.setClosed(h),s--),this._add(ye.readList(e,0,{},s))}r&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,r=this._segments;if(!e){var s=this._countCurves();e=this._curves=new Array(s);for(var h=0;h<s;h++)e[h]=new de(this,r[h],r[h+1]||r[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var r=this._curves.length=this._countCurves();e&&(this._curves[r-1]=new de(this,this._segments[r-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,r){var s=this._segments,h=s.length,y=new u(r),v=new Array(6),x=!0,b,T,O,L,D,N,R,X,Y=[];function K(G,z){if(G._transformCoordinates(e,v),b=v[0],T=v[1],x)Y.push("M"+y.pair(b,T)),x=!1;else if(D=v[2],N=v[3],D===b&&N===T&&R===O&&X===L){if(!z){var Z=b-O,ee=T-L;Y.push(Z===0?"v"+y.number(ee):ee===0?"h"+y.number(Z):"l"+y.pair(Z,ee))}}else Y.push("c"+y.pair(R-O,X-L)+" "+y.pair(D-O,N-L)+" "+y.pair(b-O,T-L));O=b,L=T,R=v[4],X=v[5]}if(!h)return"";for(var H=0;H<h;H++)K(s[H]);return this._closed&&h>0&&(K(s[0],!0),Y.push("z")),Y.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var r=this._segments,s=new Array(6),h=0,y=r.length;h<y;h++)r[h]._transformCoordinates(e,s,!0);return!0},_add:function(e,x){for(var s=this._segments,h=this._curves,y=e.length,v=x==null,x=v?s.length:x,b=0;b<y;b++){var T=e[b];T._path&&(T=e[b]=T.clone()),T._path=this,T._index=x+b,T._selection&&this._updateSelection(T,0,T._selection)}if(v)t.push(s,e);else{s.splice.apply(s,[x,0].concat(e));for(var b=x+y,O=s.length;b<O;b++)s[b]._index=b}if(h){var L=this._countCurves(),D=x>0&&x+y-1===L?x-1:x,N=D,R=Math.min(D+y,L);e._curves&&(h.splice.apply(h,[D,0].concat(e._curves)),N+=e._curves.length);for(var b=N;b<R;b++)h.splice(b,0,new de(this,null,null));this._adjustCurves(D,R)}return this._changed(41),e},_adjustCurves:function(e,r){for(var s=this._segments,h=this._curves,y,v=e;v<r;v++)y=h[v],y._path=this,y._segment1=s[v],y._segment2=s[v+1]||s[0],y._changed();(y=h[this._closed&&!e?s.length-1:e-1])&&(y._segment2=s[e]||s[0],y._changed()),(y=h[r])&&(y._segment1=s[r],y._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var r=arguments;return r.length>1&&typeof e!="number"?this._add(ye.readList(r)):this._add([ye.read(r)])[0]},insert:function(e,r){var s=arguments;return s.length>2&&typeof r!="number"?this._add(ye.readList(s,1),e):this._add([ye.read(s,1)],e)[0]},addSegment:function(){return this._add([ye.read(arguments)])[0]},insertSegment:function(e){return this._add([ye.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(ye.readList(e))},insertSegments:function(e,r){return this._add(ye.readList(r),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,r,s){e=e||0,r=t.pick(r,this._segments.length);var h=this._segments,y=this._curves,v=h.length,x=h.splice(e,r-e),b=x.length;if(!b)return x;for(var T=0;T<b;T++){var O=x[T];O._selection&&this._updateSelection(O,O._selection,0),O._index=O._path=null}for(var T=e,L=h.length;T<L;T++)h[T]._index=T;if(y){for(var D=e>0&&r===v+(this._closed?1:0)?e-1:e,y=y.splice(D,b),T=y.length-1;T>=0;T--)y[T]._path=null;s&&(x._curves=y.slice(1)),this._adjustCurves(D,D)}return this._changed(41),x},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,r=0,s=e.length;r<s;r++)if(e[r].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,r=0,s=e.length;r<s;r++)e[r].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),r=0,s=0,h=e.length;s<h;s++)r+=e[s].getLength();this._length=r}return this._length},getArea:function(){var e=this._area;if(e==null){var r=this._segments,s=this._closed;e=0;for(var h=0,y=r.length;h<y;h++){var v=h+1===y;e+=de.getArea(de.getValues(r[h],r[v?0:h+1],null,v&&!s))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(r){r&1||this._selectSegments(!1),e.base.call(this,r)},_selectSegments:function(e){var r=this._segments,s=r.length,h=e?7:0;this._segmentSelection=h*s;for(var y=0;y<s;y++)r[y]._selection=h},_updateSelection:function(e,r,s){e._selection=s;var h=this._segmentSelection+=s-r;h>0&&this.setSelected(!0)},divideAt:function(e){var r=this.getLocationAt(e),s;return r&&(s=r.getCurve().divideAt(r.getCurveOffset()))?s._segment1:null},splitAt:function(e){var r=this.getLocationAt(e),s=r&&r.index,h=r&&r.time,y=1e-8,v=1-y;h>v&&(s++,h=0);var x=this.getCurves();if(s>=0&&s<x.length){h>=y&&x[s++].divideAtTime(h);var b=this.removeSegments(s,this._segments.length,!0),T;return this._closed?(this.setClosed(!1),T=this):(T=new Be(B.NO_INSERT),T.insertAbove(this),T.copyAttributes(this)),T._add(b,0),this.addSegment(b[0]),T}return null},split:function(e,r){var s,h=r===C?e:(s=this.getCurves()[e])&&s.getLocationAtTime(r);return h!=null?this.splitAt(h):null},join:function(e,r){var s=r||0;if(e&&e!==this){var h=e._segments,y=this.getLastSegment(),v=e.getLastSegment();if(!v)return this;y&&y._point.isClose(v._point,s)&&e.reverse();var x=e.getFirstSegment();if(y&&y._point.isClose(x._point,s))y.setHandleOut(x._handleOut),this._add(h.slice(1));else{var b=this.getFirstSegment();b&&b._point.isClose(x._point,s)&&e.reverse(),v=e.getLastSegment(),b&&b._point.isClose(v._point,s)?(b.setHandleIn(v._handleIn),this._add(h.slice(0,h.length-1),0)):this._add(h.slice())}e._closed&&this._add([h[0]]),e.remove()}var T=this.getFirstSegment(),O=this.getLastSegment();return T!==O&&T._point.isClose(O._point,s)&&(T.setHandleIn(O._handleIn),O.remove(),this.setClosed(!0)),this},reduce:function(e){for(var r=this.getCurves(),s=e&&e.simplify,h=s?1e-7:0,y=r.length-1;y>=0;y--){var v=r[y];!v.hasHandles()&&(!v.hasLength(h)||s&&v.isCollinear(v.getNext()))&&v.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,r=this._segments.length;e<r;e++){var s=this._segments[e],h=s._handleIn;s._handleIn=s._handleOut,s._handleOut=h,s._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var r=new ut(this,e||.25,256,!0),s=r.parts,h=s.length,y=[],v=0;v<h;v++)y.push(new ye(s[v].curve.slice(0,2)));!this._closed&&h>0&&y.push(new ye(s[h-1].curve.slice(6))),this.setSegments(y)},simplify:function(e){var r=new Ke(this).fit(e||2.5);return r&&this.setSegments(r),!!r},smooth:function(e){var r=this,s=e||{},h=s.type||"asymmetric",y=this._segments,v=y.length,x=this._closed;function b(It,Lt){var pt=It&&It.index;if(pt!=null){var Dt=It.path;if(Dt&&Dt!==r)throw new Error(It._class+" "+pt+" of "+Dt+" is not part of "+r);Lt&&It instanceof de&&pt++}else pt=typeof It=="number"?It:Lt;return Math.min(pt<0&&x?pt%v:pt<0?pt+v:pt,v-1)}var T=x&&s.from===C&&s.to===C,O=b(s.from,0),L=b(s.to,v-1);if(O>L)if(x)O-=v;else{var D=O;O=L,L=D}if(/^(?:asymmetric|continuous)$/.test(h)){var N=h==="asymmetric",R=Math.min,X=L-O+1,Y=X-1,K=T?R(X,4):1,H=K,G=K,z=[];if(x||(H=R(1,O),G=R(1,v-L-1)),Y+=H+G,Y<=1)return;for(var Z=0,ee=O-H;Z<=Y;Z++,ee++)z[Z]=y[(ee<0?ee+v:ee)%v]._point;for(var le=z[0]._x+2*z[1]._x,ie=z[0]._y+2*z[1]._y,pe=2,ve=Y-1,xe=[le],Ce=[ie],be=[pe],Ee=[],Ie=[],Z=1;Z<Y;Z++){var Ue=Z<ve,We=Ue||N?1:2,rt=Ue?4:N?2:7,ke=Ue?4:N?3:8,Ye=Ue?2:N?0:1,ft=We/pe;pe=be[Z]=rt-ft,le=xe[Z]=ke*z[Z]._x+Ye*z[Z+1]._x-ft*le,ie=Ce[Z]=ke*z[Z]._y+Ye*z[Z+1]._y-ft*ie}Ee[ve]=xe[ve]/be[ve],Ie[ve]=Ce[ve]/be[ve];for(var Z=Y-2;Z>=0;Z--)Ee[Z]=(xe[Z]-Ee[Z+1])/be[Z],Ie[Z]=(Ce[Z]-Ie[Z+1])/be[Z];Ee[Y]=(3*z[Y]._x-Ee[ve])/2,Ie[Y]=(3*z[Y]._y-Ie[ve])/2;for(var Z=H,lt=Y-G,ee=O;Z<=lt;Z++,ee++){var nt=y[ee<0?ee+v:ee],Ze=nt._point,xt=Ee[Z]-Ze._x,Tt=Ie[Z]-Ze._y;(T||Z<lt)&&nt.setHandleOut(xt,Tt),(T||Z>H)&&nt.setHandleIn(-xt,-Tt)}}else for(var Z=O;Z<=L;Z++)y[Z<0?Z+v:Z].smooth(s,!T&&Z===O,!T&&Z===L)},toShape:function(e){if(!this._closed)return null;var r=this._segments,s,h,y,v;function x(N,R){var X=r[N],Y=X.getNext(),K=r[R],H=K.getNext();return X._handleOut.isZero()&&Y._handleIn.isZero()&&K._handleOut.isZero()&&H._handleIn.isZero()&&Y._point.subtract(X._point).isCollinear(H._point.subtract(K._point))}function b(N){var R=r[N],X=R.getPrevious(),Y=R.getNext();return X._handleOut.isZero()&&R._handleIn.isZero()&&R._handleOut.isZero()&&Y._handleIn.isZero()&&R._point.subtract(X._point).isOrthogonal(Y._point.subtract(R._point))}function T(N){var R=r[N],X=R.getNext(),Y=R._handleOut,K=X._handleIn,H=.5522847498307936;if(Y.isOrthogonal(K)){var G=R._point,z=X._point,Z=new V(G,Y,!0).intersect(new V(z,K,!0),!0);return Z&&a.isZero(Y.getLength()/Z.subtract(G).getLength()-H)&&a.isZero(K.getLength()/Z.subtract(z).getLength()-H)}return!1}function O(N,R){return r[N]._point.getDistance(r[R]._point)}if(!this.hasHandles()&&r.length===4&&x(0,2)&&x(1,3)&&b(1)?(s=oe.Rectangle,h=new _(O(0,3),O(0,1)),v=r[1]._point.add(r[2]._point).divide(2)):r.length===8&&T(0)&&T(2)&&T(4)&&T(6)&&x(1,5)&&x(3,7)?(s=oe.Rectangle,h=new _(O(1,6),O(0,3)),y=h.subtract(new _(O(0,7),O(1,2))).divide(2),v=r[3]._point.add(r[4]._point).divide(2)):r.length===4&&T(0)&&T(1)&&T(2)&&T(3)&&(a.isZero(O(0,2)-O(1,3))?(s=oe.Circle,y=O(0,2)/2):(s=oe.Ellipse,y=new _(O(2,0)/2,O(3,1)/2)),v=r[1]._point),s){var L=this.getPosition(!0),D=new s({center:L,size:h,radius:y,insert:!1});return D.copyAttributes(this,!0),D._matrix.prepend(this._matrix),D.rotate(v.subtract(L).getAngle()+90),(e===C||e)&&D.insertAbove(this),D}return null},toPath:"#clone",compare:function e(r){if(!r||r instanceof $e)return e.base.call(this,r);var s=this.getCurves(),h=r.getCurves(),y=s.length,v=h.length;if(!y||!v)return y==v;for(var x=s[0].getValues(),b=[],T=0,O,L=0,D,N=0;N<v;N++){var K=h[N].getValues();b.push(K);var R=de.getOverlaps(x,K);if(R){O=!N&&R[0][0]>0?v-1:N,D=R[0][1];break}}for(var X=Math.abs,Y=1e-8,K=b[O],H;x&&K;){var R=de.getOverlaps(x,K);if(R){var G=R[0][0];if(X(G-L)<Y){L=R[1][0],L===1&&(x=++T<y?s[T].getValues():null,L=0);var z=R[0][1];if(X(z-D)<Y){if(H||(H=[O,z]),D=R[1][1],D===1&&(++O>=v&&(O=0),K=b[O]||h[O].getValues(),D=0),!x)return H[0]===O&&H[1]===D;continue}}}break}return!1},_hitTestSelf:function(e,r,s,h){var y=this,v=this.getStyle(),x=this._segments,b=x.length,T=this._closed,O=r._tolerancePadding,L=O,D,N,R,X,Y,K,H=r.stroke&&v.hasStroke(),G=r.fill&&v.hasFill(),z=r.curves,Z=H?v.getStrokeWidth()/2:G&&r.tolerance>0||z?0:null;Z!==null&&(Z>0?(D=v.getStrokeJoin(),N=v.getStrokeCap(),R=v.getMiterLimit(),L=L.add(Be._getStrokePadding(Z,h))):D=N="round");function ee(Ee,Ie){return e.subtract(Ee).divide(Ie).length<=1}function le(Ee,Ie,Ue){if(!r.selected||Ie.isSelected()){var We=Ee._point;if(Ie!==We&&(Ie=Ie.add(We)),ee(Ie,L))return new he(Ue,y,{segment:Ee,point:Ie})}}function ie(Ee,Ie){return(Ie||r.segments)&&le(Ee,Ee._point,"segment")||!Ie&&r.handles&&(le(Ee,Ee._handleIn,"handle-in")||le(Ee,Ee._handleOut,"handle-out"))}function pe(Ee){X.add(Ee)}function ve(Ee){var Ie=T||Ee._index>0&&Ee._index<b-1;if((Ie?D:N)==="round")return ee(Ee._point,L);if(X=new Be({internal:!0,closed:!0}),Ie?Ee.isSmooth()||Be._addBevelJoin(Ee,D,Z,R,null,h,pe,!0):N==="square"&&Be._addSquareCap(Ee,N,Z,null,h,pe,!0),!X.isEmpty()){var Ue;return X.contains(e)||(Ue=X.getNearestLocation(e))&&ee(Ue.getPoint(),O)}}if(r.ends&&!r.segments&&!T){if(K=ie(x[0],!0)||ie(x[b-1],!0))return K}else if(r.segments||r.handles){for(var xe=0;xe<b;xe++)if(K=ie(x[xe]))return K}if(Z!==null){if(Y=this.getNearestLocation(e),Y){var Ce=Y.getTime();Ce===0||Ce===1&&b>1?ve(Y.getSegment())||(Y=null):ee(Y.getPoint(),L)||(Y=null)}if(!Y&&D==="miter"&&b>1)for(var xe=0;xe<b;xe++){var be=x[xe];if(e.getDistance(be._point)<=R*Z&&ve(be)){Y=be.getLocation();break}}}return!Y&&G&&this._contains(e)||Y&&!H&&!z?new he("fill",this):Y?new he(H?"stroke":"curve",this,{location:Y,point:Y.getPoint()}):null}},t.each(de._evaluateMethods,function(e){this[e+"At"]=function(r){var s=this.getLocationAt(r);return s&&s[e]()}},{beans:!1,getLocationOf:function(){for(var e=o.read(arguments),r=this.getCurves(),s=0,h=r.length;s<h;s++){var y=r[s].getLocationOf(e);if(y)return y}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var r=this.getCurves(),s=0,h=0,y=r.length;h<y;h++){var v=s,x=r[h];if(s+=x.getLength(),s>e)return x.getLocationAt(e-v)}if(r.length>0&&e<=this.getLength())return new Ne(r[r.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=o.read(arguments);if(e.isZero())return[];for(var r=[],s=0,h=this.getCurves(),y=0,v=h.length;y<v;y++){for(var x=h[y],b=x.getTimesWithTangent(e),T=0,O=b.length;T<O;T++){var L=s+x.getOffsetAtTime(b[T]);r.indexOf(L)<0&&r.push(L)}s+=x.length}return r}}),new function(){function e(s,h,y,v){if(v<=0)return;var x=v/2,b=v-2,T=x-1,O=new Array(6),L,D;function N(G){var z=O[G],Z=O[G+1];(L!=z||D!=Z)&&(s.beginPath(),s.moveTo(L,D),s.lineTo(z,Z),s.stroke(),s.beginPath(),s.arc(z,Z,x,0,Math.PI*2,!0),s.fill())}for(var R=0,X=h.length;R<X;R++){var Y=h[R],K=Y._selection;if(Y._transformCoordinates(y,O),L=O[0],D=O[1],K&2&&N(2),K&4&&N(4),s.fillRect(L-x,D-x,v,v),b>0&&!(K&1)){var H=s.fillStyle;s.fillStyle="#ffffff",s.fillRect(L-T,D-T,b,b),s.fillStyle=H}}}function r(s,h,y){var v=h._segments,x=v.length,b=new Array(6),T=!0,O,L,D,N,R,X,Y,K;function H(z){if(y)z._transformCoordinates(y,b),O=b[0],L=b[1];else{var Z=z._point;O=Z._x,L=Z._y}if(T)s.moveTo(O,L),T=!1;else{if(y)R=b[2],X=b[3];else{var ee=z._handleIn;R=O+ee._x,X=L+ee._y}R===O&&X===L&&Y===D&&K===N?s.lineTo(O,L):s.bezierCurveTo(Y,K,R,X,O,L)}if(D=O,N=L,y)Y=b[4],K=b[5];else{var ee=z._handleOut;Y=D+ee._x,K=N+ee._y}}for(var G=0;G<x;G++)H(v[G]);h._closed&&x>0&&H(v[0])}return{_draw:function(s,h,y,v){var x=h.dontStart,b=h.dontFinish||h.clip,T=this.getStyle(),O=T.hasFill(),L=T.hasStroke(),D=T.getDashArray(),N=!i.support.nativeDash&&L&&D&&D.length;x||s.beginPath(),(O||L&&!N||b)&&(r(s,this,v),this._closed&&s.closePath());function R(z){return D[(z%N+N)%N]}if(!b&&(O||L)&&(this._setStyles(s,h,y),O&&(s.fill(T.getFillRule()),s.shadowColor="rgba(0,0,0,0)"),L)){if(N){x||s.beginPath();for(var X=new ut(this,.25,32,!1,v),Y=X.length,K=-T.getDashOffset(),H,G=0;K>0;)K-=R(G--)+R(G--);for(;K<Y;)H=K+R(G++),(K>0||H>0)&&X.drawPart(s,Math.max(K,0),Math.max(H,0)),K=H+R(G++)}s.stroke()}},_drawSelected:function(s,h){s.beginPath(),r(s,this,h),s.stroke(),e(s,this._segments,h,i.settings.handleSize)}}},new function(){function e(r){var s=r._segments;if(!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return{moveTo:function(){var r=this._segments;r.length===1&&this.removeSegment(0),r.length||this._add([new ye(o.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new ye(o.read(arguments))])},cubicCurveTo:function(){var r=arguments,s=o.read(r),h=o.read(r),y=o.read(r),v=e(this);v.setHandleOut(s.subtract(v._point)),this._add([new ye(y,h.subtract(y))])},quadraticCurveTo:function(){var r=arguments,s=o.read(r),h=o.read(r),y=e(this)._point;this.cubicCurveTo(s.add(y.subtract(s).multiply(1/3)),s.add(h.subtract(s).multiply(1/3)),h)},curveTo:function(){var r=arguments,s=o.read(r),h=o.read(r),y=t.pick(t.read(r),.5),v=1-y,x=e(this)._point,b=s.subtract(x.multiply(v*v)).subtract(h.multiply(y*y)).divide(2*y*v);if(b.isNaN())throw new Error("Cannot put a curve through points with parameter = "+y);this.quadraticCurveTo(b,h)},arcTo:function(){var r=arguments,s=Math.abs,h=Math.sqrt,y=e(this),v=y._point,x=o.read(r),b,T=t.peek(r),O=t.pick(T,!0),L,D,N,R;if(typeof O=="boolean")var X=v.add(x).divide(2),b=X.add(X.subtract(v).rotate(O?-90:90));else if(t.remain(r)<=2)b=x,x=o.read(r);else if(!v.equals(x)){var Y=_.read(r),K=a.isZero;if(K(Y.width)||K(Y.height))return this.lineTo(x);var H=t.read(r),O=!!t.read(r),G=!!t.read(r),X=v.add(x).divide(2),z=v.subtract(X).rotate(-H),Z=z.x,ee=z.y,le=s(Y.width),ie=s(Y.height),pe=le*le,ve=ie*ie,xe=Z*Z,Ce=ee*ee,be=h(xe/pe+Ce/ve);if(be>1&&(le*=be,ie*=be,pe=le*le,ve=ie*ie),be=(pe*ve-pe*Ce-ve*xe)/(pe*Ce+ve*xe),s(be)<1e-12&&(be=0),be<0)throw new Error("Cannot create an arc with the given arguments");L=new o(le*ee/ie,-ie*Z/le).multiply((G===O?-1:1)*h(be)).rotate(H).add(X),R=new U().translate(L).rotate(H).scale(le,ie),N=R._inverseTransform(v),D=N.getDirectedAngle(R._inverseTransform(x)),!O&&D>0?D-=360:O&&D<0&&(D+=360)}if(b){var Ee=new V(v.add(b).divide(2),b.subtract(v).rotate(90),!0),Ie=new V(b.add(x).divide(2),x.subtract(b).rotate(90),!0),Ue=new V(v,x),We=Ue.getSide(b);if(L=Ee.intersect(Ie,!0),!L){if(!We)return this.lineTo(x);throw new Error("Cannot create an arc with the given arguments")}N=v.subtract(L),D=N.getDirectedAngle(x.subtract(L));var rt=Ue.getSide(L,!0);rt===0?D=We*s(D):We===rt&&(D+=D<0?360:-360)}if(D){for(var ke=1e-7,Ye=s(D),ft=Ye>=360?4:Math.ceil((Ye-ke)/90),lt=D/ft,nt=lt*Math.PI/360,Ze=4/3*Math.sin(nt)/(1+Math.cos(nt)),xt=[],Tt=0;Tt<=ft;Tt++){var z=x,It=null;if(Tt<ft&&(It=N.rotate(90).multiply(Ze),R?(z=R._transformPoint(N),It=R._transformPoint(N.add(It)).subtract(z)):z=L.add(N)),!Tt)y.setHandleOut(It);else{var Lt=N.rotate(-90).multiply(Ze);R&&(Lt=R._transformPoint(N.add(Lt)).subtract(z)),xt.push(new ye(z,Lt,It))}N=N.rotate(lt)}this._add(xt)}},lineBy:function(){var r=o.read(arguments),s=e(this)._point;this.lineTo(s.add(r))},curveBy:function(){var r=arguments,s=o.read(r),h=o.read(r),y=t.read(r),v=e(this)._point;this.curveTo(v.add(s),v.add(h),y)},cubicCurveBy:function(){var r=arguments,s=o.read(r),h=o.read(r),y=o.read(r),v=e(this)._point;this.cubicCurveTo(v.add(s),v.add(h),v.add(y))},quadraticCurveBy:function(){var r=arguments,s=o.read(r),h=o.read(r),y=e(this)._point;this.quadraticCurveTo(y.add(s),y.add(h))},arcBy:function(){var r=arguments,s=e(this)._point,h=s.add(o.read(r)),y=t.pick(t.peek(r),!0);typeof y=="boolean"?this.arcTo(h,y):this.arcTo(h,s.add(o.read(r)))},closePath:function(r){this.setClosed(!0),this.join(this,r)}}},{_getBounds:function(e,r){var s=r.handle?"getHandleBounds":r.stroke?"getStrokeBounds":"getBounds";return Be[s](this._segments,this._closed,this,e,r)},statics:{getBounds:function(e,r,s,h,y,v){var x=e[0];if(!x)return new E;var b=new Array(6),T=x._transformCoordinates(h,new Array(6)),O=T.slice(0,2),L=O.slice(),D=new Array(2);function N(Y){Y._transformCoordinates(h,b);for(var K=0;K<2;K++)de._addBounds(T[K],T[K+4],b[K+2],b[K],K,v?v[K]:0,O,L,D);var H=T;T=b,b=H}for(var R=1,X=e.length;R<X;R++)N(e[R]);return r&&N(x),new E(O[0],O[1],L[0]-O[0],L[1]-O[1])},getStrokeBounds:function(e,r,s,h,y){var v=s.getStyle(),x=v.hasStroke(),b=v.getStrokeWidth(),T=x&&s._getStrokeMatrix(h,y),O=x&&Be._getStrokePadding(b,T),L=Be.getBounds(e,r,s,h,y,O);if(!x)return L;var D=b/2,N=v.getStrokeJoin(),R=v.getStrokeCap(),X=v.getMiterLimit(),Y=new E(new _(O));function K(le){L=L.include(le)}function H(le){L=L.unite(Y.setCenter(le._point.transform(h)))}function G(le,ie){ie==="round"||le.isSmooth()?H(le):Be._addBevelJoin(le,ie,D,X,h,T,K)}function z(le,ie){ie==="round"?H(le):Be._addSquareCap(le,ie,D,h,T,K)}var Z=e.length-(r?0:1);if(Z>0){for(var ee=1;ee<Z;ee++)G(e[ee],N);r?G(e[0],N):(z(e[0],R),z(e[e.length-1],R))}return L},_getStrokePadding:function(e,r){if(!r)return[e,e];var s=new o(e,0).transform(r),h=new o(0,e).transform(r),y=s.getAngleInRadians(),v=s.getLength(),x=h.getLength(),b=Math.sin(y),T=Math.cos(y),O=Math.tan(y),L=Math.atan2(x*O,v),D=Math.atan2(x,O*v);return[Math.abs(v*Math.cos(L)*T+x*Math.sin(L)*b),Math.abs(x*Math.sin(D)*T+v*Math.cos(D)*b)]},_addBevelJoin:function(e,r,s,h,y,v,x,b){var T=e.getCurve(),O=T.getPrevious(),L=T.getPoint1().transform(y),D=O.getNormalAtTime(1).multiply(s).transform(v),N=T.getNormalAtTime(0).multiply(s).transform(v),R=D.getDirectedAngle(N);if((R<0||R>=180)&&(D=D.negate(),N=N.negate()),b&&x(L),x(L.add(D)),r==="miter"){var X=new V(L.add(D),new o(-D.y,D.x),!0).intersect(new V(L.add(N),new o(-N.y,N.x),!0),!0);X&&L.getDistance(X)<=h*s&&x(X)}x(L.add(N))},_addSquareCap:function(e,r,s,h,y,v,x){var b=e._point.transform(h),T=e.getLocation(),O=T.getNormal().multiply(T.getTime()===0?s:-s).transform(y);r==="square"&&(x&&(v(b.subtract(O)),v(b.add(O))),b=b.add(O.rotate(-90))),v(b.add(O)),v(b.subtract(O))},getHandleBounds:function(e,r,s,h,y){var v=s.getStyle(),x=y.stroke&&v.hasStroke(),b,T;if(x){var O=s._getStrokeMatrix(h,y),L=v.getStrokeWidth()/2,D=L;v.getStrokeJoin()==="miter"&&(D=L*v.getMiterLimit()),v.getStrokeCap()==="square"&&(D=Math.max(D,L*Math.SQRT2)),b=Be._getStrokePadding(L,O),T=Be._getStrokePadding(D,O)}for(var N=new Array(6),R=1/0,X=-R,Y=R,K=X,H=0,G=e.length;H<G;H++){var z=e[H];z._transformCoordinates(h,N);for(var Z=0;Z<6;Z+=2){var ee=Z?b:T,le=ee?ee[0]:0,ie=ee?ee[1]:0,pe=N[Z],ve=N[Z+1],xe=pe-le,Ce=pe+le,be=ve-ie,Ee=ve+ie;xe<R&&(R=xe),Ce>X&&(X=Ce),be<Y&&(Y=be),Ee>K&&(K=Ee)}}return new E(R,Y,X-R,K-Y)}}});Be.inject({statics:new function(){var e=.5522847498307936,r=[new ye([-1,0],[0,e],[0,-e]),new ye([0,-1],[-e,0],[e,0]),new ye([1,0],[0,-e],[0,e]),new ye([0,1],[e,0],[-e,0])];function s(y,v,x){var b=t.getNamed(x),T=new Be(b&&b.insert==!1&&B.NO_INSERT);return T._add(y),T._closed=v,T.set(b,{insert:!0})}function h(y,v,x){for(var b=new Array(4),T=0;T<4;T++){var O=r[T];b[T]=new ye(O._point.multiply(v).add(y),O._handleIn.multiply(v),O._handleOut.multiply(v))}return s(b,!0,x)}return{Line:function(){var y=arguments;return s([new ye(o.readNamed(y,"from")),new ye(o.readNamed(y,"to"))],!1,y)},Circle:function(){var y=arguments,v=o.readNamed(y,"center"),x=t.readNamed(y,"radius");return h(v,new _(x),y)},Rectangle:function(){var y=arguments,v=E.readNamed(y,"rectangle"),x=_.readNamed(y,"radius",0,{readNull:!0}),b=v.getBottomLeft(!0),T=v.getTopLeft(!0),O=v.getTopRight(!0),L=v.getBottomRight(!0),D;if(!x||x.isZero())D=[new ye(b),new ye(T),new ye(O),new ye(L)];else{x=_.min(x,v.getSize(!0).divide(2));var N=x.width,R=x.height,X=N*e,Y=R*e;D=[new ye(b.add(N,0),null,[-X,0]),new ye(b.subtract(0,R),[0,Y]),new ye(T.add(0,R),null,[0,-Y]),new ye(T.add(N,0),[-X,0],null),new ye(O.subtract(N,0),null,[X,0]),new ye(O.add(0,R),[0,-Y],null),new ye(L.subtract(0,R),null,[0,Y]),new ye(L.subtract(N,0),[X,0])]}return s(D,!0,y)},RoundRectangle:"#Rectangle",Ellipse:function(){var y=arguments,v=oe._readEllipse(y);return h(v.center,v.radius,y)},Oval:"#Ellipse",Arc:function(){var y=arguments,v=o.readNamed(y,"from"),x=o.readNamed(y,"through"),b=o.readNamed(y,"to"),T=t.getNamed(y),O=new Be(T&&T.insert==!1&&B.NO_INSERT);return O.moveTo(v),O.arcTo(x,b),O.set(T)},RegularPolygon:function(){for(var y=arguments,v=o.readNamed(y,"center"),x=t.readNamed(y,"sides"),b=t.readNamed(y,"radius"),T=360/x,O=x%3===0,L=new o(0,O?-b:b),D=O?-1:.5,N=new Array(x),R=0;R<x;R++)N[R]=new ye(v.add(L.rotate((R+D)*T)));return s(N,!0,y)},Star:function(){for(var y=arguments,v=o.readNamed(y,"center"),x=t.readNamed(y,"points")*2,b=t.readNamed(y,"radius1"),T=t.readNamed(y,"radius2"),O=360/x,L=new o(0,-1),D=new Array(x),N=0;N<x;N++)D[N]=new ye(v.add(L.rotate(O*N).multiply(N%2?T:b)));return s(D,!0,y)}}}});var $e=Le.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||(typeof r=="string"?this.setPathData(r):this.addChildren(Array.isArray(r)?r:arguments))},insertChildren:function e(r,s){var h=s,y=h[0];y&&typeof y[0]=="number"&&(h=[h]);for(var v=s.length-1;v>=0;v--){var x=h[v];h===s&&!(x instanceof Be)&&(h=t.slice(h)),Array.isArray(x)?h[v]=new Be({segments:x,insert:!1}):x instanceof $e&&(h.splice.apply(h,[v,1].concat(x.removeChildren())),x.remove())}return e.base.call(this,r,h)},reduce:function e(r){for(var s=this._children,h=s.length-1;h>=0;h--){var y=s[h].reduce(r);y.isEmpty()&&y.remove()}if(!s.length){var y=new Be(B.NO_INSERT);return y.copyAttributes(this),y.insertAbove(this),this.remove(),y}return e.base.call(this)},isClosed:function(){for(var e=this._children,r=0,s=e.length;r<s;r++)if(!e[r]._closed)return!1;return!0},setClosed:function(e){for(var r=this._children,s=0,h=r.length;s<h;s++)r[s].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,r=[],s=0,h=e.length;s<h;s++)t.push(r,e[s].getCurves());return r},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,r=0,s=0,h=e.length;s<h;s++)r+=e[s].getArea();return r},getLength:function(){for(var e=this._children,r=0,s=0,h=e.length;s<h;s++)r+=e[s].getLength();return r},getPathData:function(e,r){for(var s=this._children,h=[],y=0,v=s.length;y<v;y++){var x=s[y],b=x._matrix;h.push(x.getPathData(e&&!b.isIdentity()?e.appended(b):e,r))}return h.join("")},_hitTestChildren:function e(r,s,h){return e.base.call(this,r,s.class===Be||s.type==="path"?s:t.set({},s,{fill:!1}),h)},_draw:function(e,r,s,h){var y=this._children;if(!!y.length){r=r.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var v=0,x=y.length;v<x;v++)y[v].draw(e,r,h);if(!r.clip){this._setStyles(e,r,s);var b=this._style;b.hasFill()&&(e.fill(b.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),b.hasStroke()&&e.stroke()}}},_drawSelected:function(e,r,s){for(var h=this._children,y=0,v=h.length;y<v;y++){var x=h[y],b=x._matrix;s[x._id]||x._drawSelected(e,b.isIdentity()?r:r.appended(b))}}},new function(){function e(r,s){var h=r._children;if(s&&!h.length)throw new Error("Use a moveTo() command first");return h[h.length-1]}return t.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(r){this[r]=function(){var s=e(this,!0);s[r].apply(s,arguments)}},{moveTo:function(){var r=e(this),s=r&&r.isEmpty()?r:new Be(B.NO_INSERT);s!==r&&this.addChild(s),s.moveTo.apply(s,arguments)},moveBy:function(){var r=e(this,!0),s=r&&r.getLastSegment(),h=o.read(arguments);this.moveTo(s?h.add(s._point):h)},closePath:function(r){e(this,!0).closePath(r)}})},t.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(r){for(var s=this._children,h,y=0,v=s.length;y<v;y++)h=s[y][e](r)||h;return h}},{}));Le.inject(new function(){var e=Math.min,r=Math.max,s=Math.abs,h={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function y(H){return H._children||[H]}function v(H,G){var z=H.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(G){for(var Z=y(z),ee=0,le=Z.length;ee<le;ee++){var H=Z[ee];!H._closed&&!H.isEmpty()&&(H.closePath(1e-12),H.getFirstSegment().setHandleIn(0,0),H.getLastSegment().setHandleOut(0,0))}z=z.resolveCrossings().reorient(z.getFillRule()==="nonzero",!0)}return z}function x(H,G,z,Z,ee){var le=new $e(B.NO_INSERT);return le.addChildren(H,!0),le=le.reduce({simplify:G}),ee&&ee.insert==!1||le.insertAbove(Z&&z.isSibling(Z)&&z.getIndex()<Z.getIndex()?Z:z),le.copyAttributes(z,!0),le}function b(H){return H.hasOverlap()||H.isCrossing()}function T(H,G,z,Z){if(Z&&(Z.trace==!1||Z.stroke)&&/^(subtract|intersect)$/.test(z))return O(H,G,z);var ee=v(H,!0),le=G&&H!==G&&v(G,!0),ie=h[z];ie[z]=!0,le&&(ie.subtract||ie.exclude)^(le.isClockwise()^ee.isClockwise())&&le.reverse();var pe=R(Ne.expand(ee.getIntersections(le,b))),ve=y(ee),xe=le&&y(le),Ce=[],be=[],Ee;function Ie(It){for(var Lt=0,pt=It.length;Lt<pt;Lt++){var Dt=It[Lt];t.push(Ce,Dt._segments),t.push(be,Dt.getCurves()),Dt._overlapsOnly=!0}}function Ue(It){for(var Lt=[],pt=0,Dt=It&&It.length;pt<Dt;pt++)Lt.push(be[It[pt]]);return Lt}if(pe.length){Ie(ve),xe&&Ie(xe);for(var We=new Array(be.length),rt=0,ke=be.length;rt<ke;rt++)We[rt]=be[rt].getValues();for(var Ye=p.findCurveBoundsCollisions(We,We,0,!0),ft={},rt=0;rt<be.length;rt++){var lt=be[rt],nt=lt._path._id,Ze=ft[nt]=ft[nt]||{};Ze[lt.getIndex()]={hor:Ue(Ye[rt].hor),ver:Ue(Ye[rt].ver)}}for(var rt=0,ke=pe.length;rt<ke;rt++)Y(pe[rt]._segment,ee,le,ft,ie);for(var rt=0,ke=Ce.length;rt<ke;rt++){var xt=Ce[rt],Tt=xt._intersection;xt._winding||Y(xt,ee,le,ft,ie),Tt&&Tt._overlap||(xt._path._overlapsOnly=!1)}Ee=K(Ce,ie)}else Ee=N(xe?ve.concat(xe):ve.slice(),function(It){return!!ie[It]});return x(Ee,!0,H,G,Z)}function O(H,G,z){var Z=v(H),ee=v(G),le=Z.getIntersections(ee,b),ie=z==="subtract",pe=z==="divide",ve={},xe=[];function Ce(Ie){if(!ve[Ie._id]&&(pe||ee.contains(Ie.getPointAt(Ie.getLength()/2))^ie))return xe.unshift(Ie),ve[Ie._id]=!0}for(var be=le.length-1;be>=0;be--){var Ee=le[be].split();Ee&&(Ce(Ee)&&Ee.getFirstSegment().setHandleIn(0,0),Z.getLastSegment().setHandleOut(0,0))}return Ce(Z),x(xe,!1,H,G)}function L(H,G){for(var z=H;z;){if(z===G)return;z=z._previous}for(;H._next&&H._next!==G;)H=H._next;if(!H._next){for(;G._previous;)G=G._previous;H._next=G,G._previous=H}}function D(H){for(var G=H.length-1;G>=0;G--)H[G].clearHandles()}function N(H,G,z){var Z=H&&H.length;if(Z){var ee=t.each(H,function(Ye,ft){this[Ye._id]={container:null,winding:Ye.isClockwise()?1:-1,index:ft}},{}),le=H.slice().sort(function(Ye,ft){return s(ft.getArea())-s(Ye.getArea())}),ie=le[0],pe=p.findItemBoundsCollisions(le,null,a.GEOMETRIC_EPSILON);z==null&&(z=ie.isClockwise());for(var ve=0;ve<Z;ve++){var xe=le[ve],Ce=ee[xe._id],be=0,Ee=pe[ve];if(Ee){for(var Ie=null,Ue=Ee.length-1;Ue>=0;Ue--)if(Ee[Ue]<ve){Ie=Ie||xe.getInteriorPoint();var We=le[Ee[Ue]];if(We.contains(Ie)){var rt=ee[We._id];be=rt.winding,Ce.winding+=be,Ce.container=rt.exclude?rt.container:We;break}}}if(G(Ce.winding)===G(be))Ce.exclude=!0,H[Ce.index]=null;else{var ke=Ce.container;xe.setClockwise(ke?!ke.isClockwise():z)}}}return H}function R(H,G,z){var Z=G&&[],ee=1e-8,le=1-ee,ie=!1,pe=z||[],ve=z&&{},xe,Ce,be;function Ee(Lt){return Lt._path._id+"."+Lt._segment1._index}for(var Ie=(z&&z.length)-1;Ie>=0;Ie--){var Ue=z[Ie];Ue._path&&(ve[Ee(Ue)]=!0)}for(var Ie=H.length-1;Ie>=0;Ie--){var We=H[Ie],rt=We._time,ke=rt,Ye=G&&!G(We),Ue=We._curve,ft;if(Ue&&(Ue!==Ce?(ie=!Ue.hasHandles()||ve&&ve[Ee(Ue)],xe=[],be=null,Ce=Ue):be>=ee&&(rt/=be)),Ye){xe&&xe.push(We);continue}else G&&Z.unshift(We);if(be=ke,rt<ee)ft=Ue._segment1;else if(rt>le)ft=Ue._segment2;else{var lt=Ue.divideAtTime(rt,!0);ie&&pe.push(Ue,lt),ft=lt._segment1;for(var nt=xe.length-1;nt>=0;nt--){var Ze=xe[nt];Ze._time=(Ze._time-rt)/(1-rt)}}We._setSegment(ft);var xt=ft._intersection,Tt=We._intersection;if(xt){L(xt,Tt);for(var It=xt;It;)L(It._intersection,xt),It=It._next}else ft._intersection=Tt}return z||D(pe),Z||H}function X(H,G,z,Z,ee){var le=Array.isArray(G)?G:G[z?"hor":"ver"],ie=z?1:0,pe=ie^1,ve=[H.x,H.y],xe=ve[ie],Ce=ve[pe],be=1e-9,Ee=1e-6,Ie=xe-be,Ue=xe+be,We=0,rt=0,ke=0,Ye=0,ft=!1,lt=!1,nt=1,Ze=[],xt,Tt;function It(Kt){var ar=Kt[pe+0],or=Kt[pe+6];if(!(Ce<e(ar,or)||Ce>r(ar,or))){var vr=Kt[ie+0],Ir=Kt[ie+2],Lr=Kt[ie+4],Ar=Kt[ie+6];if(ar===or){(vr<Ue&&Ar>Ie||Ar<Ue&&vr>Ie)&&(ft=!0);return}var qt=Ce===ar?0:Ce===or||Ie>r(vr,Ir,Lr,Ar)||Ue<e(vr,Ir,Lr,Ar)?1:de.solveCubic(Kt,pe,Ce,Ze,0,1)>0?Ze[0]:1,yr=qt===0?vr:qt===1?Ar:de.getPoint(Kt,qt)[z?"y":"x"],kr=ar>or?1:-1,Dr=xt[pe]>xt[pe+6]?1:-1,Gr=xt[ie+6];return Ce!==ar?(yr<Ie?ke+=kr:yr>Ue?Ye+=kr:ft=!0,yr>xe-Ee&&yr<xe+Ee&&(nt/=2)):(kr!==Dr?vr<Ie?ke+=kr:vr>Ue&&(Ye+=kr):vr!=Gr&&(Gr<Ue&&yr>Ue?(Ye+=kr,ft=!0):Gr>Ie&&yr<Ie&&(ke+=kr,ft=!0)),nt/=4),xt=Kt,!ee&&yr>Ie&&yr<Ue&&de.getTangent(Kt,qt)[z?"x":"y"]===0&&X(H,G,!z,Z,!0)}}function Lt(Kt){var ar=Kt[pe+0],or=Kt[pe+2],vr=Kt[pe+4],Ir=Kt[pe+6];if(Ce<=r(ar,or,vr,Ir)&&Ce>=e(ar,or,vr,Ir)){for(var Lr=Kt[ie+0],Ar=Kt[ie+2],qt=Kt[ie+4],yr=Kt[ie+6],kr=Ie>r(Lr,Ar,qt,yr)||Ue<e(Lr,Ar,qt,yr)?[Kt]:de.getMonoCurves(Kt,z),Dr,Gr=0,_n=kr.length;Gr<_n;Gr++)if(Dr=It(kr[Gr]))return Dr}}for(var pt=0,Dt=le.length;pt<Dt;pt++){var jt=le[pt],Gt=jt._path,nr=jt.getValues(),sr;if((!pt||le[pt-1]._path!==Gt)&&(xt=null,Gt._closed||(Tt=de.getValues(Gt.getLastCurve().getSegment2(),jt.getSegment1(),null,!Z),Tt[pe]!==Tt[pe+6]&&(xt=Tt)),!xt)){xt=nr;for(var ir=Gt.getLastCurve();ir&&ir!==jt;){var Qt=ir.getValues();if(Qt[pe]!==Qt[pe+6]){xt=Qt;break}ir=ir.getPrevious()}}if(sr=Lt(nr))return sr;if(pt+1===Dt||le[pt+1]._path!==Gt){if(Tt&&(sr=Lt(Tt)))return sr;ft&&!ke&&!Ye&&(ke=Ye=Gt.isClockwise(Z)^z?1:-1),We+=ke,rt+=Ye,ke=Ye=0,ft&&(lt=!0,ft=!1),Tt=null}}return We=s(We),rt=s(rt),{winding:r(We,rt),windingL:We,windingR:rt,quality:nt,onPath:lt}}function Y(H,G,z,Z,ee){var le=[],ie=H,pe=0,be;do{var ve=H.getCurve();if(ve){var xe=ve.getLength();le.push({segment:H,curve:ve,length:xe}),pe+=xe}H=H.getNext()}while(H&&!H._intersection&&H!==ie);for(var Ce=[.5,.25,.75],be={winding:0,quality:-1},Ee=.001,Ie=1-Ee,Ue=0;Ue<Ce.length&&be.quality<.5;Ue++)for(var xe=pe*Ce[Ue],We=0,rt=le.length;We<rt;We++){var ke=le[We],Ye=ke.length;if(xe<=Ye){var ve=ke.curve,ft=ve._path,lt=ft._parent,nt=lt instanceof $e?lt:ft,Ze=a.clamp(ve.getTimeAt(xe),Ee,Ie),xt=ve.getPointAtTime(Ze),Tt=s(ve.getTangentAtTime(Ze).y)<Math.SQRT1_2,It=null;if(ee.subtract&&z){var Lt=nt===G?z:G,pt=Lt._getWinding(xt,Tt,!0);if(nt===G&&pt.winding||nt===z&&!pt.winding){if(pt.quality<1)continue;It={winding:0,quality:1}}}It=It||X(xt,Z[ft._id][ve.getIndex()],Tt,!0),It.quality>be.quality&&(be=It);break}xe-=Ye}for(var We=le.length-1;We>=0;We--)le[We].segment._winding=be}function K(H,G){var z=[],Z;function ee(Dt){var jt;return!!(Dt&&!Dt._visited&&(!G||G[(jt=Dt._winding||{}).winding]&&!(G.unite&&jt.winding===2&&jt.windingL&&jt.windingR)))}function le(Dt){if(Dt){for(var jt=0,Gt=Z.length;jt<Gt;jt++)if(Dt===Z[jt])return!0}return!1}function ie(Dt){for(var jt=Dt._segments,Gt=0,nr=jt.length;Gt<nr;Gt++)jt[Gt]._visited=!0}function pe(Dt,jt){var Gt=Dt._intersection,nr=Gt,sr=[];jt&&(Z=[Dt]);function ir(Qt,Kt){for(;Qt&&Qt!==Kt;){var ar=Qt._segment,or=ar&&ar._path;if(or){var vr=ar.getNext()||or.getFirstSegment(),Ir=vr._intersection;ar!==Dt&&(le(ar)||le(vr)||vr&&ee(ar)&&(ee(vr)||Ir&&ee(Ir._segment)))&&sr.push(ar),jt&&Z.push(ar)}Qt=Qt._next}}if(Gt){for(ir(Gt);Gt&&Gt._previous;)Gt=Gt._previous;ir(Gt,nr)}return sr}H.sort(function(Dt,jt){var Gt=Dt._intersection,nr=jt._intersection,sr=!!(Gt&&Gt._overlap),ir=!!(nr&&nr._overlap),Qt=Dt._path,Kt=jt._path;return sr^ir?sr?1:-1:!Gt^!nr?Gt?1:-1:Qt!==Kt?Qt._id-Kt._id:Dt._index-jt._index});for(var ve=0,xe=H.length;ve<xe;ve++){var Ce=H[ve],be=ee(Ce),Ee=null,Ie=!1,Ue=!0,We=[],rt,ke,Ye;if(be&&Ce._path._overlapsOnly){var ft=Ce._path,lt=Ce._intersection._segment._path;ft.compare(lt)&&(ft.getArea()&&z.push(ft.clone(!1)),ie(ft),ie(lt),be=!1)}for(;be;){var nt=!Ee,Ze=pe(Ce,nt),xt=Ze.shift(),Ie=!nt&&(le(Ce)||le(xt)),Tt=!Ie&&xt;if(nt&&(Ee=new Be(B.NO_INSERT),rt=null),Ie){(Ce.isFirst()||Ce.isLast())&&(Ue=Ce._path._closed),Ce._visited=!0;break}if(Tt&&rt&&(We.push(rt),rt=null),rt||(Tt&&Ze.push(Ce),rt={start:Ee._segments.length,crossings:Ze,visited:ke=[],handleIn:Ye}),Tt&&(Ce=xt),!ee(Ce)){Ee.removeSegments(rt.start);for(var It=0,Lt=ke.length;It<Lt;It++)ke[It]._visited=!1;ke.length=0;do Ce=rt&&rt.crossings.shift(),(!Ce||!Ce._path)&&(Ce=null,rt=We.pop(),rt&&(ke=rt.visited,Ye=rt.handleIn));while(rt&&!ee(Ce));if(!Ce)break}var pt=Ce.getNext();Ee.add(new ye(Ce._point,Ye,pt&&Ce._handleOut)),Ce._visited=!0,ke.push(Ce),Ce=pt||Ce._path.getFirstSegment(),Ye=pt&&pt._handleIn}Ie&&(Ue&&(Ee.getFirstSegment().setHandleIn(Ye),Ee.setClosed(Ue)),Ee.getArea()!==0&&z.push(Ee))}return z}return{_getWinding:function(H,G,z){return X(H,this.getCurves(),G,z)},unite:function(H,G){return T(this,H,"unite",G)},intersect:function(H,G){return T(this,H,"intersect",G)},subtract:function(H,G){return T(this,H,"subtract",G)},exclude:function(H,G){return T(this,H,"exclude",G)},divide:function(H,G){return G&&(G.trace==!1||G.stroke)?O(this,H,"divide"):x([this.subtract(H,G),this.intersect(H,G)],!0,this,H,G)},resolveCrossings:function(){var H=this._children,G=H||[this];function z(rt,ke){var Ye=rt&&rt._intersection;return Ye&&Ye._overlap&&Ye._path===ke}var Z=!1,ee=!1,le=this.getIntersections(null,function(rt){return rt.hasOverlap()&&(Z=!0)||rt.isCrossing()&&(ee=!0)}),ie=Z&&ee&&[];if(le=Ne.expand(le),Z)for(var pe=R(le,function(rt){return rt.hasOverlap()},ie),ve=pe.length-1;ve>=0;ve--){var xe=pe[ve],Ce=xe._path,be=xe._segment,Ee=be.getPrevious(),Ie=be.getNext();z(Ee,Ce)&&z(Ie,Ce)&&(be.remove(),Ee._handleOut._set(0,0),Ie._handleIn._set(0,0),Ee!==be&&!Ee.getCurve().hasLength()&&(Ie._handleIn.set(Ee._handleIn),Ee.remove()))}ee&&(R(le,Z&&function(rt){var ke=rt.getCurve(),Ye=rt.getSegment(),ft=rt._intersection,lt=ft._curve,nt=ft._segment;if(ke&&lt&&ke._path&&lt._path)return!0;Ye&&(Ye._intersection=null),nt&&(nt._intersection=null)},ie),ie&&D(ie),G=K(t.each(G,function(rt){t.push(this,rt._segments)},[])));var Ue=G.length,We;return Ue>1&&H?(G!==H&&this.setChildren(G),We=this):Ue===1&&!H&&(G[0]!==this&&this.setSegments(G[0].removeSegments()),We=this),We||(We=new $e(B.NO_INSERT),We.addChildren(G),We=We.reduce(),We.copyAttributes(this),this.replaceWith(We)),We},reorient:function(H,G){var z=this._children;return z&&z.length?this.setChildren(N(this.removeChildren(),function(Z){return!!(H?Z:Z&1)},G)):G!==C&&this.setClockwise(G),this},getInteriorPoint:function(){var H=this.getBounds(),G=H.getCenter(!0);if(!this.contains(G)){for(var z=this.getCurves(),Z=G.y,ee=[],le=[],ie=0,pe=z.length;ie<pe;ie++){var ve=z[ie].getValues(),xe=ve[1],Ce=ve[3],be=ve[5],Ee=ve[7];if(Z>=e(xe,Ce,be,Ee)&&Z<=r(xe,Ce,be,Ee))for(var Ie=de.getMonoCurves(ve),Ue=0,We=Ie.length;Ue<We;Ue++){var rt=Ie[Ue],ke=rt[1],Ye=rt[7];if(ke!==Ye&&(Z>=ke&&Z<=Ye||Z>=Ye&&Z<=ke)){var ft=Z===ke?rt[0]:Z===Ye?rt[6]:de.solveCubic(rt,1,Z,le,0,1)===1?de.getPoint(rt,le[0]).x:(rt[0]+rt[6])/2;ee.push(ft)}}}ee.length>1&&(ee.sort(function(lt,nt){return lt-nt}),G.x=(ee[0]+ee[1])/2)}return G}}});var ut=t.extend({_class:"PathFlattener",initialize:function(e,r,s,h,y){var v=[],x=[],b=0,T=1/(s||32),O=e._segments,L=O[0],D;function N(K,H){var G=de.getValues(K,H,y);v.push(G),R(G,K._index,0,1)}function R(K,H,G,z){if(z-G>T&&!(h&&de.isStraight(K))&&!de.isFlatEnough(K,r||.25)){var Z=de.subdivide(K,.5),ee=(G+z)/2;R(Z[0],H,G,ee),R(Z[1],H,ee,z)}else{var le=K[6]-K[0],ie=K[7]-K[1],pe=Math.sqrt(le*le+ie*ie);pe>0&&(b+=pe,x.push({offset:b,curve:K,index:H,time:z}))}}for(var X=1,Y=O.length;X<Y;X++)D=O[X],N(L,D),L=D;e._closed&&N(D||L,O[0]),this.curves=v,this.parts=x,this.length=b,this.index=0},_get:function(e){for(var r=this.parts,s=r.length,h,y=this.index;h=y,!(!y||r[--y].offset<e););for(;h<s;h++){var v=r[h];if(v.offset>=e){this.index=h;var x=r[h-1],b=x&&x.index===v.index?x.time:0,T=x?x.offset:0;return{index:v.index,time:b+(v.time-b)*(e-T)/(v.offset-T)}}}return{index:r[s-1].index,time:1}},drawPart:function(e,r,s){for(var h=this._get(r),y=this._get(s),v=h.index,x=y.index;v<=x;v++){var b=de.getPart(this.curves[v],v===h.index?h.time:0,v===y.index?y.time:1);v===h.index&&e.moveTo(b[0],b[1]),e.bezierCurveTo.apply(e,b.slice(2))}}},t.each(de._evaluateMethods,function(e){this[e+"At"]=function(r){var s=this._get(r);return de[e](this.curves[s.index],s.time)}},{})),Ke=t.extend({initialize:function(e){for(var r=this.points=[],s=e._segments,h=e._closed,y=0,v,x=s.length;y<x;y++){var b=s[y].point;(!v||!v.equals(b))&&r.push(v=b.clone())}h&&(r.unshift(r[r.length-1]),r.push(r[1])),this.closed=h},fit:function(e){var r=this.points,s=r.length,h=null;return s>0&&(h=[new ye(r[0])],s>1&&(this.fitCubic(h,e,0,s-1,r[1].subtract(r[0]),r[s-2].subtract(r[s-1])),this.closed&&(h.shift(),h.pop()))),h},fitCubic:function(e,r,s,h,y,v){var x=this.points;if(h-s===1){var b=x[s],T=x[h],O=b.getDistance(T)/3;this.addCurve(e,[b,b.add(y.normalize(O)),T.add(v.normalize(O)),T]);return}for(var L=this.chordLengthParameterize(s,h),D=Math.max(r,r*r),N,R=!0,X=0;X<=4;X++){var Y=this.generateBezier(s,h,L,y,v),K=this.findMaxError(s,h,Y,L);if(K.error<r&&R){this.addCurve(e,Y);return}if(N=K.index,K.error>=D)break;R=this.reparameterize(s,h,L,Y),D=K.error}var H=x[N-1].subtract(x[N+1]);this.fitCubic(e,r,s,N,y,H),this.fitCubic(e,r,N,h,H.negate(),v)},addCurve:function(e,r){var s=e[e.length-1];s.setHandleOut(r[1].subtract(r[0])),e.push(new ye(r[3],r[2].subtract(r[3])))},generateBezier:function(e,r,s,h,y){for(var v=1e-12,x=Math.abs,b=this.points,T=b[e],O=b[r],L=[[0,0],[0,0]],D=[0,0],N=0,R=r-e+1;N<R;N++){var X=s[N],Y=1-X,K=3*X*Y,H=Y*Y*Y,G=K*Y,z=K*X,Z=X*X*X,ee=h.normalize(G),le=y.normalize(z),ie=b[e+N].subtract(T.multiply(H+G)).subtract(O.multiply(z+Z));L[0][0]+=ee.dot(ee),L[0][1]+=ee.dot(le),L[1][0]=L[0][1],L[1][1]+=le.dot(le),D[0]+=ee.dot(ie),D[1]+=le.dot(ie)}var pe=L[0][0]*L[1][1]-L[1][0]*L[0][1],ve,xe;if(x(pe)>v){var Ce=L[0][0]*D[1]-L[1][0]*D[0],be=D[0]*L[1][1]-D[1]*L[0][1];ve=be/pe,xe=Ce/pe}else{var Ee=L[0][0]+L[0][1],Ie=L[1][0]+L[1][1];ve=xe=x(Ee)>v?D[0]/Ee:x(Ie)>v?D[1]/Ie:0}var Ue=O.getDistance(T),We=v*Ue,rt,ke;if(ve<We||xe<We)ve=xe=Ue/3;else{var Ye=O.subtract(T);rt=h.normalize(ve),ke=y.normalize(xe),rt.dot(Ye)-ke.dot(Ye)>Ue*Ue&&(ve=xe=Ue/3,rt=ke=null)}return[T,T.add(rt||h.normalize(ve)),O.add(ke||y.normalize(xe)),O]},reparameterize:function(e,r,s,h){for(var y=e;y<=r;y++)s[y-e]=this.findRoot(h,this.points[y],s[y-e]);for(var y=1,v=s.length;y<v;y++)if(s[y]<=s[y-1])return!1;return!0},findRoot:function(e,r,s){for(var h=[],y=[],v=0;v<=2;v++)h[v]=e[v+1].subtract(e[v]).multiply(3);for(var v=0;v<=1;v++)y[v]=h[v+1].subtract(h[v]).multiply(2);var x=this.evaluate(3,e,s),b=this.evaluate(2,h,s),T=this.evaluate(1,y,s),O=x.subtract(r),L=b.dot(b)+O.dot(T);return a.isMachineZero(L)?s:s-O.dot(b)/L},evaluate:function(e,r,s){for(var h=r.slice(),y=1;y<=e;y++)for(var v=0;v<=e-y;v++)h[v]=h[v].multiply(1-s).add(h[v+1].multiply(s));return h[0]},chordLengthParameterize:function(e,r){for(var s=[0],h=e+1;h<=r;h++)s[h-e]=s[h-e-1]+this.points[h].getDistance(this.points[h-1]);for(var h=1,y=r-e;h<=y;h++)s[h]/=s[y];return s},findMaxError:function(e,r,s,h){for(var y=Math.floor((r-e+1)/2),v=0,x=e+1;x<r;x++){var b=this.evaluate(3,s,h[x-e]),T=b.subtract(this.points[x]),O=T.x*T.x+T.y*T.y;O>=v&&(v=O,y=x)}return{error:v,index:y}}}),_t=B.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(r){this._content="",this._lines=[];var s=r&&t.isPlainObject(r)&&r.x===C&&r.y===C;this._initialize(s&&r,!s&&o.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),at=_t.extend({_class:"PointText",initialize:function(){_t.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new d(e.x,e.y,this,"setPoint")},setPoint:function(){var e=o.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,r,s){if(!!this._content){this._setStyles(e,r,s);var h=this._lines,y=this._style,v=y.hasFill(),x=y.hasStroke(),b=y.getLeading(),T=e.shadowColor;e.font=y.getFontStyle(),e.textAlign=y.getJustification();for(var O=0,L=h.length;O<L;O++){e.shadowColor=T;var D=h[O];v&&(e.fillText(D,0,0),e.shadowColor="rgba(0,0,0,0)"),x&&e.strokeText(D,0,0),e.translate(0,b)}}},_getBounds:function(e,r){var s=this._style,h=this._lines,y=h.length,v=s.getJustification(),x=s.getLeading(),b=this.getView().getTextWidth(s.getFontStyle(),h),T=0;v!=="left"&&(T-=b/(v==="center"?2:1));var O=new E(T,y?-.75*x:0,b,y*x);return e?e._transformBounds(O,O):O}}),Fe=t.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},s={transparent:[0,0,0,0]},h;function y(b){var T=b.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||b.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),O="rgb",L;if(T){var D=T[4]?4:3;L=new Array(D);for(var N=0;N<D;N++){var R=T[N+1];L[N]=parseInt(R.length==1?R+R:R,16)/255}}else if(T=b.match(/^(rgb|hsl)a?\((.*)\)$/)){O=T[1],L=T[2].trim().split(/[,\s]+/g);for(var X=O==="hsl",N=0,Y=Math.min(L.length,4);N<Y;N++){var K=L[N],R=parseFloat(K);if(X)if(N===0){var H=K.match(/([a-z]*)$/)[1];R*={turn:360,rad:180/Math.PI,grad:.9}[H]||1}else N<3&&(R/=100);else N<3&&(R/=/%$/.test(K)?100:255);L[N]=R}}else{var G=s[b];if(!G)if(S){h||(h=gt.getContext(1,1),h.globalCompositeOperation="copy"),h.fillStyle="rgba(0,0,0,0)",h.fillStyle=b,h.fillRect(0,0,1,1);var z=h.getImageData(0,0,1,1).data;G=s[b]=[z[0]/255,z[1]/255,z[2]/255]}else G=[0,0,0];L=G.slice()}return[O,L]}var v=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],x={"rgb-hsb":function(b,T,O){var L=Math.max(b,T,O),D=Math.min(b,T,O),N=L-D,R=N===0?0:(L==b?(T-O)/N+(T<O?6:0):L==T?(O-b)/N+2:(b-T)/N+4)*60;return[R,L===0?0:N/L,L]},"hsb-rgb":function(b,T,O){b=(b/60%6+6)%6;var D=Math.floor(b),L=b-D,D=v[D],N=[O,O*(1-T),O*(1-T*L),O*(1-T*(1-L))];return[N[D[0]],N[D[1]],N[D[2]]]},"rgb-hsl":function(b,T,O){var L=Math.max(b,T,O),D=Math.min(b,T,O),N=L-D,R=N===0,X=R?0:(L==b?(T-O)/N+(T<O?6:0):L==T?(O-b)/N+2:(b-T)/N+4)*60,Y=(L+D)/2,K=R?0:Y<.5?N/(L+D):N/(2-L-D);return[X,K,Y]},"hsl-rgb":function(b,T,O){if(b=(b/360%1+1)%1,T===0)return[O,O,O];for(var L=[b+1/3,b,b-1/3],D=O<.5?O*(1+T):O+T-O*T,N=2*O-D,R=[],X=0;X<3;X++){var Y=L[X];Y<0&&(Y+=1),Y>1&&(Y-=1),R[X]=6*Y<1?N+(D-N)*6*Y:2*Y<1?D:3*Y<2?N+(D-N)*(2/3-Y)*6:N}return R},"rgb-gray":function(b,T,O){return[b*.2989+T*.587+O*.114]},"gray-rgb":function(b){return[b,b,b]},"gray-hsb":function(b){return[0,0,b]},"gray-hsl":function(b){return[0,0,b]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return t.each(e,function(b,T){r[T]=[],t.each(b,function(O,L){var D=t.capitalize(O),N=/^(hue|saturation)$/.test(O),R=r[T][L]=T==="gradient"?O==="gradient"?function(X){var Y=this._components[0];return X=ae.read(Array.isArray(X)?X:arguments,0,{readNull:!0}),Y!==X&&(Y&&Y._removeOwner(this),X&&X._addOwner(this)),X}:function(){return o.read(arguments,0,{readNull:O==="highlight",clone:!0})}:function(X){return X==null||isNaN(X)?0:+X};this["get"+D]=function(){return this._type===T||N&&/^hs[bl]$/.test(this._type)?this._components[L]:this._convert(T)[L]},this["set"+D]=function(X){this._type!==T&&!(N&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(T),this._properties=e[T],this._type=T),this._components[L]=R.call(this,X),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function b(T){var O=arguments,L=this.__read,D=0,N,R,X,Y;Array.isArray(T)&&(O=T,T=O[0]);var K=T!=null&&typeof T;if(K==="string"&&T in e&&(N=T,T=O[1],Array.isArray(T)?(R=T,X=O[2]):(L&&(D=1),O=t.slice(O,1),K=typeof T)),!R){if(Y=K==="number"?O:K==="object"&&T.length!=null?T:null,Y){N||(N=Y.length>=3?"rgb":"gray");var H=e[N].length;X=Y[H],L&&(D+=Y===arguments?H+(X!=null?1:0):1),Y.length>H&&(Y=t.slice(Y,0,H))}else if(K==="string"){var G=y(T);N=G[0],R=G[1],R.length===4&&(X=R[3],R.length--)}else if(K==="object")if(T.constructor===b){if(N=T._type,R=T._components.slice(),X=T._alpha,N==="gradient")for(var z=1,Z=R.length;z<Z;z++){var ee=R[z];ee&&(R[z]=ee.clone())}}else if(T.constructor===ae)N="gradient",Y=O;else{N="hue"in T?"lightness"in T?"hsl":"hsb":"gradient"in T||"stops"in T||"radial"in T?"gradient":"gray"in T?"gray":"rgb";var le=e[N],ie=r[N];this._components=R=[];for(var z=0,Z=le.length;z<Z;z++){var pe=T[le[z]];pe==null&&!z&&N==="gradient"&&"stops"in T&&(pe={stops:T.stops,radial:T.radial}),pe=ie[z].call(this,pe),pe!=null&&(R[z]=pe)}X=T.alpha}L&&N&&(D=1)}if(this._type=N||"rgb",!R){this._components=R=[];for(var ie=r[this._type],z=0,Z=ie.length;z<Z;z++){var pe=ie[z].call(this,Y&&Y[z]);pe!=null&&(R[z]=pe)}}return this._components=R,this._properties=e[this._type],this._alpha=X,L&&(this.__read=D),this},set:"#initialize",_serialize:function(b,T){var O=this.getComponents();return t.serialize(/^(gray|rgb)$/.test(this._type)?O:[this._type].concat(O),b,!0,T)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(b){var T;return this._type===b?this._components.slice():(T=x[this._type+"-"+b])?T.apply(this,this._components):x["rgb-"+b].apply(this,x[this._type+"-rgb"].apply(this,this._components))},convert:function(b){return new Fe(b,this._convert(b),this._alpha)},getType:function(){return this._type},setType:function(b){this._components=this._convert(b),this._properties=e[b],this._type=b},getComponents:function(){var b=this._components.slice();return this._alpha!=null&&b.push(this._alpha),b},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(b){this._alpha=b==null?null:Math.min(Math.max(b,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(b){var T=t.isPlainValue(b,!0)?Fe.read(arguments):b;return T===this||T&&this._class===T._class&&this._type===T._type&&this.getAlpha()===T.getAlpha()&&t.equals(this._components,T._components)||!1},toString:function(){for(var b=this._properties,T=[],O=this._type==="gradient",L=u.instance,D=0,N=b.length;D<N;D++){var R=this._components[D];R!=null&&T.push(b[D]+": "+(O?R:L.number(R)))}return this._alpha!=null&&T.push("alpha: "+L.number(this._alpha)),"{ "+T.join(", ")+" }"},toCSS:function(b){var T=this._convert("rgb"),O=b||this._alpha==null?1:this._alpha;function L(D){return Math.round((D<0?0:D>1?1:D)*255)}return T=[L(T[0]),L(T[1]),L(T[2])],O<1&&T.push(O<0?0:O),b?"#"+((1<<24)+(T[0]<<16)+(T[1]<<8)+T[2]).toString(16).slice(1):(T.length==4?"rgba(":"rgb(")+T.join(",")+")"},toCanvasStyle:function(b,T){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var O=this._components,L=O[0],D=L._stops,N=O[1],R=O[2],X=O[3],Y=T&&T.inverted(),K;if(Y&&(N=Y._transformPoint(N),R=Y._transformPoint(R),X&&(X=Y._transformPoint(X))),L._radial){var H=R.getDistance(N);if(X){var G=X.subtract(N);G.getLength()>H&&(X=N.add(G.normalize(H-.1)))}var z=X||N;K=b.createRadialGradient(z.x,z.y,0,N.x,N.y,H)}else K=b.createLinearGradient(N.x,N.y,R.x,R.y);for(var Z=0,ee=D.length;Z<ee;Z++){var le=D[Z],ie=le._offset;K.addColorStop(ie==null?Z/(ee-1):ie,le._color.toCanvasStyle())}return this._canvasStyle=K},transform:function(b){if(this._type==="gradient"){for(var T=this._components,O=1,L=T.length;O<L;O++){var D=T[O];b._transformPoint(D,D,!0)}this._changed()}},statics:{_types:e,random:function(){var b=Math.random;return new Fe(b(),b(),b())},_setOwner:function(b,T,O){return b&&(b._owner&&T&&b._owner!==T&&(b=b.clone()),!b._owner^!T&&(b._owner=T||null,b._setter=O||null)),b}}})},new function(){var e={add:function(r,s){return r+s},subtract:function(r,s){return r-s},multiply:function(r,s){return r*s},divide:function(r,s){return r/s}};return t.each(e,function(r,s){this[s]=function(h){h=Fe.read(arguments);for(var y=this._type,v=this._components,x=h._convert(y),b=0,T=v.length;b<T;b++)x[b]=r(v[b],x[b]);return new Fe(y,x,this._alpha!=null?r(this._alpha,h.getAlpha()):null)}},{})}),ae=t.extend({_class:"Gradient",initialize:function(r,s){this._id=l.get(),r&&t.isPlainObject(r)&&(this.set(r),r=s=null),this._stops==null&&this.setStops(r||["white","black"]),this._radial==null&&this.setRadial(typeof s=="string"&&s==="radial"||s||!1)},_serialize:function(e,r){return r.add(this,function(){return t.serialize([this._stops,this._radial],e,!0,r)})},_changed:function(){for(var e=0,r=this._owners&&this._owners.length;e<r;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var r=this._owners?this._owners.indexOf(e):-1;r!=-1&&(this._owners.splice(r,1),this._owners.length||(this._owners=C))},clone:function(){for(var e=[],r=0,s=this._stops.length;r<s;r++)e[r]=this._stops[r].clone();return new ae(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var r=this._stops;if(r)for(var s=0,h=r.length;s<h;s++)r[s]._owner=C;r=this._stops=me.readList(e,0,{clone:!0});for(var s=0,h=r.length;s<h;s++)r[s]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var r=this._stops,s=e._stops,h=r.length;if(h===s.length){for(var y=0;y<h;y++)if(!r[y].equals(s[y]))return!1;return!0}}return!1}}),me=t.extend({_class:"GradientStop",initialize:function(r,s){var h=r,y=s;typeof r=="object"&&s===C&&(Array.isArray(r)&&typeof r[0]!="number"?(h=r[0],y=r[1]):("color"in r||"offset"in r||"rampPoint"in r)&&(h=r.color,y=r.offset||r.rampPoint||0)),this.setColor(h),this.setOffset(y)},clone:function(){return new me(this._color.clone(),this._offset)},_serialize:function(e,r){var s=this._color,h=this._offset;return t.serialize(h==null?[s]:[s,h],e,!0,r)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Fe._setOwner(this._color,null),this._color=Fe._setOwner(Fe.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),Te=t.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new o,selectedColor:null},r=t.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),s=t.set({},r,{fillColor:new Fe}),h={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},y={beans:!0},v={_class:"Style",beans:!0,initialize:function(b,T,O){this._values={},this._owner=T,this._project=T&&T._project||O||i.project,this._defaults=!T||T instanceof se?r:T instanceof _t?s:e,b&&this.set(b)}};return t.each(r,function(x,b){var T=/Color$/.test(b),O=b==="shadowOffset",L=t.capitalize(b),D=h[b],N="set"+L,R="get"+L;v[N]=function(X){var Y=this._owner,K=Y&&Y._children,H=K&&K.length>0&&!(Y instanceof $e);if(H)for(var G=0,z=K.length;G<z;G++)K[G]._style[N](X);if((b==="selectedColor"||!H)&&b in this._defaults){var Z=this._values[b];Z!==X&&(T&&(Z&&(Fe._setOwner(Z,null),Z._canvasStyle=null),X&&X.constructor===Fe&&(X=Fe._setOwner(X,Y,H&&N))),this._values[b]=X,Y&&Y._changed(D||129))}},v[R]=function(X){var Y=this._owner,K=Y&&Y._children,H=K&&K.length>0&&!(Y instanceof $e),G;if(H&&!X)for(var z=0,Z=K.length;z<Z;z++){var ee=K[z]._style[R]();if(!z)G=ee;else if(!t.equals(G,ee))return C}else if(b in this._defaults){var G=this._values[b];if(G===C)G=this._defaults[b],G&&G.clone&&(G=G.clone());else{var le=T?Fe:O?o:null;le&&!(G&&G.constructor===le)&&(this._values[b]=G=le.read([G],0,{readNull:!0,clone:!0}))}}return G&&T&&(G=Fe._setOwner(G,Y,H&&N)),G},y[R]=function(X){return this._style[R](X)},y[N]=function(X){this._style[N](X)}}),t.each({Font:"FontFamily",WindingRule:"FillRule"},function(x,b){var T="get"+b,O="set"+b;v[T]=y[T]="#get"+x,v[O]=y[O]="#set"+x}),B.inject(y),v},{set:function(e){var r=e instanceof Te,s=r?e._values:e;if(s){for(var h in s)if(h in this._defaults){var y=s[h];this[h]=y&&r&&y.clone?y.clone():y}}},equals:function(e){function r(s,h,y){var v=s._values,x=h._values,b=h._defaults;for(var T in v){var O=v[T],L=x[T];if(!(y&&T in x)&&!t.equals(O,L===C?b[T]:L))return!1}return!0}return e===this||e&&this._class===e._class&&r(this,e)&&r(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var r=e.base.call(this),s=this.getFontSize();return/pt|em|%|px/.test(s)&&(s=this.getView().getPixelSize(s)),r!=null?r:s*1.2}}),Me=new function(){function e(r,s,h,y){for(var v=["","webkit","moz","Moz","ms","o"],x=s[0].toUpperCase()+s.substring(1),b=0;b<6;b++){var T=v[b],O=T?T+x:s;if(O in r){if(h)r[O]=y;else return r[O];break}}}return{getStyles:function(r){var s=r&&r.nodeType!==9?r.ownerDocument:r,h=s&&s.defaultView;return h&&h.getComputedStyle(r,"")},getBounds:function(r,s){var h=r.ownerDocument,y=h.body,v=h.documentElement,x;try{x=r.getBoundingClientRect()}catch{x={left:0,top:0,width:0,height:0}}var b=x.left-(v.clientLeft||y.clientLeft||0),T=x.top-(v.clientTop||y.clientTop||0);if(!s){var O=h.defaultView;b+=O.pageXOffset||v.scrollLeft||y.scrollLeft,T+=O.pageYOffset||v.scrollTop||y.scrollTop}return new E(b,T,x.width,x.height)},getViewportBounds:function(r){var s=r.ownerDocument,h=s.defaultView,y=s.documentElement;return new E(0,0,h.innerWidth||y.clientWidth,h.innerHeight||y.clientHeight)},getOffset:function(r,s){return Me.getBounds(r,s).getPoint()},getSize:function(r){return Me.getBounds(r,!0).getSize()},isInvisible:function(r){return Me.getSize(r).equals(new _(0,0))},isInView:function(r){return!Me.isInvisible(r)&&Me.getViewportBounds(r).intersects(Me.getBounds(r,!0))},isInserted:function(r){return g.body.contains(r)},getPrefixed:function(r,s){return r&&e(r,s)},setPrefixed:function(r,s,h){if(typeof s=="object")for(var y in s)e(r,y,!0,s[y]);else e(r,s,!0,h)}}},Ve={add:function(e,r){if(e)for(var s in r)for(var h=r[s],y=s.split(/[\s,]+/g),v=0,x=y.length;v<x;v++){var b=y[v],T=e===g&&(b==="touchstart"||b==="touchmove")?{passive:!1}:!1;e.addEventListener(b,h,T)}},remove:function(e,r){if(e)for(var s in r)for(var h=r[s],y=s.split(/[\s,]+/g),v=0,x=y.length;v<x;v++)e.removeEventListener(y[v],h,!1)},getPoint:function(e){var r=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new o(r.pageX||r.clientX+g.documentElement.scrollLeft,r.pageY||r.clientY+g.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,r){return Ve.getPoint(e).subtract(Me.getOffset(r||Ve.getTarget(e)))}};Ve.requestAnimationFrame=new function(){var e=Me.getPrefixed(S,"requestAnimationFrame"),r=!1,s=[],h;function y(){var v=s;s=[];for(var x=0,b=v.length;x<b;x++)v[x]();r=e&&s.length,r&&e(y)}return function(v){s.push(v),e?r||(e(y),r=!0):h||(h=setInterval(y,1e3/60))}};var je=t.extend(c,{_class:"View",initialize:function e(r,s){function h(D){return s[D]||parseInt(s.getAttribute(D),10)}function y(){var D=Me.getSize(s);return D.isNaN()||D.isZero()?new _(h("width"),h("height")):D}var v;if(S&&s){this._id=s.getAttribute("id"),this._id==null&&s.setAttribute("id",this._id="paper-view-"+e._id++),Ve.add(s,this._viewEvents);var x="none";if(Me.setPrefixed(s.style,{userDrag:x,userSelect:x,touchCallout:x,contentZooming:x,tapHighlightColor:"rgba(0,0,0,0)"}),f.hasAttribute(s,"resize")){var b=this;Ve.add(S,this._windowEvents={resize:function(){b.setViewSize(y())}})}if(v=y(),f.hasAttribute(s,"stats")&&typeof Stats<"u"){this._stats=new Stats;var T=this._stats.domElement,O=T.style,L=Me.getOffset(s);O.position="absolute",O.left=L.x+"px",O.top=L.y+"px",g.body.appendChild(T)}}else v=new _(s),s=null;this._project=r,this._scope=r._scope,this._element=s,this._pixelRatio||(this._pixelRatio=S&&S.devicePixelRatio||1),this._setElementSize(v.width,v.height),this._viewSize=v,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new U)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!i.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;je._focused===this&&(je._focused=null),je._views.splice(je._views.indexOf(this),1),delete je._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),Ve.remove(this._element,this._viewEvents),Ve.remove(S,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:t.each(B._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;Ve.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var r=e._element;(!Me.getPrefixed(g,"hidden")||f.getAttribute(r,"keepalive")==="true")&&Me.isInView(r)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){i=this._scope;var e=Date.now()/1e3,r=this._last?e-this._last:0;this._last=e,this.emit("frame",new t({delta:r,time:this._time+=r,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,r){var s=this._frameItems;r?(s[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete s[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var r in this._frameItems){var s=this._frameItems[r];s.item.emit("frame",new t(e,{time:s.time+=e.delta,count:s.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=C},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new k(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=_.read(arguments),r=e.subtract(this._viewSize);r.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:r}),this._autoUpdate&&this.update())},_setElementSize:function(e,r){var s=this._element;s&&(s.width!==e&&(s.width=e),s.height!==r&&(s.height=r))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new E(new o,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Me.isInView(this._element)},isInserted:function(){return Me.isInserted(this._element)},getPixelSize:function(e){var r=this._element,s;if(r){var h=r.parentNode,y=g.createElement("div");y.style.fontSize=e,h.appendChild(y),s=parseFloat(Me.getStyles(y).fontSize),h.removeChild(y)}else s=parseFloat(s);return s},getTextWidth:function(e,r){return 0}},t.each(["rotate","scale","shear","skew"],function(e){var r=e==="rotate";this[e]=function(){var s=arguments,h=(r?t:o).read(s),y=o.read(s,0,{readNull:!0});return this.transform(new U()[e](h,y||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new U;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=o.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new U().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var r=this.getRotation();r!=null&&e!=null&&this.rotate(e-r)},getScaling:function(){var e=this._decompose().scaling;return new d(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),r=o.read(arguments,0,{clone:!0,readNull:!0});e&&r&&this.scale(r.x/e.x,r.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(o.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(o.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(o.read(arguments))},getEventPoint:function(e){return this.viewToProject(Ve.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,r){g&&typeof r=="string"&&(r=g.getElementById(r));var s=S?Pe:je;return new s(e,r)}}},new function(){if(!S)return;var e,r,s=!1,h=!1;function y(be){var Ee=Ve.getTarget(be);return Ee.getAttribute&&je._viewsById[Ee.getAttribute("id")]}function v(){var be=je._focused;if(!be||!be.isVisible()){for(var Ee=0,Ie=je._views.length;Ee<Ie;Ee++)if((be=je._views[Ee]).isVisible()){je._focused=r=be;break}}}function x(be,Ee,Ie){be._handleMouseEvent("mousemove",Ee,Ie)}var b=S.navigator,T,O,L;b.pointerEnabled||b.msPointerEnabled?(T="pointerdown MSPointerDown",O="pointermove MSPointerMove",L="pointerup pointercancel MSPointerUp MSPointerCancel"):(T="touchstart",O="touchmove",L="touchend touchcancel","ontouchstart"in S&&b.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(T+=" mousedown",O+=" mousemove",L+=" mouseup"));var D={},N={mouseout:function(be){var Ee=je._focused,Ie=Ve.getRelatedTarget(be);if(Ee&&(!Ie||Ie.nodeName==="HTML")){var Ue=Ve.getOffset(be,Ee._element),We=Ue.x,rt=Math.abs,ke=rt(We),Ye=1<<25,ft=ke-Ye;Ue.x=rt(ft)<ke?ft*(We<0?-1:1):We,x(Ee,be,Ee.viewToProject(Ue))}},scroll:v};D[T]=function(be){var Ee=je._focused=y(be);s||(s=!0,Ee._handleMouseEvent("mousedown",be))},N[O]=function(be){var Ee=je._focused;if(!h){var Ie=y(be);Ie?Ee!==Ie&&(Ee&&x(Ee,be),e||(e=Ee),Ee=je._focused=r=Ie):r&&r===Ee&&(e&&!e.isInserted()&&(e=null),Ee=je._focused=e,e=null,v())}Ee&&x(Ee,be)},N[T]=function(){h=!0},N[L]=function(be){var Ee=je._focused;Ee&&s&&Ee._handleMouseEvent("mouseup",be),h=s=!1},Ve.add(g,N),Ve.add(S,{load:v});var R=!1,X=!1,Y={doubleclick:"click",mousedrag:"mousemove"},K=!1,H,G,z,Z,ee,le,ie,pe;function ve(be,Ee,Ie,Ue,We,rt,ke){var Ye=!1,ft;function lt(nt,Ze){if(nt.responds(Ze)){if(ft||(ft=new Ge(Ze,Ue,We,Ee||nt,rt?We.subtract(rt):null)),nt.emit(Ze,ft)&&(R=!0,ft.prevented&&(X=!0),ft.stopped))return Ye=!0}else{var xt=Y[Ze];if(xt)return lt(nt,xt)}}for(;be&&be!==ke&&!lt(be,Ie);)be=be._parent;return Ye}function xe(be,Ee,Ie,Ue,We,rt){return be._project.removeOn(Ie),X=R=!1,ee&&ve(ee,null,Ie,Ue,We,rt)||Ee&&Ee!==ee&&!Ee.isDescendant(ee)&&ve(Ee,null,Ie==="mousedrag"?"mousemove":Ie,Ue,We,rt,ee)||ve(be,ee||Ee||be,Ie,Ue,We,rt)}var Ce={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:D,_handleMouseEvent:function(be,Ee,Ie){var Ue=this._itemEvents,We=Ue.native[be],rt=be==="mousemove",ke=this._scope.tool,Ye=this;function ft(Lt){return Ue.virtual[Lt]||Ye.responds(Lt)||ke&&ke.responds(Lt)}rt&&s&&ft("mousedrag")&&(be="mousedrag"),Ie||(Ie=this.getEventPoint(Ee));var lt=this.getBounds().contains(Ie),nt=We&&lt&&Ye._project.hitTest(Ie,{tolerance:0,fill:!0,stroke:!0}),Ze=nt&&nt.item||null,xt=!1,Tt={};if(Tt[be.substr(5)]=!0,We&&Ze!==Z&&(Z&&ve(Z,null,"mouseleave",Ee,Ie),Ze&&ve(Ze,null,"mouseenter",Ee,Ie),Z=Ze),K^lt&&(ve(this,null,lt?"mouseenter":"mouseleave",Ee,Ie),xt=!0),(lt||Tt.drag)&&!Ie.equals(G)&&(xe(this,Ze,rt?be:"mousemove",Ee,Ie,G),xt=!0),K=lt,Tt.down&&lt||Tt.up&&H){if(xe(this,Ze,be,Ee,Ie,H),Tt.down){if(pe=Ze===le&&Date.now()-ie<300,z=le=Ze,!X&&Ze){for(var It=Ze;It&&!It.responds("mousedrag");)It=It._parent;It&&(ee=Ze)}H=Ie}else Tt.up&&(!X&&Ze===z&&(ie=Date.now(),xe(this,Ze,pe?"doubleclick":"click",Ee,Ie,H),pe=!1),z=ee=null);K=!1,xt=!0}G=Ie,xt&&ke&&(R=ke._handleMouseEvent(be,Ee,Ie,Tt)||R),Ee.cancelable!==!1&&(R&&!Tt.move||Tt.down&&ft("mouseup"))&&Ee.preventDefault()},_handleKeyEvent:function(be,Ee,Ie,Ue){var We=this._scope,rt=We.tool,ke;function Ye(ft){ft.responds(be)&&(i=We,ft.emit(be,ke=ke||new He(be,Ee,Ie,Ue)))}this.isVisible()&&(Ye(this),rt&&rt.responds(be)&&Ye(rt))},_countItemEvent:function(be,Ee){var Ie=this._itemEvents,Ue=Ie.native,We=Ie.virtual;for(var rt in Ce)Ue[rt]=(Ue[rt]||0)+(Ce[rt][be]||0)*Ee;We[be]=(We[be]||0)+Ee},statics:{updateFocus:v,_resetState:function(){s=h=R=K=!1,e=r=H=G=z=Z=ee=le=ie=pe=null}}}}),Pe=je.extend({_class:"CanvasView",initialize:function(r,s){if(!(s instanceof S.HTMLCanvasElement)){var h=_.read(arguments,1);if(h.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+t.slice(arguments,1));s=gt.getCanvas(h)}var y=this._context=s.getContext("2d");if(y.save(),this._pixelRatio=1,!/^off|false$/.test(f.getAttribute(s,"hidpi"))){var v=S.devicePixelRatio||1,x=Me.getPrefixed(y,"backingStorePixelRatio")||1;this._pixelRatio=v/x}je.call(this,r,s),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(r,s){var h=this._pixelRatio;if(e.base.call(this,r*h,s*h),h!==1){var y=this._element,v=this._context;if(!f.hasAttribute(y,"resize")){var x=y.style;x.width=r+"px",x.height=s+"px"}v.restore(),v.save(),v.scale(h,h)}},getContext:function(){return this._context},getPixelSize:function e(r){var s=i.agent,h;if(s&&s.firefox)h=e.base.call(this,r);else{var y=this._context,v=y.font;y.font=r+" serif",h=parseFloat(y.font),y.font=v}return h},getTextWidth:function(e,r){var s=this._context,h=s.font,y=0;s.font=e;for(var v=0,x=r.length;v<x;v++)y=Math.max(y,s.measureText(r[v]).width);return s.font=h,y},update:function(){if(!this._needsUpdate)return!1;var e=this._project,r=this._context,s=this._viewSize;return r.clearRect(0,0,s.width+1,s.height+1),e&&e.draw(r,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),_e=t.extend({_class:"Event",initialize:function(r){this.event=r,this.type=r&&r.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ze.modifiers}}),He=_e.extend({_class:"KeyEvent",initialize:function(r,s,h,y){this.type=r,this.event=s,this.key=h,this.character=y},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ze=new function(){var e={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"	",space:" ",enter:"\r"},s={},h={},y,v,x=new t({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var O=i&&i.agent;return O&&O.mac?this.meta:this.control}}});function b(O){var L=O.key||O.keyIdentifier;return L=/^U\+/.test(L)?String.fromCharCode(parseInt(L.substr(2),16)):/^Arrow[A-Z]/.test(L)?L.substr(5):L==="Unidentified"||L===C?String.fromCharCode(O.keyCode):L,e[L]||(L.length>1?t.hyphenate(L):L.toLowerCase())}function T(O,L,D,N){var R=je._focused,X;if(s[L]=O,O?h[L]=D:delete h[L],L.length>1&&(X=t.camelize(L))in x){x[X]=O;var Y=i&&i.agent;if(X==="meta"&&Y&&Y.mac)if(O)y={};else{for(var K in y)K in h&&T(!1,K,y[K],N);y=null}}else O&&y&&(y[L]=D);R&&R._handleKeyEvent(O?"keydown":"keyup",N,L,D)}return Ve.add(g,{keydown:function(O){var L=b(O),D=i&&i.agent;L.length>1||D&&D.chrome&&(O.altKey||D.mac&&O.metaKey||!D.mac&&O.ctrlKey)?T(!0,L,r[L]||(L.length>1?"":L),O):v=L},keypress:function(O){if(v){var L=b(O),D=O.charCode,N=D>=32?String.fromCharCode(D):L.length>1?"":L;L!==v&&(L=N.toLowerCase()),T(!0,L,N,O),v=null}},keyup:function(O){var L=b(O);L in h&&T(!1,L,h[L],O)}}),Ve.add(S,{blur:function(O){for(var L in h)T(!1,L,h[L],O)}}),{modifiers:x,isDown:function(O){return!!s[O]}}},Ge=_e.extend({_class:"MouseEvent",initialize:function(r,s,h,y,v){this.type=r,this.event=s,this.point=h,this.target=y,this.delta=v},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),st=_e.extend({_class:"ToolEvent",_item:null,initialize:function(r,s,h){this.tool=r,this.type=s,this.event=h},_choosePoint:function(e,r){return e||(r?r.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var r=e.item,s=r._parent;/^(Group|CompoundPath)$/.test(s._class);)r=s,s=s._parent;this._item=r}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),ht=m.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(r){m.call(this),this._moveCount=-1,this._downCount=-1,this.set(r)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,r,s,h){i=this._scope,h.drag&&!this.responds(e)&&(e="mousemove");var y=h.move||h.drag,v=this.responds(e),x=this.minDistance,b=this.maxDistance,T=!1,O=this;function L(N,R){var X=s,Y=y?O._point:O._downPoint||X;if(y){if(O._moveCount>=0&&X.equals(Y))return!1;if(Y&&(N!=null||R!=null)){var K=X.subtract(Y),H=K.getLength();if(H<(N||0))return!1;R&&(X=Y.add(K.normalize(Math.min(H,R))))}O._moveCount++}return O._point=X,O._lastPoint=Y||X,h.down&&(O._moveCount=-1,O._downPoint=X,O._downCount++),!0}function D(){v&&(T=O.emit(e,new st(O,e,r))||T)}if(h.down)L(),D();else if(h.up)L(null,b),D();else if(v)for(;L(x,b);)D();return T}}),it=t.extend(c,{_class:"Tween",statics:{easings:new t({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(r,s,h,y,v,x){this.object=r;var b=typeof v,T=b==="function";this.type=T?b:b==="string"?v:"linear",this.easing=T?v:e.easings[this.type],this.duration=y,this.running=!1,this._then=null,this._startTime=null;var O=s||h;this._keys=O?Object.keys(O):[],this._parsedKeys=this._parseKeys(this._keys),this._from=O&&this._getState(s),this._to=O&&this._getState(h),x!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var r=this.easing(e),s=this._keys,h=function(L){return typeof L=="function"?L(r,e):L},y=0,v=s&&s.length;y<v;y++){var x=s[y],b=h(this._from[x]),T=h(this._to[x]),O=b&&T&&b.__add&&T.__add?T.__subtract(b).__multiply(r).__add(b):(T-b)*r+b;this._setProperty(this._parsedKeys[x],O)}this.responds("update")&&this.emit("update",new t({progress:e,factor:r})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var r=this._startTime,s=r?(e-r)/this.duration:0;r||(this._startTime=e),this.update(s)},_getState:function(e){for(var r=this._keys,s={},h=0,y=r.length;h<y;h++){var v=r[h],x=this._parsedKeys[v],b=this._getProperty(x),T;if(e){var O=this._resolveValue(b,e[v]);this._setProperty(x,O),T=this._getProperty(x),T=T&&T.clone?T.clone():T,this._setProperty(x,b)}else T=b&&b.clone?b.clone():b;s[v]=T}return s},_resolveValue:function(e,r){if(r){if(Array.isArray(r)&&r.length===2){var s=r[0];return s&&s.match&&s.match(/^[+\-\*\/]=/)?this._calculate(e,s[0],r[1]):r}else if(typeof r=="string"){var h=r.match(/^[+\-*/]=(.*)/);if(h){var y=JSON.parse(h[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,r[0],y)}}}return r},_calculate:function(e,r,s){return i.PaperScript.calculateBinary(e,r,s)},_parseKeys:function(e){for(var r={},s=0,h=e.length;s<h;s++){var y=e[s],v=y.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");r[y]=v.split("/")}return r},_getProperty:function(e,r){for(var s=this.object,h=0,y=e.length-(r||0);h<y&&s;h++)s=s[e[h]];return s},_setProperty:function(e,r){var s=this._getProperty(e,1);s&&(s[e[e.length-1]]=r)}}),mt={request:function(e){var r=new n.XMLHttpRequest;return r.open((e.method||"get").toUpperCase(),e.url,t.pick(e.async,!0)),e.mimeType&&r.overrideMimeType(e.mimeType),r.onload=function(){var s=r.status;s===0||s===200?e.onLoad&&e.onLoad.call(r,r.responseText):r.onerror()},r.onerror=function(){var s=r.status,h='Could not load "'+e.url+'" (Status: '+s+")";if(e.onError)e.onError(h,s);else throw new Error(h)},r.send(null)}},gt=t.exports.CanvasProvider={canvases:[],getCanvas:function(e,r){if(!S)return null;var s,h=!0;typeof e=="object"&&(r=e.height,e=e.width),this.canvases.length?s=this.canvases.pop():(s=g.createElement("canvas"),h=!1);var y=s.getContext("2d");if(!y)throw new Error("Canvas "+s+" is unable to provide a 2D context.");return s.width===e&&s.height===r?h&&y.clearRect(0,0,e+1,r+1):(s.width=e,s.height=r),y.save(),s},getContext:function(e,r){var s=this.getCanvas(e,r);return s?s.getContext("2d"):null},release:function(e){var r=e&&e.canvas?e.canvas:e;r&&r.getContext&&(r.getContext("2d").restore(),this.canvases.push(r))}},St=new function(){var e=Math.min,r=Math.max,s=Math.abs,h,y,v,x,b,T,O,L,D,N,R;function X(ee,le,ie){return .2989*ee+.587*le+.114*ie}function Y(ee,le,ie,xe){var ve=xe-X(ee,le,ie);D=ee+ve,N=le+ve,R=ie+ve;var xe=X(D,N,R),Ce=e(D,N,R),be=r(D,N,R);if(Ce<0){var Ee=xe-Ce;D=xe+(D-xe)*xe/Ee,N=xe+(N-xe)*xe/Ee,R=xe+(R-xe)*xe/Ee}if(be>255){var Ie=255-xe,Ue=be-xe;D=xe+(D-xe)*Ie/Ue,N=xe+(N-xe)*Ie/Ue,R=xe+(R-xe)*Ie/Ue}}function K(ee,le,ie){return r(ee,le,ie)-e(ee,le,ie)}function H(ee,le,ie,pe){var ve=[ee,le,ie],xe=r(ee,le,ie),Ce=e(ee,le,ie),be;Ce=Ce===ee?0:Ce===le?1:2,xe=xe===ee?0:xe===le?1:2,be=e(Ce,xe)===0?r(Ce,xe)===1?2:1:0,ve[xe]>ve[Ce]?(ve[be]=(ve[be]-ve[Ce])*pe/(ve[xe]-ve[Ce]),ve[xe]=pe):ve[be]=ve[xe]=0,ve[Ce]=0,D=ve[0],N=ve[1],R=ve[2]}var G={multiply:function(){D=b*h/255,N=T*y/255,R=O*v/255},screen:function(){D=b+h-b*h/255,N=T+y-T*y/255,R=O+v-O*v/255},overlay:function(){D=b<128?2*b*h/255:255-2*(255-b)*(255-h)/255,N=T<128?2*T*y/255:255-2*(255-T)*(255-y)/255,R=O<128?2*O*v/255:255-2*(255-O)*(255-v)/255},"soft-light":function(){var ee=h*b/255;D=ee+b*(255-(255-b)*(255-h)/255-ee)/255,ee=y*T/255,N=ee+T*(255-(255-T)*(255-y)/255-ee)/255,ee=v*O/255,R=ee+O*(255-(255-O)*(255-v)/255-ee)/255},"hard-light":function(){D=h<128?2*h*b/255:255-2*(255-h)*(255-b)/255,N=y<128?2*y*T/255:255-2*(255-y)*(255-T)/255,R=v<128?2*v*O/255:255-2*(255-v)*(255-O)/255},"color-dodge":function(){D=b===0?0:h===255?255:e(255,255*b/(255-h)),N=T===0?0:y===255?255:e(255,255*T/(255-y)),R=O===0?0:v===255?255:e(255,255*O/(255-v))},"color-burn":function(){D=b===255?255:h===0?0:r(0,255-(255-b)*255/h),N=T===255?255:y===0?0:r(0,255-(255-T)*255/y),R=O===255?255:v===0?0:r(0,255-(255-O)*255/v)},darken:function(){D=b<h?b:h,N=T<y?T:y,R=O<v?O:v},lighten:function(){D=b>h?b:h,N=T>y?T:y,R=O>v?O:v},difference:function(){D=b-h,D<0&&(D=-D),N=T-y,N<0&&(N=-N),R=O-v,R<0&&(R=-R)},exclusion:function(){D=b+h*(255-b-b)/255,N=T+y*(255-T-T)/255,R=O+v*(255-O-O)/255},hue:function(){H(h,y,v,K(b,T,O)),Y(D,N,R,X(b,T,O))},saturation:function(){H(b,T,O,K(h,y,v)),Y(D,N,R,X(b,T,O))},luminosity:function(){Y(b,T,O,X(h,y,v))},color:function(){Y(h,y,v,X(b,T,O))},add:function(){D=e(b+h,255),N=e(T+y,255),R=e(O+v,255)},subtract:function(){D=r(b-h,0),N=r(T-y,0),R=r(O-v,0)},average:function(){D=(b+h)/2,N=(T+y)/2,R=(O+v)/2},negation:function(){D=255-s(255-h-b),N=255-s(255-y-T),R=255-s(255-v-O)}},z=this.nativeModes=t.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(ee){this[ee]=!0},{}),Z=gt.getContext(1,1);Z&&(t.each(G,function(ee,le){var ie=le==="darken",pe=!1;Z.save();try{Z.fillStyle=ie?"#300":"#a00",Z.fillRect(0,0,1,1),Z.globalCompositeOperation=le,Z.globalCompositeOperation===le&&(Z.fillStyle=ie?"#a00":"#300",Z.fillRect(0,0,1,1),pe=Z.getImageData(0,0,1,1).data[0]!==ie?170:51)}catch{}Z.restore(),z[le]=pe}),gt.release(Z)),this.process=function(ee,le,ie,pe,ve){var xe=le.canvas,Ce=ee==="normal";if(Ce||z[ee])ie.save(),ie.setTransform(1,0,0,1,0,0),ie.globalAlpha=pe,Ce||(ie.globalCompositeOperation=ee),ie.drawImage(xe,ve.x,ve.y),ie.restore();else{var be=G[ee];if(!be)return;for(var Ee=ie.getImageData(ve.x,ve.y,xe.width,xe.height),Ie=Ee.data,Ue=le.getImageData(0,0,xe.width,xe.height).data,We=0,rt=Ie.length;We<rt;We+=4){h=Ue[We],b=Ie[We],y=Ue[We+1],T=Ie[We+1],v=Ue[We+2],O=Ie[We+2],x=Ue[We+3],L=Ie[We+3],be();var ke=x*pe/255,Ye=1-ke;Ie[We]=ke*D+Ye*b,Ie[We+1]=ke*N+Ye*T,Ie[We+2]=ke*R+Ye*O,Ie[We+3]=x*pe+Ye*L}ie.putImageData(Ee,ve.x,ve.y)}}},bt=new function(){var e="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",h={href:s,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};function y(b,T,O){return x(g.createElementNS(e,b),T,O)}function v(b,T){var O=h[T],L=O?b.getAttributeNS(O,T):b.getAttribute(T);return L==="null"?null:L}function x(b,T,O){for(var L in T){var D=T[L],N=h[L];typeof D=="number"&&O&&(D=O.number(D)),N?b.setAttributeNS(N,L,D):b.setAttribute(L,D)}return b}return{svg:e,xmlns:r,xlink:s,create:y,get:v,set:x}},Et=t.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,r){return!r&&(e instanceof Le||e instanceof oe||e instanceof _t)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,r){var s=t.capitalize(r),h=e[2];this[r]={type:e[1],property:r,attribute:e[0],toSVG:h,fromSVG:h&&t.each(h,function(y,v){this[y]=v},{}),exportFilter:e[3],get:"get"+s,set:"set"+s}},{});new function(){var e;function r(G,z,Z){var ee=new t,le=G.getTranslation();if(z){var ie;G.isInvertible()?(G=G._shiftless(),ie=G._inverseTransform(le),le=null):ie=new o,ee[Z?"cx":"x"]=ie.x,ee[Z?"cy":"y"]=ie.y}if(!G.isIdentity()){var pe=G.decompose();if(pe){var ve=[],xe=pe.rotation,Ce=pe.scaling,be=pe.skewing;le&&!le.isZero()&&ve.push("translate("+e.point(le)+")"),xe&&ve.push("rotate("+e.number(xe)+")"),(!a.isZero(Ce.x-1)||!a.isZero(Ce.y-1))&&ve.push("scale("+e.point(Ce)+")"),be.x&&ve.push("skewX("+e.number(be.x)+")"),be.y&&ve.push("skewY("+e.number(be.y)+")"),ee.transform=ve.join(" ")}else ee.transform="matrix("+G.getValues().join(",")+")"}return ee}function s(G,z){for(var Z=r(G._matrix),ee=G._children,le=bt.create("g",Z,e),ie=0,pe=ee.length;ie<pe;ie++){var ve=ee[ie],xe=K(ve,z);if(xe)if(ve.isClipMask()){var Ce=bt.create("clipPath");Ce.appendChild(xe),X(ve,Ce,"clip"),bt.set(le,{"clip-path":"url(#"+Ce.id+")"})}else le.appendChild(xe)}return le}function h(G,z){var Z=r(G._matrix,!0),ee=G.getSize(),le=G.getImage();return Z.x-=ee.width/2,Z.y-=ee.height/2,Z.width=ee.width,Z.height=ee.height,Z.href=z.embedImages==!1&&le&&le.src||G.toDataURL(),bt.create("image",Z,e)}function y(G,z){var Z=z.matchShapes;if(Z){var ee=G.toShape(!1);if(ee)return v(ee)}var le=G._segments,ie=le.length,pe,ve=r(G._matrix);if(Z&&ie>=2&&!G.hasHandles())if(ie>2){pe=G._closed?"polygon":"polyline";for(var xe=[],Ce=0;Ce<ie;Ce++)xe.push(e.point(le[Ce]._point));ve.points=xe.join(" ")}else{pe="line";var be=le[0]._point,Ee=le[1]._point;ve.set({x1:be.x,y1:be.y,x2:Ee.x,y2:Ee.y})}else pe="path",ve.d=G.getPathData(null,z.precision);return bt.create(pe,ve,e)}function v(G){var z=G._type,Z=G._radius,ee=r(G._matrix,!0,z!=="rectangle");if(z==="rectangle"){z="rect";var le=G._size,ie=le.width,pe=le.height;ee.x-=ie/2,ee.y-=pe/2,ee.width=ie,ee.height=pe,Z.isZero()&&(Z=null)}return Z&&(z==="circle"?ee.r=Z:(ee.rx=Z.width,ee.ry=Z.height)),bt.create(z,ee,e)}function x(G,z){var Z=r(G._matrix),ee=G.getPathData(null,z.precision);return ee&&(Z.d=ee),bt.create("path",Z,e)}function b(G,z){var Z=r(G._matrix,!0),ee=G._definition,le=R(ee,"symbol"),ie=ee._item,pe=ie.getStrokeBounds();return le||(le=bt.create("symbol",{viewBox:e.rectangle(pe)}),le.appendChild(K(ie,z)),X(ee,le,"symbol")),Z.href="#"+le.id,Z.x+=pe.x,Z.y+=pe.y,Z.width=pe.width,Z.height=pe.height,Z.overflow="visible",bt.create("use",Z,e)}function T(G){var z=R(G,"color");if(!z){var Z=G.getGradient(),ee=Z._radial,le=G.getOrigin(),ie=G.getDestination(),pe;if(ee){pe={cx:le.x,cy:le.y,r:le.getDistance(ie)};var ve=G.getHighlight();ve&&(pe.fx=ve.x,pe.fy=ve.y)}else pe={x1:le.x,y1:le.y,x2:ie.x,y2:ie.y};pe.gradientUnits="userSpaceOnUse",z=bt.create((ee?"radial":"linear")+"Gradient",pe,e);for(var xe=Z._stops,Ce=0,be=xe.length;Ce<be;Ce++){var Ee=xe[Ce],Ie=Ee._color,Ue=Ie.getAlpha(),We=Ee._offset;pe={offset:We==null?Ce/(be-1):We},Ie&&(pe["stop-color"]=Ie.toCSS(!0)),Ue<1&&(pe["stop-opacity"]=Ue),z.appendChild(bt.create("stop",pe,e))}X(G,z,"color")}return"url(#"+z.id+")"}function O(G){var z=bt.create("text",r(G._matrix,!0),e);return z.textContent=G._content,z}var L={Group:s,Layer:s,Raster:h,Path:y,Shape:v,CompoundPath:x,SymbolItem:b,PointText:O};function D(G,z,Z){var ee={},le=!Z&&G.getParent(),ie=[];return G._name!=null&&(ee.id=G._name),t.each(Et,function(pe){var ve=pe.get,xe=pe.type,Ce=G[ve]();if(pe.exportFilter?pe.exportFilter(G,Ce):!le||!t.equals(le[ve](),Ce)){if(xe==="color"&&Ce!=null){var be=Ce.getAlpha();be<1&&(ee[pe.attribute+"-opacity"]=be)}xe==="style"?ie.push(pe.attribute+": "+Ce):ee[pe.attribute]=Ce==null?"none":xe==="color"?Ce.gradient?T(Ce):Ce.toCSS(!0):xe==="array"?Ce.join(","):xe==="lookup"?pe.toSVG[Ce]:Ce}}),ie.length&&(ee.style=ie.join(";")),ee.opacity===1&&delete ee.opacity,G._visible||(ee.visibility="hidden"),bt.set(z,ee,e)}var N;function R(G,z){return N||(N={ids:{},svgs:{}}),G&&N.svgs[z+"-"+(G._id||G.__id||(G.__id=l.get("svg")))]}function X(G,z,Z){N||R();var ee=N.ids[Z]=(N.ids[Z]||0)+1;z.id=Z+"-"+ee,N.svgs[Z+"-"+(G._id||G.__id)]=z}function Y(G,z){var Z=G,ee=null;if(N){Z=G.nodeName.toLowerCase()==="svg"&&G;for(var le in N.svgs)ee||(Z||(Z=bt.create("svg"),Z.appendChild(G)),ee=Z.insertBefore(bt.create("defs"),Z.firstChild)),ee.appendChild(N.svgs[le]);N=null}return z.asString?new n.XMLSerializer().serializeToString(Z):Z}function K(G,z,Z){var ee=L[G._class],le=ee&&ee(G,z);if(le){var ie=z.onExport;ie&&(le=ie(G,le,z)||le);var pe=JSON.stringify(G._data);pe&&pe!=="{}"&&pe!=="null"&&le.setAttribute("data-paper-data",pe)}return le&&D(G,le,Z)}function H(G){return G||(G={}),e=new u(G.precision),G}B.inject({exportSVG:function(G){return G=H(G),Y(K(this,G,!0),G)}}),$.inject({exportSVG:function(G){G=H(G);var z=this._children,Z=this.getView(),ee=t.pick(G.bounds,"view"),le=G.matrix||ee==="view"&&Z._matrix,ie=le&&U.read([le]),pe=ee==="view"?new E([0,0],Z.getViewSize()):ee==="content"?B._getBounds(z,ie,{stroke:!0}).rect:E.read([ee],0,{readNull:!0}),ve={version:"1.1",xmlns:bt.svg,"xmlns:xlink":bt.xlink};pe&&(ve.width=pe.width,ve.height=pe.height,(pe.x||pe.x===0||pe.y||pe.y===0)&&(ve.viewBox=e.rectangle(pe)));var xe=bt.create("svg",ve,e),Ce=xe;ie&&!ie.isIdentity()&&(Ce=xe.appendChild(bt.create("g",r(ie),e)));for(var be=0,Ee=z.length;be<Ee;be++)Ce.appendChild(K(z[be],G,!0));return Y(xe,G)}})},new function(){var e={},r;function s(z,Z,ee,le,ie,pe){var ve=bt.get(z,Z)||pe,xe=ve==null?le?null:ee?"":0:ee?ve:parseFloat(ve);return/%\s*$/.test(ve)?xe/100*(ie?1:r[/x|^width/.test(Z)?"width":"height"]):xe}function h(z,Z,ee,le,ie,pe,ve){return Z=s(z,Z||"x",!1,le,ie,pe),ee=s(z,ee||"y",!1,le,ie,ve),le&&(Z==null||ee==null)?null:new o(Z,ee)}function y(z,Z,ee,le,ie){return Z=s(z,Z||"width",!1,le,ie),ee=s(z,ee||"height",!1,le,ie),le&&(Z==null||ee==null)?null:new _(Z,ee)}function v(z,Z,ee){return z==="none"?null:Z==="number"?parseFloat(z):Z==="array"?z?z.split(/[\s,]+/g).map(parseFloat):[]:Z==="color"?K(z)||z:Z==="lookup"?ee[z]:z}function x(z,Z,ee,le){var ie=z.childNodes,pe=Z==="clippath",ve=Z==="defs",xe=new se,Ce=xe._project,be=Ce._currentStyle,Ee=[];if(!pe&&!ve&&(xe=Y(xe,z,le),Ce._currentStyle=xe._style.clone()),le)for(var Ie=z.querySelectorAll("defs"),Ue=0,We=Ie.length;Ue<We;Ue++)H(Ie[Ue],ee,!1);for(var Ue=0,We=ie.length;Ue<We;Ue++){var rt=ie[Ue],ke;rt.nodeType===1&&!/^defs$/i.test(rt.nodeName)&&(ke=H(rt,ee,!1))&&!(ke instanceof ue)&&Ee.push(ke)}return xe.addChildren(Ee),pe&&(xe=Y(xe.reduce(),z,le)),Ce._currentStyle=be,(pe||ve)&&(xe.remove(),xe=null),xe}function b(z,Z){for(var ee=z.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),le=[],ie=0,pe=ee.length;ie<pe;ie+=2)le.push(new o(parseFloat(ee[ie]),parseFloat(ee[ie+1])));var ve=new Be(le);return Z==="polygon"&&ve.closePath(),ve}function T(z){return Le.create(z.getAttribute("d"))}function O(z,Z){var ee=(s(z,"href",!0)||"").substring(1),le=Z==="radialgradient",ie;if(ee)ie=e[ee].getGradient(),ie._radial^le&&(ie=ie.clone(),ie._radial=le);else{for(var pe=z.childNodes,ve=[],xe=0,Ce=pe.length;xe<Ce;xe++){var be=pe[xe];be.nodeType===1&&ve.push(Y(new me,be))}ie=new ae(ve,le)}var Ee,Ie,Ue,We=s(z,"gradientUnits",!0)!=="userSpaceOnUse";le?(Ee=h(z,"cx","cy",!1,We,"50%","50%"),Ie=Ee.add(s(z,"r",!1,!1,We,"50%"),0),Ue=h(z,"fx","fy",!0,We)):(Ee=h(z,"x1","y1",!1,We,"0%","0%"),Ie=h(z,"x2","y2",!1,We,"100%","0%"));var rt=Y(new Fe(ie,Ee,Ie,Ue),z);return rt._scaleToBounds=We,null}var L={"#document":function(z,Z,ee,le){for(var ie=z.childNodes,pe=0,ve=ie.length;pe<ve;pe++){var xe=ie[pe];if(xe.nodeType===1)return H(xe,ee,le)}},g:x,svg:x,clippath:x,polygon:b,polyline:b,path:T,lineargradient:O,radialgradient:O,image:function(z){var Z=new ge(s(z,"href",!0));return Z.on("load",function(){var ee=y(z);this.setSize(ee);var le=h(z).add(ee.divide(2));this._matrix.append(new U().translate(le))}),Z},symbol:function(z,Z,ee,le){return new ue(x(z,Z,ee,le),!0)},defs:x,use:function(z){var Z=(s(z,"href",!0)||"").substring(1),ee=e[Z],le=h(z);return ee?ee instanceof ue?ee.place(le):ee.clone().translate(le):null},circle:function(z){return new oe.Circle(h(z,"cx","cy"),s(z,"r"))},ellipse:function(z){return new oe.Ellipse({center:h(z,"cx","cy"),radius:y(z,"rx","ry")})},rect:function(z){return new oe.Rectangle(new E(h(z),y(z)),y(z,"rx","ry"))},line:function(z){return new Be.Line(h(z,"x1","y1"),h(z,"x2","y2"))},text:function(z){var Z=new at(h(z).add(h(z,"dx","dy")));return Z.setContent(z.textContent.trim()||""),Z},switch:x};function D(z,Z,ee,le){if(z.transform){for(var ie=(le.getAttribute(ee)||"").split(/\)\s*/g),pe=new U,ve=0,xe=ie.length;ve<xe;ve++){var Ce=ie[ve];if(!Ce)break;for(var be=Ce.split(/\(\s*/),Ee=be[0],Ie=be[1].split(/[\s,]+/g),Ue=0,We=Ie.length;Ue<We;Ue++)Ie[Ue]=parseFloat(Ie[Ue]);switch(Ee){case"matrix":pe.append(new U(Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5]));break;case"rotate":pe.rotate(Ie[0],Ie[1]||0,Ie[2]||0);break;case"translate":pe.translate(Ie[0],Ie[1]||0);break;case"scale":pe.scale(Ie);break;case"skewX":pe.skew(Ie[0],0);break;case"skewY":pe.skew(0,Ie[0]);break}}z.transform(pe)}}function N(z,Z,ee){var le=ee==="fill-opacity"?"getFillColor":"getStrokeColor",ie=z[le]&&z[le]();ie&&ie.setAlpha(parseFloat(Z))}var R=t.set(t.each(Et,function(z){this[z.attribute]=function(Z,ee){if(Z[z.set]&&(Z[z.set](v(ee,z.type,z.fromSVG)),z.type==="color")){var le=Z[z.get]();if(le&&le._scaleToBounds){var ie=Z.getBounds();le.transform(new U().translate(ie.getPoint()).scale(ie.getSize()))}}}},{}),{id:function(z,Z){e[Z]=z,z.setName&&z.setName(Z)},"clip-path":function(z,Z){var ee=K(Z);if(ee)if(ee=ee.clone(),ee.setClipMask(!0),z instanceof se)z.insertChild(0,ee);else return new se(ee,z)},gradientTransform:D,transform:D,"fill-opacity":N,"stroke-opacity":N,visibility:function(z,Z){z.setVisible&&z.setVisible(Z==="visible")},display:function(z,Z){z.setVisible&&z.setVisible(Z!==null)},"stop-color":function(z,Z){z.setColor&&z.setColor(Z)},"stop-opacity":function(z,Z){z._color&&z._color.setAlpha(parseFloat(Z))},offset:function(z,Z){if(z.setOffset){var ee=Z.match(/(.*)%$/);z.setOffset(ee?ee[1]/100:parseFloat(Z))}},viewBox:function(z,Z,ee,le,ie){var pe=new E(v(Z,"array")),ve=y(le,null,null,!0),xe,Ce;if(z instanceof se){var be=ve?ve.divide(pe.getSize()):1,Ce=new U().scale(be).translate(pe.getPoint().negate());xe=z}else z instanceof ue&&(ve&&pe.setSize(ve),xe=z._item);if(xe){if(X(le,"overflow",ie)!=="visible"){var Ee=new oe.Rectangle(pe);Ee.setClipMask(!0),xe.addChild(Ee)}Ce&&xe.transform(Ce)}}});function X(z,Z,ee){var le=z.attributes[Z],ie=le&&le.value;if(!ie&&z.style){var pe=t.camelize(Z);ie=z.style[pe],!ie&&ee.node[pe]!==ee.parent[pe]&&(ie=ee.node[pe])}return ie?ie==="none"?null:ie:C}function Y(z,Z,ee){var le=Z.parentNode,ie={node:Me.getStyles(Z)||{},parent:!ee&&!/^defs$/i.test(le.tagName)&&Me.getStyles(le)||{}};return t.each(R,function(pe,ve){var xe=X(Z,ve,ie);z=xe!==C&&pe(z,xe,ve,Z,ie)||z}),z}function K(z){var Z=z&&z.match(/\((?:["'#]*)([^"')]+)/),ee=Z&&Z[1],le=ee&&e[S?ee.replace(S.location.href.split("#")[0]+"#",""):ee];return le&&le._scaleToBounds&&(le=le.clone(),le._scaleToBounds=!0),le}function H(z,Z,ee){var le=z.nodeName.toLowerCase(),ie=le!=="#document",pe=g.body,ve,xe,Ce;ee&&ie&&(r=i.getView().getSize(),r=y(z,null,null,!0)||r,ve=bt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),xe=z.parentNode,Ce=z.nextSibling,ve.appendChild(z),pe.appendChild(ve));var be=i.settings,Ee=be.applyMatrix,Ie=be.insertItems;be.applyMatrix=!1,be.insertItems=!1;var Ue=L[le],We=Ue&&Ue(z,le,Z,ee)||null;if(be.insertItems=Ie,be.applyMatrix=Ee,We){ie&&!(We instanceof se)&&(We=Y(We,z,ee));var rt=Z.onImport,ke=ie&&z.getAttribute("data-paper-data");rt&&(We=rt(z,We,Z)||We),Z.expandShapes&&We instanceof oe&&(We.remove(),We=We.toPath()),ke&&(We._data=JSON.parse(ke))}return ve&&(pe.removeChild(ve),xe&&(Ce?xe.insertBefore(z,Ce):xe.appendChild(z))),ee&&(e={},We&&t.pick(Z.applyMatrix,Ee)&&We.matrix.apply(!0,!0)),We}function G(z,Z,ee){if(!z)return null;Z=typeof Z=="function"?{onLoad:Z}:Z||{};var le=i,ie=null;function pe(be){try{var Ee=typeof be=="object"?be:new n.DOMParser().parseFromString(be.trim(),"image/svg+xml");if(!Ee.nodeName)throw Ee=null,new Error("Unsupported SVG source: "+z);i=le,ie=H(Ee,Z,!0),(!Z||Z.insert!==!1)&&ee._insertItem(C,ie);var Ie=Z.onLoad;Ie&&Ie(ie,be)}catch(Ue){ve(Ue)}}function ve(be,Ee){var Ie=Z.onError;if(Ie)Ie(be,Ee);else throw new Error(be)}if(typeof z=="string"&&!/^[\s\S]*</.test(z)){var xe=g.getElementById(z);xe?pe(xe):mt.request({url:z,async:!0,onLoad:pe,onError:ve})}else if(typeof File<"u"&&z instanceof File){var Ce=new FileReader;return Ce.onload=function(){pe(Ce.result)},Ce.onerror=function(){ve(Ce.error)},Ce.readAsText(z)}else pe(z);return ie}B.inject({importSVG:function(z,Z){return G(z,Z,this)}}),$.inject({importSVG:function(z,Z){return this.activate(),G(z,Z,this)}})},t.exports.PaperScript=function(){var e=this,r=e.acorn;if(!r&&typeof Yp<"u")try{r=Qp()}catch{}if(!r){var s,h;r=s=h={},function(Y,K){if(typeof s=="object"&&typeof h=="object")return K(s);if(typeof C=="function"&&C.amd)return C(["exports"],K);K(Y.acorn||(Y.acorn={}))}(this,function(Y){Y.version="0.5.0";var K,H,G,z;Y.parse=function(Je,ot){return H=String(Je),G=H.length,ee(ot),Zn(),qe(K.program)};var Z=Y.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function ee(Je){K=Je||{};for(var ot in Z)Object.prototype.hasOwnProperty.call(K,ot)||(K[ot]=Z[ot]);z=K.sourceFile||null}var le=Y.getLineInfo=function(Je,ot){for(var Ct=1,At=0;;){wn.lastIndex=At;var Wt=wn.exec(Je);if(Wt&&Wt.index<ot)++Ct,At=Wt.index+Wt[0].length;else break}return{line:Ct,column:ot-At}};Y.tokenize=function(Je,ot){H=String(Je),G=H.length,ee(ot),Zn();var Ct={};function At(Wt){return ke=ve,Ae(Wt),Ct.start=pe,Ct.end=ve,Ct.startLoc=xe,Ct.endLoc=Ce,Ct.type=be,Ct.value=Ee,Ct}return At.jumpTo=function(Wt,zt){if(ie=Wt,K.locations){Ue=1,We=wn.lastIndex=0;for(var Ht;(Ht=wn.exec(H))&&Ht.index<Wt;)++Ue,We=Ht.index+Ht[0].length}Ie=zt,kn()},At};var ie,pe,ve,xe,Ce,be,Ee,Ie,Ue,We,rt,ke,Ye,ft,lt,nt;function Ze(Je,ot){var Ct=le(H,Je);ot+=" ("+Ct.line+":"+Ct.column+")";var At=new SyntaxError(ot);throw At.pos=Je,At.loc=Ct,At.raisedAt=ie,At}var xt=[],Tt={type:"num"},It={type:"regexp"},Lt={type:"string"},pt={type:"name"},Dt={type:"eof"},jt={keyword:"break"},Gt={keyword:"case",beforeExpr:!0},nr={keyword:"catch"},sr={keyword:"continue"},ir={keyword:"debugger"},Qt={keyword:"default"},Kt={keyword:"do",isLoop:!0},ar={keyword:"else",beforeExpr:!0},or={keyword:"finally"},vr={keyword:"for",isLoop:!0},Ir={keyword:"function"},Lr={keyword:"if"},Ar={keyword:"return",beforeExpr:!0},qt={keyword:"switch"},yr={keyword:"throw",beforeExpr:!0},kr={keyword:"try"},Dr={keyword:"var"},Gr={keyword:"while",isLoop:!0},_n={keyword:"with"},Tn={keyword:"new",beforeExpr:!0},Rn={keyword:"this"},M={keyword:"null",atomValue:null},te={keyword:"true",atomValue:!0},Se={keyword:"false",atomValue:!1},De={keyword:"in",binop:7,beforeExpr:!0},tt={break:jt,case:Gt,catch:nr,continue:sr,debugger:ir,default:Qt,do:Kt,else:ar,finally:or,for:vr,function:Ir,if:Lr,return:Ar,switch:qt,throw:yr,try:kr,var:Dr,while:Gr,with:_n,null:M,true:te,false:Se,new:Tn,in:De,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Rn,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},wt={type:"[",beforeExpr:!0},Mt={type:"]"},Bt={type:"{",beforeExpr:!0},Vt={type:"}"},er={type:"(",beforeExpr:!0},tr={type:")"},Tr={type:",",beforeExpr:!0},jr={type:";",beforeExpr:!0},Xr={type:":",beforeExpr:!0},$r={type:"."},nn={type:"?",beforeExpr:!0},Zr={binop:10,beforeExpr:!0},hn={isAssign:!0,beforeExpr:!0},bn={isAssign:!0,beforeExpr:!0},Pn={postfix:!0,prefix:!0,isUpdate:!0},si={prefix:!0,beforeExpr:!0},ai={binop:1,beforeExpr:!0},oi={binop:2,beforeExpr:!0},bi={binop:3,beforeExpr:!0},as={binop:4,beforeExpr:!0},xi={binop:5,beforeExpr:!0},ui={binop:6,beforeExpr:!0},Fi={binop:7,beforeExpr:!0},os={binop:8,beforeExpr:!0},Bi={binop:9,prefix:!0,beforeExpr:!0},wi={binop:10,beforeExpr:!0};Y.tokTypes={bracketL:wt,bracketR:Mt,braceL:Bt,braceR:Vt,parenL:er,parenR:tr,comma:Tr,semi:jr,colon:Xr,dot:$r,question:nn,slash:Zr,eq:hn,name:pt,eof:Dt,num:Tt,regexp:It,string:Lt};for(var Qr in tt)Y.tokTypes["_"+Qr]=tt[Qr];function Wr(Je){Je=Je.split(" ");var ot="",Ct=[];e:for(var At=0;At<Je.length;++At){for(var Wt=0;Wt<Ct.length;++Wt)if(Ct[Wt][0].length==Je[At].length){Ct[Wt].push(Je[At]);continue e}Ct.push([Je[At]])}function zt(lr){if(lr.length==1)return ot+="return str === "+JSON.stringify(lr[0])+";";ot+="switch(str){";for(var Yr=0;Yr<lr.length;++Yr)ot+="case "+JSON.stringify(lr[Yr])+":";ot+="return true}return false;"}if(Ct.length>3){Ct.sort(function(lr,Yr){return Yr.length-lr.length}),ot+="switch(str.length){";for(var At=0;At<Ct.length;++At){var Ht=Ct[At];ot+="case "+Ht[0].length+":",zt(Ht)}ot+="}"}else zt(Je);return new Function("str",ot)}var Hn=Wr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Nn=Wr("class enum extends super const export import"),sn=Wr("implements interface let package private protected public static yield"),xn=Wr("eval arguments"),Ui=Wr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),an=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Dn="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Si="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Ci=new RegExp("["+Dn+"]"),Ti=new RegExp("["+Dn+Si+"]"),Wn=/[\n\r\u2028\u2029]/,wn=/\r\n|[\n\r\u2028\u2029]/g,Fn=Y.isIdentifierStart=function(Je){return Je<65?Je===36:Je<91?!0:Je<97?Je===95:Je<123?!0:Je>=170&&Ci.test(String.fromCharCode(Je))},Xn=Y.isIdentifierChar=function(Je){return Je<48?Je===36:Je<58?!0:Je<65?!1:Je<91?!0:Je<97?Je===95:Je<123?!0:Je>=170&&Ti.test(String.fromCharCode(Je))};function gn(){this.line=Ue,this.column=ie-We}function Zn(){Ue=1,ie=We=0,Ie=!0,kn()}function Br(Je,ot){ve=ie,K.locations&&(Ce=new gn),be=Je,kn(),Ee=ot,Ie=Je.beforeExpr}function Yn(){var Je=K.onComment&&K.locations&&new gn,ot=ie,Ct=H.indexOf("*/",ie+=2);if(Ct===-1&&Ze(ie-2,"Unterminated comment"),ie=Ct+2,K.locations){wn.lastIndex=ot;for(var At;(At=wn.exec(H))&&At.index<ie;)++Ue,We=At.index+At[0].length}K.onComment&&K.onComment(!0,H.slice(ot+2,Ct),ot,ie,Je,K.locations&&new gn)}function Kn(){for(var Je=ie,ot=K.onComment&&K.locations&&new gn,Ct=H.charCodeAt(ie+=2);ie<G&&Ct!==10&&Ct!==13&&Ct!==8232&&Ct!==8233;)++ie,Ct=H.charCodeAt(ie);K.onComment&&K.onComment(!1,H.slice(Je+2,ie),Je,ie,ot,K.locations&&new gn)}function kn(){for(;ie<G;){var Je=H.charCodeAt(ie);if(Je===32)++ie;else if(Je===13){++ie;var ot=H.charCodeAt(ie);ot===10&&++ie,K.locations&&(++Ue,We=ie)}else if(Je===10||Je===8232||Je===8233)++ie,K.locations&&(++Ue,We=ie);else if(Je>8&&Je<14)++ie;else if(Je===47){var ot=H.charCodeAt(ie+1);if(ot===42)Yn();else if(ot===47)Kn();else break}else if(Je===160)++ie;else if(Je>=5760&&an.test(String.fromCharCode(Je)))++ie;else break}}function Pi(){var Je=H.charCodeAt(ie+1);return Je>=48&&Je<=57?$t(!0):(++ie,Br($r))}function Vi(){var Je=H.charCodeAt(ie+1);return Ie?(++ie,ct()):Je===61?et(bn,2):et(Zr,1)}function ki(){var Je=H.charCodeAt(ie+1);return Je===61?et(bn,2):et(wi,1)}function Ei(Je){var ot=H.charCodeAt(ie+1);return ot===Je?et(Je===124?ai:oi,2):ot===61?et(bn,2):et(Je===124?bi:xi,1)}function $n(){var Je=H.charCodeAt(ie+1);return Je===61?et(bn,2):et(as,1)}function fe(Je){var ot=H.charCodeAt(ie+1);return ot===Je?ot==45&&H.charCodeAt(ie+2)==62&&Wn.test(H.slice(ke,ie))?(ie+=3,Kn(),kn(),Ae()):et(Pn,2):ot===61?et(bn,2):et(Bi,1)}function A(Je){var ot=H.charCodeAt(ie+1),Ct=1;return ot===Je?(Ct=Je===62&&H.charCodeAt(ie+2)===62?3:2,H.charCodeAt(ie+Ct)===61?et(bn,Ct+1):et(os,Ct)):ot==33&&Je==60&&H.charCodeAt(ie+2)==45&&H.charCodeAt(ie+3)==45?(ie+=4,Kn(),kn(),Ae()):(ot===61&&(Ct=H.charCodeAt(ie+2)===61?3:2),et(Fi,Ct))}function q(Je){var ot=H.charCodeAt(ie+1);return ot===61?et(ui,H.charCodeAt(ie+2)===61?3:2):et(Je===61?hn:si,1)}function Q(Je){switch(Je){case 46:return Pi();case 40:return++ie,Br(er);case 41:return++ie,Br(tr);case 59:return++ie,Br(jr);case 44:return++ie,Br(Tr);case 91:return++ie,Br(wt);case 93:return++ie,Br(Mt);case 123:return++ie,Br(Bt);case 125:return++ie,Br(Vt);case 58:return++ie,Br(Xr);case 63:return++ie,Br(nn);case 48:var ot=H.charCodeAt(ie+1);if(ot===120||ot===88)return Nt();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return $t(!1);case 34:case 39:return br(Je);case 47:return Vi();case 37:case 42:return ki();case 124:case 38:return Ei(Je);case 94:return $n();case 43:case 45:return fe(Je);case 60:case 62:return A(Je);case 61:case 33:return q(Je);case 126:return et(si,1)}return!1}function Ae(Je){if(Je?ie=pe+1:pe=ie,K.locations&&(xe=new gn),Je)return ct();if(ie>=G)return Br(Dt);var ot=H.charCodeAt(ie);if(Fn(ot)||ot===92)return Qn();var Ct=Q(ot);if(Ct===!1){var At=String.fromCharCode(ot);if(At==="\\"||Ci.test(At))return Qn();Ze(ie,"Unexpected character '"+At+"'")}return Ct}function et(Je,ot){var Ct=H.slice(ie,ie+ot);ie+=ot,Br(Je,Ct)}function ct(){for(var Wt="",Je,ot,Ct=ie;;){ie>=G&&Ze(Ct,"Unterminated regular expression");var At=H.charAt(ie);if(Wn.test(At)&&Ze(Ct,"Unterminated regular expression"),Je)Je=!1;else{if(At==="[")ot=!0;else if(At==="]"&&ot)ot=!1;else if(At==="/"&&!ot)break;Je=At==="\\"}++ie}var Wt=H.slice(Ct,ie);++ie;var zt=En();zt&&!/^[gmsiy]*$/.test(zt)&&Ze(Ct,"Invalid regexp flag");try{var Ht=new RegExp(Wt,zt)}catch(lr){lr instanceof SyntaxError&&Ze(Ct,lr.message),Ze(lr)}return Br(It,Ht)}function Ot(Je,ot){for(var Ct=ie,At=0,Wt=0,zt=ot==null?1/0:ot;Wt<zt;++Wt){var Ht=H.charCodeAt(ie),lr;if(Ht>=97?lr=Ht-97+10:Ht>=65?lr=Ht-65+10:Ht>=48&&Ht<=57?lr=Ht-48:lr=1/0,lr>=Je)break;++ie,At=At*Je+lr}return ie===Ct||ot!=null&&ie-Ct!==ot?null:At}function Nt(){ie+=2;var Je=Ot(16);return Je==null&&Ze(pe+2,"Expected hexadecimal number"),Fn(H.charCodeAt(ie))&&Ze(ie,"Identifier directly after number"),Br(Tt,Je)}function $t(Je){var ot=ie,Ct=!1,At=H.charCodeAt(ie)===48;!Je&&Ot(10)===null&&Ze(ot,"Invalid number"),H.charCodeAt(ie)===46&&(++ie,Ot(10),Ct=!0);var Wt=H.charCodeAt(ie);(Wt===69||Wt===101)&&(Wt=H.charCodeAt(++ie),(Wt===43||Wt===45)&&++ie,Ot(10)===null&&Ze(ot,"Invalid number"),Ct=!0),Fn(H.charCodeAt(ie))&&Ze(ie,"Identifier directly after number");var zt=H.slice(ot,ie),Ht;return Ct?Ht=parseFloat(zt):!At||zt.length===1?Ht=parseInt(zt,10):/[89]/.test(zt)||nt?Ze(ot,"Invalid number"):Ht=parseInt(zt,8),Br(Tt,Ht)}function br(Je){ie++;for(var ot="";;){ie>=G&&Ze(pe,"Unterminated string constant");var Ct=H.charCodeAt(ie);if(Ct===Je)return++ie,Br(Lt,ot);if(Ct===92){Ct=H.charCodeAt(++ie);var At=/^[0-7]+/.exec(H.slice(ie,ie+3));for(At&&(At=At[0]);At&&parseInt(At,8)>255;)At=At.slice(0,-1);if(At==="0"&&(At=null),++ie,At)nt&&Ze(ie-2,"Octal literal in strict mode"),ot+=String.fromCharCode(parseInt(At,8)),ie+=At.length-1;else switch(Ct){case 110:ot+=`
`;break;case 114:ot+="\r";break;case 120:ot+=String.fromCharCode(xr(2));break;case 117:ot+=String.fromCharCode(xr(4));break;case 85:ot+=String.fromCharCode(xr(8));break;case 116:ot+="	";break;case 98:ot+="\b";break;case 118:ot+="\v";break;case 102:ot+="\f";break;case 48:ot+="\0";break;case 13:H.charCodeAt(ie)===10&&++ie;case 10:K.locations&&(We=ie,++Ue);break;default:ot+=String.fromCharCode(Ct);break}}else(Ct===13||Ct===10||Ct===8232||Ct===8233)&&Ze(pe,"Unterminated string constant"),ot+=String.fromCharCode(Ct),++ie}}function xr(Je){var ot=Ot(16,Je);return ot===null&&Ze(pe,"Bad character escape sequence"),ot}var Vr;function En(){Vr=!1;for(var Je,ot=!0,Ct=ie;;){var At=H.charCodeAt(ie);if(Xn(At))Vr&&(Je+=H.charAt(ie)),++ie;else if(At===92){Vr||(Je=H.slice(Ct,ie)),Vr=!0,H.charCodeAt(++ie)!=117&&Ze(ie,"Expecting Unicode escape sequence \\uXXXX"),++ie;var Wt=xr(4),zt=String.fromCharCode(Wt);zt||Ze(ie-1,"Invalid Unicode escape"),(ot?Fn(Wt):Xn(Wt))||Ze(ie-4,"Invalid Unicode escape"),Je+=zt}else break;ot=!1}return Vr?Je:H.slice(Ct,ie)}function Qn(){var Je=En(),ot=pt;return!Vr&&Ui(Je)&&(ot=tt[Je]),Br(ot,Je)}function _r(){rt=pe,ke=ve,Ye=Ce,Ae()}function us(Je){if(nt=Je,ie=pe,K.locations)for(;ie<We;)We=H.lastIndexOf(`
`,We-2)+1,--Ue;kn(),Ae()}function Ms(){this.type=null,this.start=pe,this.end=null}function ls(){this.start=xe,this.end=null,z!==null&&(this.source=z)}function mr(){var Je=new Ms;return K.locations&&(Je.loc=new ls),K.directSourceFile&&(Je.sourceFile=K.directSourceFile),K.ranges&&(Je.range=[pe,0]),Je}function Sn(Je){var ot=new Ms;return ot.start=Je.start,K.locations&&(ot.loc=new ls,ot.loc.start=Je.loc.start),K.ranges&&(ot.range=[Je.range[0],0]),ot}function w(Je,ot){return Je.type=ot,Je.end=ke,K.locations&&(Je.loc.end=Ye),K.ranges&&(Je.range[1]=ke),Je}function j(Je){return K.ecmaVersion>=5&&Je.type==="ExpressionStatement"&&Je.expression.type==="Literal"&&Je.expression.value==="use strict"}function F(Je){if(be===Je)return _r(),!0}function W(){return!K.strictSemicolons&&(be===Dt||be===Vt||Wn.test(H.slice(ke,pe)))}function re(){!F(jr)&&!W()&&we()}function ce(Je){be===Je?_r():we()}function we(){Ze(pe,"Unexpected token")}function Re(Je){Je.type!=="Identifier"&&Je.type!=="MemberExpression"&&Ze(Je.start,"Assigning to rvalue"),nt&&Je.type==="Identifier"&&xn(Je.name)&&Ze(Je.start,"Assigning to "+Je.name+" in strict mode")}function qe(Je){rt=ke=ie,K.locations&&(Ye=new gn),ft=nt=null,lt=[],Ae();var ot=Je||mr(),Ct=!0;for(Je||(ot.body=[]);be!==Dt;){var At=vt();ot.body.push(At),Ct&&j(At)&&us(!0),Ct=!1}return w(ot,"Program")}var Qe={kind:"loop"},dt={kind:"switch"};function vt(){(be===Zr||be===bn&&Ee=="/=")&&Ae(!0);var Je=be,ot=mr();switch(Je){case jt:case sr:_r();var Ct=Je===jt;F(jr)||W()?ot.label=null:be!==pt?we():(ot.label=fr(),re());for(var At=0;At<lt.length;++At){var Wt=lt[At];if((ot.label==null||Wt.name===ot.label.name)&&(Wt.kind!=null&&(Ct||Wt.kind==="loop")||ot.label&&Ct))break}return At===lt.length&&Ze(ot.start,"Unsyntactic "+Je.keyword),w(ot,Ct?"BreakStatement":"ContinueStatement");case ir:return _r(),re(),w(ot,"DebuggerStatement");case Kt:return _r(),lt.push(Qe),ot.body=vt(),lt.pop(),ce(Gr),ot.test=Xe(),re(),w(ot,"DoWhileStatement");case vr:if(_r(),lt.push(Qe),ce(er),be===jr)return Ft(ot,null);if(be===Dr){var zt=mr();return _r(),Pt(zt,!0),w(zt,"VariableDeclaration"),zt.declarations.length===1&&F(De)?Rt(ot,zt):Ft(ot,zt)}var zt=kt(!1,!0);return F(De)?(Re(zt),Rt(ot,zt)):Ft(ot,zt);case Ir:return _r(),Mr(ot,!0);case Lr:return _r(),ot.test=Xe(),ot.consequent=vt(),ot.alternate=F(ar)?vt():null,w(ot,"IfStatement");case Ar:return!ft&&!K.allowReturnOutsideFunction&&Ze(pe,"'return' outside of function"),_r(),F(jr)||W()?ot.argument=null:(ot.argument=kt(),re()),w(ot,"ReturnStatement");case qt:_r(),ot.discriminant=Xe(),ot.cases=[],ce(Bt),lt.push(dt);for(var Ht,lr;be!=Vt;)if(be===Gt||be===Qt){var Yr=be===Gt;Ht&&w(Ht,"SwitchCase"),ot.cases.push(Ht=mr()),Ht.consequent=[],_r(),Yr?Ht.test=kt():(lr&&Ze(rt,"Multiple default clauses"),lr=!0,Ht.test=null),ce(Xr)}else Ht||we(),Ht.consequent.push(vt());return Ht&&w(Ht,"SwitchCase"),_r(),lt.pop(),w(ot,"SwitchStatement");case yr:return _r(),Wn.test(H.slice(ke,pe))&&Ze(ke,"Illegal newline after throw"),ot.argument=kt(),re(),w(ot,"ThrowStatement");case kr:if(_r(),ot.block=Ut(),ot.handler=null,be===nr){var on=mr();_r(),ce(er),on.param=fr(),nt&&xn(on.param.name)&&Ze(on.param.start,"Binding "+on.param.name+" in strict mode"),ce(tr),on.guard=null,on.body=Ut(),ot.handler=w(on,"CatchClause")}return ot.guardedHandlers=xt,ot.finalizer=F(or)?Ut():null,!ot.handler&&!ot.finalizer&&Ze(ot.start,"Missing catch or finally clause"),w(ot,"TryStatement");case Dr:return _r(),Pt(ot),re(),w(ot,"VariableDeclaration");case Gr:return _r(),ot.test=Xe(),lt.push(Qe),ot.body=vt(),lt.pop(),w(ot,"WhileStatement");case _n:return nt&&Ze(pe,"'with' in strict mode"),_r(),ot.object=Xe(),ot.body=vt(),w(ot,"WithStatement");case Bt:return Ut();case jr:return _r(),w(ot,"EmptyStatement");default:var Jr=Ee,Cn=kt();if(Je===pt&&Cn.type==="Identifier"&&F(Xr)){for(var At=0;At<lt.length;++At)lt[At].name===Jr&&Ze(Cn.start,"Label '"+Jr+"' is already declared");var li=be.isLoop?"loop":be===qt?"switch":null;return lt.push({name:Jr,kind:li}),ot.body=vt(),lt.pop(),ot.label=Cn,w(ot,"LabeledStatement")}else return ot.expression=Cn,re(),w(ot,"ExpressionStatement")}}function Xe(){ce(er);var Je=kt();return ce(tr),Je}function Ut(Je){var ot=mr(),Ct=!0,At=!1,Wt;for(ot.body=[],ce(Bt);!F(Vt);){var zt=vt();ot.body.push(zt),Ct&&Je&&j(zt)&&(Wt=At,us(At=!0)),Ct=!1}return At&&!Wt&&us(!1),w(ot,"BlockStatement")}function Ft(Je,ot){return Je.init=ot,ce(jr),Je.test=be===jr?null:kt(),ce(jr),Je.update=be===tr?null:kt(),ce(tr),Je.body=vt(),lt.pop(),w(Je,"ForStatement")}function Rt(Je,ot){return Je.left=ot,Je.right=kt(),ce(tr),Je.body=vt(),lt.pop(),w(Je,"ForInStatement")}function Pt(Je,ot){for(Je.declarations=[],Je.kind="var";;){var Ct=mr();if(Ct.id=fr(),nt&&xn(Ct.id.name)&&Ze(Ct.id.start,"Binding "+Ct.id.name+" in strict mode"),Ct.init=F(hn)?kt(!0,ot):null,Je.declarations.push(w(Ct,"VariableDeclarator")),!F(Tr))break}return Je}function kt(Je,ot){var Ct=Xt(ot);if(!Je&&be===Tr){var At=Sn(Ct);for(At.expressions=[Ct];F(Tr);)At.expressions.push(Xt(ot));return w(At,"SequenceExpression")}return Ct}function Xt(Je){var ot=Zt(Je);if(be.isAssign){var Ct=Sn(ot);return Ct.operator=Ee,Ct.left=ot,_r(),Ct.right=Xt(Je),Re(ot),w(Ct,"AssignmentExpression")}return ot}function Zt(Je){var ot=hr(Je);if(F(nn)){var Ct=Sn(ot);return Ct.test=ot,Ct.consequent=kt(!0),ce(Xr),Ct.alternate=kt(!0,Je),w(Ct,"ConditionalExpression")}return ot}function hr(Je){return Yt(Jt(),-1,Je)}function Yt(Je,ot,Ct){var At=be.binop;if(At!=null&&(!Ct||be!==De)&&At>ot){var Wt=Sn(Je);Wt.left=Je,Wt.operator=Ee;var zt=be;_r(),Wt.right=Yt(Jt(),At,Ct);var Ht=w(Wt,zt===ai||zt===oi?"LogicalExpression":"BinaryExpression");return Yt(Ht,ot,Ct)}return Je}function Jt(){if(be.prefix){var Je=mr(),ot=be.isUpdate;return Je.operator=Ee,Je.prefix=!0,Ie=!0,_r(),Je.argument=Jt(),ot?Re(Je.argument):nt&&Je.operator==="delete"&&Je.argument.type==="Identifier"&&Ze(Je.start,"Deleting local variable in strict mode"),w(Je,ot?"UpdateExpression":"UnaryExpression")}for(var Ct=Rr();be.postfix&&!W();){var Je=Sn(Ct);Je.operator=Ee,Je.prefix=!1,Je.argument=Ct,Re(Ct),_r(),Ct=w(Je,"UpdateExpression")}return Ct}function Rr(){return ur(cr())}function ur(Je,ot){if(F($r)){var Ct=Sn(Je);return Ct.object=Je,Ct.property=fr(!0),Ct.computed=!1,ur(w(Ct,"MemberExpression"),ot)}else if(F(wt)){var Ct=Sn(Je);return Ct.object=Je,Ct.property=kt(),Ct.computed=!0,ce(Mt),ur(w(Ct,"MemberExpression"),ot)}else if(!ot&&F(er)){var Ct=Sn(Je);return Ct.callee=Je,Ct.arguments=Sr(tr,!1),ur(w(Ct,"CallExpression"),ot)}else return Je}function cr(){switch(be){case Rn:var At=mr();return _r(),w(At,"ThisExpression");case pt:return fr();case Tt:case Lt:case It:var At=mr();return At.value=Ee,At.raw=H.slice(pe,ve),_r(),w(At,"Literal");case M:case te:case Se:var At=mr();return At.value=be.atomValue,At.raw=be.keyword,_r(),w(At,"Literal");case er:var Je=xe,ot=pe;_r();var Ct=kt();return Ct.start=ot,Ct.end=ve,K.locations&&(Ct.loc.start=Je,Ct.loc.end=Ce),K.ranges&&(Ct.range=[ot,ve]),ce(tr),Ct;case wt:var At=mr();return _r(),At.elements=Sr(Mt,!0,!0),w(At,"ArrayExpression");case Bt:return Pr();case Ir:var At=mr();return _r(),Mr(At,!1);case Tn:return gr();default:we()}}function gr(){var Je=mr();return _r(),Je.callee=ur(cr(),!0),F(er)?Je.arguments=Sr(tr,!1):Je.arguments=xt,w(Je,"NewExpression")}function Pr(){var Je=mr(),ot=!0,Ct=!1;for(Je.properties=[],_r();!F(Vt);){if(ot)ot=!1;else if(ce(Tr),K.allowTrailingCommas&&F(Vt))break;var At={key:wr()},Wt=!1,zt;if(F(Xr)?(At.value=kt(!0),zt=At.kind="init"):K.ecmaVersion>=5&&At.key.type==="Identifier"&&(At.key.name==="get"||At.key.name==="set")?(Wt=Ct=!0,zt=At.kind=At.key.name,At.key=wr(),be!==er&&we(),At.value=Mr(mr(),!1)):we(),At.key.type==="Identifier"&&(nt||Ct))for(var Ht=0;Ht<Je.properties.length;++Ht){var lr=Je.properties[Ht];if(lr.key.name===At.key.name){var Yr=zt==lr.kind||Wt&&lr.kind==="init"||zt==="init"&&(lr.kind==="get"||lr.kind==="set");Yr&&!nt&&zt==="init"&&lr.kind==="init"&&(Yr=!1),Yr&&Ze(At.key.start,"Redefinition of property")}}Je.properties.push(At)}return w(Je,"ObjectExpression")}function wr(){return be===Tt||be===Lt?cr():fr(!0)}function Mr(Je,ot){be===pt?Je.id=fr():ot?we():Je.id=null,Je.params=[];var Ct=!0;for(ce(er);!F(tr);)Ct?Ct=!1:ce(Tr),Je.params.push(fr());var At=ft,Wt=lt;if(ft=!0,lt=[],Je.body=Ut(!0),ft=At,lt=Wt,nt||Je.body.body.length&&j(Je.body.body[0]))for(var zt=Je.id?-1:0;zt<Je.params.length;++zt){var Ht=zt<0?Je.id:Je.params[zt];if((sn(Ht.name)||xn(Ht.name))&&Ze(Ht.start,"Defining '"+Ht.name+"' in strict mode"),zt>=0)for(var lr=0;lr<zt;++lr)Ht.name===Je.params[lr].name&&Ze(Ht.start,"Argument name clash in strict mode")}return w(Je,ot?"FunctionDeclaration":"FunctionExpression")}function Sr(Je,ot,Ct){for(var At=[],Wt=!0;!F(Je);){if(Wt)Wt=!1;else if(ce(Tr),ot&&K.allowTrailingCommas&&F(Je))break;Ct&&be===Tr?At.push(null):At.push(kt(!0))}return At}function fr(Je){var ot=mr();return Je&&K.forbidReserved=="everywhere"&&(Je=!1),be===pt?(!Je&&(K.forbidReserved&&(K.ecmaVersion===3?Hn:Nn)(Ee)||nt&&sn(Ee))&&H.slice(pe,ve).indexOf("\\")==-1&&Ze(pe,"The keyword '"+Ee+"' is reserved"),ot.name=Ee):Je&&be.keyword?ot.name=be.keyword:we(),Ie=!1,_r(),w(ot,"Identifier")}}),r.version||(r=null)}function y(Y,K){return(e.acorn||r).parse(Y,K)}var v={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},x={"-":"__negate","+":"__self"},b=t.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(Y){this["__"+Y]="#"+Y},{__self:function(){return this}});o.inject(b),_.inject(b),Fe.inject(b);function T(Y,K,H){var G=v[K];if(Y&&Y[G]){var z=Y[G](H);return K==="!="?!z:z}switch(K){case"+":return Y+H;case"-":return Y-H;case"*":return Y*H;case"/":return Y/H;case"%":return Y%H;case"==":return Y==H;case"!=":return Y!=H}}function O(Y,K){var H=x[Y];if(K&&K[H])return K[H]();switch(Y){case"+":return+K;case"-":return-K}}function L(Y,K){if(!Y)return"";K=K||{};var H=[];function G(nt){for(var Ze=0,xt=H.length;Ze<xt;Ze++){var Tt=H[Ze];if(Tt[0]>=nt)break;nt+=Tt[1]}return nt}function z(nt){return Y.substring(G(nt.range[0]),G(nt.range[1]))}function Z(nt,Ze){return Y.substring(G(nt.range[1]),G(Ze.range[0]))}function ee(nt,Ze){for(var xt=G(nt.range[0]),Tt=G(nt.range[1]),It=0,Lt=H.length-1;Lt>=0;Lt--)if(xt>H[Lt][0]){It=Lt+1;break}H.splice(It,0,[xt,Ze.length-Tt+xt]),Y=Y.substring(0,xt)+Ze+Y.substring(Tt)}function le(nt,Ze){switch(nt.type){case"UnaryExpression":if(nt.operator in x&&nt.argument.type!=="Literal"){var xt=z(nt.argument);ee(nt,'$__("'+nt.operator+'", '+xt+")")}break;case"BinaryExpression":if(nt.operator in v&&nt.left.type!=="Literal"){var Tt=z(nt.left),It=z(nt.right),Lt=Z(nt.left,nt.right),pt=nt.operator;ee(nt,"__$__("+Tt+","+Lt.replace(new RegExp("\\"+pt),'"'+pt+'"')+", "+It+")")}break;case"UpdateExpression":case"AssignmentExpression":var Dt=Ze&&Ze.type;if(!(Dt==="ForStatement"||Dt==="BinaryExpression"&&/^[=!<>]/.test(Ze.operator)||Dt==="MemberExpression"&&Ze.computed)){if(nt.type==="UpdateExpression"){var xt=z(nt.argument),jt="__$__("+xt+', "'+nt.operator[0]+'", 1)',Gt=xt+" = "+jt;nt.prefix?Gt="("+Gt+")":(Dt==="AssignmentExpression"||Dt==="VariableDeclarator"||Dt==="BinaryExpression")&&(z(Ze.left||Ze.id)===xt&&(Gt=jt),Gt=xt+"; "+Gt),ee(nt,Gt)}else if(/^.=$/.test(nt.operator)&&nt.left.type!=="Literal"){var Tt=z(nt.left),It=z(nt.right),jt=Tt+" = __$__("+Tt+', "'+nt.operator[0]+'", '+It+")";ee(nt,/^\(.*\)$/.test(z(nt))?"("+jt+")":jt)}}break}}function ie(nt){switch(nt.type){case"ExportDefaultDeclaration":ee({range:[nt.start,nt.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var Ze=nt.declaration,xt=nt.specifiers;if(Ze){var Tt=Ze.declarations;Tt&&(Tt.forEach(function(Lt){ee(Lt,"module.exports."+z(Lt))}),ee({range:[nt.start,Ze.start+Ze.kind.length]},""))}else if(xt){var It=xt.map(function(Lt){var pt=z(Lt);return"module.exports."+pt+" = "+pt+"; "}).join("");It&&ee(nt,It)}break}}function pe(nt,Ze,xt){if(nt){for(var Tt in nt)if(Tt!=="range"&&Tt!=="loc"){var It=nt[Tt];if(Array.isArray(It))for(var Lt=0,pt=It.length;Lt<pt;Lt++)pe(It[Lt],nt,xt);else It&&typeof It=="object"&&pe(It,nt,xt)}xt.operatorOverloading!==!1&&le(nt,Ze),xt.moduleExports!==!1&&ie(nt)}}function ve(nt){var Ze="",xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(nt=(Math.abs(nt)<<1)+(nt<0?1:0);nt||!Ze;){var Tt=nt&31;nt>>=5,nt&&(Tt|=32),Ze+=xt[Tt]}return Ze}var xe=K.url||"",Ce=K.sourceMaps,be=K.paperFeatures||{},Ee=K.source||Y,Ie=K.offset||0,Ue=i.agent,We=Ue.versionNumber,rt=!1,ke=/\r\n|\n|\r/mg,Ye;if(Ce&&(Ue.chrome&&We>=30||Ue.webkit&&We>=537.76||Ue.firefox&&We>=23||Ue.node)){if(Ue.node)Ie-=2;else if(S&&xe&&!S.location.href.indexOf(xe)){var ft=g.getElementsByTagName("html")[0].innerHTML;Ie=ft.substr(0,ft.indexOf(Y)+1).match(ke).length+1}rt=Ie>0&&!(Ue.chrome&&We>=36||Ue.safari&&We>=600||Ue.firefox&&We>=40||Ue.node);var lt=["AA"+ve(rt?0:Ie)+"A"];lt.length=(Y.match(ke)||[]).length+1+(rt?Ie:0),Ye={version:3,file:xe,names:[],mappings:lt.join(";AACA"),sourceRoot:"",sources:[xe],sourcesContent:[Ee]}}return(be.operatorOverloading!==!1||be.moduleExports!==!1)&&pe(y(Y,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,be),Ye&&(rt&&(Y=new Array(Ie+1).join(`
`)+Y),/^(inline|both)$/.test(Ce)&&(Y+=`
//# sourceMappingURL=data:application/json;base64,`+n.btoa(unescape(encodeURIComponent(JSON.stringify(Ye))))),Y+=`
//# sourceURL=`+(xe||"paperscript")),{url:xe,source:Ee,code:Y,map:Ye}}function D(Y,K,H){i=K;var G=K.getView(),z=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(Y)&&!/\bnew\s+Tool\b/.test(Y)?new ht:null,Z=z?z._events:[],ee=["onFrame","onResize"].concat(Z),le=[],ie=[],pe,ve=typeof Y=="object"?Y:L(Y,H);Y=ve.code;function xe(We,rt){for(var ke in We)(rt||!/^_/.test(ke))&&new RegExp("([\\b\\s\\W]|^)"+ke.replace(/\$/g,"\\$")+"\\b").test(Y)&&(le.push(ke),ie.push(We[ke]))}xe({__$__:T,$__:O,paper:K,tool:z},!0),xe(K),Y="var module = { exports: {} }; "+Y;var Ie=t.each(ee,function(We){new RegExp("\\s+"+We+"\\b").test(Y)&&(le.push(We),this.push("module.exports."+We+" = "+We+";"))},[]).join(`
`);Ie&&(Y+=`
`+Ie),Y+=`
return module.exports;`;var Ce=i.agent;if(g&&(Ce.chrome||Ce.firefox&&Ce.versionNumber<40)){var be=g.createElement("script"),Ee=g.head||g.getElementsByTagName("head")[0];Ce.firefox&&(Y=`
`+Y),be.appendChild(g.createTextNode("document.__paperscript__ = function("+le+") {"+Y+`
}`)),Ee.appendChild(be),pe=g.__paperscript__,delete g.__paperscript__,Ee.removeChild(be)}else pe=Function(le,Y);var Ie=pe&&pe.apply(K,ie),Ue=Ie||{};return t.each(Z,function(We){var rt=Ue[We];rt&&(z[We]=rt)}),G&&(Ue.onResize&&G.setOnResize(Ue.onResize),G.emit("resize",{size:G.size,delta:new o}),Ue.onFrame&&G.setOnFrame(Ue.onFrame),G.requestUpdate()),Ie}function N(Y){if(/^text\/(?:x-|)paperscript$/.test(Y.type)&&f.getAttribute(Y,"ignore")!=="true"){var K=f.getAttribute(Y,"canvas"),H=g.getElementById(K),G=Y.src||Y.getAttribute("data-src"),z=f.hasAttribute(Y,"async"),Z="data-paper-scope";if(!H)throw new Error('Unable to find canvas with id "'+K+'"');var ee=f.get(H.getAttribute(Z))||new f().setup(H);return H.setAttribute(Z,ee._id),G?mt.request({url:G,async:z,mimeType:"text/plain",onLoad:function(le){D(le,ee,G)}}):D(Y.innerHTML,ee,Y.baseURI),Y.setAttribute("data-paper-ignore","true"),ee}}function R(){t.each(g&&g.getElementsByTagName("script"),N)}function X(Y){return Y?N(Y):R()}return S&&(g.readyState==="complete"?setTimeout(R):Ve.add(S,{load:R})),{compile:L,execute:D,load:X,parse:y,calculateBinary:T,calculateUnary:O}}.call(this);var i=new(f.inject(t.exports,{Base:t,Numerical:a,Key:ze,DomEvent:Ve,DomElement:Me,document:g,window:S,Symbol:ue,PlacedSymbol:J}));return i.agent.node&&Zs(i),typeof C=="function"&&C.amd?C("paper",i):P&&(P.exports=i),i}).call(io,typeof self=="object"?self:null)})(Pl);const Jp=Pl.exports,em=ll("paper",()=>{const P=pn(0),n=pn([]);function C(){return n.value}return{count:P,paperScopes:n,getPaperScopes:C}});var kl={exports:{}};/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(P){(function(n,C){n=n||Zs;var S=n.window,g=n.document,t=new function(){var i=/^(statics|enumerable|beans|preserve)$/,e=[],r=e.slice,s=Object.create,h=Object.getOwnPropertyDescriptor,y=Object.defineProperty,v=e.forEach||function(D,N){for(var R=0,X=this.length;R<X;R++)D.call(N,this[R],R,this)},x=function(D,N){for(var R in this)this.hasOwnProperty(R)&&D.call(N,this[R],R,this)},b=Object.assign||function(D){for(var N=1,R=arguments.length;N<R;N++){var X=arguments[N];for(var Y in X)X.hasOwnProperty(Y)&&(D[Y]=X[Y])}return D},T=function(D,N,R){if(D){var X=h(D,"length");(X&&typeof X.value=="number"?v:x).call(D,N,R=R||D)}return R};function O(D,N,R,X,Y){var K={};function H(le,ie){ie=ie||(ie=h(N,le))&&(ie.get?ie:ie.value),typeof ie=="string"&&ie[0]==="#"&&(ie=D[ie.substring(1)]||ie);var pe=typeof ie=="function",ve=ie,xe=Y||pe&&!ie.base?ie&&ie.get?le in D:D[le]:null,Ce;(!Y||!xe)&&(pe&&xe&&(ie.base=xe),pe&&X!==!1&&(Ce=le.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(K[Ce[3].toLowerCase()+Ce[4]]=Ce[2]),(!ve||pe||!ve.get||typeof ve.get!="function"||!L.isPlainObject(ve))&&(ve={value:ve,writable:!0}),(h(D,le)||{configurable:!0}).configurable&&(ve.configurable=!0,ve.enumerable=R!=null?R:!Ce),y(D,le,ve))}if(N){for(var G in N)N.hasOwnProperty(G)&&!i.test(G)&&H(G);for(var G in K){var z=K[G],Z=D["set"+z],ee=D["get"+z]||Z&&D["is"+z];ee&&(X===!0||ee.length===0)&&H(G,{get:ee,set:Z})}}return D}function L(){for(var D=0,N=arguments.length;D<N;D++){var R=arguments[D];R&&b(this,R)}return this}return O(L,{inject:function(D){if(D){var N=D.statics===!0?D:D.statics,R=D.beans,X=D.preserve;N!==D&&O(this.prototype,D,D.enumerable,R,X),O(this,N,null,R,X)}for(var Y=1,K=arguments.length;Y<K;Y++)this.inject(arguments[Y]);return this},extend:function(){for(var D=this,N,R,X=0,Y,K=arguments.length;X<K&&!(N&&R);X++)Y=arguments[X],N=N||Y.initialize,R=R||Y.prototype;return N=N||function(){D.apply(this,arguments)},R=N.prototype=R||s(this.prototype),y(R,"constructor",{value:N,writable:!0,configurable:!0}),O(N,this),arguments.length&&this.inject.apply(N,arguments),N.base=D,N}}).inject({enumerable:!1,initialize:L,set:L,inject:function(){for(var D=0,N=arguments.length;D<N;D++){var R=arguments[D];R&&O(this,R,R.enumerable,R.beans,R.preserve)}return this},extend:function(){var D=s(this);return D.inject.apply(D,arguments)},each:function(D,N){return T(this,D,N)},clone:function(){return new this.constructor(this)},statics:{set:b,each:T,create:s,define:y,describe:h,clone:function(D){return b(new D.constructor,D)},isPlainObject:function(D){var N=D!=null&&D.constructor;return N&&(N===Object||N===L||N.name==="Object")},pick:function(D,N){return D!==C?D:N},slice:function(D,N,R){return r.call(D,N,R)}}})};P.exports=t,t.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+t.each(this,function(i,e){if(!/^_/.test(e)){var r=typeof i;this.push(e+": "+(r==="number"?u.instance.number(i):r==="string"?"'"+i+"'":i))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(i){return t.importJSON(i,this)},exportJSON:function(i){return t.exportJSON(this,i)},toJSON:function(){return t.serialize(this)},set:function(i,e){return i&&t.filter(this,i,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function i(){var e=i.base.apply(this,arguments),r=e.prototype._class;return r&&!t.exports[r]&&(t.exports[r]=e),e},equals:function(i,e){if(i===e)return!0;if(i&&i.equals)return i.equals(e);if(e&&e.equals)return e.equals(i);if(i&&e&&typeof i=="object"&&typeof e=="object"){if(Array.isArray(i)&&Array.isArray(e)){var r=i.length;if(r!==e.length)return!1;for(;r--;)if(!t.equals(i[r],e[r]))return!1}else{var s=Object.keys(i),r=s.length;if(r!==Object.keys(e).length)return!1;for(;r--;){var h=s[r];if(!(e.hasOwnProperty(h)&&t.equals(i[h],e[h])))return!1}}return!0}return!1},read:function(i,e,r,s){if(this===t){var h=this.peek(i,e);return i.__index++,h}var y=this.prototype,v=y._readIndex,x=e||v&&i.__index||0,b=i.length,T=i[x];if(s=s||b-x,T instanceof this||r&&r.readNull&&T==null&&s<=1)return v&&(i.__index=x+1),T&&r&&r.clone?T.clone():T;if(T=t.create(y),v&&(T.__read=!0),T=T.initialize.apply(T,x>0||x+s<b?t.slice(i,x,x+s):i)||T,v){i.__index=x+T.__read;var O=T.__filtered;O&&(i.__filtered=O,T.__filtered=C),T.__read=C}return T},peek:function(i,e){return i[i.__index=e||i.__index||0]},remain:function(i){return i.length-(i.__index||0)},readList:function(i,e,r,s){for(var h=[],y,v=e||0,x=s?v+s:i.length,b=v;b<x;b++)h.push(Array.isArray(y=i[b])?this.read(y,0,r):this.read(i,b,r,1));return h},readNamed:function(i,e,r,s,h){var y=this.getNamed(i,e),v=y!==C;if(v){var x=i.__filtered;if(!x){var b=this.getSource(i);x=i.__filtered=t.create(b),x.__unfiltered=b}x[e]=C}return this.read(v?[y]:i,r,s,h)},readSupported:function(i,e){var r=this.getSource(i),s=this,h=!1;return r&&Object.keys(r).forEach(function(y){if(y in e){var v=s.readNamed(i,y);v!==C&&(e[y]=v),h=!0}}),h},getSource:function(i){var e=i.__source;if(e===C){var r=i.length===1&&i[0];e=i.__source=r&&t.isPlainObject(r)?r:null}return e},getNamed:function(i,e){var r=this.getSource(i);if(r)return e?r[e]:i.__filtered||r},hasNamed:function(i,e){return!!this.getNamed(i,e)},filter:function(i,e,r,s){var h;function y(O){if(!(r&&O in r)&&!(h&&O in h)){var L=e[O];L!==C&&(i[O]=L)}}if(s){for(var v={},x=0,b,T=s.length;x<T;x++)(b=s[x])in e&&(y(b),v[b]=!0);h=v}return Object.keys(e.__unfiltered||e).forEach(y),i},isPlainValue:function(i,e){return t.isPlainObject(i)||Array.isArray(i)||e&&typeof i=="string"},serialize:function(i,e,r,s){e=e||{};var h=!s,y;if(h&&(e.formatter=new u(e.precision),s={length:0,definitions:{},references:{},add:function(L,D){var N="#"+L._id,R=this.references[N];if(!R){this.length++;var X=D.call(L),Y=L._class;Y&&X[0]!==Y&&X.unshift(Y),this.definitions[N]=X,R=this.references[N]=[N]}return R}}),i&&i._serialize){y=i._serialize(e,s);var v=i._class;v&&!i._compactSerialize&&(h||!r)&&y[0]!==v&&y.unshift(v)}else if(Array.isArray(i)){y=[];for(var x=0,b=i.length;x<b;x++)y[x]=t.serialize(i[x],e,r,s)}else if(t.isPlainObject(i)){y={};for(var T=Object.keys(i),x=0,b=T.length;x<b;x++){var O=T[x];y[O]=t.serialize(i[O],e,r,s)}}else typeof i=="number"?y=e.formatter.number(i,e.precision):y=i;return h&&s.length>0?[["dictionary",s.definitions],y]:y},deserialize:function(i,e,r,s,h){var y=i,v=!r,x=v&&i&&i.length&&i[0][0]==="dictionary";if(r=r||{},Array.isArray(i)){var b=i[0],T=b==="dictionary";if(i.length==1&&/^#/.test(b))return r.dictionary[b];b=t.exports[b],y=[];for(var O=b?1:0,L=i.length;O<L;O++)y.push(t.deserialize(i[O],e,r,T,x));if(b){var D=y;e?y=e(b,D,v||h):y=new b(D)}}else if(t.isPlainObject(i)){y={},s&&(r.dictionary=y);for(var N in i)y[N]=t.deserialize(i[N],e,r)}return x?y[1]:y},exportJSON:function(i,e){var r=t.serialize(i,e);return e&&e.asString==!1?r:JSON.stringify(r)},importJSON:function(i,e){return t.deserialize(typeof i=="string"?JSON.parse(i):i,function(r,s,h){var y=h&&e&&e.constructor===r,v=y?e:t.create(r.prototype);if(s.length===1&&v instanceof B&&(y||!(v instanceof ne))){var x=s[0];t.isPlainObject(x)&&(x.insert=!1,y&&(s=s.concat([{insert:!0}])))}return(y?v.set:r).apply(v,s),y&&(e=null),v})},push:function(i,e){var r=e.length;if(r<4096)i.push.apply(i,e);else{var s=i.length;i.length+=r;for(var h=0;h<r;h++)i[s+h]=e[h]}return i},splice:function(i,e,r,s){var h=e&&e.length,y=r===C;r=y?i.length:r,r>i.length&&(r=i.length);for(var v=0;v<h;v++)e[v]._index=r+v;if(y)return t.push(i,e),[];var x=[r,s];e&&t.push(x,e);for(var b=i.splice.apply(i,x),v=0,T=b.length;v<T;v++)b[v]._index=C;for(var v=r+h,T=i.length;v<T;v++)i[v]._index=v;return b},capitalize:function(i){return i.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(i){return i.replace(/-(.)/g,function(e,r){return r.toUpperCase()})},hyphenate:function(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var c={on:function(i,e){if(typeof i!="string")t.each(i,function(y,v){this.on(v,y)},this);else{var r=this._eventTypes,s=r&&r[i],h=this._callbacks=this._callbacks||{};h=h[i]=h[i]||[],h.indexOf(e)===-1&&(h.push(e),s&&s.install&&h.length===1&&s.install.call(this,i))}return this},off:function(i,e){if(typeof i!="string"){t.each(i,function(v,x){this.off(x,v)},this);return}var r=this._eventTypes,s=r&&r[i],h=this._callbacks&&this._callbacks[i],y;return h&&(!e||(y=h.indexOf(e))!==-1&&h.length===1?(s&&s.uninstall&&s.uninstall.call(this,i),delete this._callbacks[i]):y!==-1&&h.splice(y,1)),this},once:function(i,e){return this.on(i,function r(){e.apply(this,arguments),this.off(i,r)})},emit:function(i,e){var r=this._callbacks&&this._callbacks[i];if(!r)return!1;var s=t.slice(arguments,1),h=e&&e.target&&!e.currentTarget;r=r.slice(),h&&(e.currentTarget=this);for(var y=0,v=r.length;y<v;y++)if(r[y].apply(this,s)==!1){e&&e.stop&&e.stop();break}return h&&delete e.currentTarget,!0},responds:function(i){return!!(this._callbacks&&this._callbacks[i])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(i){var e=this._eventTypes,r=this._callbacks,s=i?"install":"uninstall";if(e){for(var h in r)if(r[h].length>0){var y=e[h],v=y&&y[s];v&&v.call(this,h)}}},statics:{inject:function i(e){var r=e._events;if(r){var s={};t.each(r,function(h,y){var v=typeof h=="string",x=v?h:y,b=t.capitalize(x),T=x.substring(2).toLowerCase();s[T]=v?{}:h,x="_"+x,e["get"+b]=function(){return this[x]},e["set"+b]=function(O){var L=this[x];L&&this.off(T,L),O&&this.on(T,O),this[x]=O}}),e._eventTypes=s}return i.base.apply(this,arguments)}}},f=t.extend({_class:"PaperScope",initialize:function i(){Et=this,this.settings=new t({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=i._id++,i._scopes[this._id]=this;var e=i.prototype;if(!this.support){var r=mt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:gt.nativeModes},mt.release(r)}if(!this.agent){var s=n.navigator.userAgent.toLowerCase(),h=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(s)||[])[0],y=h==="darwin"?"mac":h,v=e.agent=e.browser={platform:y};y&&(v[y]=!0),s.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(x,b,T,O,L){if(!v.chrome){var D=b==="opera"?O:/^(node|trident)$/.test(b)?L:T;v.version=D,v.versionNumber=parseFloat(D),b={trident:"msie",jsdom:"node"}[b]||b,v.name=b,v[b]=!0}}),v.chrome&&delete v.webkit,v.atom&&delete v.chrome}},version:"0.12.15",getView:function(){var i=this.project;return i&&i._view},getPaper:function(){return this},execute:function(i,e){},install:function(i){var e=this;t.each(["project","view","tool"],function(s){t.define(i,s,{configurable:!0,get:function(){return e[s]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(i[r]=this[r])},setup:function(i){return Et=this,this.project=new $(i),this},createCanvas:function(i,e){return mt.getCanvas(i,e)},activate:function(){Et=this},clear:function(){for(var i=this.projects,e=this.tools,r=i.length-1;r>=0;r--)i[r].remove();for(var r=e.length-1;r>=0;r--)e[r].remove()},remove:function(){this.clear(),delete f._scopes[this._id]},statics:new function(){function i(e){return e+="Attribute",function(r,s){return r[e](s)||r[e]("data-paper-"+s)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:i("get"),hasAttribute:i("has")}}}),m=t.extend(c,{initialize:function(i){this._scope=Et,this._index=this._scope[this._list].push(this)-1,(i||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var i=this._scope[this._reference];return i&&i!==this&&i.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",i),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(t.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),p={findItemBoundsCollisions:function(i,e,r){function s(v){for(var x=new Array(v.length),b=0;b<v.length;b++){var T=v[b].getBounds();x[b]=[T.left,T.top,T.right,T.bottom]}return x}var h=s(i),y=!e||e===i?h:s(e);return this.findBoundsCollisions(h,y,r||0)},findCurveBoundsCollisions:function(i,e,r,s){function h(D){for(var N=Math.min,R=Math.max,X=new Array(D.length),Y=0;Y<D.length;Y++){var K=D[Y];X[Y]=[N(K[0],K[2],K[4],K[6]),N(K[1],K[3],K[5],K[7]),R(K[0],K[2],K[4],K[6]),R(K[1],K[3],K[5],K[7])]}return X}var y=h(i),v=!e||e===i?y:h(e);if(s){for(var x=this.findBoundsCollisions(y,v,r||0,!1,!0),b=this.findBoundsCollisions(y,v,r||0,!0,!0),T=[],O=0,L=x.length;O<L;O++)T[O]={hor:x[O],ver:b[O]};return T}return this.findBoundsCollisions(y,v,r||0)},findBoundsCollisions:function(i,e,r,s,h){var y=!e||i===e,v=y?i:i.concat(e),x=i.length,b=v.length;function T(ke,Ye,ft){for(var lt=0,nt=ke.length;lt<nt;){var Ze=nt+lt>>>1;v[ke[Ze]][Ye]<ft?lt=Ze+1:nt=Ze}return lt-1}for(var O=s?1:0,L=O+2,D=s?0:1,N=D+2,R=new Array(b),X=0;X<b;X++)R[X]=X;R.sort(function(ke,Ye){return v[ke][O]-v[Ye][O]});for(var Y=[],K=new Array(x),X=0;X<b;X++){var H=R[X],G=v[H],z=y?H:H-x,Z=H<x,ee=y||!Z,le=Z?[]:null;if(Y.length){var ie=T(Y,L,G[O]-r)+1;if(Y.splice(0,ie),y&&h){le=le.concat(Y);for(var pe=0;pe<Y.length;pe++){var ve=Y[pe];K[ve].push(z)}}else for(var xe=G[N],Ce=G[D],pe=0;pe<Y.length;pe++){var ve=Y[pe],be=v[ve],Ee=ve<x,Ie=y||ve>=x;(h||(Z&&Ie||ee&&Ee)&&xe>=be[D]-r&&Ce<=be[N]+r)&&(Z&&Ie&&le.push(y?ve:ve-x),ee&&Ee&&K[ve].push(z))}}if(Z&&(i===e&&le.push(H),K[H]=le),Y.length){var Ue=G[L],We=T(Y,L,Ue);Y.splice(We+1,0,H)}else Y.push(H)}for(var X=0;X<K.length;X++){var rt=K[X];rt&&rt.sort(function(Ye,ft){return Ye-ft})}return K}},u=t.extend({initialize:function(i){this.precision=t.pick(i,5),this.multiplier=Math.pow(10,this.precision)},number:function(i){return this.precision<16?Math.round(i*this.multiplier)/this.multiplier:i},pair:function(i,e,r){return this.number(i)+(r||",")+this.number(e)},point:function(i,e){return this.number(i.x)+(e||",")+this.number(i.y)},size:function(i,e){return this.number(i.width)+(e||",")+this.number(i.height)},rectangle:function(i,e){return this.point(i,e)+(e||",")+this.size(i,e)}});u.instance=new u;var a=new function(){var i=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,s=Math.sqrt,h=Math.pow,y=Math.log2||function(L){return Math.log(L)*Math.LOG2E},v=1e-12,x=112e-18;function b(L,D,N){return L<D?D:L>N?N:L}function T(L,D,N){function R(ie){var pe=ie*134217729,ve=ie-pe,xe=ve+pe,Ce=ie-xe;return[xe,Ce]}var X=D*D-L*N,Y=D*D+L*N;if(r(X)*3<Y){var K=R(L),H=R(D),G=R(N),z=D*D,Z=H[0]*H[0]-z+2*H[0]*H[1]+H[1]*H[1],ee=L*N,le=K[0]*G[0]-ee+K[0]*G[1]+K[1]*G[0]+K[1]*G[1];X=z-ee+(Z-le)}return X}function O(){var L=Math.max.apply(Math,arguments);return L&&(L<1e-8||L>1e8)?h(2,-Math.round(y(L))):0}return{EPSILON:v,MACHINE_EPSILON:x,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(s(2)-1)/3,isZero:function(L){return L>=-v&&L<=v},isMachineZero:function(L){return L>=-x&&L<=x},clamp:b,integrate:function(L,D,N,R){for(var X=i[R-2],Y=e[R-2],K=(N-D)*.5,H=K+D,G=0,z=R+1>>1,Z=R&1?Y[G++]*L(H):0;G<z;){var ee=K*X[G];Z+=Y[G++]*(L(H+ee)+L(H-ee))}return K*Z},findRoot:function(L,D,N,R,X,Y,K){for(var H=0;H<Y;H++){var G=L(N),z=G/D(N),Z=N-z;if(r(z)<K){N=Z;break}G>0?(X=N,N=Z<=R?(R+X)*.5:Z):(R=N,N=Z>=X?(R+X)*.5:Z)}return b(N,R,X)},solveQuadratic:function(L,D,N,R,X,Y){var K,H=1/0;if(r(L)<v){if(r(D)<v)return r(N)<v?-1:0;K=-N/D}else{D*=-.5;var G=T(L,D,N);if(G&&r(G)<x){var z=O(r(L),r(D),r(N));z&&(L*=z,D*=z,N*=z,G=T(L,D,N))}if(G>=-x){var Z=G<0?0:s(G),ee=D+(D<0?-Z:Z);ee===0?(K=N/L,H=-K):(K=ee/L,H=N/ee)}}var le=0,ie=X==null,pe=X-v,ve=Y+v;return isFinite(K)&&(ie||K>pe&&K<ve)&&(R[le++]=ie?K:b(K,X,Y)),H!==K&&isFinite(H)&&(ie||H>pe&&H<ve)&&(R[le++]=ie?H:b(H,X,Y)),le},solveCubic:function(L,D,N,R,X,Y,K){var H=O(r(L),r(D),r(N),r(R)),G,z,Z,ee,le;H&&(L*=H,D*=H,N*=H,R*=H);function ie(We){G=We;var rt=L*G;z=rt+D,Z=z*G+N,ee=(rt+z)*G+Z,le=Z*G+R}if(r(L)<v)L=D,z=N,Z=R,G=1/0;else if(r(R)<v)z=D,Z=N,G=0;else{ie(-(D/L)/3);var pe=le/L,ve=h(r(pe),1/3),xe=pe<0?-1:1,Ce=-ee/L,be=Ce>0?1.324717957244746*Math.max(ve,s(Ce)):ve,Ee=G-xe*be;if(Ee!==G){do ie(Ee),Ee=ee===0?G:G-le/ee/(1+x);while(xe*Ee>xe*G);r(L)*G*G>r(R/G)&&(Z=-R/G,z=(Z-N)/G)}}var Ie=a.solveQuadratic(L,z,Z,X,Y,K),Ue=Y==null;return isFinite(G)&&(Ie===0||Ie>0&&G!==X[0]&&G!==X[1])&&(Ue||G>Y-v&&G<K+v)&&(X[Ie++]=Ue?G:b(G,Y,K)),Ie}}},l={_id:1,_pools:{},get:function(i){if(i){var e=this._pools[i];return e||(e=this._pools[i]={_id:1}),e._id++}else return this._id++}},o=t.extend({_class:"Point",_readIndex:!0,initialize:function(e,r){var s=typeof e,h=this.__read,y=0;if(s==="number"){var v=typeof r=="number";this._set(e,v?r:e),h&&(y=v?2:1)}else if(s==="undefined"||e===null)this._set(0,0),h&&(y=e===null?1:0);else{var x=s==="string"?e.split(/[\s,]+/)||[]:e;y=1,Array.isArray(x)?this._set(+x[0],+(x.length>1?x[1]:x[0])):"x"in x?this._set(x.x||0,x.y||0):"width"in x?this._set(x.width||0,x.height||0):"angle"in x?(this._set(x.length||0,0),this.setAngle(x.angle||0)):(this._set(0,0),y=0)}return h&&(this.__read=y),this},set:"#initialize",_set:function(i,e){return this.x=i,this.y=e,this},equals:function(i){return this===i||i&&(this.x===i.x&&this.y===i.y||Array.isArray(i)&&this.x===i[0]&&this.y===i[1])||!1},clone:function(){return new o(this.x,this.y)},toString:function(){var i=u.instance;return"{ x: "+i.number(this.x)+", y: "+i.number(this.y)+" }"},_serialize:function(i){var e=i.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(i){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*i,Math.sin(e)*i)}else{var r=i/this.getLength();a.isZero(r)&&this.getAngle(),this._set(this.x*r,this.y*r)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(i){this.setAngleInRadians.call(this,i*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var i=o.read(arguments),e=this.getLength()*i.getLength();if(a.isZero(e))return NaN;var r=this.dot(i)/e;return Math.acos(r<-1?-1:r>1?1:r)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(i){if(this._angle=i,!this.isZero()){var e=this.getLength();this._set(Math.cos(i)*e,Math.sin(i)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var i=o.read(arguments);return Math.atan2(this.cross(i),this.dot(i))*180/Math.PI},getDistance:function(){var i=arguments,e=o.read(i),r=e.x-this.x,s=e.y-this.y,h=r*r+s*s,y=t.read(i);return y?h:Math.sqrt(h)},normalize:function(i){i===C&&(i=1);var e=this.getLength(),r=e!==0?i/e:0,s=new o(this.x*r,this.y*r);return r>=0&&(s._angle=this._angle),s},rotate:function(i,e){if(i===0)return this.clone();i=i*Math.PI/180;var r=e?this.subtract(e):this,s=Math.sin(i),h=Math.cos(i);return r=new o(r.x*h-r.y*s,r.x*s+r.y*h),e?r.add(e):r},transform:function(i){return i?i._transformPoint(this):this},add:function(){var i=o.read(arguments);return new o(this.x+i.x,this.y+i.y)},subtract:function(){var i=o.read(arguments);return new o(this.x-i.x,this.y-i.y)},multiply:function(){var i=o.read(arguments);return new o(this.x*i.x,this.y*i.y)},divide:function(){var i=o.read(arguments);return new o(this.x/i.x,this.y/i.y)},modulo:function(){var i=o.read(arguments);return new o(this.x%i.x,this.y%i.y)},negate:function(){return new o(-this.x,-this.y)},isInside:function(){return E.read(arguments).contains(this)},isClose:function(){var i=arguments,e=o.read(i),r=t.read(i);return this.getDistance(e)<=r},isCollinear:function(){var i=o.read(arguments);return o.isCollinear(this.x,this.y,i.x,i.y)},isColinear:"#isCollinear",isOrthogonal:function(){var i=o.read(arguments);return o.isOrthogonal(this.x,this.y,i.x,i.y)},isZero:function(){var i=a.isZero;return i(this.x)&&i(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(i){return this.x*(i>1&&i<4?-1:1)>=0&&this.y*(i>2?-1:1)>=0},dot:function(){var i=o.read(arguments);return this.x*i.x+this.y*i.y},cross:function(){var i=o.read(arguments);return this.x*i.y-this.y*i.x},project:function(){var i=o.read(arguments),e=i.isZero()?0:this.dot(i)/i.dot(i);return new o(i.x*e,i.y*e)},statics:{min:function(){var i=arguments,e=o.read(i),r=o.read(i);return new o(Math.min(e.x,r.x),Math.min(e.y,r.y))},max:function(){var i=arguments,e=o.read(i),r=o.read(i);return new o(Math.max(e.x,r.x),Math.max(e.y,r.y))},random:function(){return new o(Math.random(),Math.random())},isCollinear:function(i,e,r,s){return Math.abs(i*s-e*r)<=Math.sqrt((i*i+e*e)*(r*r+s*s))*1e-8},isOrthogonal:function(i,e,r,s){return Math.abs(i*r+e*s)<=Math.sqrt((i*i+e*e)*(r*r+s*s))*1e-8}}},t.each(["round","ceil","floor","abs"],function(i){var e=Math[i];this[i]=function(){return new o(e(this.x),e(this.y))}},{})),d=o.extend({initialize:function(e,r,s,h){this._x=e,this._y=r,this._owner=s,this._setter=h},_set:function(i,e,r){return this._x=i,this._y=e,r||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(i){this._x=i,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(i){this._y=i,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(i){this._owner._changeSelection(this._getSelection(),i)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),_=t.extend({_class:"Size",_readIndex:!0,initialize:function(e,r){var s=typeof e,h=this.__read,y=0;if(s==="number"){var v=typeof r=="number";this._set(e,v?r:e),h&&(y=v?2:1)}else if(s==="undefined"||e===null)this._set(0,0),h&&(y=e===null?1:0);else{var x=s==="string"?e.split(/[\s,]+/)||[]:e;y=1,Array.isArray(x)?this._set(+x[0],+(x.length>1?x[1]:x[0])):"width"in x?this._set(x.width||0,x.height||0):"x"in x?this._set(x.x||0,x.y||0):(this._set(0,0),y=0)}return h&&(this.__read=y),this},set:"#initialize",_set:function(i,e){return this.width=i,this.height=e,this},equals:function(i){return i===this||i&&(this.width===i.width&&this.height===i.height||Array.isArray(i)&&this.width===i[0]&&this.height===i[1])||!1},clone:function(){return new _(this.width,this.height)},toString:function(){var i=u.instance;return"{ width: "+i.number(this.width)+", height: "+i.number(this.height)+" }"},_serialize:function(i){var e=i.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var i=_.read(arguments);return new _(this.width+i.width,this.height+i.height)},subtract:function(){var i=_.read(arguments);return new _(this.width-i.width,this.height-i.height)},multiply:function(){var i=_.read(arguments);return new _(this.width*i.width,this.height*i.height)},divide:function(){var i=_.read(arguments);return new _(this.width/i.width,this.height/i.height)},modulo:function(){var i=_.read(arguments);return new _(this.width%i.width,this.height%i.height)},negate:function(){return new _(-this.width,-this.height)},isZero:function(){var i=a.isZero;return i(this.width)&&i(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(i,e){return new _(Math.min(i.width,e.width),Math.min(i.height,e.height))},max:function(i,e){return new _(Math.max(i.width,e.width),Math.max(i.height,e.height))},random:function(){return new _(Math.random(),Math.random())}}},t.each(["round","ceil","floor","abs"],function(i){var e=Math[i];this[i]=function(){return new _(e(this.width),e(this.height))}},{})),k=_.extend({initialize:function(e,r,s,h){this._width=e,this._height=r,this._owner=s,this._setter=h},_set:function(i,e,r){return this._width=i,this._height=e,r||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(i){this._width=i,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(i){this._height=i,this._owner[this._setter](this)}}),E=t.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,r,s,h){var y=arguments,v=typeof e,x;if(v==="number"?(this._set(e,r,s,h),x=4):v==="undefined"||e===null?(this._set(0,0,0,0),x=e===null?1:0):y.length===1&&(Array.isArray(e)?(this._set.apply(this,e),x=1):e.x!==C||e.width!==C?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),x=1):e.from===C&&e.to===C&&(this._set(0,0,0,0),t.readSupported(y,this)&&(x=1))),x===C){var b=o.readNamed(y,"from"),T=t.peek(y),O=b.x,L=b.y,D,N;if(T&&T.x!==C||t.hasNamed(y,"to")){var R=o.readNamed(y,"to");D=R.x-O,N=R.y-L,D<0&&(O=R.x,D=-D),N<0&&(L=R.y,N=-N)}else{var X=_.read(y);D=X.width,N=X.height}this._set(O,L,D,N),x=y.__index}var Y=y.__filtered;return Y&&(this.__filtered=Y),this.__read&&(this.__read=x),this},set:"#initialize",_set:function(i,e,r,s){return this.x=i,this.y=e,this.width=r,this.height=s,this},clone:function(){return new E(this.x,this.y,this.width,this.height)},equals:function(i){var e=t.isPlainValue(i)?E.read(arguments):i;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var i=u.instance;return"{ x: "+i.number(this.x)+", y: "+i.number(this.y)+", width: "+i.number(this.width)+", height: "+i.number(this.height)+" }"},_serialize:function(i){var e=i.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(i){var e=i?o:d;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var i=o.read(arguments);this.x=i.x,this.y=i.y},getSize:function(i){var e=i?_:k;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var i=_.read(arguments),e=this._sx,r=this._sy,s=i.width,h=i.height;e&&(this.x+=(this.width-s)*e),r&&(this.y+=(this.height-h)*r),this.width=s,this.height=h,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(i){if(!this._fw){var e=i-this.x;this.width-=this._sx===.5?e*2:e}this.x=i,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(i){if(!this._fh){var e=i-this.y;this.height-=this._sy===.5?e*2:e}this.y=i,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(i){if(!this._fw){var e=i-this.x;this.width=this._sx===.5?e*2:e}this.x=i-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(i){if(!this._fh){var e=i-this.y;this.height=this._sy===.5?e*2:e}this.y=i-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(i){this._fw||this._sx===.5?this.x=i-this.width/2:(this._sx&&(this.x+=(i-this.x)*2*this._sx),this.width=(i-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(i){this._fh||this._sy===.5?this.y=i-this.height/2:(this._sy&&(this.y+=(i-this.y)*2*this._sy),this.height=(i-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(i){var e=i?o:d;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var i=o.read(arguments);return this.setCenterX(i.x),this.setCenterY(i.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(i){return i&&i.width!==C||(Array.isArray(i)?i:arguments).length===4?this._containsRectangle(E.read(arguments)):this._containsPoint(o.read(arguments))},_containsPoint:function(i){var e=i.x,r=i.y;return e>=this.x&&r>=this.y&&e<=this.x+this.width&&r<=this.y+this.height},_containsRectangle:function(i){var e=i.x,r=i.y;return e>=this.x&&r>=this.y&&e+i.width<=this.x+this.width&&r+i.height<=this.y+this.height},intersects:function(){var i=E.read(arguments),e=t.read(arguments)||0;return i.x+i.width>this.x-e&&i.y+i.height>this.y-e&&i.x<this.x+this.width+e&&i.y<this.y+this.height+e},intersect:function(){var i=E.read(arguments),e=Math.max(this.x,i.x),r=Math.max(this.y,i.y),s=Math.min(this.x+this.width,i.x+i.width),h=Math.min(this.y+this.height,i.y+i.height);return new E(e,r,s-e,h-r)},unite:function(){var i=E.read(arguments),e=Math.min(this.x,i.x),r=Math.min(this.y,i.y),s=Math.max(this.x+this.width,i.x+i.width),h=Math.max(this.y+this.height,i.y+i.height);return new E(e,r,s-e,h-r)},include:function(){var i=o.read(arguments),e=Math.min(this.x,i.x),r=Math.min(this.y,i.y),s=Math.max(this.x+this.width,i.x),h=Math.max(this.y+this.height,i.y);return new E(e,r,s-e,h-r)},expand:function(){var i=_.read(arguments),e=i.width,r=i.height;return new E(this.x-e/2,this.y-r/2,this.width+e,this.height+r)},scale:function(i,e){return this.expand(this.width*i-this.width,this.height*(e===C?i:e)-this.height)}},t.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(i,e){var r=i.join(""),s=/^[RL]/.test(r);e>=4&&(i[1]+=s?"Y":"X");var h=i[s?0:1],y=i[s?1:0],v="get"+h,x="get"+y,b="set"+h,T="set"+y,O="get"+r,L="set"+r;this[O]=function(D){var N=D?o:d;return new N(this[v](),this[x](),this,L)},this[L]=function(){var D=o.read(arguments);this[b](D.x),this[T](D.y)}},{beans:!0})),I=E.extend({initialize:function(e,r,s,h,y,v){this._set(e,r,s,h,!0),this._owner=y,this._setter=v},_set:function(i,e,r,s,h){return this._x=i,this._y=e,this._width=r,this._height=s,h||this._owner[this._setter](this),this}},new function(){var i=E.prototype;return t.each(["x","y","width","height"],function(e){var r=t.capitalize(e),s="_"+e;this["get"+r]=function(){return this[s]},this["set"+r]=function(h){this[s]=h,this._dontNotify||this._owner[this._setter](this)}},t.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var r="set"+e;this[r]=function(){this._dontNotify=!0,i[r].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var r=this._owner;r._changeSelection&&r._changeSelection(2,e)}}))}),U=t.extend({_class:"Matrix",initialize:function i(e,r){var s=arguments,h=s.length,y=!0;if(h>=6?this._set.apply(this,s):h===1||h===2?e instanceof i?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,r):Array.isArray(e)?this._set.apply(this,r?e.concat([r]):e):y=!1:h?y=!1:this.reset(),!y)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(i,e,r,s,h,y,v){return this._a=i,this._b=e,this._c=r,this._d=s,this._tx=h,this._ty=y,v||this._changed(),this},_serialize:function(i,e){return t.serialize(this.getValues(),i,!0,e)},_changed:function(){var i=this._owner;i&&(i._applyMatrix?i.transform(null,!0):i._changed(25))},clone:function(){return new U(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(i){return i===this||i&&this._a===i._a&&this._b===i._b&&this._c===i._c&&this._d===i._d&&this._tx===i._tx&&this._ty===i._ty},toString:function(){var i=u.instance;return"[["+[i.number(this._a),i.number(this._c),i.number(this._tx)].join(", ")+"], ["+[i.number(this._b),i.number(this._d),i.number(this._ty)].join(", ")+"]]"},reset:function(i){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,i||this._changed(),this},apply:function(i,e){var r=this._owner;return r?(r.transform(null,t.pick(i,!0),e),this.isIdentity()):!1},translate:function(){var i=o.read(arguments),e=i.x,r=i.y;return this._tx+=e*this._a+r*this._c,this._ty+=e*this._b+r*this._d,this._changed(),this},scale:function(){var i=arguments,e=o.read(i),r=o.read(i,0,{readNull:!0});return r&&this.translate(r),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,r&&this.translate(r.negate()),this._changed(),this},rotate:function(i){i*=Math.PI/180;var e=o.read(arguments,1),r=e.x,s=e.y,h=Math.cos(i),y=Math.sin(i),v=r-r*h+s*y,x=s-r*y-s*h,b=this._a,T=this._b,O=this._c,L=this._d;return this._a=h*b+y*O,this._b=h*T+y*L,this._c=-y*b+h*O,this._d=-y*T+h*L,this._tx+=v*b+x*O,this._ty+=v*T+x*L,this._changed(),this},shear:function(){var i=arguments,e=o.read(i),r=o.read(i,0,{readNull:!0});r&&this.translate(r);var s=this._a,h=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*s,this._d+=e.x*h,r&&this.translate(r.negate()),this._changed(),this},skew:function(){var i=arguments,e=o.read(i),r=o.read(i,0,{readNull:!0}),s=Math.PI/180,h=new o(Math.tan(e.x*s),Math.tan(e.y*s));return this.shear(h,r)},append:function(i,e){if(i){var r=this._a,s=this._b,h=this._c,y=this._d,v=i._a,x=i._c,b=i._b,T=i._d,O=i._tx,L=i._ty;this._a=v*r+b*h,this._c=x*r+T*h,this._b=v*s+b*y,this._d=x*s+T*y,this._tx+=O*r+L*h,this._ty+=O*s+L*y,e||this._changed()}return this},prepend:function(i,e){if(i){var r=this._a,s=this._b,h=this._c,y=this._d,v=this._tx,x=this._ty,b=i._a,T=i._c,O=i._b,L=i._d,D=i._tx,N=i._ty;this._a=b*r+T*s,this._c=b*h+T*y,this._b=O*r+L*s,this._d=O*h+L*y,this._tx=b*v+T*x+D,this._ty=O*v+L*x+N,e||this._changed()}return this},appended:function(i){return this.clone().append(i)},prepended:function(i){return this.clone().prepend(i)},invert:function(){var i=this._a,e=this._b,r=this._c,s=this._d,h=this._tx,y=this._ty,v=i*s-e*r,x=null;return v&&!isNaN(v)&&isFinite(h)&&isFinite(y)&&(this._a=s/v,this._b=-e/v,this._c=-r/v,this._d=i/v,this._tx=(r*y-s*h)/v,this._ty=(e*h-i*y)/v,x=this),x},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new U(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var i=this._a*this._d-this._c*this._b;return i&&!isNaN(i)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(i,e,r){return arguments.length<3?this._transformPoint(o.read(arguments)):this._transformCoordinates(i,e,r)},_transformPoint:function(i,e,r){var s=i.x,h=i.y;return e||(e=new o),e._set(s*this._a+h*this._c+this._tx,s*this._b+h*this._d+this._ty,r)},_transformCoordinates:function(i,e,r){for(var s=0,h=2*r;s<h;s+=2){var y=i[s],v=i[s+1];e[s]=y*this._a+v*this._c+this._tx,e[s+1]=y*this._b+v*this._d+this._ty}return e},_transformCorners:function(i){var e=i.x,r=i.y,s=e+i.width,h=r+i.height,y=[e,r,s,r,s,h,e,h];return this._transformCoordinates(y,y,4)},_transformBounds:function(i,e,r){for(var s=this._transformCorners(i),h=s.slice(0,2),y=h.slice(),v=2;v<8;v++){var x=s[v],b=v&1;x<h[b]?h[b]=x:x>y[b]&&(y[b]=x)}return e||(e=new E),e._set(h[0],h[1],y[0]-h[0],y[1]-h[1],r)},inverseTransform:function(){return this._inverseTransform(o.read(arguments))},_inverseTransform:function(i,e,r){var s=this._a,h=this._b,y=this._c,v=this._d,x=this._tx,b=this._ty,T=s*v-h*y,O=null;if(T&&!isNaN(T)&&isFinite(x)&&isFinite(b)){var L=i.x-this._tx,D=i.y-this._ty;e||(e=new o),O=e._set((L*v-D*y)/T,(D*s-L*h)/T,r)}return O},decompose:function(){var i=this._a,e=this._b,r=this._c,s=this._d,h=i*s-e*r,y=Math.sqrt,v=Math.atan2,x=180/Math.PI,b,T,O;if(i!==0||e!==0){var L=y(i*i+e*e);b=Math.acos(i/L)*(e>0?1:-1),T=[L,h/L],O=[v(i*r+e*s,L*L),0]}else if(r!==0||s!==0){var D=y(r*r+s*s);b=Math.asin(r/D)*(s>0?1:-1),T=[h/D,D],O=[0,v(i*r+e*s,D*D)]}else b=0,O=T=[0,0];return{translation:this.getTranslation(),rotation:b*x,scaling:new o(T),skewing:new o(O[0]*x,O[1]*x)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new o(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(i){this.isIdentity()||i.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},t.each(["a","b","c","d","tx","ty"],function(i){var e=t.capitalize(i),r="_"+i;this["get"+e]=function(){return this[r]},this["set"+e]=function(s){this[r]=s,this._changed()}},{})),V=t.extend({_class:"Line",initialize:function(e,r,s,h,y){var v=!1;arguments.length>=4?(this._px=e,this._py=r,this._vx=s,this._vy=h,v=y):(this._px=e.x,this._py=e.y,this._vx=r.x,this._vy=r.y,v=s),v||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new o(this._px,this._py)},getVector:function(){return new o(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(i,e){return V.intersect(this._px,this._py,this._vx,this._vy,i._px,i._py,i._vx,i._vy,!0,e)},getSide:function(i,e){return V.getSide(this._px,this._py,this._vx,this._vy,i.x,i.y,!0,e)},getDistance:function(i){return Math.abs(this.getSignedDistance(i))},getSignedDistance:function(i){return V.getSignedDistance(this._px,this._py,this._vx,this._vy,i.x,i.y,!0)},isCollinear:function(i){return o.isCollinear(this._vx,this._vy,i._vx,i._vy)},isOrthogonal:function(i){return o.isOrthogonal(this._vx,this._vy,i._vx,i._vy)},statics:{intersect:function(i,e,r,s,h,y,v,x,b,T){b||(r-=i,s-=e,v-=h,x-=y);var O=r*x-s*v;if(!a.isMachineZero(O)){var L=i-h,D=e-y,N=(v*D-x*L)/O,R=(r*D-s*L)/O,X=1e-12,Y=-X,K=1+X;if(T||Y<N&&N<K&&Y<R&&R<K)return T||(N=N<=0?0:N>=1?1:N),new o(i+N*r,e+N*s)}},getSide:function(i,e,r,s,h,y,v,x){v||(r-=i,s-=e);var b=h-i,T=y-e,O=b*s-T*r;return!x&&a.isMachineZero(O)&&(O=(b*r+b*r)/(r*r+s*s),O>=0&&O<=1&&(O=0)),O<0?-1:O>0?1:0},getSignedDistance:function(i,e,r,s,h,y,v){return v||(r-=i,s-=e),r===0?s>0?h-i:i-h:s===0?r<0?y-e:e-y:((h-i)*s-(y-e)*r)/(s>r?s*Math.sqrt(1+r*r/(s*s)):r*Math.sqrt(1+s*s/(r*r)))},getDistance:function(i,e,r,s,h,y,v){return Math.abs(V.getSignedDistance(i,e,r,s,h,y,v))}}}),$=m.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){m.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Te(null,null,this),this._view=je.create(this,e||mt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(i,e){return t.serialize(this._children,i,!0,e)},_changed:function(i,e){if(i&1){var r=this._view;r&&(r._needsUpdate=!0,!r._requested&&r._autoUpdate&&r.requestUpdate())}var s=this._changes;if(s&&e){var h=this._changesById,y=e._id,v=h[y];v?v.flags|=i:s.push(h[y]={item:e,flags:i})}},clear:function(){for(var i=this._children,e=i.length-1;e>=0;e--)i[e].remove()},isEmpty:function(){return!this._children.length},remove:function i(){return i.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(i){this._currentStyle.set(i)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new ne({project:this,insert:!0})},getSymbolDefinitions:function(){var i=[],e={};return this.getItems({class:J,match:function(r){var s=r._definition,h=s._id;return e[h]||(e[h]=!0,i.push(s)),!1}}),i},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var i=this._selectionItems,e=[];for(var r in i){var s=i[r],h=s._selection;h&1&&s.isInserted()?e.push(s):h||this._updateSelection(s)}return e},_updateSelection:function(i){var e=i._id,r=this._selectionItems;i._selection?r[e]!==i&&(this._selectionCount++,r[e]=i):r[e]===i&&(this._selectionCount--,delete r[e])},selectAll:function(){for(var i=this._children,e=0,r=i.length;e<r;e++)i[e].setFullySelected(!0)},deselectAll:function(){var i=this._selectionItems;for(var e in i)i[e].setFullySelected(!1)},addLayer:function(i){return this.insertLayer(C,i)},insertLayer:function(i,e){if(e instanceof ne){e._remove(!1,!0),t.splice(this._children,[e],i,0),e._setProject(this,!0);var r=e._name;r&&e.setName(r),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(i,e,r){return e=this.insertLayer(i,e)||(this._activeLayer||this._insertItem(C,new ne(B.NO_INSERT),!0)).insertChild(i,e),r&&e.activate&&e.activate(),e},getItems:function(i){return B._getItems(this,i)},getItem:function(i){return B._getItems(this,i,null,null,!0)[0]||null},importJSON:function(i){this.activate();var e=this._activeLayer;return t.importJSON(i,e&&e.isEmpty()&&e)},removeOn:function(i){var e=this._removeSets;if(e){i==="mouseup"&&(e.mousedrag=null);var r=e[i];if(r){for(var s in r){var h=r[s];for(var y in e){var v=e[y];v&&v!=r&&delete v[h._id]}h.remove()}e[i]=null}}},draw:function(i,e,r){this._updateVersion++,i.save(),e.applyToContext(i);for(var s=this._children,h=new t({offset:new o(0,0),pixelRatio:r,viewMatrix:e.isIdentity()?null:e,matrices:[new U],updateMatrix:!0}),y=0,v=s.length;y<v;y++)s[y].draw(i,h);if(i.restore(),this._selectionCount>0){i.save(),i.strokeWidth=1;var x=this._selectionItems,b=this._scope.settings.handleSize,T=this._updateVersion;for(var O in x)x[O]._drawSelection(i,e,b,x,T);i.restore()}}}),B=t.extend(c,{statics:{extend:function i(e){return e._serializeFields&&(e._serializeFields=t.set({},this.prototype._serializeFields,e._serializeFields)),i.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new U,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var i=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return t.each(i,function(e){this._events[e]={install:function(r){this.getView()._countItemEvent(r,1)},uninstall:function(r){this.getView()._countItemEvent(r,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:i}})},{initialize:function(){},_initialize:function(i,e){var r=i&&t.isPlainObject(i),s=r&&i.internal===!0,h=this._matrix=new U,y=r&&i.project||Et.project,v=Et.settings;return this._id=s?null:l.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&v.applyMatrix,e&&h.translate(e),h._owner=this,this._style=new Te(y._currentStyle,this,y),s||r&&i.insert==!1||!v.insertItems&&!(r&&i.insert===!0)?this._setProject(y):(r&&i.parent||y)._insertItem(C,this,!0),r&&i!==B.NO_INSERT&&this.set(i,{internal:!0,insert:!0,project:!0,parent:!0}),r},_serialize:function(i,e){var r={},s=this;function h(y){for(var v in y){var x=s[v];t.equals(x,v==="leading"?y.fontSize*1.2:y[v])||(r[v]=t.serialize(x,i,v!=="data",e))}}return h(this._serializeFields),this instanceof se||h(this._style._defaults),[this._class,r]},_changed:function(i){var e=this._symbol,r=this._parent||e,s=this._project;i&8&&(this._bounds=this._position=this._decomposed=C),i&16&&(this._globalMatrix=C),r&&i&72&&B._clearBoundsCache(r),i&2&&B._clearBoundsCache(this),s&&s._changed(i,this),e&&e._changed(i)},getId:function(){return this._id},getName:function(){return this._name},setName:function(i){if(this._name&&this._removeNamed(),i===+i+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(i&&e){var r=e._children,s=e._namedChildren;(s[i]=s[i]||[]).push(this),i in r||(r[i]=this)}this._name=i||C,this._changed(256)},getStyle:function(){return this._style},setStyle:function(i){this.getStyle().set(i)}},t.each(["locked","visible","blendMode","opacity","guide"],function(i){var e=t.capitalize(i),r="_"+i,s={locked:256,visible:265};this["get"+e]=function(){return this[r]},this["set"+e]=function(h){h!=this[r]&&(this[r]=h,this._changed(s[i]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(i){if(i!==this._selection){this._selection=i;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(i,e){var r=this._selection;this.setSelection(e?r|i:r&~i)},isSelected:function(){if(this._selectChildren){for(var i=this._children,e=0,r=i.length;e<r;e++)if(i[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(i){if(this._selectChildren)for(var e=this._children,r=0,s=e.length;r<s;r++)e[r].setSelected(i);this._changeSelection(1,i)},isFullySelected:function(){var i=this._children,e=!!(this._selection&1);if(i&&e){for(var r=0,s=i.length;r<s;r++)if(!i[r].isFullySelected())return!1;return!0}return e},setFullySelected:function(i){var e=this._children;if(e)for(var r=0,s=e.length;r<s;r++)e[r].setFullySelected(i);this._changeSelection(1,i)},isClipMask:function(){return this._clipMask},setClipMask:function(i){this._clipMask!=(i=!!i)&&(this._clipMask=i,i&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(i){this._data=i},getPosition:function(i){var e=i?o:d,r=this._position||(this._position=this._getPositionFromBounds());return new e(r.x,r.y,this,"setPosition")},setPosition:function(){this.translate(o.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(i){return this._pivot?this._matrix._transformPoint(this._pivot):(i||this.getBounds()).getCenter(!0)},getPivot:function(){var i=this._pivot;return i?new d(i.x,i.y,this,"setPivot"):null},setPivot:function(){this._pivot=o.read(arguments,0,{clone:!0,readNull:!0}),this._position=C}},t.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(i,e){this[e]=function(r){return this.getBounds(r,i)}},{beans:!0,getBounds:function(i,e){var r=e||i instanceof U,s=t.set({},r?e:i,this._boundsOptions);(!s.stroke||this.getStrokeScaling())&&(s.cacheItem=this);var h=this._getCachedBounds(r&&i,s).rect;return arguments.length?h:new I(h.x,h.y,h.width,h.height,this,"setBounds")},setBounds:function(){var i=E.read(arguments),e=this.getBounds(),r=this._matrix,s=new U,h=i.getCenter();s.translate(h),(i.width!=e.width||i.height!=e.height)&&(r.isInvertible()||(r.set(r._backup||new U().translate(r.getTranslation())),e=this.getBounds()),s.scale(e.width!==0?i.width/e.width:0,e.height!==0?i.height/e.height:0)),h=e.getCenter(),s.translate(-h.x,-h.y),this.transform(s)},_getBounds:function(i,e){var r=this._children;return!r||!r.length?new E:(B._updateBoundsCache(this,e.cacheItem),B._getBounds(r,i,e))},_getBoundsCacheKey:function(i,e){return[i.stroke?1:0,i.handle?1:0,e?1:0].join("")},_getCachedBounds:function(i,e,r){i=i&&i._orNullIfIdentity();var s=e.internal&&!r,h=e.cacheItem,y=s?null:this._matrix._orNullIfIdentity(),v=h&&(!i||i.equals(y))&&this._getBoundsCacheKey(e,s),x=this._bounds;if(B._updateBoundsCache(this._parent||this._symbol,h),v&&x&&v in x){var b=x[v];return{rect:b.rect.clone(),nonscaling:b.nonscaling}}var T=this._getBounds(i||y,e),O=T.rect||T,L=this._style,D=T.nonscaling||L.hasStroke()&&!L.getStrokeScaling();if(v){x||(this._bounds=x={});var b=x[v]={rect:O.clone(),nonscaling:D,internal:s}}return{rect:O,nonscaling:D}},_getStrokeMatrix:function(i,e){var r=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,s=r?r.getViewMatrix().invert():i;return s&&s._shiftless()},statics:{_updateBoundsCache:function(i,e){if(i&&e){var r=e._id,s=i._boundsCache=i._boundsCache||{ids:{},list:[]};s.ids[r]||(s.list.push(e),s.ids[r]=e)}},_clearBoundsCache:function(i){var e=i._boundsCache;if(e){i._bounds=i._position=i._boundsCache=C;for(var r=0,s=e.list,h=s.length;r<h;r++){var y=s[r];y!==i&&(y._bounds=y._position=C,y._boundsCache&&B._clearBoundsCache(y))}}},_getBounds:function(i,e,r){var s=1/0,h=-s,y=s,v=h,x=!1;r=r||{};for(var b=0,T=i.length;b<T;b++){var O=i[b];if(O._visible&&!O.isEmpty(!0)){var L=O._getCachedBounds(e&&e.appended(O._matrix),r,!0),D=L.rect;s=Math.min(D.x,s),y=Math.min(D.y,y),h=Math.max(D.x+D.width,h),v=Math.max(D.y+D.height,v),L.nonscaling&&(x=!0)}}return{rect:isFinite(s)?new E(s,y,h-s,v-y):new E,nonscaling:x}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var i=this._decompose();return i?i.rotation:0},setRotation:function(i){var e=this.getRotation();if(e!=null&&i!=null){var r=this._decomposed;this.rotate(i-e),r&&(r.rotation=i,this._decomposed=r)}},getScaling:function(){var i=this._decompose(),e=i&&i.scaling;return new d(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var i=this.getScaling(),e=o.read(arguments,0,{clone:!0,readNull:!0});if(i&&e&&!i.equals(e)){var r=this.getRotation(),s=this._decomposed,h=new U,y=a.isZero;if(y(i.x)||y(i.y))h.translate(s.translation),r&&h.rotate(r),h.scale(e.x,e.y),this._matrix.set(h);else{var v=this.getPosition(!0);h.translate(v),r&&h.rotate(r),h.scale(e.x/i.x,e.y/i.y),r&&h.rotate(-r),h.translate(v.negate()),this.transform(h)}s&&(s.scaling=e,this._decomposed=s)}},getMatrix:function(){return this._matrix},setMatrix:function(){var i=this._matrix;i.set.apply(i,arguments)},getGlobalMatrix:function(i){var e=this._globalMatrix;if(e)for(var r=this._parent,s=[];r;){if(!r._globalMatrix){e=null;for(var h=0,y=s.length;h<y;h++)s[h]._globalMatrix=null;break}s.push(r),r=r._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&e.prepend(r.getGlobalMatrix(!0))}return i?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(i){(this._applyMatrix=this._canApplyMatrix&&!!i)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(i,e){if(this._project!==i){this._project&&this._installEvents(!1),this._project=i;for(var r=this._children,s=0,h=r&&r.length;s<h;s++)r[s]._setProject(i);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function i(e){i.base.call(this,e);for(var r=this._children,s=0,h=r&&r.length;s<h;s++)r[s]._installEvents(e)},getLayer:function(){for(var i=this;i=i._parent;)if(i instanceof ne)return i;return null},getParent:function(){return this._parent},setParent:function(i){return i.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(i){this.removeChildren(),this.addChildren(i)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var i=this._getOwner();return i&&i._children[this._index+1]||null},getPreviousSibling:function(){var i=this._getOwner();return i&&i._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(i){return i===this||i&&this._class===i._class&&this._style.equals(i._style)&&this._matrix.equals(i._matrix)&&this._locked===i._locked&&this._visible===i._visible&&this._blendMode===i._blendMode&&this._opacity===i._opacity&&this._clipMask===i._clipMask&&this._guide===i._guide&&this._equals(i)||!1},_equals:function(i){return t.equals(this._children,i._children)},clone:function(i){var e=new this.constructor(B.NO_INSERT),r=this._children,s=t.pick(i?i.insert:C,i===C||i===!0),h=t.pick(i?i.deep:C,!0);r&&e.copyAttributes(this),(!r||h)&&e.copyContent(this),r||e.copyAttributes(this),s&&e.insertAbove(this);var y=this._name,v=this._parent;if(y&&v){for(var r=v._children,x=y,b=1;r[y];)y=x+" "+b++;y!==x&&e.setName(y)}return e},copyContent:function(i){for(var e=i._children,r=0,s=e&&e.length;r<s;r++)this.addChild(e[r].clone(!1),!0)},copyAttributes:function(i,e){this.setStyle(i._style);for(var r=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],s=0,h=r.length;s<h;s++){var y=r[s];i.hasOwnProperty(y)&&(this[y]=i[y])}e||this._matrix.set(i._matrix,!0),this.setApplyMatrix(i._applyMatrix),this.setPivot(i._pivot),this.setSelection(i._selection);var v=i._data,x=i._name;this._data=v?t.clone(v):null,x&&this.setName(x)},rasterize:function(i,e){var r,s,h;t.isPlainObject(i)?(r=i.resolution,s=i.insert,h=i.raster):(r=i,s=e),h?h.matrix.reset(!0):h=new ge(B.NO_INSERT);var y=this.getStrokeBounds(),v=(r||this.getView().getResolution())/72,x=y.getTopLeft().floor(),b=y.getBottomRight().ceil(),T=new _(b.subtract(x)),O=T.multiply(v);if(h.setSize(O,!0),!O.isZero()){var L=h.getContext(!0),D=new U().scale(v).translate(x.negate());L.save(),D.applyToContext(L),this.draw(L,new t({matrices:[D]})),L.restore()}return h.transform(new U().translate(x.add(T.divide(2))).scale(1/v)),(s===C||s)&&h.insertAbove(this),h},contains:function(){var i=this._matrix;return i.isInvertible()&&!!this._contains(i._inverseTransform(o.read(arguments)))},_contains:function(i){var e=this._children;if(e){for(var r=e.length-1;r>=0;r--)if(e[r].contains(i))return!0;return!1}return i.isInside(this.getInternalBounds())},isInside:function(){return E.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Be.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(i,e){return i instanceof B?this._asPathItem().getIntersections(i._asPathItem(),null,e,!0).length>0:!1}},new function(){function i(){var s=arguments;return this._hitTest(o.read(s),he.getOptions(s))}function e(){var s=arguments,h=o.read(s),y=he.getOptions(s),v=[];return this._hitTest(h,new t({all:v},y)),v}function r(s,h,y,v){var x=this._children;if(x)for(var b=x.length-1;b>=0;b--){var T=x[b],O=T!==v&&T._hitTest(s,h,y);if(O&&!h.all)return O}return null}return $.inject({hitTest:i,hitTestAll:e,_hitTest:r}),{hitTest:i,hitTestAll:e,_hitTestChildren:r}},{_hitTest:function(i,e,r){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var s=this._matrix,h=r?r.appended(s):this.getGlobalMatrix().prepend(this.getView()._matrix),y=Math.max(e.tolerance,1e-12),v=e._tolerancePadding=new _(Be._getStrokePadding(y,s._shiftless().invert()));if(i=s._inverseTransform(i),!i||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(v.multiply(2))._containsPoint(i))return null;var x=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==t.hyphenate(this._class)||e.class&&!(this instanceof e.class)),b=e.match,T=this,O,L;function D(G){return G&&b&&!b(G)&&(G=null),G&&e.all&&e.all.push(G),G}function N(G,z){var Z=z?O["get"+z]():T.getPosition();if(i.subtract(Z).divide(v).length<=1)return new he(G,T,{name:z?t.hyphenate(z):G,point:Z})}var R=e.position,X=e.center,Y=e.bounds;if(x&&this._parent&&(R||X||Y)){if((X||Y)&&(O=this.getInternalBounds()),L=R&&N("position")||X&&N("center","Center"),!L&&Y)for(var K=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],H=0;H<8&&!L;H++)L=N("bounds",K[H]);L=D(L)}return L||(L=this._hitTestChildren(i,e,h)||x&&D(this._hitTestSelf(i,e,h,this.getStrokeScaling()?null:h._shiftless().invert()))||null),L&&L.point&&(L.point=s.transform(L.point)),L},_hitTestSelf:function(i,e){if(e.fill&&this.hasFill()&&this._contains(i))return new he("fill",this)},matches:function(i,e){function r(v,x){for(var b in v)if(v.hasOwnProperty(b)){var T=v[b],O=x[b];if(t.isPlainObject(T)&&t.isPlainObject(O)){if(!r(T,O))return!1}else if(!t.equals(T,O))return!1}return!0}var s=typeof i;if(s==="object"){for(var h in i)if(i.hasOwnProperty(h)&&!this.matches(h,i[h]))return!1;return!0}else{if(s==="function")return i(this);if(i==="match")return e(this);var y=/^(empty|editable)$/.test(i)?this["is"+t.capitalize(i)]():i==="type"?t.hyphenate(this._class):this[i];if(i==="class"){if(typeof e=="function")return this instanceof e;y=this._class}if(typeof e=="function")return!!e(y);if(e){if(e.test)return e.test(y);if(t.isPlainObject(e))return r(e,y)}return t.equals(y,e)}},getItems:function(i){return B._getItems(this,i,this._matrix)},getItem:function(i){return B._getItems(this,i,this._matrix,null,!0)[0]||null},statics:{_getItems:function i(e,r,s,h,y){if(!h){var v=typeof r=="object"&&r,x=v&&v.overlapping,b=v&&v.inside,T=x||b,D=T&&E.read([T]);h={items:[],recursive:v&&v.recursive!==!1,inside:!!b,overlapping:!!x,rect:D,path:x&&new Be.Rectangle({rectangle:D,insert:!1})},v&&(r=t.filter({},r,{recursive:!0,inside:!0,overlapping:!0}))}var O=e._children,L=h.items,D=h.rect;s=D&&(s||new U);for(var N=0,R=O&&O.length;N<R;N++){var X=O[N],Y=s&&s.appended(X._matrix),K=!0;if(D){var T=X.getBounds(Y);if(!D.intersects(T))continue;D.contains(T)||h.overlapping&&(T.contains(D)||h.path.intersects(X,Y))||(K=!1)}if(K&&X.matches(r)&&(L.push(X),y)||(h.recursive!==!1&&i(X,r,Y,h,y),y&&L.length>0))break}return L}}},{importJSON:function(i){var e=t.importJSON(i,this);return e!==this?this.addChild(e):e},addChild:function(i){return this.insertChild(C,i)},insertChild:function(i,e){var r=e?this.insertChildren(i,[e]):null;return r&&r[0]},addChildren:function(i){return this.insertChildren(this._children.length,i)},insertChildren:function(i,e){var r=this._children;if(r&&e&&e.length>0){e=t.slice(e);for(var s={},h=e.length-1;h>=0;h--){var y=e[h],v=y&&y._id;!y||s[v]?e.splice(h,1):(y._remove(!1,!0),s[v]=!0)}t.splice(r,e,i,0);for(var x=this._project,b=x._changes,h=0,T=e.length;h<T;h++){var y=e[h],O=y._name;y._parent=this,y._setProject(x,!0),O&&y.setName(O),b&&y._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(i,e){var r=i&&i._getOwner(),s=i!==this&&r?this:null;return s&&(s._remove(!1,!0),r._insertItem(i._index+e,s)),s},insertAbove:function(i){return this._insertAt(i,1)},insertBelow:function(i){return this._insertAt(i,0)},sendToBack:function(){var i=this._getOwner();return i?i._insertItem(0,this):null},bringToFront:function(){var i=this._getOwner();return i?i._insertItem(C,this):null},appendTop:"#addChild",appendBottom:function(i){return this.insertChild(0,i)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(i){return i._insertItem(C,this)},copyTo:function(i){return this.clone(!1).addTo(i)},reduce:function(i){var e=this._children;if(e&&e.length===1){var r=e[0].reduce(i);return this._parent?(r.insertAbove(this),this.remove()):r.remove(),r}return this},_removeNamed:function(){var i=this._getOwner();if(i){var e=i._children,r=i._namedChildren,s=this._name,h=r[s],y=h?h.indexOf(this):-1;y!==-1&&(e[s]==this&&delete e[s],h.splice(y,1),h.length?e[s]=h[0]:delete r[s])}},_remove:function(i,e){var r=this._getOwner(),s=this._project,h=this._index;return this._style&&this._style._dispose(),r?(this._name&&this._removeNamed(),h!=null&&(s._activeLayer===this&&(s._activeLayer=this.getNextSibling()||this.getPreviousSibling()),t.splice(r._children,null,h,1)),this._installEvents(!1),i&&s._changes&&this._changed(5),e&&r._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(i){var e=i&&i.insertBelow(this);return e&&this.remove(),e},removeChildren:function(i,e){if(!this._children)return null;i=i||0,e=t.pick(e,this._children.length);for(var r=t.splice(this._children,null,i,e-i),s=r.length-1;s>=0;s--)r[s]._remove(!0,!1);return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var i=0,e=this._children.length;i<e;i++)this._children[i]._index=i;this._changed(11)}},isEmpty:function(i){var e=this._children,r=e?e.length:0;if(i){for(var s=0;s<r;s++)if(!e[s].isEmpty(i))return!1;return!0}return!r},isEditable:function(){for(var i=this;i;){if(!i._visible||i._locked)return!1;i=i._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(i){function e(v){var x=[];do x.unshift(v);while(v=v._parent);return x}for(var r=e(this),s=e(i),h=0,y=Math.min(r.length,s.length);h<y;h++)if(r[h]!=s[h])return r[h]._index<s[h]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(i){return this._getOrder(i)===-1},isBelow:function(i){return this._getOrder(i)===1},isParent:function(i){return this._parent===i},isChild:function(i){return i&&i._parent===this},isDescendant:function(i){for(var e=this;e=e._parent;)if(e===i)return!0;return!1},isAncestor:function(i){return i?i.isDescendant(this):!1},isSibling:function(i){return this._parent===i._parent},isGroupedWith:function(i){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&i.isDescendant(e))return!0;e=e._parent}return!1}},t.each(["rotate","scale","shear","skew"],function(i){var e=i==="rotate";this[i]=function(){var r=arguments,s=(e?t:o).read(r),h=o.read(r,0,{readNull:!0});return this.transform(new U()[i](s,h||this.getPosition(!0)))}},{translate:function(){var i=new U;return this.transform(i.translate.apply(i,arguments))},transform:function(i,e,r){var s=this._matrix,h=i&&!i.isIdentity(),y=r&&this._canApplyMatrix||this._applyMatrix&&(h||!s.isIdentity()||e&&this._children);if(!h&&!y)return this;if(h){!i.isInvertible()&&s.isInvertible()&&(s._backup=s.getValues()),s.prepend(i,!0);var v=this._style,x=v.getFillColor(!0),b=v.getStrokeColor(!0);x&&x.transform(i),b&&b.transform(i)}if(y&&(y=this._transformContent(s,e,r))){var T=this._pivot;T&&s._transformPoint(T,T,!0),s.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var O=this._bounds,L=this._position;(h||y)&&this._changed(25);var D=h&&O&&i.decompose();if(D&&D.skewing.isZero()&&D.rotation%90===0){for(var N in O){var R=O[N];if(R.nonscaling)delete O[N];else if(y||!R.internal){var X=R.rect;i._transformBounds(X,X)}}this._bounds=O;var Y=O[this._getBoundsCacheKey(this._boundsOptions||{})];Y&&(this._position=this._getPositionFromBounds(Y.rect))}else h&&L&&this._pivot&&(this._position=i._transformPoint(L,L));return this},_transformContent:function(i,e,r){var s=this._children;if(s){for(var h=0,y=s.length;h<y;h++)s[h].transform(i,e,r);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(o.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(o.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(o.read(arguments))},localToParent:function(){return this._matrix._transformPoint(o.read(arguments))},fitBounds:function(i,e){i=E.read(arguments);var r=this.getBounds(),s=r.height/r.width,h=i.height/i.width,y=(e?s>h:s<h)?i.width/r.width:i.height/r.height,v=new E(new o,new _(r.width*y,r.height*y));v.setCenter(i.getCenter()),this.setBounds(v)}}),{_setStyles:function(i,e,r){var s=this._style,h=this._matrix;if(s.hasFill()&&(i.fillStyle=s.getFillColor().toCanvasStyle(i,h)),s.hasStroke()){i.strokeStyle=s.getStrokeColor().toCanvasStyle(i,h),i.lineWidth=s.getStrokeWidth();var y=s.getStrokeJoin(),v=s.getStrokeCap(),x=s.getMiterLimit();if(y&&(i.lineJoin=y),v&&(i.lineCap=v),x&&(i.miterLimit=x),Et.support.nativeDash){var b=s.getDashArray(),T=s.getDashOffset();b&&b.length&&("setLineDash"in i?(i.setLineDash(b),i.lineDashOffset=T):(i.mozDash=b,i.mozDashOffset=T))}}if(s.hasShadow()){var O=e.pixelRatio||1,L=r._shiftless().prepend(new U().scale(O,O)),D=L.transform(new o(s.getShadowBlur(),0)),N=L.transform(this.getShadowOffset());i.shadowColor=s.getShadowColor().toCanvasStyle(i),i.shadowBlur=D.getLength(),i.shadowOffsetX=N.x,i.shadowOffsetY=N.y}},draw:function(i,e,r){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var s=e.matrices,h=e.viewMatrix,y=this._matrix,v=s[s.length-1].appended(y);if(!!v.isInvertible()){h=h?h.appended(v):v,s.push(v),e.updateMatrix&&(this._globalMatrix=v);var x=this._blendMode,b=a.clamp(this._opacity,0,1),T=x==="normal",O=gt.nativeModes[x],L=T&&b===1||e.dontStart||e.clip||(O||T&&b<1)&&this._canComposite(),D=e.pixelRatio||1,N,R,X;if(!L){var Y=this.getStrokeBounds(h);if(!Y.width||!Y.height){s.pop();return}X=e.offset,R=e.offset=Y.getTopLeft().floor(),N=i,i=mt.getContext(Y.getSize().ceil().add(1).multiply(D)),D!==1&&i.scale(D,D)}i.save();var K=r?r.appended(y):this._canScaleStroke&&!this.getStrokeScaling(!0)&&h,H=!L&&e.clipItem,G=!K||H;if(L?(i.globalAlpha=b,O&&(i.globalCompositeOperation=x)):G&&i.translate(-R.x,-R.y),G&&(L?y:h).applyToContext(i),H&&e.clipItem.draw(i,e.extend({clip:!0})),K){i.setTransform(D,0,0,D,0,0);var z=e.offset;z&&i.translate(-z.x,-z.y)}this._draw(i,e,h,K),i.restore(),s.pop(),e.clip&&!e.dontFinish&&i.clip(this.getFillRule()),L||(gt.process(x,i,N,b,R.subtract(X).multiply(D)),mt.release(i),e.offset=X)}}},_isUpdated:function(i){var e=this._parent;if(e instanceof $e)return e._isUpdated(i);var r=this._updateVersion===i;return!r&&e&&e._visible&&e._isUpdated(i)&&(this._updateVersion=i,r=!0),r},_drawSelection:function(i,e,r,s,h){var y=this._selection,v=y&1,x=y&2||v&&this._selectBounds,b=y&4;if(this._drawSelected||(v=!1),(v||x||b)&&this._isUpdated(h)){var T,O=this.getSelectedColor(!0)||(T=this.getLayer())&&T.getSelectedColor(!0),L=e.appended(this.getGlobalMatrix(!0)),D=r/2;if(i.strokeStyle=i.fillStyle=O?O.toCanvasStyle(i):"#009dec",v&&this._drawSelected(i,L,s),b){var N=this.getPosition(!0),R=this._parent,X=R?R.localToGlobal(N):N,Y=X.x,K=X.y;i.beginPath(),i.arc(Y,K,D,0,Math.PI*2,!0),i.stroke();for(var H=[[0,-1],[1,0],[0,1],[-1,0]],G=D,z=r+1,Z=0;Z<4;Z++){var ee=H[Z],le=ee[0],ie=ee[1];i.moveTo(Y+le*G,K+ie*G),i.lineTo(Y+le*z,K+ie*z),i.stroke()}}if(x){var pe=L._transformCorners(this.getInternalBounds());i.beginPath();for(var Z=0;Z<8;Z++)i[Z?"lineTo":"moveTo"](pe[Z],pe[++Z]);i.closePath(),i.stroke();for(var Z=0;Z<8;Z++)i.fillRect(pe[Z]-D,pe[++Z]-D,r,r)}}},_canComposite:function(){return!1}},t.each(["down","drag","up","move"],function(i){this["removeOn"+t.capitalize(i)]=function(){var e={};return e[i]=!0,this.removeOn(e)}},{removeOn:function(i){for(var e in i)if(i[e]){var r="mouse"+e,s=this._project,h=s._removeSets=s._removeSets||{};h[r]=h[r]||{},h[r][this._id]=this}return this}}),{tween:function(i,e,r){r||(r=e,e=i,i=null,r||(r=e,e=null));var s=r&&r.easing,h=r&&r.start,y=r!=null&&(typeof r=="number"?r:r.duration),v=new ht(this,i,e,y,s,h);function x(b){v._handleFrame(b.time*1e3),v.running||this.off("frame",x)}return y&&this.on("frame",x),v},tweenTo:function(i,e){return this.tween(null,i,e)},tweenFrom:function(i,e){return this.tween(i,null,e)}}),se=B.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function i(e){i.base.call(this,e),e&2050&&(this._clipItem=C)},_getClipItem:function(){var i=this._clipItem;if(i===C){i=null;for(var e=this._children,r=0,s=e.length;r<s;r++)if(e[r]._clipMask){i=e[r];break}this._clipItem=i}return i},isClipped:function(){return!!this._getClipItem()},setClipped:function(i){var e=this.getFirstChild();e&&e.setClipMask(i)},_getBounds:function i(e,r){var s=this._getClipItem();return s?s._getCachedBounds(s._matrix.prepended(e),t.set({},r,{stroke:!1})):i.base.call(this,e,r)},_hitTestChildren:function i(e,r,s){var h=this._getClipItem();return(!h||h.contains(e))&&i.base.call(this,e,r,s,h)},_draw:function(i,e){var r=e.clip,s=!r&&this._getClipItem();e=e.extend({clipItem:s,clip:!1}),r?(i.beginPath(),e.dontStart=e.dontFinish=!0):s&&s.draw(i,e.extend({clip:!0}));for(var h=this._children,y=0,v=h.length;y<v;y++){var x=h[y];x!==s&&x.draw(i,e)}}}),ne=se.extend({_class:"Layer",initialize:function(){se.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function i(){return this._parent?i.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),oe=B.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,r){this._initialize(e,r)},_equals:function(i){return this._type===i._type&&this._size.equals(i._size)&&t.equals(this._radius,i._radius)},copyContent:function(i){this.setType(i._type),this.setSize(i._size),this.setRadius(i._radius)},getType:function(){return this._type},setType:function(i){this._type=i},getShape:"#getType",setShape:"#setType",getSize:function(){var i=this._size;return new k(i.width,i.height,this,"setSize")},setSize:function(){var i=_.read(arguments);if(!this._size)this._size=i.clone();else if(!this._size.equals(i)){var e=this._type,r=i.width,s=i.height;e==="rectangle"?this._radius.set(_.min(this._radius,i.divide(2).abs())):e==="circle"?(r=s=(r+s)/2,this._radius=r/2):e==="ellipse"&&this._radius._set(r/2,s/2),this._size._set(r,s),this._changed(9)}},getRadius:function(){var i=this._radius;return this._type==="circle"?i:new k(i.width,i.height,this,"setRadius")},setRadius:function(i){var e=this._type;if(e==="circle"){if(i===this._radius)return;var r=i*2;this._radius=i,this._size._set(r,r)}else if(i=_.read(arguments),!this._radius)this._radius=i.clone();else{if(this._radius.equals(i))return;if(this._radius.set(i),e==="rectangle"){var r=_.max(this._size,i.multiply(2));this._size.set(r)}else e==="ellipse"&&this._size._set(i.width*2,i.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(i){var e=new Be[t.capitalize(this._type)]({center:new o,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),Et.settings.applyMatrix&&e.setApplyMatrix(!0),(i===C||i)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(i,e,r,s){var h=this._style,y=h.hasFill(),v=h.hasStroke(),x=e.dontFinish||e.clip,b=!s;if(y||v||x){var T=this._type,O=this._radius,L=T==="circle";if(e.dontStart||i.beginPath(),b&&L)i.arc(0,0,O,0,Math.PI*2,!0);else{var D=L?O:O.width,N=L?O:O.height,R=this._size,X=R.width,Y=R.height;if(b&&T==="rectangle"&&D===0&&N===0)i.rect(-X/2,-Y/2,X,Y);else{var K=X/2,H=Y/2,G=1-.5522847498307936,z=D*G,Z=N*G,ee=[-K,-H+N,-K,-H+Z,-K+z,-H,-K+D,-H,K-D,-H,K-z,-H,K,-H+Z,K,-H+N,K,H-N,K,H-Z,K-z,H,K-D,H,-K+D,H,-K+z,H,-K,H-Z,-K,H-N];s&&s.transform(ee,ee,32),i.moveTo(ee[0],ee[1]),i.bezierCurveTo(ee[2],ee[3],ee[4],ee[5],ee[6],ee[7]),K!==D&&i.lineTo(ee[8],ee[9]),i.bezierCurveTo(ee[10],ee[11],ee[12],ee[13],ee[14],ee[15]),H!==N&&i.lineTo(ee[16],ee[17]),i.bezierCurveTo(ee[18],ee[19],ee[20],ee[21],ee[22],ee[23]),K!==D&&i.lineTo(ee[24],ee[25]),i.bezierCurveTo(ee[26],ee[27],ee[28],ee[29],ee[30],ee[31])}}i.closePath()}!x&&(y||v)&&(this._setStyles(i,e,r),y&&(i.fill(h.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),v&&i.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(i,e){var r=new E(this._size).setCenter(0,0),s=this._style,h=e.stroke&&s.hasStroke()&&s.getStrokeWidth();return i&&(r=i._transformBounds(r)),h?r.expand(Be._getStrokePadding(h,this._getStrokeMatrix(i,e))):r}},new function(){function i(r,s,h){var y=r._radius;if(!y.isZero())for(var v=r._size.divide(2),x=1;x<=4;x++){var b=new o(x>1&&x<4?-1:1,x>2?-1:1),T=b.multiply(v),O=T.subtract(b.multiply(y)),L=new E(h?T.add(b.multiply(h)):T,O);if(L.contains(s))return{point:O,quadrant:x}}}function e(r,s,h,y){var v=r.divide(s);return(!y||v.isInQuadrant(y))&&v.subtract(v.normalize()).multiply(s).divide(h).length<=1}return{_contains:function r(s){if(this._type==="rectangle"){var h=i(this,s);return h?s.subtract(h.point).divide(this._radius).getLength()<=1:r.base.call(this,s)}else return s.divide(this.size).getLength()<=.5},_hitTestSelf:function r(s,h,y,v){var x=!1,b=this._style,T=h.stroke&&b.hasStroke(),O=h.fill&&b.hasFill();if(T||O){var L=this._type,D=this._radius,N=T?b.getStrokeWidth()/2:0,R=h._tolerancePadding.add(Be._getStrokePadding(N,!b.getStrokeScaling()&&v));if(L==="rectangle"){var X=R.multiply(2),Y=i(this,s,X);if(Y)x=e(s.subtract(Y.point),D,R,Y.quadrant);else{var K=new E(this._size).setCenter(0,0),H=K.expand(X),G=K.expand(X.negate());x=H._containsPoint(s)&&!G._containsPoint(s)}}else x=e(s,D,R)}return x?new he(T?"stroke":"fill",this):r.base.apply(this,arguments)}}},{statics:new function(){function i(e,r,s,h,y){var v=t.create(oe.prototype);return v._type=e,v._size=s,v._radius=h,v._initialize(t.getNamed(y),r),v}return{Circle:function(){var e=arguments,r=o.readNamed(e,"center"),s=t.readNamed(e,"radius");return i("circle",r,new _(s*2),s,e)},Rectangle:function(){var e=arguments,r=E.readNamed(e,"rectangle"),s=_.min(_.readNamed(e,"radius"),r.getSize(!0).divide(2));return i("rectangle",r.getCenter(!0),r.getSize(!0),s,e)},Ellipse:function(){var e=arguments,r=oe._readEllipse(e),s=r.radius;return i("ellipse",r.center,s.multiply(2),s,e)},_readEllipse:function(e){var r,s;if(t.hasNamed(e,"radius"))r=o.readNamed(e,"center"),s=_.readNamed(e,"radius");else{var h=E.readNamed(e,"rectangle");r=h.getCenter(!0),s=h.getSize(!0).divide(2)}return{center:r,radius:s}}}}}),ge=B.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,r){if(!this._initialize(e,r!==C&&o.read(arguments))){var s,h=typeof e,y=h==="string"?g.getElementById(e):h==="object"?e:null;if(y&&y!==B.NO_INSERT){if(y.getContext||y.naturalHeight!=null)s=y;else if(y){var v=_.read(arguments);v.isZero()||(s=mt.getCanvas(v))}}s?this.setImage(s):this.setSource(e)}this._size||(this._size=new _,this._loaded=!1)},_equals:function(i){return this.getSource()===i.getSource()},copyContent:function(i){var e=i._image,r=i._canvas;if(e)this._setImage(e);else if(r){var s=mt.getCanvas(i._size);s.getContext("2d").drawImage(r,0,0),this._setImage(s)}this._crossOrigin=i._crossOrigin},getSize:function(){var i=this._size;return new k(i?i.width:0,i?i.height:0,this,"setSize")},setSize:function(i,e){var r=_.read(arguments);if(r.equals(this._size))e&&this.clear();else if(r.width>0&&r.height>0){var s=!e&&this.getElement();this._setImage(mt.getCanvas(r)),s&&this.getContext(!0).drawImage(s,0,0,r.width,r.height)}else this._canvas&&mt.release(this._canvas),this._size=r.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(i){this.setSize(i,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(i){this.setSize(this.getWidth(),i)},getLoaded:function(){return this._loaded},isEmpty:function(){var i=this._size;return!i||i.width===0&&i.height===0},getResolution:function(){var i=this._matrix,e=new o(0,0).transform(i),r=new o(1,0).transform(i).subtract(e),s=new o(0,1).transform(i).subtract(e);return new _(72/r.getLength(),72/s.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(i){var e=this;function r(s){var h=e.getView(),y=s&&s.type||"load";h&&e.responds(y)&&(Et=h._scope,e.emit(y,new _e(s)))}this._setImage(i),this._loaded?setTimeout(r,0):i&&Ve.add(i,{load:function(s){e._setImage(i),r(s)},error:r})},_setImage:function(i){this._canvas&&mt.release(this._canvas),i&&i.getContext?(this._image=null,this._canvas=i,this._loaded=!0):(this._image=i,this._canvas=null,this._loaded=!!(i&&i.src&&i.complete)),this._size=new _(i?i.naturalWidth||i.width:0,i?i.naturalHeight||i.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var i=mt.getContext(this._size);try{this._image&&i.drawImage(this._image,0,0),this._canvas=i.canvas}catch{mt.release(i)}}return this._canvas},setCanvas:"#setImage",getContext:function(i){return this._context||(this._context=this.getCanvas().getContext("2d")),i&&(this._image=null,this._changed(1025)),this._context},setContext:function(i){this._context=i},getSource:function(){var i=this._image;return i&&i.src||this.toDataURL()},setSource:function(i){var e=new n.Image,r=this._crossOrigin;r&&(e.crossOrigin=r),i&&(e.src=i),this.setImage(e)},getCrossOrigin:function(){var i=this._image;return i&&i.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(i){this._crossOrigin=i;var e=this._image;e&&(e.crossOrigin=i)},getSmoothing:function(){return this._smoothing},setSmoothing:function(i){this._smoothing=typeof i=="string"?i:i?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var i=E.read(arguments),e=mt.getContext(i.getSize());return e.drawImage(this.getCanvas(),i.x,i.y,i.width,i.height,0,0,i.width,i.height),e.canvas},getSubRaster:function(){var i=E.read(arguments),e=new ge(B.NO_INSERT);return e._setImage(this.getSubCanvas(i)),e.translate(i.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var i=this._image,e=i&&i.src;if(/^data:/.test(e))return e;var r=this.getCanvas();return r?r.toDataURL.apply(r,arguments):null},drawImage:function(i){var e=o.read(arguments,1);this.getContext(!0).drawImage(i,e.x,e.y)},getAverageColor:function(i){var e,r;if(i?i instanceof Le?(r=i,e=i.getBounds()):typeof i=="object"&&("width"in i?e=new E(i):"x"in i&&(e=new E(i.x-.5,i.y-.5,1,1))):e=this.getBounds(),!e)return null;var s=32,h=Math.min(e.width,s),y=Math.min(e.height,s),v=ge._sampleContext;v?v.clearRect(0,0,s+1,s+1):v=ge._sampleContext=mt.getContext(new _(s)),v.save();var x=new U().scale(h/e.width,y/e.height).translate(-e.x,-e.y);x.applyToContext(v),r&&r.draw(v,new t({clip:!0,matrices:[x]})),this._matrix.applyToContext(v);var b=this.getElement(),T=this._size;b&&v.drawImage(b,-T.width/2,-T.height/2),v.restore();for(var O=v.getImageData(.5,.5,Math.ceil(h),Math.ceil(y)).data,L=[0,0,0],D=0,N=0,R=O.length;N<R;N+=4){var X=O[N+3];D+=X,X/=255,L[0]+=O[N]*X,L[1]+=O[N+1]*X,L[2]+=O[N+2]*X}for(var N=0;N<3;N++)L[N]/=D;return D?Fe.read(L):null},getPixel:function(){var i=o.read(arguments),e=this.getContext().getImageData(i.x,i.y,1,1).data;return new Fe("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var i=arguments,e=o.read(i),r=Fe.read(i),s=r._convert("rgb"),h=r._alpha,y=this.getContext(!0),v=y.createImageData(1,1),x=v.data;x[0]=s[0]*255,x[1]=s[1]*255,x[2]=s[2]*255,x[3]=h!=null?h*255:255,y.putImageData(v,e.x,e.y)},clear:function(){var i=this._size;this.getContext(!0).clearRect(0,0,i.width+1,i.height+1)},createImageData:function(){var i=_.read(arguments);return this.getContext().createImageData(i.width,i.height)},getImageData:function(){var i=E.read(arguments);return i.isEmpty()&&(i=new E(this._size)),this.getContext().getImageData(i.x,i.y,i.width,i.height)},setImageData:function(i){var e=o.read(arguments,1);this.getContext(!0).putImageData(i,e.x,e.y)},_getBounds:function(i,e){var r=new E(this._size).setCenter(0,0);return i?i._transformBounds(r):r},_hitTestSelf:function(i){if(this._contains(i)){var e=this;return new he("pixel",e,{offset:i.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(i,e,r){var s=this.getElement();if(s&&s.width>0&&s.height>0){i.globalAlpha=a.clamp(this._opacity,0,1),this._setStyles(i,e,r);var h=this._smoothing,y=h==="off";Me.setPrefixed(i,y?"imageSmoothingEnabled":"imageSmoothingQuality",y?!1:h),i.drawImage(s,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),J=B.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,r){this._initialize(e,r!==C&&o.read(arguments,1))||this.setDefinition(e instanceof ue?e:new ue(e))},_equals:function(i){return this._definition===i._definition},copyContent:function(i){this.setDefinition(i._definition)},getDefinition:function(){return this._definition},setDefinition:function(i){this._definition=i,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(i,e){var r=this._definition._item;return r._getCachedBounds(r._matrix.prepended(i),e)},_hitTestSelf:function(i,e,r){var s=e.extend({all:!1}),h=this._definition._item._hitTest(i,s,r);return h&&(h.item=this),h},_draw:function(i,e){this._definition._item.draw(i,e)}}),ue=t.extend({_class:"SymbolDefinition",initialize:function(e,r){this._id=l.get(),this.project=Et.project,e&&this.setItem(e,r)},_serialize:function(i,e){return e.add(this,function(){return t.serialize([this._class,this._item],i,!1,e)})},_changed:function(i){i&8&&B._clearBoundsCache(this),i&1&&this.project._changed(i)},getItem:function(){return this._item},setItem:function(i,e){i._symbol&&(i=i.clone()),this._item&&(this._item._symbol=null),this._item=i,i.remove(),i.setSelected(!1),e||i.setPosition(new o),i._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(i){return new J(this,i)},clone:function(){return new ue(this._item.clone(!1))},equals:function(i){return i===this||i&&this._item.equals(i._item)||!1}}),he=t.extend({_class:"HitResult",initialize:function(e,r,s){this.type=e,this.item=r,s&&this.inject(s)},statics:{getOptions:function(i){var e=i&&t.read(i);return new t({type:null,tolerance:Et.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),ye=t.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,r,s,h,y,v){var x=arguments.length,b,T,O,L;x>0&&(e==null||typeof e=="object"?x===1&&e&&"point"in e?(b=e.point,T=e.handleIn,O=e.handleOut,L=e.selection):(b=e,T=r,O=s,L=h):(b=[e,r],T=s!==C?[s,h]:null,O=y!==C?[y,v]:null)),new Oe(b,this,"_point"),new Oe(T,this,"_handleIn"),new Oe(O,this,"_handleOut"),L&&this.setSelection(L)},_serialize:function(i,e){var r=this._point,s=this._selection,h=s||this.hasHandles()?[r,this._handleIn,this._handleOut]:r;return s&&h.push(s),t.serialize(h,i,!0,e)},_changed:function(i){var e=this._path;if(!!e){var r=e._curves,s=this._index,h;r&&((!i||i===this._point||i===this._handleIn)&&(h=s>0?r[s-1]:e._closed?r[r.length-1]:null)&&h._changed(),(!i||i===this._point||i===this._handleOut)&&(h=r[s])&&h._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(o.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(o.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(o.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var i=this._handleIn,e=this._handleOut;return!i.isZero()&&!e.isZero()&&i.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(i){var e=this._selection,r=this._path;this._selection=i=i||0,r&&i!==e&&(r._updateSelection(this,e,i),r._changed(257))},_changeSelection:function(i,e){var r=this._selection;this.setSelection(e?r|i:r&~i)},isSelected:function(){return!!(this._selection&7)},setSelected:function(i){this._changeSelection(7,i)},getIndex:function(){return this._index!==C?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var i=this._path,e=this._index;return i?(e>0&&!i._closed&&e===i._segments.length-1&&e--,i.getCurves()[e]||null):null},getLocation:function(){var i=this.getCurve();return i?new Ne(i,this===i._segment1?0:1):null},getNext:function(){var i=this._path&&this._path._segments;return i&&(i[this._index+1]||this._path._closed&&i[0])||null},smooth:function(i,e,r){var s=i||{},h=s.type,y=s.factor,v=this.getPrevious(),x=this.getNext(),b=(v||this)._point,T=this._point,O=(x||this)._point,L=b.getDistance(T),D=T.getDistance(O);if(!h||h==="catmull-rom"){var N=y===C?.5:y,R=Math.pow(L,N),X=R*R,Y=Math.pow(D,N),K=Y*Y;if(!e&&v){var H=2*K+3*Y*R+X,G=3*Y*(Y+R);this.setHandleIn(G!==0?new o((K*b._x+H*T._x-X*O._x)/G-T._x,(K*b._y+H*T._y-X*O._y)/G-T._y):new o)}if(!r&&x){var H=2*X+3*R*Y+K,G=3*R*(R+Y);this.setHandleOut(G!==0?new o((X*O._x+H*T._x-K*b._x)/G-T._x,(X*O._y+H*T._y-K*b._y)/G-T._y):new o)}}else if(h==="geometric"){if(v&&x){var z=b.subtract(O),Z=y===C?.4:y,ee=Z*L/(L+D);e||this.setHandleIn(z.multiply(ee)),r||this.setHandleOut(z.multiply(ee-Z))}}else throw new Error("Smoothing method '"+h+"' not supported.")},getPrevious:function(){var i=this._path&&this._path._segments;return i&&(i[this._index-1]||this._path._closed&&i[i.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var i=this._path;return i&&this._index===i._segments.length-1||!1},reverse:function(){var i=this._handleIn,e=this._handleOut,r=i.clone();i.set(e),e.set(r)},reversed:function(){return new ye(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new ye(this._point,this._handleIn,this._handleOut)},equals:function(i){return i===this||i&&this._class===i._class&&this._point.equals(i._point)&&this._handleIn.equals(i._handleIn)&&this._handleOut.equals(i._handleOut)||!1},toString:function(){var i=["point: "+this._point];return this._handleIn.isZero()||i.push("handleIn: "+this._handleIn),this._handleOut.isZero()||i.push("handleOut: "+this._handleOut),"{ "+i.join(", ")+" }"},transform:function(i){this._transformCoordinates(i,new Array(6),!0),this._changed()},interpolate:function(i,e,r){var s=1-r,h=r,y=i._point,v=e._point,x=i._handleIn,b=e._handleIn,T=e._handleOut,O=i._handleOut;this._point._set(s*y._x+h*v._x,s*y._y+h*v._y,!0),this._handleIn._set(s*x._x+h*b._x,s*x._y+h*b._y,!0),this._handleOut._set(s*O._x+h*T._x,s*O._y+h*T._y,!0),this._changed()},_transformCoordinates:function(i,e,r){var s=this._point,h=!r||!this._handleIn.isZero()?this._handleIn:null,y=!r||!this._handleOut.isZero()?this._handleOut:null,v=s._x,x=s._y,b=2;return e[0]=v,e[1]=x,h&&(e[b++]=h._x+v,e[b++]=h._y+x),y&&(e[b++]=y._x+v,e[b++]=y._y+x),i&&(i._transformCoordinates(e,e,b/2),v=e[0],x=e[1],r?(s._x=v,s._y=x,b=2,h&&(h._x=e[b++]-v,h._y=e[b++]-x),y&&(y._x=e[b++]-v,y._y=e[b++]-x)):(h||(e[b++]=v,e[b++]=x),y||(e[b++]=v,e[b++]=x))),e}}),Oe=o.extend({initialize:function(e,r,s){var h,y,v;if(!e)h=y=0;else if((h=e[0])!==C)y=e[1];else{var x=e;(h=x.x)===C&&(x=o.read(arguments),h=x.x),y=x.y,v=x.selected}this._x=h,this._y=y,this._owner=r,r[s]=this,v&&this.setSelected(!0)},_set:function(i,e){return this._x=i,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(i){this._x=i,this._owner._changed(this)},getY:function(){return this._y},setY:function(i){this._y=i,this._owner._changed(this)},isZero:function(){var i=a.isZero;return i(this._x)&&i(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(i){this._owner._changeSelection(this._getSelection(),i)},_getSelection:function(){var i=this._owner;return this===i._point?1:this===i._handleIn?2:this===i._handleOut?4:0}}),de=t.extend({_class:"Curve",beans:!0,initialize:function(e,r,s,h,y,v,x,b){var T=arguments.length,O,L,D,N,R,X;T===3?(this._path=e,O=r,L=s):T?T===1?"segment1"in e?(O=new ye(e.segment1),L=new ye(e.segment2)):"point1"in e?(D=e.point1,R=e.handle1,X=e.handle2,N=e.point2):Array.isArray(e)&&(D=[e[0],e[1]],N=[e[6],e[7]],R=[e[2]-e[0],e[3]-e[1]],X=[e[4]-e[6],e[5]-e[7]]):T===2?(O=new ye(e),L=new ye(r)):T===4?(D=e,R=r,X=s,N=h):T===8&&(D=[e,r],N=[x,b],R=[s-e,h-r],X=[y-x,v-b]):(O=new ye,L=new ye),this._segment1=O||new ye(D,null,R),this._segment2=L||new ye(N,X,null)},_serialize:function(i,e){return t.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],i,!0,e)},_changed:function(){this._length=this._bounds=C},clone:function(){return new de(this._segment1,this._segment2)},toString:function(){var i=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||i.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||i.push("handle2: "+this._segment2._handleIn),i.push("point2: "+this._segment2._point),"{ "+i.join(", ")+" }"},classify:function(){return de.classify(this.getValues())},remove:function(){var i=!1;if(this._path){var e=this._segment2,r=e._handleOut;i=e.remove(),i&&this._segment1._handleOut.set(r)}return i},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(o.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(o.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(o.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(o.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var i=this._path&&this._path._curves;return i&&(i[this._segment1._index+1]||this._path._closed&&i[0])||null},getPrevious:function(){var i=this._path&&this._path._curves;return i&&(i[this._segment1._index-1]||this._path._closed&&i[i.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var i=this._path;return i&&this._segment1._index===i._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(i){this.getPoint1().setSelected(i),this.getHandle1().setSelected(i),this.getHandle2().setSelected(i),this.getPoint2().setSelected(i)},getValues:function(i){return de.getValues(this._segment1,this._segment2,i)},getPoints:function(){for(var i=this.getValues(),e=[],r=0;r<8;r+=2)e.push(new o(i[r],i[r+1]));return e}},{getLength:function(){return this._length==null&&(this._length=de.getLength(this.getValues(),0,1)),this._length},getArea:function(){return de.getArea(this.getValues())},getLine:function(){return new V(this._segment1._point,this._segment2._point)},getPart:function(i,e){return new de(de.getPart(this.getValues(),i,e))},getPartLength:function(i,e){return de.getLength(this.getValues(),i,e)},divideAt:function(i){return this.divideAtTime(i&&i.curve===this?i.time:this.getTimeAt(i))},divideAtTime:function(i,e){var r=1e-8,s=1-r,h=null;if(i>=r&&i<=s){var y=de.subdivide(this.getValues(),i),v=y[0],x=y[1],b=e||this.hasHandles(),T=this._segment1,O=this._segment2,L=this._path;b&&(T._handleOut._set(v[2]-v[0],v[3]-v[1]),O._handleIn._set(x[4]-x[6],x[5]-x[7]));var D=v[6],N=v[7],R=new ye(new o(D,N),b&&new o(v[4]-D,v[5]-N),b&&new o(x[2]-D,x[3]-N));L?(L.insert(T._index+1,R),h=this.getNext()):(this._segment2=R,this._changed(),h=new de(R,O))}return h},splitAt:function(i){var e=this._path;return e?e.splitAt(i):null},splitAtTime:function(i){return this.splitAt(this.getLocationAtTime(i))},divide:function(i,e){return this.divideAtTime(i===C?.5:e?i:this.getTimeAt(i))},split:function(i,e){return this.splitAtTime(i===C?.5:e?i:this.getTimeAt(i))},reversed:function(){return new de(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(i,e,r,s){var h=i._point,y=i._handleOut,v=e._handleIn,x=e._point,b=h.x,T=h.y,O=x.x,L=x.y,D=s?[b,T,b,T,O,L,O,L]:[b,T,b+y._x,T+y._y,O+v._x,L+v._y,O,L];return r&&r._transformCoordinates(D,D,4),D},subdivide:function(i,e){var r=i[0],s=i[1],h=i[2],y=i[3],v=i[4],x=i[5],b=i[6],T=i[7];e===C&&(e=.5);var O=1-e,L=O*r+e*h,D=O*s+e*y,N=O*h+e*v,R=O*y+e*x,X=O*v+e*b,Y=O*x+e*T,K=O*L+e*N,H=O*D+e*R,G=O*N+e*X,z=O*R+e*Y,Z=O*K+e*G,ee=O*H+e*z;return[[r,s,L,D,K,H,Z,ee],[Z,ee,G,z,X,Y,b,T]]},getMonoCurves:function(i,e){var r=[],s=e?0:1,h=i[s+0],y=i[s+2],v=i[s+4],x=i[s+6];if(h>=y==y>=v&&y>=v==v>=x||de.isStraight(i))r.push(i);else{var b=3*(y-v)-h+x,T=2*(h+v)-4*y,O=y-h,L=1e-8,D=1-L,N=[],R=a.solveQuadratic(b,T,O,N,L,D);if(!R)r.push(i);else{N.sort();var X=N[0],Y=de.subdivide(i,X);r.push(Y[0]),R>1&&(X=(N[1]-X)/(1-X),Y=de.subdivide(Y[1],X),r.push(Y[0])),r.push(Y[1])}}return r},solveCubic:function(i,e,r,s,h,y){var v=i[e],x=i[e+2],b=i[e+4],T=i[e+6],O=0;if(!(v<r&&T<r&&x<r&&b<r||v>r&&T>r&&x>r&&b>r)){var L=3*(x-v),D=3*(b-x)-L,N=T-v-L-D;O=a.solveCubic(N,D,L,v-r,s,h,y)}return O},getTimeOf:function(i,e){var r=new o(i[0],i[1]),s=new o(i[6],i[7]),h=1e-12,y=1e-7,v=e.isClose(r,h)?0:e.isClose(s,h)?1:null;if(v===null)for(var x=[e.x,e.y],b=[],T=0;T<2;T++)for(var O=de.solveCubic(i,T,x[T],b,0,1),L=0;L<O;L++){var D=b[L];if(e.isClose(de.getPoint(i,D),y))return D}return e.isClose(r,y)?0:e.isClose(s,y)?1:null},getNearestTime:function(i,e){if(de.isStraight(i)){var r=i[0],s=i[1],h=i[6],y=i[7],v=h-r,x=y-s,b=v*v+x*x;if(b===0)return 0;var T=((e.x-r)*v+(e.y-s)*x)/b;return T<1e-12?0:T>.999999999999?1:de.getTimeOf(i,new o(r+T*v,s+T*x))}var O=100,L=1/0,D=0;function N(Y){if(Y>=0&&Y<=1){var K=e.getDistance(de.getPoint(i,Y),!0);if(K<L)return L=K,D=Y,!0}}for(var R=0;R<=O;R++)N(R/O);for(var X=1/(O*2);X>1e-8;)!N(D-X)&&!N(D+X)&&(X/=2);return D},getPart:function(i,e,r){var s=e>r;if(s){var h=e;e=r,r=h}return e>0&&(i=de.subdivide(i,e)[1]),r<1&&(i=de.subdivide(i,(r-e)/(1-e))[0]),s?[i[6],i[7],i[4],i[5],i[2],i[3],i[0],i[1]]:i},isFlatEnough:function(i,e){var r=i[0],s=i[1],h=i[2],y=i[3],v=i[4],x=i[5],b=i[6],T=i[7],O=3*h-2*r-b,L=3*y-2*s-T,D=3*v-2*b-r,N=3*x-2*T-s;return Math.max(O*O,D*D)+Math.max(L*L,N*N)<=16*e*e},getArea:function(i){var e=i[0],r=i[1],s=i[2],h=i[3],y=i[4],v=i[5],x=i[6],b=i[7];return 3*((b-r)*(s+y)-(x-e)*(h+v)+h*(e-y)-s*(r-v)+b*(y+e/3)-x*(v+r/3))/20},getBounds:function(i){for(var e=i.slice(0,2),r=e.slice(),s=[0,0],h=0;h<2;h++)de._addBounds(i[h],i[h+2],i[h+4],i[h+6],h,0,e,r,s);return new E(e[0],e[1],r[0]-e[0],r[1]-e[1])},_addBounds:function(i,e,r,s,h,y,v,x,b){function T(Z,ee){var le=Z-ee,ie=Z+ee;le<v[h]&&(v[h]=le),ie>x[h]&&(x[h]=ie)}y/=2;var O=v[h]+y,L=x[h]-y;if(i<O||e<O||r<O||s<O||i>L||e>L||r>L||s>L)if(e<i!=e<s&&r<i!=r<s)T(i,0),T(s,0);else{var D=3*(e-r)-i+s,N=2*(i+r)-4*e,R=e-i,X=a.solveQuadratic(D,N,R,b),Y=1e-8,K=1-Y;T(s,0);for(var H=0;H<X;H++){var G=b[H],z=1-G;Y<=G&&G<=K&&T(z*z*z*i+3*z*z*G*e+3*z*G*G*r+G*G*G*s,y)}}}}},t.each(["getBounds","getStrokeBounds","getHandleBounds"],function(i){this[i]=function(){this._bounds||(this._bounds={});var e=this._bounds[i];return e||(e=this._bounds[i]=Be[i]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),t.each({isStraight:function(i,e,r,s){if(e.isZero()&&r.isZero())return!0;var h=s.subtract(i);if(h.isZero())return!1;if(h.isCollinear(e)&&h.isCollinear(r)){var y=new V(i,s),v=1e-7;if(y.getDistance(i.add(e))<v&&y.getDistance(s.add(r))<v){var x=h.dot(h),b=h.dot(e)/x,T=h.dot(r)/x;return b>=0&&b<=1&&T<=0&&T>=-1}}return!1},isLinear:function(i,e,r,s){var h=s.subtract(i).divide(3);return e.equals(h)&&r.negate().equals(h)}},function(i,e){this[e]=function(r){var s=this._segment1,h=this._segment2;return i(s._point,s._handleOut,h._handleIn,h._point,r)},this.statics[e]=function(r,s){var h=r[0],y=r[1],v=r[6],x=r[7];return i(new o(h,y),new o(r[2]-h,r[3]-y),new o(r[4]-v,r[5]-x),new o(v,x),s)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(i){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(i||0)},isCollinear:function(i){return i&&this.isStraight()&&i.isStraight()&&this.getLine().isCollinear(i.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(i,e){return this.getLocationAtTime(e?i:this.getTimeAt(i))},getLocationAtTime:function(i){return i!=null&&i>=0&&i<=1?new Ne(this,i):null},getTimeAt:function(i,e){return de.getTimeAt(this.getValues(),i,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var i=o.read(arguments);return i.isZero()?[]:de.getTimesWithTangent(this.getValues(),i)},getOffsetAtTime:function(i){return this.getPartLength(0,i)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(o.read(arguments)))},getOffsetOf:function(){var i=this.getLocationOf.apply(this,arguments);return i?i.getOffset():null},getTimeOf:function(){return de.getTimeOf(this.getValues(),o.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var i=o.read(arguments),e=this.getValues(),r=de.getNearestTime(e,i),s=de.getPoint(e,r);return new Ne(this,r,s,null,i.getDistance(s))},getNearestPoint:function(){var i=this.getNearestLocation.apply(this,arguments);return i&&i.getPoint()}},new function(){var i=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return t.each(i,function(e){this[e+"At"]=function(r,s){var h=this.getValues();return de[e](h,s?r:de.getTimeAt(h,r))},this[e+"AtTime"]=function(r){return de[e](this.getValues(),r)}},{statics:{_evaluateMethods:i}})},new function(){function i(s){var h=s[0],y=s[1],v=s[2],x=s[3],b=s[4],T=s[5],O=s[6],L=s[7],D=9*(v-b)+3*(O-h),N=6*(h+b)-12*v,R=3*(v-h),X=9*(x-T)+3*(L-y),Y=6*(y+T)-12*x,K=3*(x-y);return function(H){var G=(D*H+N)*H+R,z=(X*H+Y)*H+K;return Math.sqrt(G*G+z*z)}}function e(s,h){return Math.max(2,Math.min(16,Math.ceil(Math.abs(h-s)*32)))}function r(s,h,y,v){if(h==null||h<0||h>1)return null;var x=s[0],b=s[1],T=s[2],O=s[3],L=s[4],D=s[5],N=s[6],R=s[7],X=a.isZero;X(T-x)&&X(O-b)&&(T=x,O=b),X(L-N)&&X(D-R)&&(L=N,D=R);var Y=3*(T-x),K=3*(L-T)-Y,H=N-x-Y-K,G=3*(O-b),z=3*(D-O)-G,Z=R-b-G-z,ee,le;if(y===0)ee=h===0?x:h===1?N:((H*h+K)*h+Y)*h+x,le=h===0?b:h===1?R:((Z*h+z)*h+G)*h+b;else{var ie=1e-8,pe=1-ie;if(h<ie?(ee=Y,le=G):h>pe?(ee=3*(N-L),le=3*(R-D)):(ee=(3*H*h+2*K)*h+Y,le=(3*Z*h+2*z)*h+G),v){ee===0&&le===0&&(h<ie||h>pe)&&(ee=L-T,le=D-O);var ve=Math.sqrt(ee*ee+le*le);ve&&(ee/=ve,le/=ve)}if(y===3){var L=6*H*h+2*K,D=6*Z*h+2*z,xe=Math.pow(ee*ee+le*le,3/2);ee=xe!==0?(ee*D-le*L)/xe:0,le=0}}return y===2?new o(le,-ee):new o(ee,le)}return{statics:{classify:function(s){var h=s[0],y=s[1],v=s[2],x=s[3],b=s[4],T=s[5],O=s[6],L=s[7],D=h*(L-T)+y*(b-O)+O*T-L*b,N=v*(y-L)+x*(O-h)+h*L-y*O,R=b*(x-y)+T*(h-v)+v*y-x*h,X=3*R,Y=X-N,K=Y-N+D,H=Math.sqrt(K*K+Y*Y+X*X),G=H!==0?1/H:0,z=a.isZero,Z="serpentine";K*=G,Y*=G,X*=G;function ee(ve,xe,Ce){var be=xe!==C,Ee=be&&xe>0&&xe<1,Ie=be&&Ce>0&&Ce<1;return be&&(!(Ee||Ie)||ve==="loop"&&!(Ee&&Ie))&&(ve="arch",Ee=Ie=!1),{type:ve,roots:Ee||Ie?Ee&&Ie?xe<Ce?[xe,Ce]:[Ce,xe]:[Ee?xe:Ce]:null}}if(z(K))return z(Y)?ee(z(X)?"line":"quadratic"):ee(Z,X/(3*Y));var le=3*Y*Y-4*K*X;if(z(le))return ee("cusp",Y/(2*K));var ie=le>0?Math.sqrt(le/3):Math.sqrt(-le),pe=2*K;return ee(le>0?Z:"loop",(Y+ie)/pe,(Y-ie)/pe)},getLength:function(s,h,y,v){if(h===C&&(h=0),y===C&&(y=1),de.isStraight(s)){var x=s;y<1&&(x=de.subdivide(x,y)[0],h/=y),h>0&&(x=de.subdivide(x,h)[1]);var b=x[6]-x[0],T=x[7]-x[1];return Math.sqrt(b*b+T*T)}return a.integrate(v||i(s),h,y,e(h,y))},getTimeAt:function(s,h,y){if(y===C&&(y=h<0?1:0),h===0)return y;var v=Math.abs,x=1e-12,b=h>0,T=b?y:0,O=b?1:y,L=i(s),D=de.getLength(s,T,O,L),N=v(h)-D;if(v(N)<x)return b?O:T;if(N>x)return null;var R=h/D,X=0;function Y(K){return X+=a.integrate(L,y,K,e(y,K)),y=K,X-h}return a.findRoot(Y,L,y+R,T,O,32,1e-12)},getPoint:function(s,h){return r(s,h,0,!1)},getTangent:function(s,h){return r(s,h,1,!0)},getWeightedTangent:function(s,h){return r(s,h,1,!1)},getNormal:function(s,h){return r(s,h,2,!0)},getWeightedNormal:function(s,h){return r(s,h,2,!1)},getCurvature:function(s,h){return r(s,h,3,!1).x},getPeaks:function(s){var h=s[0],y=s[1],v=s[2],x=s[3],b=s[4],T=s[5],O=s[6],L=s[7],D=-h+3*v-3*b+O,N=3*h-6*v+3*b,R=-3*h+3*v,X=-y+3*x-3*T+L,Y=3*y-6*x+3*T,K=-3*y+3*x,H=1e-8,G=1-H,z=[];return a.solveCubic(9*(D*D+X*X),9*(D*N+Y*X),2*(N*N+Y*Y)+3*(R*D+K*X),R*N+Y*K,z,H,G),z.sort()}}}},new function(){function i(N,R,X,Y,K,H,G){var z=!G&&X.getPrevious()===K,Z=!G&&X!==K&&X.getNext()===K,ee=1e-8,le=1-ee;if(Y!==null&&Y>=(z?ee:0)&&Y<=(Z?le:1)&&H!==null&&H>=(Z?ee:0)&&H<=(z?le:1)){var ie=new Ne(X,Y,null,G),pe=new Ne(K,H,null,G);ie._intersection=pe,pe._intersection=ie,(!R||R(ie))&&Ne.insert(N,ie,!0)}}function e(N,R,X,Y,K,H,G,z,Z,ee,le,ie,pe){if(++Z>=4096||++z>=40)return Z;var ve=1e-9,xe=R[0],Ce=R[1],be=R[6],Ee=R[7],Ie=V.getSignedDistance,Ue=Ie(xe,Ce,be,Ee,R[2],R[3]),We=Ie(xe,Ce,be,Ee,R[4],R[5]),rt=Ue*We>0?3/4:4/9,ke=rt*Math.min(0,Ue,We),Ye=rt*Math.max(0,Ue,We),ft=Ie(xe,Ce,be,Ee,N[0],N[1]),lt=Ie(xe,Ce,be,Ee,N[2],N[3]),nt=Ie(xe,Ce,be,Ee,N[4],N[5]),Ze=Ie(xe,Ce,be,Ee,N[6],N[7]),xt=r(ft,lt,nt,Ze),Tt=xt[0],It=xt[1],Lt,pt;if(Ue===0&&We===0&&ft===0&&lt===0&&nt===0&&Ze===0||(Lt=s(Tt,It,ke,Ye))==null||(pt=s(Tt.reverse(),It.reverse(),ke,Ye))==null)return Z;var Dt=ee+(le-ee)*Lt,jt=ee+(le-ee)*pt;if(Math.max(pe-ie,jt-Dt)<ve){var Gt=(Dt+jt)/2,nr=(ie+pe)/2;i(K,H,G?Y:X,G?nr:Gt,G?X:Y,G?Gt:nr)}else{N=de.getPart(N,Lt,pt);var sr=pe-ie;if(pt-Lt>.8)if(jt-Dt>sr){var ir=de.subdivide(N,.5),Gt=(Dt+jt)/2;Z=e(R,ir[0],Y,X,K,H,!G,z,Z,ie,pe,Dt,Gt),Z=e(R,ir[1],Y,X,K,H,!G,z,Z,ie,pe,Gt,jt)}else{var ir=de.subdivide(R,.5),nr=(ie+pe)/2;Z=e(ir[0],N,Y,X,K,H,!G,z,Z,ie,nr,Dt,jt),Z=e(ir[1],N,Y,X,K,H,!G,z,Z,nr,pe,Dt,jt)}else sr===0||sr>=ve?Z=e(R,N,Y,X,K,H,!G,z,Z,ie,pe,Dt,jt):Z=e(N,R,X,Y,K,H,G,z,Z,Dt,jt,ie,pe)}return Z}function r(N,R,X,Y){var K=[0,N],H=[1/3,R],G=[2/3,X],z=[1,Y],Z=R-(2*N+Y)/3,ee=X-(N+2*Y)/3,le;if(Z*ee<0)le=[[K,H,z],[K,G,z]];else{var ie=Z/ee;le=[ie>=2?[K,H,z]:ie<=.5?[K,G,z]:[K,H,G,z],[K,z]]}return(Z||ee)<0?le.reverse():le}function s(N,R,X,Y){return N[0][1]<X?h(N,!0,X):R[0][1]>Y?h(R,!1,Y):N[0][0]}function h(N,R,X){for(var Y=N[0][0],K=N[0][1],H=1,G=N.length;H<G;H++){var z=N[H][0],Z=N[H][1];if(R?Z>=X:Z<=X)return Z===X?z:Y+(X-K)*(z-Y)/(Z-K);Y=z,K=Z}return null}function y(N,R,X,Y,K){var H=a.isZero;if(H(Y)&&H(K)){var G=de.getTimeOf(N,new o(R,X));return G===null?[]:[G]}for(var z=Math.atan2(-K,Y),Z=Math.sin(z),ee=Math.cos(z),le=[],ie=[],pe=0;pe<8;pe+=2){var ve=N[pe]-R,xe=N[pe+1]-X;le.push(ve*ee-xe*Z,ve*Z+xe*ee)}return de.solveCubic(le,1,0,ie,0,1),ie}function v(N,R,X,Y,K,H,G){for(var z=R[0],Z=R[1],ee=R[6],le=R[7],ie=y(N,z,Z,ee-z,le-Z),pe=0,ve=ie.length;pe<ve;pe++){var xe=ie[pe],Ce=de.getPoint(N,xe),be=de.getTimeOf(R,Ce);be!==null&&i(K,H,G?Y:X,G?be:xe,G?X:Y,G?xe:be)}}function x(N,R,X,Y,K,H){var G=V.intersect(N[0],N[1],N[6],N[7],R[0],R[1],R[6],R[7]);G&&i(K,H,X,de.getTimeOf(N,G),Y,de.getTimeOf(R,G))}function b(N,R,X,Y,K,H){var G=1e-12,z=Math.min,Z=Math.max;if(Z(N[0],N[2],N[4],N[6])+G>z(R[0],R[2],R[4],R[6])&&z(N[0],N[2],N[4],N[6])-G<Z(R[0],R[2],R[4],R[6])&&Z(N[1],N[3],N[5],N[7])+G>z(R[1],R[3],R[5],R[7])&&z(N[1],N[3],N[5],N[7])-G<Z(R[1],R[3],R[5],R[7])){var ee=L(N,R);if(ee)for(var le=0;le<2;le++){var ie=ee[le];i(K,H,X,ie[0],Y,ie[1],!0)}else{var pe=de.isStraight(N),ve=de.isStraight(R),xe=pe&&ve,Ce=pe&&!ve,be=K.length;if((xe?x:pe||ve?v:e)(Ce?R:N,Ce?N:R,Ce?Y:X,Ce?X:Y,K,H,Ce,0,0,0,1,0,1),!xe||K.length===be)for(var le=0;le<4;le++){var Ee=le>>1,Ie=le&1,Ue=Ee*6,We=Ie*6,rt=new o(N[Ue],N[Ue+1]),ke=new o(R[We],R[We+1]);rt.isClose(ke,G)&&i(K,H,X,Ee,Y,Ie)}}}return K}function T(N,R,X,Y){var K=de.classify(N);if(K.type==="loop"){var H=K.roots;i(X,Y,R,H[0],R,H[1])}return X}function O(N,R,X,Y,K,H){var G=1e-7,z=!R;z&&(R=N);for(var Z=N.length,ee=R.length,le=new Array(Z),ie=z?le:new Array(ee),pe=[],ve=0;ve<Z;ve++)le[ve]=N[ve].getValues(Y);if(!z)for(var ve=0;ve<ee;ve++)ie[ve]=R[ve].getValues(K);for(var xe=p.findCurveBoundsCollisions(le,ie,G),Ce=0;Ce<Z;Ce++){var be=N[Ce],Ee=le[Ce];z&&T(Ee,be,pe,X);var Ie=xe[Ce];if(Ie)for(var Ue=0;Ue<Ie.length;Ue++){if(H&&pe.length)return pe;var We=Ie[Ue];if(!z||We>Ce){var rt=R[We],ke=ie[We];b(Ee,ke,be,rt,pe,X)}}}return pe}function L(N,R){function X(Ze){var xt=Ze[6]-Ze[0],Tt=Ze[7]-Ze[1];return xt*xt+Tt*Tt}var Y=Math.abs,K=V.getDistance,H=1e-8,G=1e-7,z=de.isStraight(N),Z=de.isStraight(R),ee=z&&Z,le=X(N)<X(R),ie=le?R:N,pe=le?N:R,ve=ie[0],xe=ie[1],Ce=ie[6]-ve,be=ie[7]-xe;if(K(ve,xe,Ce,be,pe[0],pe[1],!0)<G&&K(ve,xe,Ce,be,pe[6],pe[7],!0)<G)!ee&&K(ve,xe,Ce,be,ie[2],ie[3],!0)<G&&K(ve,xe,Ce,be,ie[4],ie[5],!0)<G&&K(ve,xe,Ce,be,pe[2],pe[3],!0)<G&&K(ve,xe,Ce,be,pe[4],pe[5],!0)<G&&(z=Z=ee=!0);else if(ee)return null;if(z^Z)return null;for(var Ee=[N,R],Ie=[],Ue=0;Ue<4&&Ie.length<2;Ue++){var We=Ue&1,rt=We^1,ke=Ue>>1,Ye=de.getTimeOf(Ee[We],new o(Ee[rt][ke?6:0],Ee[rt][ke?7:1]));if(Ye!=null){var ft=We?[ke,Ye]:[Ye,ke];(!Ie.length||Y(ft[0]-Ie[0][0])>H&&Y(ft[1]-Ie[0][1])>H)&&Ie.push(ft)}if(Ue>2&&!Ie.length)break}if(Ie.length!==2)Ie=null;else if(!ee){var lt=de.getPart(N,Ie[0][0],Ie[1][0]),nt=de.getPart(R,Ie[0][1],Ie[1][1]);(Y(nt[2]-lt[2])>G||Y(nt[3]-lt[3])>G||Y(nt[4]-lt[4])>G||Y(nt[5]-lt[5])>G)&&(Ie=null)}return Ie}function D(N,R){var X=N[0],Y=N[1],K=N[2],H=N[3],G=N[4],z=N[5],Z=N[6],ee=N[7],le=R.normalize(),ie=le.x,pe=le.y,ve=3*Z-9*G+9*K-3*X,xe=3*ee-9*z+9*H-3*Y,Ce=6*G-12*K+6*X,be=6*z-12*H+6*Y,Ee=3*K-3*X,Ie=3*H-3*Y,Ue=2*ve*pe-2*xe*ie,We=[];if(Math.abs(Ue)<a.CURVETIME_EPSILON){var rt=ve*Ie-xe*Ee,Ue=ve*be-xe*Ce;if(Ue!=0){var ke=-rt/Ue;ke>=0&&ke<=1&&We.push(ke)}}else{var Ye=(Ce*Ce-4*ve*Ee)*pe*pe+(-2*Ce*be+4*xe*Ee+4*ve*Ie)*ie*pe+(be*be-4*xe*Ie)*ie*ie,ft=Ce*pe-be*ie;if(Ye>=0&&Ue!=0){var lt=Math.sqrt(Ye),nt=-(ft+lt)/Ue,Ze=(-ft+lt)/Ue;nt>=0&&nt<=1&&We.push(nt),Ze>=0&&Ze<=1&&We.push(Ze)}}return We}return{getIntersections:function(N){var R=this.getValues(),X=N&&N!==this&&N.getValues();return X?b(R,X,this,N,[]):T(R,this,[])},statics:{getOverlaps:L,getIntersections:O,getCurveLineIntersections:y,getTimesWithTangent:D}}}),Ne=t.extend({_class:"CurveLocation",initialize:function(e,r,s,h,y){if(r>=.99999999){var v=e.getNext();v&&(r=0,e=v)}this._setCurve(e),this._time=r,this._point=s||e.getPointAtTime(r),this._overlap=h,this._distance=y,this._intersection=this._next=this._previous=null},_setPath:function(i){this._path=i,this._version=i?i._version:0},_setCurve:function(i){this._setPath(i._path),this._curve=i,this._segment=null,this._segment1=i._segment1,this._segment2=i._segment2},_setSegment:function(i){var e=i.getCurve();e?this._setCurve(e):(this._setPath(i._path),this._segment1=i,this._segment2=null),this._segment=i,this._time=i===this._segment1?0:1,this._point=i._point.clone()},getSegment:function(){var i=this._segment;if(!i){var e=this.getCurve(),r=this.getTime();r===0?i=e._segment1:r===1?i=e._segment2:r!=null&&(i=e.getPartLength(0,r)<e.getPartLength(r,1)?e._segment1:e._segment2),this._segment=i}return i},getCurve:function(){var i=this._path,e=this;i&&i._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function r(s){var h=s&&s.getCurve();if(h&&(e._time=h.getTimeOf(e._point))!=null)return e._setCurve(h),h}return this._curve||r(this._segment)||r(this._segment1)||r(this._segment2.getPrevious())},getPath:function(){var i=this.getCurve();return i&&i._path},getIndex:function(){var i=this.getCurve();return i&&i.getIndex()},getTime:function(){var i=this.getCurve(),e=this._time;return i&&e==null?this._time=i.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var i=this._offset;if(i==null){i=0;var e=this.getPath(),r=this.getIndex();if(e&&r!=null)for(var s=e.getCurves(),h=0;h<r;h++)i+=s[h].getLength();this._offset=i+=this.getCurveOffset()}return i},getCurveOffset:function(){var i=this._curveOffset;if(i==null){var e=this.getCurve(),r=this.getTime();this._curveOffset=i=r!=null&&e&&e.getPartLength(0,r)}return i},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var i=this.getCurve(),e=i&&i.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var i=this.getCurve(),e=i._path,r=i&&i.splitAtTime(this.getTime());return r&&this._setSegment(e.getLastSegment()),r},equals:function(i,e){var r=this===i;if(!r&&i instanceof Ne){var s=this.getCurve(),h=i.getCurve(),y=s._path,v=h._path;if(y===v){var x=Math.abs,b=1e-7,T=x(this.getOffset()-i.getOffset()),O=!e&&this._intersection,L=!e&&i._intersection;r=(T<b||y&&x(y.getLength()-T)<b)&&(!O&&!L||O&&L&&O.equals(L,!0))}}return r},toString:function(){var i=[],e=this.getPoint(),r=u.instance;e&&i.push("point: "+e);var s=this.getIndex();s!=null&&i.push("index: "+s);var h=this.getTime();return h!=null&&i.push("time: "+r.number(h)),this._distance!=null&&i.push("distance: "+r.number(this._distance)),"{ "+i.join(", ")+" }"},isTouching:function(){var i=this._intersection;if(i&&this.getTangent().isCollinear(i.getTangent())){var e=this.getCurve(),r=i.getCurve();return!(e.isStraight()&&r.isStraight()&&e.getLine().intersect(r.getLine()))}return!1},isCrossing:function(){var i=this._intersection;if(!i)return!1;var e=this.getTime(),r=i.getTime(),s=1e-8,h=1-s,y=e>=s&&e<=h,v=r>=s&&r<=h;if(y&&v)return!this.isTouching();var x=this.getCurve(),b=x&&e<s?x.getPrevious():x,T=i.getCurve(),O=T&&r<s?T.getPrevious():T;if(e>h&&(x=x.getNext()),r>h&&(T=T.getNext()),!b||!x||!O||!T)return!1;var L=[];function D(ie,pe){var ve=ie.getValues(),xe=de.classify(ve).roots||de.getPeaks(ve),Ce=xe.length,be=de.getLength(ve,pe&&Ce?xe[Ce-1]:0,!pe&&Ce?xe[0]:1);L.push(Ce?be:be/32)}function N(ie,pe,ve){return pe<ve?ie>pe&&ie<ve:ie>pe||ie<ve}y||(D(b,!0),D(x,!1)),v||(D(O,!0),D(T,!1));var R=this.getPoint(),X=Math.min.apply(Math,L),Y=y?x.getTangentAtTime(e):x.getPointAt(X).subtract(R),K=y?Y.negate():b.getPointAt(-X).subtract(R),H=v?T.getTangentAtTime(r):T.getPointAt(X).subtract(R),G=v?H.negate():O.getPointAt(-X).subtract(R),z=K.getAngle(),Z=Y.getAngle(),ee=G.getAngle(),le=H.getAngle();return!!(y?N(z,ee,le)^N(Z,ee,le)&&N(z,le,ee)^N(Z,le,ee):N(ee,z,Z)^N(le,z,Z)&&N(ee,Z,z)^N(le,Z,z))},hasOverlap:function(){return!!this._overlap}},t.each(de._evaluateMethods,function(i){var e=i+"At";this[i]=function(){var r=this.getCurve(),s=this.getTime();return s!=null&&r&&r[e](s,!0)}},{preserve:!0}),new function(){function i(e,r,s){var h=e.length,y=0,v=h-1;function x(R,X){for(var Y=R+X;Y>=-1&&Y<=h;Y+=X){var K=e[(Y%h+h)%h];if(!r.getPoint().isClose(K.getPoint(),1e-7))break;if(r.equals(K))return K}return null}for(;y<=v;){var b=y+v>>>1,T=e[b],O;if(s&&(O=r.equals(T)?T:x(b,-1)||x(b,1)))return r._overlap&&(O._overlap=O._intersection._overlap=!0),O;var L=r.getPath(),D=T.getPath(),N=L!==D?L._id-D._id:r.getIndex()+r.getTime()-(T.getIndex()+T.getTime());N<0?v=b-1:y=b+1}return e.splice(y,0,r),r}return{statics:{insert:i,expand:function(e){for(var r=e.slice(),s=e.length-1;s>=0;s--)i(r,e[s]._intersection,!1);return r}}}}),Le=B.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(i){var e,r,s;if(t.isPlainObject(i)?(r=i.segments,e=i.pathData):Array.isArray(i)?r=i:typeof i=="string"&&(e=i),r){var h=r[0];s=h&&Array.isArray(h[0])}else e&&(s=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var y=s?$e:Be;return new y(i)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(i){this.isClockwise()!=(i=!!i)&&this.reverse()},setPathData:function(i){var e=i&&i.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),r,s=!1,h,y,v=new o,x=new o;function b(G,z){var Z=+r[G];return s&&(Z+=v[z]),Z}function T(G){return new o(b(G,"x"),b(G+1,"y"))}this.clear();for(var O=0,L=e&&e.length;O<L;O++){var D=e[O],N=D[0],R=N.toLowerCase();r=D.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var X=r&&r.length;switch(s=N===R,h==="z"&&!/[mz]/.test(R)&&this.moveTo(v),R){case"m":case"l":for(var Y=R==="m",K=0;K<X;K+=2)this[Y?"moveTo":"lineTo"](v=T(K)),Y&&(x=v,Y=!1);y=v;break;case"h":case"v":var H=R==="h"?"x":"y";v=v.clone();for(var K=0;K<X;K++)v[H]=b(K,H),this.lineTo(v);y=v;break;case"c":for(var K=0;K<X;K+=6)this.cubicCurveTo(T(K),y=T(K+2),v=T(K+4));break;case"s":for(var K=0;K<X;K+=4)this.cubicCurveTo(/[cs]/.test(h)?v.multiply(2).subtract(y):v,y=T(K),v=T(K+2)),h=R;break;case"q":for(var K=0;K<X;K+=4)this.quadraticCurveTo(y=T(K),v=T(K+2));break;case"t":for(var K=0;K<X;K+=2)this.quadraticCurveTo(y=/[qt]/.test(h)?v.multiply(2).subtract(y):v,v=T(K)),h=R;break;case"a":for(var K=0;K<X;K+=7)this.arcTo(v=T(K+5),new _(+r[K],+r[K+1]),+r[K+2],+r[K+4],+r[K+3]);break;case"z":this.closePath(1e-12),v=x;break}h=R}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(i){var e=i.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(i):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(i,e,r,s){var h=this===i||!i,y=this._matrix._orNullIfIdentity(),v=h?y:(r||i._matrix)._orNullIfIdentity();return h||this.getBounds(y).intersects(i.getBounds(v),1e-12)?de.getIntersections(this.getCurves(),!h&&i.getCurves(),e,y,v,s):[]},getCrossings:function(i){return this.getIntersections(i,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var i=o.read(arguments),e=this.getCurves(),r=1/0,s=null,h=0,y=e.length;h<y;h++){var v=e[h].getNearestLocation(i);v._distance<r&&(r=v._distance,s=v)}return s},getNearestPoint:function(){var i=this.getNearestLocation.apply(this,arguments);return i&&i.getPoint()},interpolate:function(i,e,r){var s=!this._children,h=s?"_segments":"_children",y=i[h],v=e[h],x=this[h];if(!y||!v||y.length!==v.length)throw new Error("Invalid operands in interpolate() call: "+i+", "+e);var b=x.length,T=v.length;if(b<T)for(var O=s?ye:Be,L=b;L<T;L++)this.add(new O);else b>T&&this[s?"removeSegments":"removeChildren"](T,b);for(var L=0;L<T;L++)x[L].interpolate(y[L],v[L],r);s&&(this.setClosed(i._closed),this._changed(9))},compare:function(i){var e=!1;if(i){var r=this._children||[this],s=i._children?i._children.slice():[i],h=r.length,y=s.length,v=[],x=0;e=!0;for(var b=p.findItemBoundsCollisions(r,s,a.GEOMETRIC_EPSILON),T=h-1;T>=0&&e;T--){var O=r[T];e=!1;var L=b[T];if(L)for(var D=L.length-1;D>=0&&!e;D--)O.compare(s[L[D]])&&(v[L[D]]||(v[L[D]]=!0,x++),e=!0)}e=e&&x===y}return e}}),Be=Le.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var r=arguments,s=Array.isArray(e)?typeof e[0]=="object"?e:r:e&&e.size===C&&(e.x!==C||e.point!==C)?r:null;s&&s.length>0?this.setSegments(s):(this._curves=C,this._segmentSelection=0,!s&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!s&&e)},_equals:function(i){return this._closed===i._closed&&t.equals(this._segments,i._segments)},copyContent:function(i){this.setSegments(i._segments),this._closed=i._closed},_changed:function i(e){if(i.base.call(this,e),e&8){if(this._length=this._area=C,e&32)this._version++;else if(this._curves)for(var r=0,s=this._curves.length;r<s;r++)this._curves[r]._changed()}else e&64&&(this._bounds=C)},getStyle:function(){var i=this._parent;return(i instanceof $e?i:this)._style},getSegments:function(){return this._segments},setSegments:function(i){var e=this.isFullySelected(),r=i&&i.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=C,r){var s=i[r-1];typeof s=="boolean"&&(this.setClosed(s),r--),this._add(ye.readList(i,0,{},r))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var i=this._curves,e=this._segments;if(!i){var r=this._countCurves();i=this._curves=new Array(r);for(var s=0;s<r;s++)i[s]=new de(this,e[s],e[s+1]||e[0])}return i},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var i=this.getCurves();return i[i.length-1]},isClosed:function(){return this._closed},setClosed:function(i){if(this._closed!=(i=!!i)){if(this._closed=i,this._curves){var e=this._curves.length=this._countCurves();i&&(this._curves[e-1]=new de(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(i,e){var r=this._segments,s=r.length,h=new u(e),y=new Array(6),v=!0,x,b,T,O,L,D,N,R,X=[];function Y(H,G){if(H._transformCoordinates(i,y),x=y[0],b=y[1],v)X.push("M"+h.pair(x,b)),v=!1;else if(L=y[2],D=y[3],L===x&&D===b&&N===T&&R===O){if(!G){var z=x-T,Z=b-O;X.push(z===0?"v"+h.number(Z):Z===0?"h"+h.number(z):"l"+h.pair(z,Z))}}else X.push("c"+h.pair(N-T,R-O)+" "+h.pair(L-T,D-O)+" "+h.pair(x-T,b-O));T=x,O=b,N=y[4],R=y[5]}if(!s)return"";for(var K=0;K<s;K++)Y(r[K]);return this._closed&&s>0&&(Y(r[0],!0),X.push("z")),X.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(i){for(var e=this._segments,r=new Array(6),s=0,h=e.length;s<h;s++)e[s]._transformCoordinates(i,r,!0);return!0},_add:function(i,v){for(var r=this._segments,s=this._curves,h=i.length,y=v==null,v=y?r.length:v,x=0;x<h;x++){var b=i[x];b._path&&(b=i[x]=b.clone()),b._path=this,b._index=v+x,b._selection&&this._updateSelection(b,0,b._selection)}if(y)t.push(r,i);else{r.splice.apply(r,[v,0].concat(i));for(var x=v+h,T=r.length;x<T;x++)r[x]._index=x}if(s){var O=this._countCurves(),L=v>0&&v+h-1===O?v-1:v,D=L,N=Math.min(L+h,O);i._curves&&(s.splice.apply(s,[L,0].concat(i._curves)),D+=i._curves.length);for(var x=D;x<N;x++)s.splice(x,0,new de(this,null,null));this._adjustCurves(L,N)}return this._changed(41),i},_adjustCurves:function(i,e){for(var r=this._segments,s=this._curves,h,y=i;y<e;y++)h=s[y],h._path=this,h._segment1=r[y],h._segment2=r[y+1]||r[0],h._changed();(h=s[this._closed&&!i?r.length-1:i-1])&&(h._segment2=r[i]||r[0],h._changed()),(h=s[e])&&(h._segment1=r[e],h._changed())},_countCurves:function(){var i=this._segments.length;return!this._closed&&i>0?i-1:i},add:function(i){var e=arguments;return e.length>1&&typeof i!="number"?this._add(ye.readList(e)):this._add([ye.read(e)])[0]},insert:function(i,e){var r=arguments;return r.length>2&&typeof e!="number"?this._add(ye.readList(r,1),i):this._add([ye.read(r,1)],i)[0]},addSegment:function(){return this._add([ye.read(arguments)])[0]},insertSegment:function(i){return this._add([ye.read(arguments,1)],i)[0]},addSegments:function(i){return this._add(ye.readList(i))},insertSegments:function(i,e){return this._add(ye.readList(e),i)},removeSegment:function(i){return this.removeSegments(i,i+1)[0]||null},removeSegments:function(i,e,r){i=i||0,e=t.pick(e,this._segments.length);var s=this._segments,h=this._curves,y=s.length,v=s.splice(i,e-i),x=v.length;if(!x)return v;for(var b=0;b<x;b++){var T=v[b];T._selection&&this._updateSelection(T,T._selection,0),T._index=T._path=null}for(var b=i,O=s.length;b<O;b++)s[b]._index=b;if(h){for(var L=i>0&&e===y+(this._closed?1:0)?i-1:i,h=h.splice(L,x),b=h.length-1;b>=0;b--)h[b]._path=null;r&&(v._curves=h.slice(1)),this._adjustCurves(L,L)}return this._changed(41),v},clear:"#removeSegments",hasHandles:function(){for(var i=this._segments,e=0,r=i.length;e<r;e++)if(i[e].hasHandles())return!0;return!1},clearHandles:function(){for(var i=this._segments,e=0,r=i.length;e<r;e++)i[e].clearHandles()},getLength:function(){if(this._length==null){for(var i=this.getCurves(),e=0,r=0,s=i.length;r<s;r++)e+=i[r].getLength();this._length=e}return this._length},getArea:function(){var i=this._area;if(i==null){var e=this._segments,r=this._closed;i=0;for(var s=0,h=e.length;s<h;s++){var y=s+1===h;i+=de.getArea(de.getValues(e[s],e[y?0:s+1],null,y&&!r))}this._area=i}return i},isFullySelected:function(){var i=this._segments.length;return this.isSelected()&&i>0&&this._segmentSelection===i*7},setFullySelected:function(i){i&&this._selectSegments(!0),this.setSelected(i)},setSelection:function i(e){e&1||this._selectSegments(!1),i.base.call(this,e)},_selectSegments:function(i){var e=this._segments,r=e.length,s=i?7:0;this._segmentSelection=s*r;for(var h=0;h<r;h++)e[h]._selection=s},_updateSelection:function(i,e,r){i._selection=r;var s=this._segmentSelection+=r-e;s>0&&this.setSelected(!0)},divideAt:function(i){var e=this.getLocationAt(i),r;return e&&(r=e.getCurve().divideAt(e.getCurveOffset()))?r._segment1:null},splitAt:function(i){var e=this.getLocationAt(i),r=e&&e.index,s=e&&e.time,h=1e-8,y=1-h;s>y&&(r++,s=0);var v=this.getCurves();if(r>=0&&r<v.length){s>=h&&v[r++].divideAtTime(s);var x=this.removeSegments(r,this._segments.length,!0),b;return this._closed?(this.setClosed(!1),b=this):(b=new Be(B.NO_INSERT),b.insertAbove(this),b.copyAttributes(this)),b._add(x,0),this.addSegment(x[0]),b}return null},split:function(i,e){var r,s=e===C?i:(r=this.getCurves()[i])&&r.getLocationAtTime(e);return s!=null?this.splitAt(s):null},join:function(i,e){var r=e||0;if(i&&i!==this){var s=i._segments,h=this.getLastSegment(),y=i.getLastSegment();if(!y)return this;h&&h._point.isClose(y._point,r)&&i.reverse();var v=i.getFirstSegment();if(h&&h._point.isClose(v._point,r))h.setHandleOut(v._handleOut),this._add(s.slice(1));else{var x=this.getFirstSegment();x&&x._point.isClose(v._point,r)&&i.reverse(),y=i.getLastSegment(),x&&x._point.isClose(y._point,r)?(x.setHandleIn(y._handleIn),this._add(s.slice(0,s.length-1),0)):this._add(s.slice())}i._closed&&this._add([s[0]]),i.remove()}var b=this.getFirstSegment(),T=this.getLastSegment();return b!==T&&b._point.isClose(T._point,r)&&(b.setHandleIn(T._handleIn),T.remove(),this.setClosed(!0)),this},reduce:function(i){for(var e=this.getCurves(),r=i&&i.simplify,s=r?1e-7:0,h=e.length-1;h>=0;h--){var y=e[h];!y.hasHandles()&&(!y.hasLength(s)||r&&y.isCollinear(y.getNext()))&&y.remove()}return this},reverse:function(){this._segments.reverse();for(var i=0,e=this._segments.length;i<e;i++){var r=this._segments[i],s=r._handleIn;r._handleIn=r._handleOut,r._handleOut=s,r._index=i}this._curves=null,this._changed(9)},flatten:function(i){for(var e=new ut(this,i||.25,256,!0),r=e.parts,s=r.length,h=[],y=0;y<s;y++)h.push(new ye(r[y].curve.slice(0,2)));!this._closed&&s>0&&h.push(new ye(r[s-1].curve.slice(6))),this.setSegments(h)},simplify:function(i){var e=new Ke(this).fit(i||2.5);return e&&this.setSegments(e),!!e},smooth:function(i){var e=this,r=i||{},s=r.type||"asymmetric",h=this._segments,y=h.length,v=this._closed;function x(Tt,It){var Lt=Tt&&Tt.index;if(Lt!=null){var pt=Tt.path;if(pt&&pt!==e)throw new Error(Tt._class+" "+Lt+" of "+pt+" is not part of "+e);It&&Tt instanceof de&&Lt++}else Lt=typeof Tt=="number"?Tt:It;return Math.min(Lt<0&&v?Lt%y:Lt<0?Lt+y:Lt,y-1)}var b=v&&r.from===C&&r.to===C,T=x(r.from,0),O=x(r.to,y-1);if(T>O)if(v)T-=y;else{var L=T;T=O,O=L}if(/^(?:asymmetric|continuous)$/.test(s)){var D=s==="asymmetric",N=Math.min,R=O-T+1,X=R-1,Y=b?N(R,4):1,K=Y,H=Y,G=[];if(v||(K=N(1,T),H=N(1,y-O-1)),X+=K+H,X<=1)return;for(var z=0,Z=T-K;z<=X;z++,Z++)G[z]=h[(Z<0?Z+y:Z)%y]._point;for(var ee=G[0]._x+2*G[1]._x,le=G[0]._y+2*G[1]._y,ie=2,pe=X-1,ve=[ee],xe=[le],Ce=[ie],be=[],Ee=[],z=1;z<X;z++){var Ie=z<pe,Ue=Ie||D?1:2,We=Ie?4:D?2:7,rt=Ie?4:D?3:8,ke=Ie?2:D?0:1,Ye=Ue/ie;ie=Ce[z]=We-Ye,ee=ve[z]=rt*G[z]._x+ke*G[z+1]._x-Ye*ee,le=xe[z]=rt*G[z]._y+ke*G[z+1]._y-Ye*le}be[pe]=ve[pe]/Ce[pe],Ee[pe]=xe[pe]/Ce[pe];for(var z=X-2;z>=0;z--)be[z]=(ve[z]-be[z+1])/Ce[z],Ee[z]=(xe[z]-Ee[z+1])/Ce[z];be[X]=(3*G[X]._x-be[pe])/2,Ee[X]=(3*G[X]._y-Ee[pe])/2;for(var z=K,ft=X-H,Z=T;z<=ft;z++,Z++){var lt=h[Z<0?Z+y:Z],nt=lt._point,Ze=be[z]-nt._x,xt=Ee[z]-nt._y;(b||z<ft)&&lt.setHandleOut(Ze,xt),(b||z>K)&&lt.setHandleIn(-Ze,-xt)}}else for(var z=T;z<=O;z++)h[z<0?z+y:z].smooth(r,!b&&z===T,!b&&z===O)},toShape:function(i){if(!this._closed)return null;var e=this._segments,r,s,h,y;function v(D,N){var R=e[D],X=R.getNext(),Y=e[N],K=Y.getNext();return R._handleOut.isZero()&&X._handleIn.isZero()&&Y._handleOut.isZero()&&K._handleIn.isZero()&&X._point.subtract(R._point).isCollinear(K._point.subtract(Y._point))}function x(D){var N=e[D],R=N.getPrevious(),X=N.getNext();return R._handleOut.isZero()&&N._handleIn.isZero()&&N._handleOut.isZero()&&X._handleIn.isZero()&&N._point.subtract(R._point).isOrthogonal(X._point.subtract(N._point))}function b(D){var N=e[D],R=N.getNext(),X=N._handleOut,Y=R._handleIn,K=.5522847498307936;if(X.isOrthogonal(Y)){var H=N._point,G=R._point,z=new V(H,X,!0).intersect(new V(G,Y,!0),!0);return z&&a.isZero(X.getLength()/z.subtract(H).getLength()-K)&&a.isZero(Y.getLength()/z.subtract(G).getLength()-K)}return!1}function T(D,N){return e[D]._point.getDistance(e[N]._point)}if(!this.hasHandles()&&e.length===4&&v(0,2)&&v(1,3)&&x(1)?(r=oe.Rectangle,s=new _(T(0,3),T(0,1)),y=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&b(0)&&b(2)&&b(4)&&b(6)&&v(1,5)&&v(3,7)?(r=oe.Rectangle,s=new _(T(1,6),T(0,3)),h=s.subtract(new _(T(0,7),T(1,2))).divide(2),y=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&b(0)&&b(1)&&b(2)&&b(3)&&(a.isZero(T(0,2)-T(1,3))?(r=oe.Circle,h=T(0,2)/2):(r=oe.Ellipse,h=new _(T(2,0)/2,T(3,1)/2)),y=e[1]._point),r){var O=this.getPosition(!0),L=new r({center:O,size:s,radius:h,insert:!1});return L.copyAttributes(this,!0),L._matrix.prepend(this._matrix),L.rotate(y.subtract(O).getAngle()+90),(i===C||i)&&L.insertAbove(this),L}return null},toPath:"#clone",compare:function i(e){if(!e||e instanceof $e)return i.base.call(this,e);var r=this.getCurves(),s=e.getCurves(),h=r.length,y=s.length;if(!h||!y)return h==y;for(var v=r[0].getValues(),x=[],b=0,T,O=0,L,D=0;D<y;D++){var Y=s[D].getValues();x.push(Y);var N=de.getOverlaps(v,Y);if(N){T=!D&&N[0][0]>0?y-1:D,L=N[0][1];break}}for(var R=Math.abs,X=1e-8,Y=x[T],K;v&&Y;){var N=de.getOverlaps(v,Y);if(N){var H=N[0][0];if(R(H-O)<X){O=N[1][0],O===1&&(v=++b<h?r[b].getValues():null,O=0);var G=N[0][1];if(R(G-L)<X){if(K||(K=[T,G]),L=N[1][1],L===1&&(++T>=y&&(T=0),Y=x[T]||s[T].getValues(),L=0),!v)return K[0]===T&&K[1]===L;continue}}}break}return!1},_hitTestSelf:function(i,e,r,s){var h=this,y=this.getStyle(),v=this._segments,x=v.length,b=this._closed,T=e._tolerancePadding,O=T,L,D,N,R,X,Y,K=e.stroke&&y.hasStroke(),H=e.fill&&y.hasFill(),G=e.curves,z=K?y.getStrokeWidth()/2:H&&e.tolerance>0||G?0:null;z!==null&&(z>0?(L=y.getStrokeJoin(),D=y.getStrokeCap(),N=y.getMiterLimit(),O=O.add(Be._getStrokePadding(z,s))):L=D="round");function Z(be,Ee){return i.subtract(be).divide(Ee).length<=1}function ee(be,Ee,Ie){if(!e.selected||Ee.isSelected()){var Ue=be._point;if(Ee!==Ue&&(Ee=Ee.add(Ue)),Z(Ee,O))return new he(Ie,h,{segment:be,point:Ee})}}function le(be,Ee){return(Ee||e.segments)&&ee(be,be._point,"segment")||!Ee&&e.handles&&(ee(be,be._handleIn,"handle-in")||ee(be,be._handleOut,"handle-out"))}function ie(be){R.add(be)}function pe(be){var Ee=b||be._index>0&&be._index<x-1;if((Ee?L:D)==="round")return Z(be._point,O);if(R=new Be({internal:!0,closed:!0}),Ee?be.isSmooth()||Be._addBevelJoin(be,L,z,N,null,s,ie,!0):D==="square"&&Be._addSquareCap(be,D,z,null,s,ie,!0),!R.isEmpty()){var Ie;return R.contains(i)||(Ie=R.getNearestLocation(i))&&Z(Ie.getPoint(),T)}}if(e.ends&&!e.segments&&!b){if(Y=le(v[0],!0)||le(v[x-1],!0))return Y}else if(e.segments||e.handles){for(var ve=0;ve<x;ve++)if(Y=le(v[ve]))return Y}if(z!==null){if(X=this.getNearestLocation(i),X){var xe=X.getTime();xe===0||xe===1&&x>1?pe(X.getSegment())||(X=null):Z(X.getPoint(),O)||(X=null)}if(!X&&L==="miter"&&x>1)for(var ve=0;ve<x;ve++){var Ce=v[ve];if(i.getDistance(Ce._point)<=N*z&&pe(Ce)){X=Ce.getLocation();break}}}return!X&&H&&this._contains(i)||X&&!K&&!G?new he("fill",this):X?new he(K?"stroke":"curve",this,{location:X,point:X.getPoint()}):null}},t.each(de._evaluateMethods,function(i){this[i+"At"]=function(e){var r=this.getLocationAt(e);return r&&r[i]()}},{beans:!1,getLocationOf:function(){for(var i=o.read(arguments),e=this.getCurves(),r=0,s=e.length;r<s;r++){var h=e[r].getLocationOf(i);if(h)return h}return null},getOffsetOf:function(){var i=this.getLocationOf.apply(this,arguments);return i?i.getOffset():null},getLocationAt:function(i){if(typeof i=="number"){for(var e=this.getCurves(),r=0,s=0,h=e.length;s<h;s++){var y=r,v=e[s];if(r+=v.getLength(),r>i)return v.getLocationAt(i-y)}if(e.length>0&&i<=this.getLength())return new Ne(e[e.length-1],1)}else if(i&&i.getPath&&i.getPath()===this)return i;return null},getOffsetsWithTangent:function(){var i=o.read(arguments);if(i.isZero())return[];for(var e=[],r=0,s=this.getCurves(),h=0,y=s.length;h<y;h++){for(var v=s[h],x=v.getTimesWithTangent(i),b=0,T=x.length;b<T;b++){var O=r+v.getOffsetAtTime(x[b]);e.indexOf(O)<0&&e.push(O)}r+=v.length}return e}}),new function(){function i(r,s,h,y){if(y<=0)return;var v=y/2,x=y-2,b=v-1,T=new Array(6),O,L;function D(H){var G=T[H],z=T[H+1];(O!=G||L!=z)&&(r.beginPath(),r.moveTo(O,L),r.lineTo(G,z),r.stroke(),r.beginPath(),r.arc(G,z,v,0,Math.PI*2,!0),r.fill())}for(var N=0,R=s.length;N<R;N++){var X=s[N],Y=X._selection;if(X._transformCoordinates(h,T),O=T[0],L=T[1],Y&2&&D(2),Y&4&&D(4),r.fillRect(O-v,L-v,y,y),x>0&&!(Y&1)){var K=r.fillStyle;r.fillStyle="#ffffff",r.fillRect(O-b,L-b,x,x),r.fillStyle=K}}}function e(r,s,h){var y=s._segments,v=y.length,x=new Array(6),b=!0,T,O,L,D,N,R,X,Y;function K(G){if(h)G._transformCoordinates(h,x),T=x[0],O=x[1];else{var z=G._point;T=z._x,O=z._y}if(b)r.moveTo(T,O),b=!1;else{if(h)N=x[2],R=x[3];else{var Z=G._handleIn;N=T+Z._x,R=O+Z._y}N===T&&R===O&&X===L&&Y===D?r.lineTo(T,O):r.bezierCurveTo(X,Y,N,R,T,O)}if(L=T,D=O,h)X=x[4],Y=x[5];else{var Z=G._handleOut;X=L+Z._x,Y=D+Z._y}}for(var H=0;H<v;H++)K(y[H]);s._closed&&v>0&&K(y[0])}return{_draw:function(r,s,h,y){var v=s.dontStart,x=s.dontFinish||s.clip,b=this.getStyle(),T=b.hasFill(),O=b.hasStroke(),L=b.getDashArray(),D=!Et.support.nativeDash&&O&&L&&L.length;v||r.beginPath(),(T||O&&!D||x)&&(e(r,this,y),this._closed&&r.closePath());function N(G){return L[(G%D+D)%D]}if(!x&&(T||O)&&(this._setStyles(r,s,h),T&&(r.fill(b.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),O)){if(D){v||r.beginPath();for(var R=new ut(this,.25,32,!1,y),X=R.length,Y=-b.getDashOffset(),K,H=0;Y>0;)Y-=N(H--)+N(H--);for(;Y<X;)K=Y+N(H++),(Y>0||K>0)&&R.drawPart(r,Math.max(Y,0),Math.max(K,0)),Y=K+N(H++)}r.stroke()}},_drawSelected:function(r,s){r.beginPath(),e(r,this,s),r.stroke(),i(r,this._segments,s,Et.settings.handleSize)}}},new function(){function i(e){var r=e._segments;if(!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new ye(o.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new ye(o.read(arguments))])},cubicCurveTo:function(){var e=arguments,r=o.read(e),s=o.read(e),h=o.read(e),y=i(this);y.setHandleOut(r.subtract(y._point)),this._add([new ye(h,s.subtract(h))])},quadraticCurveTo:function(){var e=arguments,r=o.read(e),s=o.read(e),h=i(this)._point;this.cubicCurveTo(r.add(h.subtract(r).multiply(1/3)),r.add(s.subtract(r).multiply(1/3)),s)},curveTo:function(){var e=arguments,r=o.read(e),s=o.read(e),h=t.pick(t.read(e),.5),y=1-h,v=i(this)._point,x=r.subtract(v.multiply(y*y)).subtract(s.multiply(h*h)).divide(2*h*y);if(x.isNaN())throw new Error("Cannot put a curve through points with parameter = "+h);this.quadraticCurveTo(x,s)},arcTo:function(){var e=arguments,r=Math.abs,s=Math.sqrt,h=i(this),y=h._point,v=o.read(e),x,b=t.peek(e),T=t.pick(b,!0),O,L,D,N;if(typeof T=="boolean")var R=y.add(v).divide(2),x=R.add(R.subtract(y).rotate(T?-90:90));else if(t.remain(e)<=2)x=v,v=o.read(e);else if(!y.equals(v)){var X=_.read(e),Y=a.isZero;if(Y(X.width)||Y(X.height))return this.lineTo(v);var K=t.read(e),T=!!t.read(e),H=!!t.read(e),R=y.add(v).divide(2),G=y.subtract(R).rotate(-K),z=G.x,Z=G.y,ee=r(X.width),le=r(X.height),ie=ee*ee,pe=le*le,ve=z*z,xe=Z*Z,Ce=s(ve/ie+xe/pe);if(Ce>1&&(ee*=Ce,le*=Ce,ie=ee*ee,pe=le*le),Ce=(ie*pe-ie*xe-pe*ve)/(ie*xe+pe*ve),r(Ce)<1e-12&&(Ce=0),Ce<0)throw new Error("Cannot create an arc with the given arguments");O=new o(ee*Z/le,-le*z/ee).multiply((H===T?-1:1)*s(Ce)).rotate(K).add(R),N=new U().translate(O).rotate(K).scale(ee,le),D=N._inverseTransform(y),L=D.getDirectedAngle(N._inverseTransform(v)),!T&&L>0?L-=360:T&&L<0&&(L+=360)}if(x){var be=new V(y.add(x).divide(2),x.subtract(y).rotate(90),!0),Ee=new V(x.add(v).divide(2),v.subtract(x).rotate(90),!0),Ie=new V(y,v),Ue=Ie.getSide(x);if(O=be.intersect(Ee,!0),!O){if(!Ue)return this.lineTo(v);throw new Error("Cannot create an arc with the given arguments")}D=y.subtract(O),L=D.getDirectedAngle(v.subtract(O));var We=Ie.getSide(O,!0);We===0?L=Ue*r(L):Ue===We&&(L+=L<0?360:-360)}if(L){for(var rt=1e-7,ke=r(L),Ye=ke>=360?4:Math.ceil((ke-rt)/90),ft=L/Ye,lt=ft*Math.PI/360,nt=4/3*Math.sin(lt)/(1+Math.cos(lt)),Ze=[],xt=0;xt<=Ye;xt++){var G=v,Tt=null;if(xt<Ye&&(Tt=D.rotate(90).multiply(nt),N?(G=N._transformPoint(D),Tt=N._transformPoint(D.add(Tt)).subtract(G)):G=O.add(D)),!xt)h.setHandleOut(Tt);else{var It=D.rotate(-90).multiply(nt);N&&(It=N._transformPoint(D.add(It)).subtract(G)),Ze.push(new ye(G,It,Tt))}D=D.rotate(ft)}this._add(Ze)}},lineBy:function(){var e=o.read(arguments),r=i(this)._point;this.lineTo(r.add(e))},curveBy:function(){var e=arguments,r=o.read(e),s=o.read(e),h=t.read(e),y=i(this)._point;this.curveTo(y.add(r),y.add(s),h)},cubicCurveBy:function(){var e=arguments,r=o.read(e),s=o.read(e),h=o.read(e),y=i(this)._point;this.cubicCurveTo(y.add(r),y.add(s),y.add(h))},quadraticCurveBy:function(){var e=arguments,r=o.read(e),s=o.read(e),h=i(this)._point;this.quadraticCurveTo(h.add(r),h.add(s))},arcBy:function(){var e=arguments,r=i(this)._point,s=r.add(o.read(e)),h=t.pick(t.peek(e),!0);typeof h=="boolean"?this.arcTo(s,h):this.arcTo(s,r.add(o.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(i,e){var r=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return Be[r](this._segments,this._closed,this,i,e)},statics:{getBounds:function(i,e,r,s,h,y){var v=i[0];if(!v)return new E;var x=new Array(6),b=v._transformCoordinates(s,new Array(6)),T=b.slice(0,2),O=T.slice(),L=new Array(2);function D(X){X._transformCoordinates(s,x);for(var Y=0;Y<2;Y++)de._addBounds(b[Y],b[Y+4],x[Y+2],x[Y],Y,y?y[Y]:0,T,O,L);var K=b;b=x,x=K}for(var N=1,R=i.length;N<R;N++)D(i[N]);return e&&D(v),new E(T[0],T[1],O[0]-T[0],O[1]-T[1])},getStrokeBounds:function(i,e,r,s,h){var y=r.getStyle(),v=y.hasStroke(),x=y.getStrokeWidth(),b=v&&r._getStrokeMatrix(s,h),T=v&&Be._getStrokePadding(x,b),O=Be.getBounds(i,e,r,s,h,T);if(!v)return O;var L=x/2,D=y.getStrokeJoin(),N=y.getStrokeCap(),R=y.getMiterLimit(),X=new E(new _(T));function Y(ee){O=O.include(ee)}function K(ee){O=O.unite(X.setCenter(ee._point.transform(s)))}function H(ee,le){le==="round"||ee.isSmooth()?K(ee):Be._addBevelJoin(ee,le,L,R,s,b,Y)}function G(ee,le){le==="round"?K(ee):Be._addSquareCap(ee,le,L,s,b,Y)}var z=i.length-(e?0:1);if(z>0){for(var Z=1;Z<z;Z++)H(i[Z],D);e?H(i[0],D):(G(i[0],N),G(i[i.length-1],N))}return O},_getStrokePadding:function(i,e){if(!e)return[i,i];var r=new o(i,0).transform(e),s=new o(0,i).transform(e),h=r.getAngleInRadians(),y=r.getLength(),v=s.getLength(),x=Math.sin(h),b=Math.cos(h),T=Math.tan(h),O=Math.atan2(v*T,y),L=Math.atan2(v,T*y);return[Math.abs(y*Math.cos(O)*b+v*Math.sin(O)*x),Math.abs(v*Math.sin(L)*b+y*Math.cos(L)*x)]},_addBevelJoin:function(i,e,r,s,h,y,v,x){var b=i.getCurve(),T=b.getPrevious(),O=b.getPoint1().transform(h),L=T.getNormalAtTime(1).multiply(r).transform(y),D=b.getNormalAtTime(0).multiply(r).transform(y),N=L.getDirectedAngle(D);if((N<0||N>=180)&&(L=L.negate(),D=D.negate()),x&&v(O),v(O.add(L)),e==="miter"){var R=new V(O.add(L),new o(-L.y,L.x),!0).intersect(new V(O.add(D),new o(-D.y,D.x),!0),!0);R&&O.getDistance(R)<=s*r&&v(R)}v(O.add(D))},_addSquareCap:function(i,e,r,s,h,y,v){var x=i._point.transform(s),b=i.getLocation(),T=b.getNormal().multiply(b.getTime()===0?r:-r).transform(h);e==="square"&&(v&&(y(x.subtract(T)),y(x.add(T))),x=x.add(T.rotate(-90))),y(x.add(T)),y(x.subtract(T))},getHandleBounds:function(i,e,r,s,h){var y=r.getStyle(),v=h.stroke&&y.hasStroke(),x,b;if(v){var T=r._getStrokeMatrix(s,h),O=y.getStrokeWidth()/2,L=O;y.getStrokeJoin()==="miter"&&(L=O*y.getMiterLimit()),y.getStrokeCap()==="square"&&(L=Math.max(L,O*Math.SQRT2)),x=Be._getStrokePadding(O,T),b=Be._getStrokePadding(L,T)}for(var D=new Array(6),N=1/0,R=-N,X=N,Y=R,K=0,H=i.length;K<H;K++){var G=i[K];G._transformCoordinates(s,D);for(var z=0;z<6;z+=2){var Z=z?x:b,ee=Z?Z[0]:0,le=Z?Z[1]:0,ie=D[z],pe=D[z+1],ve=ie-ee,xe=ie+ee,Ce=pe-le,be=pe+le;ve<N&&(N=ve),xe>R&&(R=xe),Ce<X&&(X=Ce),be>Y&&(Y=be)}}return new E(N,X,R-N,Y-X)}}});Be.inject({statics:new function(){var i=.5522847498307936,e=[new ye([-1,0],[0,i],[0,-i]),new ye([0,-1],[-i,0],[i,0]),new ye([1,0],[0,-i],[0,i]),new ye([0,1],[i,0],[-i,0])];function r(h,y,v){var x=t.getNamed(v),b=new Be(x&&x.insert==!1&&B.NO_INSERT);return b._add(h),b._closed=y,b.set(x,{insert:!0})}function s(h,y,v){for(var x=new Array(4),b=0;b<4;b++){var T=e[b];x[b]=new ye(T._point.multiply(y).add(h),T._handleIn.multiply(y),T._handleOut.multiply(y))}return r(x,!0,v)}return{Line:function(){var h=arguments;return r([new ye(o.readNamed(h,"from")),new ye(o.readNamed(h,"to"))],!1,h)},Circle:function(){var h=arguments,y=o.readNamed(h,"center"),v=t.readNamed(h,"radius");return s(y,new _(v),h)},Rectangle:function(){var h=arguments,y=E.readNamed(h,"rectangle"),v=_.readNamed(h,"radius",0,{readNull:!0}),x=y.getBottomLeft(!0),b=y.getTopLeft(!0),T=y.getTopRight(!0),O=y.getBottomRight(!0),L;if(!v||v.isZero())L=[new ye(x),new ye(b),new ye(T),new ye(O)];else{v=_.min(v,y.getSize(!0).divide(2));var D=v.width,N=v.height,R=D*i,X=N*i;L=[new ye(x.add(D,0),null,[-R,0]),new ye(x.subtract(0,N),[0,X]),new ye(b.add(0,N),null,[0,-X]),new ye(b.add(D,0),[-R,0],null),new ye(T.subtract(D,0),null,[R,0]),new ye(T.add(0,N),[0,-X],null),new ye(O.subtract(0,N),null,[0,X]),new ye(O.subtract(D,0),[R,0])]}return r(L,!0,h)},RoundRectangle:"#Rectangle",Ellipse:function(){var h=arguments,y=oe._readEllipse(h);return s(y.center,y.radius,h)},Oval:"#Ellipse",Arc:function(){var h=arguments,y=o.readNamed(h,"from"),v=o.readNamed(h,"through"),x=o.readNamed(h,"to"),b=t.getNamed(h),T=new Be(b&&b.insert==!1&&B.NO_INSERT);return T.moveTo(y),T.arcTo(v,x),T.set(b)},RegularPolygon:function(){for(var h=arguments,y=o.readNamed(h,"center"),v=t.readNamed(h,"sides"),x=t.readNamed(h,"radius"),b=360/v,T=v%3===0,O=new o(0,T?-x:x),L=T?-1:.5,D=new Array(v),N=0;N<v;N++)D[N]=new ye(y.add(O.rotate((N+L)*b)));return r(D,!0,h)},Star:function(){for(var h=arguments,y=o.readNamed(h,"center"),v=t.readNamed(h,"points")*2,x=t.readNamed(h,"radius1"),b=t.readNamed(h,"radius2"),T=360/v,O=new o(0,-1),L=new Array(v),D=0;D<v;D++)L[D]=new ye(y.add(O.rotate(T*D).multiply(D%2?b:x)));return r(L,!0,h)}}}});var $e=Le.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function i(e,r){var s=r,h=s[0];h&&typeof h[0]=="number"&&(s=[s]);for(var y=r.length-1;y>=0;y--){var v=s[y];s===r&&!(v instanceof Be)&&(s=t.slice(s)),Array.isArray(v)?s[y]=new Be({segments:v,insert:!1}):v instanceof $e&&(s.splice.apply(s,[y,1].concat(v.removeChildren())),v.remove())}return i.base.call(this,e,s)},reduce:function i(e){for(var r=this._children,s=r.length-1;s>=0;s--){var h=r[s].reduce(e);h.isEmpty()&&h.remove()}if(!r.length){var h=new Be(B.NO_INSERT);return h.copyAttributes(this),h.insertAbove(this),this.remove(),h}return i.base.call(this)},isClosed:function(){for(var i=this._children,e=0,r=i.length;e<r;e++)if(!i[e]._closed)return!1;return!0},setClosed:function(i){for(var e=this._children,r=0,s=e.length;r<s;r++)e[r].setClosed(i)},getFirstSegment:function(){var i=this.getFirstChild();return i&&i.getFirstSegment()},getLastSegment:function(){var i=this.getLastChild();return i&&i.getLastSegment()},getCurves:function(){for(var i=this._children,e=[],r=0,s=i.length;r<s;r++)t.push(e,i[r].getCurves());return e},getFirstCurve:function(){var i=this.getFirstChild();return i&&i.getFirstCurve()},getLastCurve:function(){var i=this.getLastChild();return i&&i.getLastCurve()},getArea:function(){for(var i=this._children,e=0,r=0,s=i.length;r<s;r++)e+=i[r].getArea();return e},getLength:function(){for(var i=this._children,e=0,r=0,s=i.length;r<s;r++)e+=i[r].getLength();return e},getPathData:function(i,e){for(var r=this._children,s=[],h=0,y=r.length;h<y;h++){var v=r[h],x=v._matrix;s.push(v.getPathData(i&&!x.isIdentity()?i.appended(x):i,e))}return s.join("")},_hitTestChildren:function i(e,r,s){return i.base.call(this,e,r.class===Be||r.type==="path"?r:t.set({},r,{fill:!1}),s)},_draw:function(i,e,r,s){var h=this._children;if(!!h.length){e=e.extend({dontStart:!0,dontFinish:!0}),i.beginPath();for(var y=0,v=h.length;y<v;y++)h[y].draw(i,e,s);if(!e.clip){this._setStyles(i,e,r);var x=this._style;x.hasFill()&&(i.fill(x.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),x.hasStroke()&&i.stroke()}}},_drawSelected:function(i,e,r){for(var s=this._children,h=0,y=s.length;h<y;h++){var v=s[h],x=v._matrix;r[v._id]||v._drawSelected(i,x.isIdentity()?e:e.appended(x))}}},new function(){function i(e,r){var s=e._children;if(r&&!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return t.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var r=i(this,!0);r[e].apply(r,arguments)}},{moveTo:function(){var e=i(this),r=e&&e.isEmpty()?e:new Be(B.NO_INSERT);r!==e&&this.addChild(r),r.moveTo.apply(r,arguments)},moveBy:function(){var e=i(this,!0),r=e&&e.getLastSegment(),s=o.read(arguments);this.moveTo(r?s.add(r._point):s)},closePath:function(e){i(this,!0).closePath(e)}})},t.each(["reverse","flatten","simplify","smooth"],function(i){this[i]=function(e){for(var r=this._children,s,h=0,y=r.length;h<y;h++)s=r[h][i](e)||s;return s}},{}));Le.inject(new function(){var i=Math.min,e=Math.max,r=Math.abs,s={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function h(K){return K._children||[K]}function y(K,H){var G=K.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(H){for(var z=h(G),Z=0,ee=z.length;Z<ee;Z++){var K=z[Z];!K._closed&&!K.isEmpty()&&(K.closePath(1e-12),K.getFirstSegment().setHandleIn(0,0),K.getLastSegment().setHandleOut(0,0))}G=G.resolveCrossings().reorient(G.getFillRule()==="nonzero",!0)}return G}function v(K,H,G,z,Z){var ee=new $e(B.NO_INSERT);return ee.addChildren(K,!0),ee=ee.reduce({simplify:H}),Z&&Z.insert==!1||ee.insertAbove(z&&G.isSibling(z)&&G.getIndex()<z.getIndex()?z:G),ee.copyAttributes(G,!0),ee}function x(K){return K.hasOverlap()||K.isCrossing()}function b(K,H,G,z){if(z&&(z.trace==!1||z.stroke)&&/^(subtract|intersect)$/.test(G))return T(K,H,G);var Z=y(K,!0),ee=H&&K!==H&&y(H,!0),le=s[G];le[G]=!0,ee&&(le.subtract||le.exclude)^(ee.isClockwise()^Z.isClockwise())&&ee.reverse();var ie=N(Ne.expand(Z.getIntersections(ee,x))),pe=h(Z),ve=ee&&h(ee),xe=[],Ce=[],be;function Ee(Tt){for(var It=0,Lt=Tt.length;It<Lt;It++){var pt=Tt[It];t.push(xe,pt._segments),t.push(Ce,pt.getCurves()),pt._overlapsOnly=!0}}function Ie(Tt){for(var It=[],Lt=0,pt=Tt&&Tt.length;Lt<pt;Lt++)It.push(Ce[Tt[Lt]]);return It}if(ie.length){Ee(pe),ve&&Ee(ve);for(var Ue=new Array(Ce.length),We=0,rt=Ce.length;We<rt;We++)Ue[We]=Ce[We].getValues();for(var ke=p.findCurveBoundsCollisions(Ue,Ue,0,!0),Ye={},We=0;We<Ce.length;We++){var ft=Ce[We],lt=ft._path._id,nt=Ye[lt]=Ye[lt]||{};nt[ft.getIndex()]={hor:Ie(ke[We].hor),ver:Ie(ke[We].ver)}}for(var We=0,rt=ie.length;We<rt;We++)X(ie[We]._segment,Z,ee,Ye,le);for(var We=0,rt=xe.length;We<rt;We++){var Ze=xe[We],xt=Ze._intersection;Ze._winding||X(Ze,Z,ee,Ye,le),xt&&xt._overlap||(Ze._path._overlapsOnly=!1)}be=Y(xe,le)}else be=D(ve?pe.concat(ve):pe.slice(),function(Tt){return!!le[Tt]});return v(be,!0,K,H,z)}function T(K,H,G){var z=y(K),Z=y(H),ee=z.getIntersections(Z,x),le=G==="subtract",ie=G==="divide",pe={},ve=[];function xe(Ee){if(!pe[Ee._id]&&(ie||Z.contains(Ee.getPointAt(Ee.getLength()/2))^le))return ve.unshift(Ee),pe[Ee._id]=!0}for(var Ce=ee.length-1;Ce>=0;Ce--){var be=ee[Ce].split();be&&(xe(be)&&be.getFirstSegment().setHandleIn(0,0),z.getLastSegment().setHandleOut(0,0))}return xe(z),v(ve,!1,K,H)}function O(K,H){for(var G=K;G;){if(G===H)return;G=G._previous}for(;K._next&&K._next!==H;)K=K._next;if(!K._next){for(;H._previous;)H=H._previous;K._next=H,H._previous=K}}function L(K){for(var H=K.length-1;H>=0;H--)K[H].clearHandles()}function D(K,H,G){var z=K&&K.length;if(z){var Z=t.each(K,function(ke,Ye){this[ke._id]={container:null,winding:ke.isClockwise()?1:-1,index:Ye}},{}),ee=K.slice().sort(function(ke,Ye){return r(Ye.getArea())-r(ke.getArea())}),le=ee[0],ie=p.findItemBoundsCollisions(ee,null,a.GEOMETRIC_EPSILON);G==null&&(G=le.isClockwise());for(var pe=0;pe<z;pe++){var ve=ee[pe],xe=Z[ve._id],Ce=0,be=ie[pe];if(be){for(var Ee=null,Ie=be.length-1;Ie>=0;Ie--)if(be[Ie]<pe){Ee=Ee||ve.getInteriorPoint();var Ue=ee[be[Ie]];if(Ue.contains(Ee)){var We=Z[Ue._id];Ce=We.winding,xe.winding+=Ce,xe.container=We.exclude?We.container:Ue;break}}}if(H(xe.winding)===H(Ce))xe.exclude=!0,K[xe.index]=null;else{var rt=xe.container;ve.setClockwise(rt?!rt.isClockwise():G)}}}return K}function N(K,H,G){var z=H&&[],Z=1e-8,ee=1-Z,le=!1,ie=G||[],pe=G&&{},ve,xe,Ce;function be(It){return It._path._id+"."+It._segment1._index}for(var Ee=(G&&G.length)-1;Ee>=0;Ee--){var Ie=G[Ee];Ie._path&&(pe[be(Ie)]=!0)}for(var Ee=K.length-1;Ee>=0;Ee--){var Ue=K[Ee],We=Ue._time,rt=We,ke=H&&!H(Ue),Ie=Ue._curve,Ye;if(Ie&&(Ie!==xe?(le=!Ie.hasHandles()||pe&&pe[be(Ie)],ve=[],Ce=null,xe=Ie):Ce>=Z&&(We/=Ce)),ke){ve&&ve.push(Ue);continue}else H&&z.unshift(Ue);if(Ce=rt,We<Z)Ye=Ie._segment1;else if(We>ee)Ye=Ie._segment2;else{var ft=Ie.divideAtTime(We,!0);le&&ie.push(Ie,ft),Ye=ft._segment1;for(var lt=ve.length-1;lt>=0;lt--){var nt=ve[lt];nt._time=(nt._time-We)/(1-We)}}Ue._setSegment(Ye);var Ze=Ye._intersection,xt=Ue._intersection;if(Ze){O(Ze,xt);for(var Tt=Ze;Tt;)O(Tt._intersection,Ze),Tt=Tt._next}else Ye._intersection=xt}return G||L(ie),z||K}function R(K,H,G,z,Z){var ee=Array.isArray(H)?H:H[G?"hor":"ver"],le=G?1:0,ie=le^1,pe=[K.x,K.y],ve=pe[le],xe=pe[ie],Ce=1e-9,be=1e-6,Ee=ve-Ce,Ie=ve+Ce,Ue=0,We=0,rt=0,ke=0,Ye=!1,ft=!1,lt=1,nt=[],Ze,xt;function Tt(Qt){var Kt=Qt[ie+0],ar=Qt[ie+6];if(!(xe<i(Kt,ar)||xe>e(Kt,ar))){var or=Qt[le+0],vr=Qt[le+2],Ir=Qt[le+4],Lr=Qt[le+6];if(Kt===ar){(or<Ie&&Lr>Ee||Lr<Ie&&or>Ee)&&(Ye=!0);return}var Ar=xe===Kt?0:xe===ar||Ee>e(or,vr,Ir,Lr)||Ie<i(or,vr,Ir,Lr)?1:de.solveCubic(Qt,ie,xe,nt,0,1)>0?nt[0]:1,qt=Ar===0?or:Ar===1?Lr:de.getPoint(Qt,Ar)[G?"y":"x"],yr=Kt>ar?1:-1,kr=Ze[ie]>Ze[ie+6]?1:-1,Dr=Ze[le+6];return xe!==Kt?(qt<Ee?rt+=yr:qt>Ie?ke+=yr:Ye=!0,qt>ve-be&&qt<ve+be&&(lt/=2)):(yr!==kr?or<Ee?rt+=yr:or>Ie&&(ke+=yr):or!=Dr&&(Dr<Ie&&qt>Ie?(ke+=yr,Ye=!0):Dr>Ee&&qt<Ee&&(rt+=yr,Ye=!0)),lt/=4),Ze=Qt,!Z&&qt>Ee&&qt<Ie&&de.getTangent(Qt,Ar)[G?"x":"y"]===0&&R(K,H,!G,z,!0)}}function It(Qt){var Kt=Qt[ie+0],ar=Qt[ie+2],or=Qt[ie+4],vr=Qt[ie+6];if(xe<=e(Kt,ar,or,vr)&&xe>=i(Kt,ar,or,vr)){for(var Ir=Qt[le+0],Lr=Qt[le+2],Ar=Qt[le+4],qt=Qt[le+6],yr=Ee>e(Ir,Lr,Ar,qt)||Ie<i(Ir,Lr,Ar,qt)?[Qt]:de.getMonoCurves(Qt,G),kr,Dr=0,Gr=yr.length;Dr<Gr;Dr++)if(kr=Tt(yr[Dr]))return kr}}for(var Lt=0,pt=ee.length;Lt<pt;Lt++){var Dt=ee[Lt],jt=Dt._path,Gt=Dt.getValues(),nr;if((!Lt||ee[Lt-1]._path!==jt)&&(Ze=null,jt._closed||(xt=de.getValues(jt.getLastCurve().getSegment2(),Dt.getSegment1(),null,!z),xt[ie]!==xt[ie+6]&&(Ze=xt)),!Ze)){Ze=Gt;for(var sr=jt.getLastCurve();sr&&sr!==Dt;){var ir=sr.getValues();if(ir[ie]!==ir[ie+6]){Ze=ir;break}sr=sr.getPrevious()}}if(nr=It(Gt))return nr;if(Lt+1===pt||ee[Lt+1]._path!==jt){if(xt&&(nr=It(xt)))return nr;Ye&&!rt&&!ke&&(rt=ke=jt.isClockwise(z)^G?1:-1),Ue+=rt,We+=ke,rt=ke=0,Ye&&(ft=!0,Ye=!1),xt=null}}return Ue=r(Ue),We=r(We),{winding:e(Ue,We),windingL:Ue,windingR:We,quality:lt,onPath:ft}}function X(K,H,G,z,Z){var ee=[],le=K,ie=0,Ce;do{var pe=K.getCurve();if(pe){var ve=pe.getLength();ee.push({segment:K,curve:pe,length:ve}),ie+=ve}K=K.getNext()}while(K&&!K._intersection&&K!==le);for(var xe=[.5,.25,.75],Ce={winding:0,quality:-1},be=.001,Ee=1-be,Ie=0;Ie<xe.length&&Ce.quality<.5;Ie++)for(var ve=ie*xe[Ie],Ue=0,We=ee.length;Ue<We;Ue++){var rt=ee[Ue],ke=rt.length;if(ve<=ke){var pe=rt.curve,Ye=pe._path,ft=Ye._parent,lt=ft instanceof $e?ft:Ye,nt=a.clamp(pe.getTimeAt(ve),be,Ee),Ze=pe.getPointAtTime(nt),xt=r(pe.getTangentAtTime(nt).y)<Math.SQRT1_2,Tt=null;if(Z.subtract&&G){var It=lt===H?G:H,Lt=It._getWinding(Ze,xt,!0);if(lt===H&&Lt.winding||lt===G&&!Lt.winding){if(Lt.quality<1)continue;Tt={winding:0,quality:1}}}Tt=Tt||R(Ze,z[Ye._id][pe.getIndex()],xt,!0),Tt.quality>Ce.quality&&(Ce=Tt);break}ve-=ke}for(var Ue=ee.length-1;Ue>=0;Ue--)ee[Ue].segment._winding=Ce}function Y(K,H){var G=[],z;function Z(pt){var Dt;return!!(pt&&!pt._visited&&(!H||H[(Dt=pt._winding||{}).winding]&&!(H.unite&&Dt.winding===2&&Dt.windingL&&Dt.windingR)))}function ee(pt){if(pt){for(var Dt=0,jt=z.length;Dt<jt;Dt++)if(pt===z[Dt])return!0}return!1}function le(pt){for(var Dt=pt._segments,jt=0,Gt=Dt.length;jt<Gt;jt++)Dt[jt]._visited=!0}function ie(pt,Dt){var jt=pt._intersection,Gt=jt,nr=[];Dt&&(z=[pt]);function sr(ir,Qt){for(;ir&&ir!==Qt;){var Kt=ir._segment,ar=Kt&&Kt._path;if(ar){var or=Kt.getNext()||ar.getFirstSegment(),vr=or._intersection;Kt!==pt&&(ee(Kt)||ee(or)||or&&Z(Kt)&&(Z(or)||vr&&Z(vr._segment)))&&nr.push(Kt),Dt&&z.push(Kt)}ir=ir._next}}if(jt){for(sr(jt);jt&&jt._previous;)jt=jt._previous;sr(jt,Gt)}return nr}K.sort(function(pt,Dt){var jt=pt._intersection,Gt=Dt._intersection,nr=!!(jt&&jt._overlap),sr=!!(Gt&&Gt._overlap),ir=pt._path,Qt=Dt._path;return nr^sr?nr?1:-1:!jt^!Gt?jt?1:-1:ir!==Qt?ir._id-Qt._id:pt._index-Dt._index});for(var pe=0,ve=K.length;pe<ve;pe++){var xe=K[pe],Ce=Z(xe),be=null,Ee=!1,Ie=!0,Ue=[],We,rt,ke;if(Ce&&xe._path._overlapsOnly){var Ye=xe._path,ft=xe._intersection._segment._path;Ye.compare(ft)&&(Ye.getArea()&&G.push(Ye.clone(!1)),le(Ye),le(ft),Ce=!1)}for(;Ce;){var lt=!be,nt=ie(xe,lt),Ze=nt.shift(),Ee=!lt&&(ee(xe)||ee(Ze)),xt=!Ee&&Ze;if(lt&&(be=new Be(B.NO_INSERT),We=null),Ee){(xe.isFirst()||xe.isLast())&&(Ie=xe._path._closed),xe._visited=!0;break}if(xt&&We&&(Ue.push(We),We=null),We||(xt&&nt.push(xe),We={start:be._segments.length,crossings:nt,visited:rt=[],handleIn:ke}),xt&&(xe=Ze),!Z(xe)){be.removeSegments(We.start);for(var Tt=0,It=rt.length;Tt<It;Tt++)rt[Tt]._visited=!1;rt.length=0;do xe=We&&We.crossings.shift(),(!xe||!xe._path)&&(xe=null,We=Ue.pop(),We&&(rt=We.visited,ke=We.handleIn));while(We&&!Z(xe));if(!xe)break}var Lt=xe.getNext();be.add(new ye(xe._point,ke,Lt&&xe._handleOut)),xe._visited=!0,rt.push(xe),xe=Lt||xe._path.getFirstSegment(),ke=Lt&&Lt._handleIn}Ee&&(Ie&&(be.getFirstSegment().setHandleIn(ke),be.setClosed(Ie)),be.getArea()!==0&&G.push(be))}return G}return{_getWinding:function(K,H,G){return R(K,this.getCurves(),H,G)},unite:function(K,H){return b(this,K,"unite",H)},intersect:function(K,H){return b(this,K,"intersect",H)},subtract:function(K,H){return b(this,K,"subtract",H)},exclude:function(K,H){return b(this,K,"exclude",H)},divide:function(K,H){return H&&(H.trace==!1||H.stroke)?T(this,K,"divide"):v([this.subtract(K,H),this.intersect(K,H)],!0,this,K,H)},resolveCrossings:function(){var K=this._children,H=K||[this];function G(We,rt){var ke=We&&We._intersection;return ke&&ke._overlap&&ke._path===rt}var z=!1,Z=!1,ee=this.getIntersections(null,function(We){return We.hasOverlap()&&(z=!0)||We.isCrossing()&&(Z=!0)}),le=z&&Z&&[];if(ee=Ne.expand(ee),z)for(var ie=N(ee,function(We){return We.hasOverlap()},le),pe=ie.length-1;pe>=0;pe--){var ve=ie[pe],xe=ve._path,Ce=ve._segment,be=Ce.getPrevious(),Ee=Ce.getNext();G(be,xe)&&G(Ee,xe)&&(Ce.remove(),be._handleOut._set(0,0),Ee._handleIn._set(0,0),be!==Ce&&!be.getCurve().hasLength()&&(Ee._handleIn.set(be._handleIn),be.remove()))}Z&&(N(ee,z&&function(We){var rt=We.getCurve(),ke=We.getSegment(),Ye=We._intersection,ft=Ye._curve,lt=Ye._segment;if(rt&&ft&&rt._path&&ft._path)return!0;ke&&(ke._intersection=null),lt&&(lt._intersection=null)},le),le&&L(le),H=Y(t.each(H,function(We){t.push(this,We._segments)},[])));var Ie=H.length,Ue;return Ie>1&&K?(H!==K&&this.setChildren(H),Ue=this):Ie===1&&!K&&(H[0]!==this&&this.setSegments(H[0].removeSegments()),Ue=this),Ue||(Ue=new $e(B.NO_INSERT),Ue.addChildren(H),Ue=Ue.reduce(),Ue.copyAttributes(this),this.replaceWith(Ue)),Ue},reorient:function(K,H){var G=this._children;return G&&G.length?this.setChildren(D(this.removeChildren(),function(z){return!!(K?z:z&1)},H)):H!==C&&this.setClockwise(H),this},getInteriorPoint:function(){var K=this.getBounds(),H=K.getCenter(!0);if(!this.contains(H)){for(var G=this.getCurves(),z=H.y,Z=[],ee=[],le=0,ie=G.length;le<ie;le++){var pe=G[le].getValues(),ve=pe[1],xe=pe[3],Ce=pe[5],be=pe[7];if(z>=i(ve,xe,Ce,be)&&z<=e(ve,xe,Ce,be))for(var Ee=de.getMonoCurves(pe),Ie=0,Ue=Ee.length;Ie<Ue;Ie++){var We=Ee[Ie],rt=We[1],ke=We[7];if(rt!==ke&&(z>=rt&&z<=ke||z>=ke&&z<=rt)){var Ye=z===rt?We[0]:z===ke?We[6]:de.solveCubic(We,1,z,ee,0,1)===1?de.getPoint(We,ee[0]).x:(We[0]+We[6])/2;Z.push(Ye)}}}Z.length>1&&(Z.sort(function(ft,lt){return ft-lt}),H.x=(Z[0]+Z[1])/2)}return H}}});var ut=t.extend({_class:"PathFlattener",initialize:function(i,e,r,s,h){var y=[],v=[],x=0,b=1/(r||32),T=i._segments,O=T[0],L;function D(Y,K){var H=de.getValues(Y,K,h);y.push(H),N(H,Y._index,0,1)}function N(Y,K,H,G){if(G-H>b&&!(s&&de.isStraight(Y))&&!de.isFlatEnough(Y,e||.25)){var z=de.subdivide(Y,.5),Z=(H+G)/2;N(z[0],K,H,Z),N(z[1],K,Z,G)}else{var ee=Y[6]-Y[0],le=Y[7]-Y[1],ie=Math.sqrt(ee*ee+le*le);ie>0&&(x+=ie,v.push({offset:x,curve:Y,index:K,time:G}))}}for(var R=1,X=T.length;R<X;R++)L=T[R],D(O,L),O=L;i._closed&&D(L||O,T[0]),this.curves=y,this.parts=v,this.length=x,this.index=0},_get:function(i){for(var e=this.parts,r=e.length,s,h=this.index;s=h,!(!h||e[--h].offset<i););for(;s<r;s++){var y=e[s];if(y.offset>=i){this.index=s;var v=e[s-1],x=v&&v.index===y.index?v.time:0,b=v?v.offset:0;return{index:y.index,time:x+(y.time-x)*(i-b)/(y.offset-b)}}}return{index:e[r-1].index,time:1}},drawPart:function(i,e,r){for(var s=this._get(e),h=this._get(r),y=s.index,v=h.index;y<=v;y++){var x=de.getPart(this.curves[y],y===s.index?s.time:0,y===h.index?h.time:1);y===s.index&&i.moveTo(x[0],x[1]),i.bezierCurveTo.apply(i,x.slice(2))}}},t.each(de._evaluateMethods,function(i){this[i+"At"]=function(e){var r=this._get(e);return de[i](this.curves[r.index],r.time)}},{})),Ke=t.extend({initialize:function(i){for(var e=this.points=[],r=i._segments,s=i._closed,h=0,y,v=r.length;h<v;h++){var x=r[h].point;(!y||!y.equals(x))&&e.push(y=x.clone())}s&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=s},fit:function(i){var e=this.points,r=e.length,s=null;return r>0&&(s=[new ye(e[0])],r>1&&(this.fitCubic(s,i,0,r-1,e[1].subtract(e[0]),e[r-2].subtract(e[r-1])),this.closed&&(s.shift(),s.pop()))),s},fitCubic:function(i,e,r,s,h,y){var v=this.points;if(s-r===1){var x=v[r],b=v[s],T=x.getDistance(b)/3;this.addCurve(i,[x,x.add(h.normalize(T)),b.add(y.normalize(T)),b]);return}for(var O=this.chordLengthParameterize(r,s),L=Math.max(e,e*e),D,N=!0,R=0;R<=4;R++){var X=this.generateBezier(r,s,O,h,y),Y=this.findMaxError(r,s,X,O);if(Y.error<e&&N){this.addCurve(i,X);return}if(D=Y.index,Y.error>=L)break;N=this.reparameterize(r,s,O,X),L=Y.error}var K=v[D-1].subtract(v[D+1]);this.fitCubic(i,e,r,D,h,K),this.fitCubic(i,e,D,s,K.negate(),y)},addCurve:function(i,e){var r=i[i.length-1];r.setHandleOut(e[1].subtract(e[0])),i.push(new ye(e[3],e[2].subtract(e[3])))},generateBezier:function(i,e,r,s,h){for(var y=1e-12,v=Math.abs,x=this.points,b=x[i],T=x[e],O=[[0,0],[0,0]],L=[0,0],D=0,N=e-i+1;D<N;D++){var R=r[D],X=1-R,Y=3*R*X,K=X*X*X,H=Y*X,G=Y*R,z=R*R*R,Z=s.normalize(H),ee=h.normalize(G),le=x[i+D].subtract(b.multiply(K+H)).subtract(T.multiply(G+z));O[0][0]+=Z.dot(Z),O[0][1]+=Z.dot(ee),O[1][0]=O[0][1],O[1][1]+=ee.dot(ee),L[0]+=Z.dot(le),L[1]+=ee.dot(le)}var ie=O[0][0]*O[1][1]-O[1][0]*O[0][1],pe,ve;if(v(ie)>y){var xe=O[0][0]*L[1]-O[1][0]*L[0],Ce=L[0]*O[1][1]-L[1]*O[0][1];pe=Ce/ie,ve=xe/ie}else{var be=O[0][0]+O[0][1],Ee=O[1][0]+O[1][1];pe=ve=v(be)>y?L[0]/be:v(Ee)>y?L[1]/Ee:0}var Ie=T.getDistance(b),Ue=y*Ie,We,rt;if(pe<Ue||ve<Ue)pe=ve=Ie/3;else{var ke=T.subtract(b);We=s.normalize(pe),rt=h.normalize(ve),We.dot(ke)-rt.dot(ke)>Ie*Ie&&(pe=ve=Ie/3,We=rt=null)}return[b,b.add(We||s.normalize(pe)),T.add(rt||h.normalize(ve)),T]},reparameterize:function(i,e,r,s){for(var h=i;h<=e;h++)r[h-i]=this.findRoot(s,this.points[h],r[h-i]);for(var h=1,y=r.length;h<y;h++)if(r[h]<=r[h-1])return!1;return!0},findRoot:function(i,e,r){for(var s=[],h=[],y=0;y<=2;y++)s[y]=i[y+1].subtract(i[y]).multiply(3);for(var y=0;y<=1;y++)h[y]=s[y+1].subtract(s[y]).multiply(2);var v=this.evaluate(3,i,r),x=this.evaluate(2,s,r),b=this.evaluate(1,h,r),T=v.subtract(e),O=x.dot(x)+T.dot(b);return a.isMachineZero(O)?r:r-T.dot(x)/O},evaluate:function(i,e,r){for(var s=e.slice(),h=1;h<=i;h++)for(var y=0;y<=i-h;y++)s[y]=s[y].multiply(1-r).add(s[y+1].multiply(r));return s[0]},chordLengthParameterize:function(i,e){for(var r=[0],s=i+1;s<=e;s++)r[s-i]=r[s-i-1]+this.points[s].getDistance(this.points[s-1]);for(var s=1,h=e-i;s<=h;s++)r[s]/=r[h];return r},findMaxError:function(i,e,r,s){for(var h=Math.floor((e-i+1)/2),y=0,v=i+1;v<e;v++){var x=this.evaluate(3,r,s[v-i]),b=x.subtract(this.points[v]),T=b.x*b.x+b.y*b.y;T>=y&&(y=T,h=v)}return{error:y,index:h}}}),_t=B.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var r=e&&t.isPlainObject(e)&&e.x===C&&e.y===C;this._initialize(r&&e,!r&&o.read(arguments))},_equals:function(i){return this._content===i._content},copyContent:function(i){this.setContent(i._content)},getContent:function(){return this._content},setContent:function(i){this._content=""+i,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),at=_t.extend({_class:"PointText",initialize:function(){_t.apply(this,arguments)},getPoint:function(){var i=this._matrix.getTranslation();return new d(i.x,i.y,this,"setPoint")},setPoint:function(){var i=o.read(arguments);this.translate(i.subtract(this._matrix.getTranslation()))},_draw:function(i,e,r){if(!!this._content){this._setStyles(i,e,r);var s=this._lines,h=this._style,y=h.hasFill(),v=h.hasStroke(),x=h.getLeading(),b=i.shadowColor;i.font=h.getFontStyle(),i.textAlign=h.getJustification();for(var T=0,O=s.length;T<O;T++){i.shadowColor=b;var L=s[T];y&&(i.fillText(L,0,0),i.shadowColor="rgba(0,0,0,0)"),v&&i.strokeText(L,0,0),i.translate(0,x)}}},_getBounds:function(i,e){var r=this._style,s=this._lines,h=s.length,y=r.getJustification(),v=r.getLeading(),x=this.getView().getTextWidth(r.getFontStyle(),s),b=0;y!=="left"&&(b-=x/(y==="center"?2:1));var T=new E(b,h?-.75*v:0,x,h*v);return i?i._transformBounds(T,T):T}}),Fe=t.extend(new function(){var i={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},r={transparent:[0,0,0,0]},s;function h(x){var b=x.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||x.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),T="rgb",O;if(b){var L=b[4]?4:3;O=new Array(L);for(var D=0;D<L;D++){var N=b[D+1];O[D]=parseInt(N.length==1?N+N:N,16)/255}}else if(b=x.match(/^(rgb|hsl)a?\((.*)\)$/)){T=b[1],O=b[2].trim().split(/[,\s]+/g);for(var R=T==="hsl",D=0,X=Math.min(O.length,4);D<X;D++){var Y=O[D],N=parseFloat(Y);if(R)if(D===0){var K=Y.match(/([a-z]*)$/)[1];N*={turn:360,rad:180/Math.PI,grad:.9}[K]||1}else D<3&&(N/=100);else D<3&&(N/=/%$/.test(Y)?100:255);O[D]=N}}else{var H=r[x];if(!H)if(S){s||(s=mt.getContext(1,1),s.globalCompositeOperation="copy"),s.fillStyle="rgba(0,0,0,0)",s.fillStyle=x,s.fillRect(0,0,1,1);var G=s.getImageData(0,0,1,1).data;H=r[x]=[G[0]/255,G[1]/255,G[2]/255]}else H=[0,0,0];O=H.slice()}return[T,O]}var y=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],v={"rgb-hsb":function(x,b,T){var O=Math.max(x,b,T),L=Math.min(x,b,T),D=O-L,N=D===0?0:(O==x?(b-T)/D+(b<T?6:0):O==b?(T-x)/D+2:(x-b)/D+4)*60;return[N,O===0?0:D/O,O]},"hsb-rgb":function(x,b,T){x=(x/60%6+6)%6;var L=Math.floor(x),O=x-L,L=y[L],D=[T,T*(1-b),T*(1-b*O),T*(1-b*(1-O))];return[D[L[0]],D[L[1]],D[L[2]]]},"rgb-hsl":function(x,b,T){var O=Math.max(x,b,T),L=Math.min(x,b,T),D=O-L,N=D===0,R=N?0:(O==x?(b-T)/D+(b<T?6:0):O==b?(T-x)/D+2:(x-b)/D+4)*60,X=(O+L)/2,Y=N?0:X<.5?D/(O+L):D/(2-O-L);return[R,Y,X]},"hsl-rgb":function(x,b,T){if(x=(x/360%1+1)%1,b===0)return[T,T,T];for(var O=[x+1/3,x,x-1/3],L=T<.5?T*(1+b):T+b-T*b,D=2*T-L,N=[],R=0;R<3;R++){var X=O[R];X<0&&(X+=1),X>1&&(X-=1),N[R]=6*X<1?D+(L-D)*6*X:2*X<1?L:3*X<2?D+(L-D)*(2/3-X)*6:D}return N},"rgb-gray":function(x,b,T){return[x*.2989+b*.587+T*.114]},"gray-rgb":function(x){return[x,x,x]},"gray-hsb":function(x){return[0,0,x]},"gray-hsl":function(x){return[0,0,x]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return t.each(i,function(x,b){e[b]=[],t.each(x,function(T,O){var L=t.capitalize(T),D=/^(hue|saturation)$/.test(T),N=e[b][O]=b==="gradient"?T==="gradient"?function(R){var X=this._components[0];return R=ae.read(Array.isArray(R)?R:arguments,0,{readNull:!0}),X!==R&&(X&&X._removeOwner(this),R&&R._addOwner(this)),R}:function(){return o.read(arguments,0,{readNull:T==="highlight",clone:!0})}:function(R){return R==null||isNaN(R)?0:+R};this["get"+L]=function(){return this._type===b||D&&/^hs[bl]$/.test(this._type)?this._components[O]:this._convert(b)[O]},this["set"+L]=function(R){this._type!==b&&!(D&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(b),this._properties=i[b],this._type=b),this._components[O]=N.call(this,R),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function x(b){var T=arguments,O=this.__read,L=0,D,N,R,X;Array.isArray(b)&&(T=b,b=T[0]);var Y=b!=null&&typeof b;if(Y==="string"&&b in i&&(D=b,b=T[1],Array.isArray(b)?(N=b,R=T[2]):(O&&(L=1),T=t.slice(T,1),Y=typeof b)),!N){if(X=Y==="number"?T:Y==="object"&&b.length!=null?b:null,X){D||(D=X.length>=3?"rgb":"gray");var K=i[D].length;R=X[K],O&&(L+=X===arguments?K+(R!=null?1:0):1),X.length>K&&(X=t.slice(X,0,K))}else if(Y==="string"){var H=h(b);D=H[0],N=H[1],N.length===4&&(R=N[3],N.length--)}else if(Y==="object")if(b.constructor===x){if(D=b._type,N=b._components.slice(),R=b._alpha,D==="gradient")for(var G=1,z=N.length;G<z;G++){var Z=N[G];Z&&(N[G]=Z.clone())}}else if(b.constructor===ae)D="gradient",X=T;else{D="hue"in b?"lightness"in b?"hsl":"hsb":"gradient"in b||"stops"in b||"radial"in b?"gradient":"gray"in b?"gray":"rgb";var ee=i[D],le=e[D];this._components=N=[];for(var G=0,z=ee.length;G<z;G++){var ie=b[ee[G]];ie==null&&!G&&D==="gradient"&&"stops"in b&&(ie={stops:b.stops,radial:b.radial}),ie=le[G].call(this,ie),ie!=null&&(N[G]=ie)}R=b.alpha}O&&D&&(L=1)}if(this._type=D||"rgb",!N){this._components=N=[];for(var le=e[this._type],G=0,z=le.length;G<z;G++){var ie=le[G].call(this,X&&X[G]);ie!=null&&(N[G]=ie)}}return this._components=N,this._properties=i[this._type],this._alpha=R,O&&(this.__read=L),this},set:"#initialize",_serialize:function(x,b){var T=this.getComponents();return t.serialize(/^(gray|rgb)$/.test(this._type)?T:[this._type].concat(T),x,!0,b)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(x){var b;return this._type===x?this._components.slice():(b=v[this._type+"-"+x])?b.apply(this,this._components):v["rgb-"+x].apply(this,v[this._type+"-rgb"].apply(this,this._components))},convert:function(x){return new Fe(x,this._convert(x),this._alpha)},getType:function(){return this._type},setType:function(x){this._components=this._convert(x),this._properties=i[x],this._type=x},getComponents:function(){var x=this._components.slice();return this._alpha!=null&&x.push(this._alpha),x},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(x){this._alpha=x==null?null:Math.min(Math.max(x,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(x){var b=t.isPlainValue(x,!0)?Fe.read(arguments):x;return b===this||b&&this._class===b._class&&this._type===b._type&&this.getAlpha()===b.getAlpha()&&t.equals(this._components,b._components)||!1},toString:function(){for(var x=this._properties,b=[],T=this._type==="gradient",O=u.instance,L=0,D=x.length;L<D;L++){var N=this._components[L];N!=null&&b.push(x[L]+": "+(T?N:O.number(N)))}return this._alpha!=null&&b.push("alpha: "+O.number(this._alpha)),"{ "+b.join(", ")+" }"},toCSS:function(x){var b=this._convert("rgb"),T=x||this._alpha==null?1:this._alpha;function O(L){return Math.round((L<0?0:L>1?1:L)*255)}return b=[O(b[0]),O(b[1]),O(b[2])],T<1&&b.push(T<0?0:T),x?"#"+((1<<24)+(b[0]<<16)+(b[1]<<8)+b[2]).toString(16).slice(1):(b.length==4?"rgba(":"rgb(")+b.join(",")+")"},toCanvasStyle:function(x,b){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var T=this._components,O=T[0],L=O._stops,D=T[1],N=T[2],R=T[3],X=b&&b.inverted(),Y;if(X&&(D=X._transformPoint(D),N=X._transformPoint(N),R&&(R=X._transformPoint(R))),O._radial){var K=N.getDistance(D);if(R){var H=R.subtract(D);H.getLength()>K&&(R=D.add(H.normalize(K-.1)))}var G=R||D;Y=x.createRadialGradient(G.x,G.y,0,D.x,D.y,K)}else Y=x.createLinearGradient(D.x,D.y,N.x,N.y);for(var z=0,Z=L.length;z<Z;z++){var ee=L[z],le=ee._offset;Y.addColorStop(le==null?z/(Z-1):le,ee._color.toCanvasStyle())}return this._canvasStyle=Y},transform:function(x){if(this._type==="gradient"){for(var b=this._components,T=1,O=b.length;T<O;T++){var L=b[T];x._transformPoint(L,L,!0)}this._changed()}},statics:{_types:i,random:function(){var x=Math.random;return new Fe(x(),x(),x())},_setOwner:function(x,b,T){return x&&(x._owner&&b&&x._owner!==b&&(x=x.clone()),!x._owner^!b&&(x._owner=b||null,x._setter=T||null)),x}}})},new function(){var i={add:function(e,r){return e+r},subtract:function(e,r){return e-r},multiply:function(e,r){return e*r},divide:function(e,r){return e/r}};return t.each(i,function(e,r){this[r]=function(s){s=Fe.read(arguments);for(var h=this._type,y=this._components,v=s._convert(h),x=0,b=y.length;x<b;x++)v[x]=e(y[x],v[x]);return new Fe(h,v,this._alpha!=null?e(this._alpha,s.getAlpha()):null)}},{})}),ae=t.extend({_class:"Gradient",initialize:function(e,r){this._id=l.get(),e&&t.isPlainObject(e)&&(this.set(e),e=r=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof r=="string"&&r==="radial"||r||!1)},_serialize:function(i,e){return e.add(this,function(){return t.serialize([this._stops,this._radial],i,!0,e)})},_changed:function(){for(var i=0,e=this._owners&&this._owners.length;i<e;i++)this._owners[i]._changed()},_addOwner:function(i){this._owners||(this._owners=[]),this._owners.push(i)},_removeOwner:function(i){var e=this._owners?this._owners.indexOf(i):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=C))},clone:function(){for(var i=[],e=0,r=this._stops.length;e<r;e++)i[e]=this._stops[e].clone();return new ae(i,this._radial)},getStops:function(){return this._stops},setStops:function(i){if(i.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var r=0,s=e.length;r<s;r++)e[r]._owner=C;e=this._stops=me.readList(i,0,{clone:!0});for(var r=0,s=e.length;r<s;r++)e[r]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(i){this._radial=i,this._changed()},equals:function(i){if(i===this)return!0;if(i&&this._class===i._class){var e=this._stops,r=i._stops,s=e.length;if(s===r.length){for(var h=0;h<s;h++)if(!e[h].equals(r[h]))return!1;return!0}}return!1}}),me=t.extend({_class:"GradientStop",initialize:function(e,r){var s=e,h=r;typeof e=="object"&&r===C&&(Array.isArray(e)&&typeof e[0]!="number"?(s=e[0],h=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(s=e.color,h=e.offset||e.rampPoint||0)),this.setColor(s),this.setOffset(h)},clone:function(){return new me(this._color.clone(),this._offset)},_serialize:function(i,e){var r=this._color,s=this._offset;return t.serialize(s==null?[r]:[r,s],i,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(i){this._offset=i,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Fe._setOwner(this._color,null),this._color=Fe._setOwner(Fe.read(arguments,0),this,"setColor"),this._changed()},equals:function(i){return i===this||i&&this._class===i._class&&this._color.equals(i._color)&&this._offset==i._offset||!1}}),Te=t.extend(new function(){var i={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new o,selectedColor:null},e=t.set({},i,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),r=t.set({},e,{fillColor:new Fe}),s={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},h={beans:!0},y={_class:"Style",beans:!0,initialize:function(x,b,T){this._values={},this._owner=b,this._project=b&&b._project||T||Et.project,this._defaults=!b||b instanceof se?e:b instanceof _t?r:i,x&&this.set(x)}};return t.each(e,function(v,x){var b=/Color$/.test(x),T=x==="shadowOffset",O=t.capitalize(x),L=s[x],D="set"+O,N="get"+O;y[D]=function(R){var X=this._owner,Y=X&&X._children,K=Y&&Y.length>0&&!(X instanceof $e);if(K)for(var H=0,G=Y.length;H<G;H++)Y[H]._style[D](R);if((x==="selectedColor"||!K)&&x in this._defaults){var z=this._values[x];z!==R&&(b&&(z&&(Fe._setOwner(z,null),z._canvasStyle=null),R&&R.constructor===Fe&&(R=Fe._setOwner(R,X,K&&D))),this._values[x]=R,X&&X._changed(L||129))}},y[N]=function(R){var X=this._owner,Y=X&&X._children,K=Y&&Y.length>0&&!(X instanceof $e),H;if(K&&!R)for(var G=0,z=Y.length;G<z;G++){var Z=Y[G]._style[N]();if(!G)H=Z;else if(!t.equals(H,Z))return C}else if(x in this._defaults){var H=this._values[x];if(H===C)H=this._defaults[x],H&&H.clone&&(H=H.clone());else{var ee=b?Fe:T?o:null;ee&&!(H&&H.constructor===ee)&&(this._values[x]=H=ee.read([H],0,{readNull:!0,clone:!0}))}}return H&&b&&(H=Fe._setOwner(H,X,K&&D)),H},h[N]=function(R){return this._style[N](R)},h[D]=function(R){this._style[D](R)}}),t.each({Font:"FontFamily",WindingRule:"FillRule"},function(v,x){var b="get"+x,T="set"+x;y[b]=h[b]="#get"+v,y[T]=h[T]="#set"+v}),B.inject(h),y},{set:function(i){var e=i instanceof Te,r=e?i._values:i;if(r){for(var s in r)if(s in this._defaults){var h=r[s];this[s]=h&&e&&h.clone?h.clone():h}}},equals:function(i){function e(r,s,h){var y=r._values,v=s._values,x=s._defaults;for(var b in y){var T=y[b],O=v[b];if(!(h&&b in v)&&!t.equals(T,O===C?x[b]:O))return!1}return!0}return i===this||i&&this._class===i._class&&e(this,i)&&e(i,this,!0)||!1},_dispose:function(){var i;i=this.getFillColor(),i&&(i._canvasStyle=null),i=this.getStrokeColor(),i&&(i._canvasStyle=null),i=this.getShadowColor(),i&&(i._canvasStyle=null)},hasFill:function(){var i=this.getFillColor();return!!i&&i.alpha>0},hasStroke:function(){var i=this.getStrokeColor();return!!i&&i.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var i=this.getShadowColor();return!!i&&i.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var i=this.getFontSize();return this.getFontWeight()+" "+i+(/[a-z]/i.test(i+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function i(){var e=i.base.call(this),r=this.getFontSize();return/pt|em|%|px/.test(r)&&(r=this.getView().getPixelSize(r)),e!=null?e:r*1.2}}),Me=new function(){function i(e,r,s,h){for(var y=["","webkit","moz","Moz","ms","o"],v=r[0].toUpperCase()+r.substring(1),x=0;x<6;x++){var b=y[x],T=b?b+v:r;if(T in e){if(s)e[T]=h;else return e[T];break}}}return{getStyles:function(e){var r=e&&e.nodeType!==9?e.ownerDocument:e,s=r&&r.defaultView;return s&&s.getComputedStyle(e,"")},getBounds:function(e,r){var s=e.ownerDocument,h=s.body,y=s.documentElement,v;try{v=e.getBoundingClientRect()}catch{v={left:0,top:0,width:0,height:0}}var x=v.left-(y.clientLeft||h.clientLeft||0),b=v.top-(y.clientTop||h.clientTop||0);if(!r){var T=s.defaultView;x+=T.pageXOffset||y.scrollLeft||h.scrollLeft,b+=T.pageYOffset||y.scrollTop||h.scrollTop}return new E(x,b,v.width,v.height)},getViewportBounds:function(e){var r=e.ownerDocument,s=r.defaultView,h=r.documentElement;return new E(0,0,s.innerWidth||h.clientWidth,s.innerHeight||h.clientHeight)},getOffset:function(e,r){return Me.getBounds(e,r).getPoint()},getSize:function(e){return Me.getBounds(e,!0).getSize()},isInvisible:function(e){return Me.getSize(e).equals(new _(0,0))},isInView:function(e){return!Me.isInvisible(e)&&Me.getViewportBounds(e).intersects(Me.getBounds(e,!0))},isInserted:function(e){return g.body.contains(e)},getPrefixed:function(e,r){return e&&i(e,r)},setPrefixed:function(e,r,s){if(typeof r=="object")for(var h in r)i(e,h,!0,r[h]);else i(e,r,!0,s)}}},Ve={add:function(i,e){if(i)for(var r in e)for(var s=e[r],h=r.split(/[\s,]+/g),y=0,v=h.length;y<v;y++){var x=h[y],b=i===g&&(x==="touchstart"||x==="touchmove")?{passive:!1}:!1;i.addEventListener(x,s,b)}},remove:function(i,e){if(i)for(var r in e)for(var s=e[r],h=r.split(/[\s,]+/g),y=0,v=h.length;y<v;y++)i.removeEventListener(h[y],s,!1)},getPoint:function(i){var e=i.targetTouches?i.targetTouches.length?i.targetTouches[0]:i.changedTouches[0]:i;return new o(e.pageX||e.clientX+g.documentElement.scrollLeft,e.pageY||e.clientY+g.documentElement.scrollTop)},getTarget:function(i){return i.target||i.srcElement},getRelatedTarget:function(i){return i.relatedTarget||i.toElement},getOffset:function(i,e){return Ve.getPoint(i).subtract(Me.getOffset(e||Ve.getTarget(i)))}};Ve.requestAnimationFrame=new function(){var i=Me.getPrefixed(S,"requestAnimationFrame"),e=!1,r=[],s;function h(){var y=r;r=[];for(var v=0,x=y.length;v<x;v++)y[v]();e=i&&r.length,e&&i(h)}return function(y){r.push(y),i?e||(i(h),e=!0):s||(s=setInterval(h,1e3/60))}};var je=t.extend(c,{_class:"View",initialize:function i(e,r){function s(L){return r[L]||parseInt(r.getAttribute(L),10)}function h(){var L=Me.getSize(r);return L.isNaN()||L.isZero()?new _(s("width"),s("height")):L}var y;if(S&&r){this._id=r.getAttribute("id"),this._id==null&&r.setAttribute("id",this._id="paper-view-"+i._id++),Ve.add(r,this._viewEvents);var v="none";if(Me.setPrefixed(r.style,{userDrag:v,userSelect:v,touchCallout:v,contentZooming:v,tapHighlightColor:"rgba(0,0,0,0)"}),f.hasAttribute(r,"resize")){var x=this;Ve.add(S,this._windowEvents={resize:function(){x.setViewSize(h())}})}if(y=h(),f.hasAttribute(r,"stats")&&typeof Stats<"u"){this._stats=new Stats;var b=this._stats.domElement,T=b.style,O=Me.getOffset(r);T.position="absolute",T.left=O.x+"px",T.top=O.y+"px",g.body.appendChild(b)}}else y=new _(r),r=null;this._project=e,this._scope=e._scope,this._element=r,this._pixelRatio||(this._pixelRatio=S&&S.devicePixelRatio||1),this._setElementSize(y.width,y.height),this._viewSize=y,i._views.push(this),i._viewsById[this._id]=this,(this._matrix=new U)._owner=this,i._focused||(i._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Et.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;je._focused===this&&(je._focused=null),je._views.splice(je._views.indexOf(this),1),delete je._viewsById[this._id];var i=this._project;return i._view===this&&(i._view=null),Ve.remove(this._element,this._viewEvents),Ve.remove(S,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:t.each(B._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(i){this[i]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(i){this._autoUpdate=i,i&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var i=this;Ve.requestAnimationFrame(function(){if(i._requested=!1,i._animate){i.requestUpdate();var e=i._element;(!Me.getPrefixed(g,"hidden")||f.getAttribute(e,"keepalive")==="true")&&Me.isInView(e)&&i._handleFrame()}i._autoUpdate&&i.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Et=this._scope;var i=Date.now()/1e3,e=this._last?i-this._last:0;this._last=i,this.emit("frame",new t({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(i,e){var r=this._frameItems;e?(r[i._id]={item:i,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete r[i._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(i){for(var e in this._frameItems){var r=this._frameItems[e];r.item.emit("frame",new t(i,{time:r.time+=i.delta,count:r.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=C},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var i=this._viewSize;return new k(i.width,i.height,this,"setViewSize")},setViewSize:function(){var i=_.read(arguments),e=i.subtract(this._viewSize);e.isZero()||(this._setElementSize(i.width,i.height),this._viewSize.set(i),this._changed(),this.emit("resize",{size:i,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(i,e){var r=this._element;r&&(r.width!==i&&(r.width=i),r.height!==e&&(r.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new E(new o,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Me.isInView(this._element)},isInserted:function(){return Me.isInserted(this._element)},getPixelSize:function(i){var e=this._element,r;if(e){var s=e.parentNode,h=g.createElement("div");h.style.fontSize=i,s.appendChild(h),r=parseFloat(Me.getStyles(h).fontSize),s.removeChild(h)}else r=parseFloat(r);return r},getTextWidth:function(i,e){return 0}},t.each(["rotate","scale","shear","skew"],function(i){var e=i==="rotate";this[i]=function(){var r=arguments,s=(e?t:o).read(r),h=o.read(r,0,{readNull:!0});return this.transform(new U()[i](s,h||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var i=new U;return this.transform(i.translate.apply(i,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var i=o.read(arguments);this.translate(this.getCenter().subtract(i))},getZoom:function(){var i=this._decompose().scaling;return(i.x+i.y)/2},setZoom:function(i){this.transform(new U().scale(i/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(i){var e=this.getRotation();e!=null&&i!=null&&this.rotate(i-e)},getScaling:function(){var i=this._decompose().scaling;return new d(i.x,i.y,this,"setScaling")},setScaling:function(){var i=this.getScaling(),e=o.read(arguments,0,{clone:!0,readNull:!0});i&&e&&this.scale(e.x/i.x,e.y/i.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var i=this._matrix;i.set.apply(i,arguments)},transform:function(i){this._matrix.append(i)},scrollBy:function(){this.translate(o.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(o.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(o.read(arguments))},getEventPoint:function(i){return this.viewToProject(Ve.getOffset(i,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(i,e){g&&typeof e=="string"&&(e=g.getElementById(e));var r=S?Pe:je;return new r(i,e)}}},new function(){if(!S)return;var i,e,r=!1,s=!1;function h(Ce){var be=Ve.getTarget(Ce);return be.getAttribute&&je._viewsById[be.getAttribute("id")]}function y(){var Ce=je._focused;if(!Ce||!Ce.isVisible()){for(var be=0,Ee=je._views.length;be<Ee;be++)if((Ce=je._views[be]).isVisible()){je._focused=e=Ce;break}}}function v(Ce,be,Ee){Ce._handleMouseEvent("mousemove",be,Ee)}var x=S.navigator,b,T,O;x.pointerEnabled||x.msPointerEnabled?(b="pointerdown MSPointerDown",T="pointermove MSPointerMove",O="pointerup pointercancel MSPointerUp MSPointerCancel"):(b="touchstart",T="touchmove",O="touchend touchcancel","ontouchstart"in S&&x.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(b+=" mousedown",T+=" mousemove",O+=" mouseup"));var L={},D={mouseout:function(Ce){var be=je._focused,Ee=Ve.getRelatedTarget(Ce);if(be&&(!Ee||Ee.nodeName==="HTML")){var Ie=Ve.getOffset(Ce,be._element),Ue=Ie.x,We=Math.abs,rt=We(Ue),ke=1<<25,Ye=rt-ke;Ie.x=We(Ye)<rt?Ye*(Ue<0?-1:1):Ue,v(be,Ce,be.viewToProject(Ie))}},scroll:y};L[b]=function(Ce){var be=je._focused=h(Ce);r||(r=!0,be._handleMouseEvent("mousedown",Ce))},D[T]=function(Ce){var be=je._focused;if(!s){var Ee=h(Ce);Ee?be!==Ee&&(be&&v(be,Ce),i||(i=be),be=je._focused=e=Ee):e&&e===be&&(i&&!i.isInserted()&&(i=null),be=je._focused=i,i=null,y())}be&&v(be,Ce)},D[b]=function(){s=!0},D[O]=function(Ce){var be=je._focused;be&&r&&be._handleMouseEvent("mouseup",Ce),s=r=!1},Ve.add(g,D),Ve.add(S,{load:y});var N=!1,R=!1,X={doubleclick:"click",mousedrag:"mousemove"},Y=!1,K,H,G,z,Z,ee,le,ie;function pe(Ce,be,Ee,Ie,Ue,We,rt){var ke=!1,Ye;function ft(lt,nt){if(lt.responds(nt)){if(Ye||(Ye=new Ge(nt,Ie,Ue,be||lt,We?Ue.subtract(We):null)),lt.emit(nt,Ye)&&(N=!0,Ye.prevented&&(R=!0),Ye.stopped))return ke=!0}else{var Ze=X[nt];if(Ze)return ft(lt,Ze)}}for(;Ce&&Ce!==rt&&!ft(Ce,Ee);)Ce=Ce._parent;return ke}function ve(Ce,be,Ee,Ie,Ue,We){return Ce._project.removeOn(Ee),R=N=!1,Z&&pe(Z,null,Ee,Ie,Ue,We)||be&&be!==Z&&!be.isDescendant(Z)&&pe(be,null,Ee==="mousedrag"?"mousemove":Ee,Ie,Ue,We,Z)||pe(Ce,Z||be||Ce,Ee,Ie,Ue,We)}var xe={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:L,_handleMouseEvent:function(Ce,be,Ee){var Ie=this._itemEvents,Ue=Ie.native[Ce],We=Ce==="mousemove",rt=this._scope.tool,ke=this;function Ye(It){return Ie.virtual[It]||ke.responds(It)||rt&&rt.responds(It)}We&&r&&Ye("mousedrag")&&(Ce="mousedrag"),Ee||(Ee=this.getEventPoint(be));var ft=this.getBounds().contains(Ee),lt=Ue&&ft&&ke._project.hitTest(Ee,{tolerance:0,fill:!0,stroke:!0}),nt=lt&&lt.item||null,Ze=!1,xt={};if(xt[Ce.substr(5)]=!0,Ue&&nt!==z&&(z&&pe(z,null,"mouseleave",be,Ee),nt&&pe(nt,null,"mouseenter",be,Ee),z=nt),Y^ft&&(pe(this,null,ft?"mouseenter":"mouseleave",be,Ee),Ze=!0),(ft||xt.drag)&&!Ee.equals(H)&&(ve(this,nt,We?Ce:"mousemove",be,Ee,H),Ze=!0),Y=ft,xt.down&&ft||xt.up&&K){if(ve(this,nt,Ce,be,Ee,K),xt.down){if(ie=nt===ee&&Date.now()-le<300,G=ee=nt,!R&&nt){for(var Tt=nt;Tt&&!Tt.responds("mousedrag");)Tt=Tt._parent;Tt&&(Z=nt)}K=Ee}else xt.up&&(!R&&nt===G&&(le=Date.now(),ve(this,nt,ie?"doubleclick":"click",be,Ee,K),ie=!1),G=Z=null);Y=!1,Ze=!0}H=Ee,Ze&&rt&&(N=rt._handleMouseEvent(Ce,be,Ee,xt)||N),be.cancelable!==!1&&(N&&!xt.move||xt.down&&Ye("mouseup"))&&be.preventDefault()},_handleKeyEvent:function(Ce,be,Ee,Ie){var Ue=this._scope,We=Ue.tool,rt;function ke(Ye){Ye.responds(Ce)&&(Et=Ue,Ye.emit(Ce,rt=rt||new He(Ce,be,Ee,Ie)))}this.isVisible()&&(ke(this),We&&We.responds(Ce)&&ke(We))},_countItemEvent:function(Ce,be){var Ee=this._itemEvents,Ie=Ee.native,Ue=Ee.virtual;for(var We in xe)Ie[We]=(Ie[We]||0)+(xe[We][Ce]||0)*be;Ue[Ce]=(Ue[Ce]||0)+be},statics:{updateFocus:y,_resetState:function(){r=s=N=Y=!1,i=e=K=H=G=z=Z=ee=le=ie=null}}}}),Pe=je.extend({_class:"CanvasView",initialize:function(e,r){if(!(r instanceof S.HTMLCanvasElement)){var s=_.read(arguments,1);if(s.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+t.slice(arguments,1));r=mt.getCanvas(s)}var h=this._context=r.getContext("2d");if(h.save(),this._pixelRatio=1,!/^off|false$/.test(f.getAttribute(r,"hidpi"))){var y=S.devicePixelRatio||1,v=Me.getPrefixed(h,"backingStorePixelRatio")||1;this._pixelRatio=y/v}je.call(this,e,r),this._needsUpdate=!0},remove:function i(){return this._context.restore(),i.base.call(this)},_setElementSize:function i(e,r){var s=this._pixelRatio;if(i.base.call(this,e*s,r*s),s!==1){var h=this._element,y=this._context;if(!f.hasAttribute(h,"resize")){var v=h.style;v.width=e+"px",v.height=r+"px"}y.restore(),y.save(),y.scale(s,s)}},getContext:function(){return this._context},getPixelSize:function i(e){var r=Et.agent,s;if(r&&r.firefox)s=i.base.call(this,e);else{var h=this._context,y=h.font;h.font=e+" serif",s=parseFloat(h.font),h.font=y}return s},getTextWidth:function(i,e){var r=this._context,s=r.font,h=0;r.font=i;for(var y=0,v=e.length;y<v;y++)h=Math.max(h,r.measureText(e[y]).width);return r.font=s,h},update:function(){if(!this._needsUpdate)return!1;var i=this._project,e=this._context,r=this._viewSize;return e.clearRect(0,0,r.width+1,r.height+1),i&&i.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),_e=t.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ze.modifiers}}),He=_e.extend({_class:"KeyEvent",initialize:function(e,r,s,h){this.type=e,this.event=r,this.key=s,this.character=h},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ze=new function(){var i={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},r={},s={},h,y,v=new t({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var T=Et&&Et.agent;return T&&T.mac?this.meta:this.control}}});function x(T){var O=T.key||T.keyIdentifier;return O=/^U\+/.test(O)?String.fromCharCode(parseInt(O.substr(2),16)):/^Arrow[A-Z]/.test(O)?O.substr(5):O==="Unidentified"||O===C?String.fromCharCode(T.keyCode):O,i[O]||(O.length>1?t.hyphenate(O):O.toLowerCase())}function b(T,O,L,D){var N=je._focused,R;if(r[O]=T,T?s[O]=L:delete s[O],O.length>1&&(R=t.camelize(O))in v){v[R]=T;var X=Et&&Et.agent;if(R==="meta"&&X&&X.mac)if(T)h={};else{for(var Y in h)Y in s&&b(!1,Y,h[Y],D);h=null}}else T&&h&&(h[O]=L);N&&N._handleKeyEvent(T?"keydown":"keyup",D,O,L)}return Ve.add(g,{keydown:function(T){var O=x(T),L=Et&&Et.agent;O.length>1||L&&L.chrome&&(T.altKey||L.mac&&T.metaKey||!L.mac&&T.ctrlKey)?b(!0,O,e[O]||(O.length>1?"":O),T):y=O},keypress:function(T){if(y){var O=x(T),L=T.charCode,D=L>=32?String.fromCharCode(L):O.length>1?"":O;O!==y&&(O=D.toLowerCase()),b(!0,O,D,T),y=null}},keyup:function(T){var O=x(T);O in s&&b(!1,O,s[O],T)}}),Ve.add(S,{blur:function(T){for(var O in s)b(!1,O,s[O],T)}}),{modifiers:v,isDown:function(T){return!!r[T]}}},Ge=_e.extend({_class:"MouseEvent",initialize:function(e,r,s,h,y){this.type=e,this.event=r,this.point=s,this.target=h,this.delta=y},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),st=_e.extend({_class:"ToolEvent",_item:null,initialize:function(e,r,s){this.tool=e,this.type=r,this.event=s},_choosePoint:function(i,e){return i||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(i){this._point=i},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(i){this._lastPoint=i},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(i){this._downPoint=i},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(i){this._middlePoint=i},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(i){this._delta=i},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(i){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=i},getItem:function(){if(!this._item){var i=this.tool._scope.project.hitTest(this.getPoint());if(i){for(var e=i.item,r=e._parent;/^(Group|CompoundPath)$/.test(r._class);)e=r,r=r._parent;this._item=e}}return this._item},setItem:function(i){this._item=i},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}});m.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){m.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(i){this._minDistance=i,i!=null&&this._maxDistance!=null&&i>this._maxDistance&&(this._maxDistance=i)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(i){this._maxDistance=i,this._minDistance!=null&&i!=null&&i<this._minDistance&&(this._minDistance=i)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(i){this._minDistance=this._maxDistance=i},_handleMouseEvent:function(i,e,r,s){Et=this._scope,s.drag&&!this.responds(i)&&(i="mousemove");var h=s.move||s.drag,y=this.responds(i),v=this.minDistance,x=this.maxDistance,b=!1,T=this;function O(D,N){var R=r,X=h?T._point:T._downPoint||R;if(h){if(T._moveCount>=0&&R.equals(X))return!1;if(X&&(D!=null||N!=null)){var Y=R.subtract(X),K=Y.getLength();if(K<(D||0))return!1;N&&(R=X.add(Y.normalize(Math.min(K,N))))}T._moveCount++}return T._point=R,T._lastPoint=X||R,s.down&&(T._moveCount=-1,T._downPoint=R,T._downCount++),!0}function L(){y&&(b=T.emit(i,new st(T,i,e))||b)}if(s.down)O(),L();else if(s.up)O(null,x),L();else if(y)for(;O(v,x);)L();return b}});var ht=t.extend(c,{_class:"Tween",statics:{easings:new t({linear:function(i){return i},easeInQuad:function(i){return i*i},easeOutQuad:function(i){return i*(2-i)},easeInOutQuad:function(i){return i<.5?2*i*i:-1+2*(2-i)*i},easeInCubic:function(i){return i*i*i},easeOutCubic:function(i){return--i*i*i+1},easeInOutCubic:function(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart:function(i){return i*i*i*i},easeOutQuart:function(i){return 1- --i*i*i*i},easeInOutQuart:function(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint:function(i){return i*i*i*i*i},easeOutQuint:function(i){return 1+--i*i*i*i*i},easeInOutQuint:function(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}})},initialize:function i(e,r,s,h,y,v){this.object=e;var x=typeof y,b=x==="function";this.type=b?x:x==="string"?y:"linear",this.easing=b?y:i.easings[this.type],this.duration=h,this.running=!1,this._then=null,this._startTime=null;var T=r||s;this._keys=T?Object.keys(T):[],this._parsedKeys=this._parseKeys(this._keys),this._from=T&&this._getState(r),this._to=T&&this._getState(s),v!==!1&&this.start()},then:function(i){return this._then=i,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(i){if(this.running){i>=1&&(i=1,this.running=!1);for(var e=this.easing(i),r=this._keys,s=function(O){return typeof O=="function"?O(e,i):O},h=0,y=r&&r.length;h<y;h++){var v=r[h],x=s(this._from[v]),b=s(this._to[v]),T=x&&b&&x.__add&&b.__add?b.__subtract(x).__multiply(e).__add(x):(b-x)*e+x;this._setProperty(this._parsedKeys[v],T)}this.responds("update")&&this.emit("update",new t({progress:i,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(i){var e=this._startTime,r=e?(i-e)/this.duration:0;e||(this._startTime=i),this.update(r)},_getState:function(i){for(var e=this._keys,r={},s=0,h=e.length;s<h;s++){var y=e[s],v=this._parsedKeys[y],x=this._getProperty(v),b;if(i){var T=this._resolveValue(x,i[y]);this._setProperty(v,T),b=this._getProperty(v),b=b&&b.clone?b.clone():b,this._setProperty(v,x)}else b=x&&x.clone?x.clone():x;r[y]=b}return r},_resolveValue:function(i,e){if(e){if(Array.isArray(e)&&e.length===2){var r=e[0];return r&&r.match&&r.match(/^[+\-\*\/]=/)?this._calculate(i,r[0],e[1]):e}else if(typeof e=="string"){var s=e.match(/^[+\-*/]=(.*)/);if(s){var h=JSON.parse(s[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(i,e[0],h)}}}return e},_calculate:function(i,e,r){return Et.PaperScript.calculateBinary(i,e,r)},_parseKeys:function(i){for(var e={},r=0,s=i.length;r<s;r++){var h=i[r],y=h.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[h]=y.split("/")}return e},_getProperty:function(i,e){for(var r=this.object,s=0,h=i.length-(e||0);s<h&&r;s++)r=r[i[s]];return r},_setProperty:function(i,e){var r=this._getProperty(i,1);r&&(r[i[i.length-1]]=e)}}),it={request:function(i){var e=new n.XMLHttpRequest;return e.open((i.method||"get").toUpperCase(),i.url,t.pick(i.async,!0)),i.mimeType&&e.overrideMimeType(i.mimeType),e.onload=function(){var r=e.status;r===0||r===200?i.onLoad&&i.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var r=e.status,s='Could not load "'+i.url+'" (Status: '+r+")";if(i.onError)i.onError(s,r);else throw new Error(s)},e.send(null)}},mt=t.exports.CanvasProvider={canvases:[],getCanvas:function(i,e){if(!S)return null;var r,s=!0;typeof i=="object"&&(e=i.height,i=i.width),this.canvases.length?r=this.canvases.pop():(r=g.createElement("canvas"),s=!1);var h=r.getContext("2d");if(!h)throw new Error("Canvas "+r+" is unable to provide a 2D context.");return r.width===i&&r.height===e?s&&h.clearRect(0,0,i+1,e+1):(r.width=i,r.height=e),h.save(),r},getContext:function(i,e){var r=this.getCanvas(i,e);return r?r.getContext("2d"):null},release:function(i){var e=i&&i.canvas?i.canvas:i;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},gt=new function(){var i=Math.min,e=Math.max,r=Math.abs,s,h,y,v,x,b,T,O,L,D,N;function R(Z,ee,le){return .2989*Z+.587*ee+.114*le}function X(Z,ee,le,ve){var pe=ve-R(Z,ee,le);L=Z+pe,D=ee+pe,N=le+pe;var ve=R(L,D,N),xe=i(L,D,N),Ce=e(L,D,N);if(xe<0){var be=ve-xe;L=ve+(L-ve)*ve/be,D=ve+(D-ve)*ve/be,N=ve+(N-ve)*ve/be}if(Ce>255){var Ee=255-ve,Ie=Ce-ve;L=ve+(L-ve)*Ee/Ie,D=ve+(D-ve)*Ee/Ie,N=ve+(N-ve)*Ee/Ie}}function Y(Z,ee,le){return e(Z,ee,le)-i(Z,ee,le)}function K(Z,ee,le,ie){var pe=[Z,ee,le],ve=e(Z,ee,le),xe=i(Z,ee,le),Ce;xe=xe===Z?0:xe===ee?1:2,ve=ve===Z?0:ve===ee?1:2,Ce=i(xe,ve)===0?e(xe,ve)===1?2:1:0,pe[ve]>pe[xe]?(pe[Ce]=(pe[Ce]-pe[xe])*ie/(pe[ve]-pe[xe]),pe[ve]=ie):pe[Ce]=pe[ve]=0,pe[xe]=0,L=pe[0],D=pe[1],N=pe[2]}var H={multiply:function(){L=x*s/255,D=b*h/255,N=T*y/255},screen:function(){L=x+s-x*s/255,D=b+h-b*h/255,N=T+y-T*y/255},overlay:function(){L=x<128?2*x*s/255:255-2*(255-x)*(255-s)/255,D=b<128?2*b*h/255:255-2*(255-b)*(255-h)/255,N=T<128?2*T*y/255:255-2*(255-T)*(255-y)/255},"soft-light":function(){var Z=s*x/255;L=Z+x*(255-(255-x)*(255-s)/255-Z)/255,Z=h*b/255,D=Z+b*(255-(255-b)*(255-h)/255-Z)/255,Z=y*T/255,N=Z+T*(255-(255-T)*(255-y)/255-Z)/255},"hard-light":function(){L=s<128?2*s*x/255:255-2*(255-s)*(255-x)/255,D=h<128?2*h*b/255:255-2*(255-h)*(255-b)/255,N=y<128?2*y*T/255:255-2*(255-y)*(255-T)/255},"color-dodge":function(){L=x===0?0:s===255?255:i(255,255*x/(255-s)),D=b===0?0:h===255?255:i(255,255*b/(255-h)),N=T===0?0:y===255?255:i(255,255*T/(255-y))},"color-burn":function(){L=x===255?255:s===0?0:e(0,255-(255-x)*255/s),D=b===255?255:h===0?0:e(0,255-(255-b)*255/h),N=T===255?255:y===0?0:e(0,255-(255-T)*255/y)},darken:function(){L=x<s?x:s,D=b<h?b:h,N=T<y?T:y},lighten:function(){L=x>s?x:s,D=b>h?b:h,N=T>y?T:y},difference:function(){L=x-s,L<0&&(L=-L),D=b-h,D<0&&(D=-D),N=T-y,N<0&&(N=-N)},exclusion:function(){L=x+s*(255-x-x)/255,D=b+h*(255-b-b)/255,N=T+y*(255-T-T)/255},hue:function(){K(s,h,y,Y(x,b,T)),X(L,D,N,R(x,b,T))},saturation:function(){K(x,b,T,Y(s,h,y)),X(L,D,N,R(x,b,T))},luminosity:function(){X(x,b,T,R(s,h,y))},color:function(){X(s,h,y,R(x,b,T))},add:function(){L=i(x+s,255),D=i(b+h,255),N=i(T+y,255)},subtract:function(){L=e(x-s,0),D=e(b-h,0),N=e(T-y,0)},average:function(){L=(x+s)/2,D=(b+h)/2,N=(T+y)/2},negation:function(){L=255-r(255-s-x),D=255-r(255-h-b),N=255-r(255-y-T)}},G=this.nativeModes=t.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(Z){this[Z]=!0},{}),z=mt.getContext(1,1);z&&(t.each(H,function(Z,ee){var le=ee==="darken",ie=!1;z.save();try{z.fillStyle=le?"#300":"#a00",z.fillRect(0,0,1,1),z.globalCompositeOperation=ee,z.globalCompositeOperation===ee&&(z.fillStyle=le?"#a00":"#300",z.fillRect(0,0,1,1),ie=z.getImageData(0,0,1,1).data[0]!==le?170:51)}catch{}z.restore(),G[ee]=ie}),mt.release(z)),this.process=function(Z,ee,le,ie,pe){var ve=ee.canvas,xe=Z==="normal";if(xe||G[Z])le.save(),le.setTransform(1,0,0,1,0,0),le.globalAlpha=ie,xe||(le.globalCompositeOperation=Z),le.drawImage(ve,pe.x,pe.y),le.restore();else{var Ce=H[Z];if(!Ce)return;for(var be=le.getImageData(pe.x,pe.y,ve.width,ve.height),Ee=be.data,Ie=ee.getImageData(0,0,ve.width,ve.height).data,Ue=0,We=Ee.length;Ue<We;Ue+=4){s=Ie[Ue],x=Ee[Ue],h=Ie[Ue+1],b=Ee[Ue+1],y=Ie[Ue+2],T=Ee[Ue+2],v=Ie[Ue+3],O=Ee[Ue+3],Ce();var rt=v*ie/255,ke=1-rt;Ee[Ue]=rt*L+ke*x,Ee[Ue+1]=rt*D+ke*b,Ee[Ue+2]=rt*N+ke*T,Ee[Ue+3]=v*ie+ke*O}le.putImageData(be,pe.x,pe.y)}}},St=new function(){var i="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",r="http://www.w3.org/1999/xlink",s={href:r,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function h(x,b,T){return v(g.createElementNS(i,x),b,T)}function y(x,b){var T=s[b],O=T?x.getAttributeNS(T,b):x.getAttribute(b);return O==="null"?null:O}function v(x,b,T){for(var O in b){var L=b[O],D=s[O];typeof L=="number"&&T&&(L=T.number(L)),D?x.setAttributeNS(D,O,L):x.setAttribute(O,L)}return x}return{svg:i,xmlns:e,xlink:r,create:h,get:y,set:v}},bt=t.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(i,e){return!e&&(i instanceof Le||i instanceof oe||i instanceof _t)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(i,e){var r=t.capitalize(e),s=i[2];this[e]={type:i[1],property:e,attribute:i[0],toSVG:s,fromSVG:s&&t.each(s,function(h,y){this[h]=y},{}),exportFilter:i[3],get:"get"+r,set:"set"+r}},{});new function(){var i;function e(H,G,z){var Z=new t,ee=H.getTranslation();if(G){var le;H.isInvertible()?(H=H._shiftless(),le=H._inverseTransform(ee),ee=null):le=new o,Z[z?"cx":"x"]=le.x,Z[z?"cy":"y"]=le.y}if(!H.isIdentity()){var ie=H.decompose();if(ie){var pe=[],ve=ie.rotation,xe=ie.scaling,Ce=ie.skewing;ee&&!ee.isZero()&&pe.push("translate("+i.point(ee)+")"),ve&&pe.push("rotate("+i.number(ve)+")"),(!a.isZero(xe.x-1)||!a.isZero(xe.y-1))&&pe.push("scale("+i.point(xe)+")"),Ce.x&&pe.push("skewX("+i.number(Ce.x)+")"),Ce.y&&pe.push("skewY("+i.number(Ce.y)+")"),Z.transform=pe.join(" ")}else Z.transform="matrix("+H.getValues().join(",")+")"}return Z}function r(H,G){for(var z=e(H._matrix),Z=H._children,ee=St.create("g",z,i),le=0,ie=Z.length;le<ie;le++){var pe=Z[le],ve=Y(pe,G);if(ve)if(pe.isClipMask()){var xe=St.create("clipPath");xe.appendChild(ve),R(pe,xe,"clip"),St.set(ee,{"clip-path":"url(#"+xe.id+")"})}else ee.appendChild(ve)}return ee}function s(H,G){var z=e(H._matrix,!0),Z=H.getSize(),ee=H.getImage();return z.x-=Z.width/2,z.y-=Z.height/2,z.width=Z.width,z.height=Z.height,z.href=G.embedImages==!1&&ee&&ee.src||H.toDataURL(),St.create("image",z,i)}function h(H,G){var z=G.matchShapes;if(z){var Z=H.toShape(!1);if(Z)return y(Z)}var ee=H._segments,le=ee.length,ie,pe=e(H._matrix);if(z&&le>=2&&!H.hasHandles())if(le>2){ie=H._closed?"polygon":"polyline";for(var ve=[],xe=0;xe<le;xe++)ve.push(i.point(ee[xe]._point));pe.points=ve.join(" ")}else{ie="line";var Ce=ee[0]._point,be=ee[1]._point;pe.set({x1:Ce.x,y1:Ce.y,x2:be.x,y2:be.y})}else ie="path",pe.d=H.getPathData(null,G.precision);return St.create(ie,pe,i)}function y(H){var G=H._type,z=H._radius,Z=e(H._matrix,!0,G!=="rectangle");if(G==="rectangle"){G="rect";var ee=H._size,le=ee.width,ie=ee.height;Z.x-=le/2,Z.y-=ie/2,Z.width=le,Z.height=ie,z.isZero()&&(z=null)}return z&&(G==="circle"?Z.r=z:(Z.rx=z.width,Z.ry=z.height)),St.create(G,Z,i)}function v(H,G){var z=e(H._matrix),Z=H.getPathData(null,G.precision);return Z&&(z.d=Z),St.create("path",z,i)}function x(H,G){var z=e(H._matrix,!0),Z=H._definition,ee=N(Z,"symbol"),le=Z._item,ie=le.getStrokeBounds();return ee||(ee=St.create("symbol",{viewBox:i.rectangle(ie)}),ee.appendChild(Y(le,G)),R(Z,ee,"symbol")),z.href="#"+ee.id,z.x+=ie.x,z.y+=ie.y,z.width=ie.width,z.height=ie.height,z.overflow="visible",St.create("use",z,i)}function b(H){var G=N(H,"color");if(!G){var z=H.getGradient(),Z=z._radial,ee=H.getOrigin(),le=H.getDestination(),ie;if(Z){ie={cx:ee.x,cy:ee.y,r:ee.getDistance(le)};var pe=H.getHighlight();pe&&(ie.fx=pe.x,ie.fy=pe.y)}else ie={x1:ee.x,y1:ee.y,x2:le.x,y2:le.y};ie.gradientUnits="userSpaceOnUse",G=St.create((Z?"radial":"linear")+"Gradient",ie,i);for(var ve=z._stops,xe=0,Ce=ve.length;xe<Ce;xe++){var be=ve[xe],Ee=be._color,Ie=Ee.getAlpha(),Ue=be._offset;ie={offset:Ue==null?xe/(Ce-1):Ue},Ee&&(ie["stop-color"]=Ee.toCSS(!0)),Ie<1&&(ie["stop-opacity"]=Ie),G.appendChild(St.create("stop",ie,i))}R(H,G,"color")}return"url(#"+G.id+")"}function T(H){var G=St.create("text",e(H._matrix,!0),i);return G.textContent=H._content,G}var O={Group:r,Layer:r,Raster:s,Path:h,Shape:y,CompoundPath:v,SymbolItem:x,PointText:T};function L(H,G,z){var Z={},ee=!z&&H.getParent(),le=[];return H._name!=null&&(Z.id=H._name),t.each(bt,function(ie){var pe=ie.get,ve=ie.type,xe=H[pe]();if(ie.exportFilter?ie.exportFilter(H,xe):!ee||!t.equals(ee[pe](),xe)){if(ve==="color"&&xe!=null){var Ce=xe.getAlpha();Ce<1&&(Z[ie.attribute+"-opacity"]=Ce)}ve==="style"?le.push(ie.attribute+": "+xe):Z[ie.attribute]=xe==null?"none":ve==="color"?xe.gradient?b(xe):xe.toCSS(!0):ve==="array"?xe.join(","):ve==="lookup"?ie.toSVG[xe]:xe}}),le.length&&(Z.style=le.join(";")),Z.opacity===1&&delete Z.opacity,H._visible||(Z.visibility="hidden"),St.set(G,Z,i)}var D;function N(H,G){return D||(D={ids:{},svgs:{}}),H&&D.svgs[G+"-"+(H._id||H.__id||(H.__id=l.get("svg")))]}function R(H,G,z){D||N();var Z=D.ids[z]=(D.ids[z]||0)+1;G.id=z+"-"+Z,D.svgs[z+"-"+(H._id||H.__id)]=G}function X(H,G){var z=H,Z=null;if(D){z=H.nodeName.toLowerCase()==="svg"&&H;for(var ee in D.svgs)Z||(z||(z=St.create("svg"),z.appendChild(H)),Z=z.insertBefore(St.create("defs"),z.firstChild)),Z.appendChild(D.svgs[ee]);D=null}return G.asString?new n.XMLSerializer().serializeToString(z):z}function Y(H,G,z){var Z=O[H._class],ee=Z&&Z(H,G);if(ee){var le=G.onExport;le&&(ee=le(H,ee,G)||ee);var ie=JSON.stringify(H._data);ie&&ie!=="{}"&&ie!=="null"&&ee.setAttribute("data-paper-data",ie)}return ee&&L(H,ee,z)}function K(H){return H||(H={}),i=new u(H.precision),H}B.inject({exportSVG:function(H){return H=K(H),X(Y(this,H,!0),H)}}),$.inject({exportSVG:function(H){H=K(H);var G=this._children,z=this.getView(),Z=t.pick(H.bounds,"view"),ee=H.matrix||Z==="view"&&z._matrix,le=ee&&U.read([ee]),ie=Z==="view"?new E([0,0],z.getViewSize()):Z==="content"?B._getBounds(G,le,{stroke:!0}).rect:E.read([Z],0,{readNull:!0}),pe={version:"1.1",xmlns:St.svg,"xmlns:xlink":St.xlink};ie&&(pe.width=ie.width,pe.height=ie.height,(ie.x||ie.x===0||ie.y||ie.y===0)&&(pe.viewBox=i.rectangle(ie)));var ve=St.create("svg",pe,i),xe=ve;le&&!le.isIdentity()&&(xe=ve.appendChild(St.create("g",e(le),i)));for(var Ce=0,be=G.length;Ce<be;Ce++)xe.appendChild(Y(G[Ce],H,!0));return X(ve,H)}})},new function(){var i={},e;function r(G,z,Z,ee,le,ie){var pe=St.get(G,z)||ie,ve=pe==null?ee?null:Z?"":0:Z?pe:parseFloat(pe);return/%\s*$/.test(pe)?ve/100*(le?1:e[/x|^width/.test(z)?"width":"height"]):ve}function s(G,z,Z,ee,le,ie,pe){return z=r(G,z||"x",!1,ee,le,ie),Z=r(G,Z||"y",!1,ee,le,pe),ee&&(z==null||Z==null)?null:new o(z,Z)}function h(G,z,Z,ee,le){return z=r(G,z||"width",!1,ee,le),Z=r(G,Z||"height",!1,ee,le),ee&&(z==null||Z==null)?null:new _(z,Z)}function y(G,z,Z){return G==="none"?null:z==="number"?parseFloat(G):z==="array"?G?G.split(/[\s,]+/g).map(parseFloat):[]:z==="color"?Y(G)||G:z==="lookup"?Z[G]:G}function v(G,z,Z,ee){var le=G.childNodes,ie=z==="clippath",pe=z==="defs",ve=new se,xe=ve._project,Ce=xe._currentStyle,be=[];if(!ie&&!pe&&(ve=X(ve,G,ee),xe._currentStyle=ve._style.clone()),ee)for(var Ee=G.querySelectorAll("defs"),Ie=0,Ue=Ee.length;Ie<Ue;Ie++)K(Ee[Ie],Z,!1);for(var Ie=0,Ue=le.length;Ie<Ue;Ie++){var We=le[Ie],rt;We.nodeType===1&&!/^defs$/i.test(We.nodeName)&&(rt=K(We,Z,!1))&&!(rt instanceof ue)&&be.push(rt)}return ve.addChildren(be),ie&&(ve=X(ve.reduce(),G,ee)),xe._currentStyle=Ce,(ie||pe)&&(ve.remove(),ve=null),ve}function x(G,z){for(var Z=G.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),ee=[],le=0,ie=Z.length;le<ie;le+=2)ee.push(new o(parseFloat(Z[le]),parseFloat(Z[le+1])));var pe=new Be(ee);return z==="polygon"&&pe.closePath(),pe}function b(G){return Le.create(G.getAttribute("d"))}function T(G,z){var Z=(r(G,"href",!0)||"").substring(1),ee=z==="radialgradient",le;if(Z)le=i[Z].getGradient(),le._radial^ee&&(le=le.clone(),le._radial=ee);else{for(var ie=G.childNodes,pe=[],ve=0,xe=ie.length;ve<xe;ve++){var Ce=ie[ve];Ce.nodeType===1&&pe.push(X(new me,Ce))}le=new ae(pe,ee)}var be,Ee,Ie,Ue=r(G,"gradientUnits",!0)!=="userSpaceOnUse";ee?(be=s(G,"cx","cy",!1,Ue,"50%","50%"),Ee=be.add(r(G,"r",!1,!1,Ue,"50%"),0),Ie=s(G,"fx","fy",!0,Ue)):(be=s(G,"x1","y1",!1,Ue,"0%","0%"),Ee=s(G,"x2","y2",!1,Ue,"100%","0%"));var We=X(new Fe(le,be,Ee,Ie),G);return We._scaleToBounds=Ue,null}var O={"#document":function(G,z,Z,ee){for(var le=G.childNodes,ie=0,pe=le.length;ie<pe;ie++){var ve=le[ie];if(ve.nodeType===1)return K(ve,Z,ee)}},g:v,svg:v,clippath:v,polygon:x,polyline:x,path:b,lineargradient:T,radialgradient:T,image:function(G){var z=new ge(r(G,"href",!0));return z.on("load",function(){var Z=h(G);this.setSize(Z);var ee=s(G).add(Z.divide(2));this._matrix.append(new U().translate(ee))}),z},symbol:function(G,z,Z,ee){return new ue(v(G,z,Z,ee),!0)},defs:v,use:function(G){var z=(r(G,"href",!0)||"").substring(1),Z=i[z],ee=s(G);return Z?Z instanceof ue?Z.place(ee):Z.clone().translate(ee):null},circle:function(G){return new oe.Circle(s(G,"cx","cy"),r(G,"r"))},ellipse:function(G){return new oe.Ellipse({center:s(G,"cx","cy"),radius:h(G,"rx","ry")})},rect:function(G){return new oe.Rectangle(new E(s(G),h(G)),h(G,"rx","ry"))},line:function(G){return new Be.Line(s(G,"x1","y1"),s(G,"x2","y2"))},text:function(G){var z=new at(s(G).add(s(G,"dx","dy")));return z.setContent(G.textContent.trim()||""),z},switch:v};function L(G,z,Z,ee){if(G.transform){for(var le=(ee.getAttribute(Z)||"").split(/\)\s*/g),ie=new U,pe=0,ve=le.length;pe<ve;pe++){var xe=le[pe];if(!xe)break;for(var Ce=xe.split(/\(\s*/),be=Ce[0],Ee=Ce[1].split(/[\s,]+/g),Ie=0,Ue=Ee.length;Ie<Ue;Ie++)Ee[Ie]=parseFloat(Ee[Ie]);switch(be){case"matrix":ie.append(new U(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]));break;case"rotate":ie.rotate(Ee[0],Ee[1]||0,Ee[2]||0);break;case"translate":ie.translate(Ee[0],Ee[1]||0);break;case"scale":ie.scale(Ee);break;case"skewX":ie.skew(Ee[0],0);break;case"skewY":ie.skew(0,Ee[0]);break}}G.transform(ie)}}function D(G,z,Z){var ee=Z==="fill-opacity"?"getFillColor":"getStrokeColor",le=G[ee]&&G[ee]();le&&le.setAlpha(parseFloat(z))}var N=t.set(t.each(bt,function(G){this[G.attribute]=function(z,Z){if(z[G.set]&&(z[G.set](y(Z,G.type,G.fromSVG)),G.type==="color")){var ee=z[G.get]();if(ee&&ee._scaleToBounds){var le=z.getBounds();ee.transform(new U().translate(le.getPoint()).scale(le.getSize()))}}}},{}),{id:function(G,z){i[z]=G,G.setName&&G.setName(z)},"clip-path":function(G,z){var Z=Y(z);if(Z)if(Z=Z.clone(),Z.setClipMask(!0),G instanceof se)G.insertChild(0,Z);else return new se(Z,G)},gradientTransform:L,transform:L,"fill-opacity":D,"stroke-opacity":D,visibility:function(G,z){G.setVisible&&G.setVisible(z==="visible")},display:function(G,z){G.setVisible&&G.setVisible(z!==null)},"stop-color":function(G,z){G.setColor&&G.setColor(z)},"stop-opacity":function(G,z){G._color&&G._color.setAlpha(parseFloat(z))},offset:function(G,z){if(G.setOffset){var Z=z.match(/(.*)%$/);G.setOffset(Z?Z[1]/100:parseFloat(z))}},viewBox:function(G,z,Z,ee,le){var ie=new E(y(z,"array")),pe=h(ee,null,null,!0),ve,xe;if(G instanceof se){var Ce=pe?pe.divide(ie.getSize()):1,xe=new U().scale(Ce).translate(ie.getPoint().negate());ve=G}else G instanceof ue&&(pe&&ie.setSize(pe),ve=G._item);if(ve){if(R(ee,"overflow",le)!=="visible"){var be=new oe.Rectangle(ie);be.setClipMask(!0),ve.addChild(be)}xe&&ve.transform(xe)}}});function R(G,z,Z){var ee=G.attributes[z],le=ee&&ee.value;if(!le&&G.style){var ie=t.camelize(z);le=G.style[ie],!le&&Z.node[ie]!==Z.parent[ie]&&(le=Z.node[ie])}return le?le==="none"?null:le:C}function X(G,z,Z){var ee=z.parentNode,le={node:Me.getStyles(z)||{},parent:!Z&&!/^defs$/i.test(ee.tagName)&&Me.getStyles(ee)||{}};return t.each(N,function(ie,pe){var ve=R(z,pe,le);G=ve!==C&&ie(G,ve,pe,z,le)||G}),G}function Y(G){var z=G&&G.match(/\((?:["'#]*)([^"')]+)/),Z=z&&z[1],ee=Z&&i[S?Z.replace(S.location.href.split("#")[0]+"#",""):Z];return ee&&ee._scaleToBounds&&(ee=ee.clone(),ee._scaleToBounds=!0),ee}function K(G,z,Z){var ee=G.nodeName.toLowerCase(),le=ee!=="#document",ie=g.body,pe,ve,xe;Z&&le&&(e=Et.getView().getSize(),e=h(G,null,null,!0)||e,pe=St.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),ve=G.parentNode,xe=G.nextSibling,pe.appendChild(G),ie.appendChild(pe));var Ce=Et.settings,be=Ce.applyMatrix,Ee=Ce.insertItems;Ce.applyMatrix=!1,Ce.insertItems=!1;var Ie=O[ee],Ue=Ie&&Ie(G,ee,z,Z)||null;if(Ce.insertItems=Ee,Ce.applyMatrix=be,Ue){le&&!(Ue instanceof se)&&(Ue=X(Ue,G,Z));var We=z.onImport,rt=le&&G.getAttribute("data-paper-data");We&&(Ue=We(G,Ue,z)||Ue),z.expandShapes&&Ue instanceof oe&&(Ue.remove(),Ue=Ue.toPath()),rt&&(Ue._data=JSON.parse(rt))}return pe&&(ie.removeChild(pe),ve&&(xe?ve.insertBefore(G,xe):ve.appendChild(G))),Z&&(i={},Ue&&t.pick(z.applyMatrix,be)&&Ue.matrix.apply(!0,!0)),Ue}function H(G,z,Z){if(!G)return null;z=typeof z=="function"?{onLoad:z}:z||{};var ee=Et,le=null;function ie(Ce){try{var be=typeof Ce=="object"?Ce:new n.DOMParser().parseFromString(Ce.trim(),"image/svg+xml");if(!be.nodeName)throw be=null,new Error("Unsupported SVG source: "+G);Et=ee,le=K(be,z,!0),(!z||z.insert!==!1)&&Z._insertItem(C,le);var Ee=z.onLoad;Ee&&Ee(le,Ce)}catch(Ie){pe(Ie)}}function pe(Ce,be){var Ee=z.onError;if(Ee)Ee(Ce,be);else throw new Error(Ce)}if(typeof G=="string"&&!/^[\s\S]*</.test(G)){var ve=g.getElementById(G);ve?ie(ve):it.request({url:G,async:!0,onLoad:ie,onError:pe})}else if(typeof File<"u"&&G instanceof File){var xe=new FileReader;return xe.onload=function(){ie(xe.result)},xe.onerror=function(){pe(xe.error)},xe.readAsText(G)}else ie(G);return le}B.inject({importSVG:function(G,z){return H(G,z,this)}}),$.inject({importSVG:function(G,z){return this.activate(),H(G,z,this)}})};var Et=new(f.inject(t.exports,{Base:t,Numerical:a,Key:ze,DomEvent:Ve,DomElement:Me,document:g,window:S,Symbol:ue,PlacedSymbol:J}));return Et.agent.node&&Zs(Et),typeof C=="function"&&C.amd?C("paper",Et):P&&(P.exports=Et),Et}).call(io,typeof self=="object"?self:null)})(kl);function mn(P){if(this.size=P|0,this.size<=1||(this.size&this.size-1)!==0)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=P<<1;for(var n=new Array(this.size*2),C=0;C<n.length;C+=2){const m=Math.PI*C/this.size;n[C]=Math.cos(m),n[C+1]=-Math.sin(m)}this.table=n;for(var S=0,g=1;this.size>g;g<<=1)S++;this._width=S%2===0?S-1:S,this._bitrev=new Array(1<<this._width);for(var t=0;t<this._bitrev.length;t++){this._bitrev[t]=0;for(var c=0;c<this._width;c+=2){var f=this._width-c-2;this._bitrev[t]|=(t>>>c&3)<<f}}this._out=null,this._data=null,this._inv=0}var tm=mn;mn.prototype.fromComplexArray=function(n,C){for(var S=C||new Array(n.length>>>1),g=0;g<n.length;g+=2)S[g>>>1]=n[g];return S};mn.prototype.createComplexArray=function(){const n=new Array(this._csize);for(var C=0;C<n.length;C++)n[C]=0;return n};mn.prototype.toComplexArray=function(n,C){for(var S=C||this.createComplexArray(),g=0;g<S.length;g+=2)S[g]=n[g>>>1],S[g+1]=0;return S};mn.prototype.completeSpectrum=function(n){for(var C=this._csize,S=C>>>1,g=2;g<S;g+=2)n[C-g]=n[g],n[C-g+1]=-n[g+1]};mn.prototype.transform=function(n,C){if(n===C)throw new Error("Input and output buffers must be different");this._out=n,this._data=C,this._inv=0,this._transform4(),this._out=null,this._data=null};mn.prototype.realTransform=function(n,C){if(n===C)throw new Error("Input and output buffers must be different");this._out=n,this._data=C,this._inv=0,this._realTransform4(),this._out=null,this._data=null};mn.prototype.inverseTransform=function(n,C){if(n===C)throw new Error("Input and output buffers must be different");this._out=n,this._data=C,this._inv=1,this._transform4();for(var S=0;S<n.length;S++)n[S]/=this.size;this._out=null,this._data=null};mn.prototype._transform4=function(){var n=this._out,C=this._csize,S=this._width,g=1<<S,t=C/g<<1,c,f,m=this._bitrev;if(t===4)for(c=0,f=0;c<C;c+=t,f++){const _=m[f];this._singleTransform2(c,_,g)}else for(c=0,f=0;c<C;c+=t,f++){const _=m[f];this._singleTransform4(c,_,g)}var p=this._inv?-1:1,u=this.table;for(g>>=2;g>=2;g>>=2){t=C/g<<1;var a=t>>>2;for(c=0;c<C;c+=t)for(var l=c+a,o=c,d=0;o<l;o+=2,d+=g){const _=o,k=_+a,E=k+a,I=E+a,U=n[_],V=n[_+1],$=n[k],B=n[k+1],se=n[E],ne=n[E+1],oe=n[I],ge=n[I+1],J=U,ue=V,he=u[d],ye=p*u[d+1],Oe=$*he-B*ye,de=$*ye+B*he,Ne=u[2*d],Le=p*u[2*d+1],Be=se*Ne-ne*Le,$e=se*Le+ne*Ne,ut=u[3*d],Ke=p*u[3*d+1],_t=oe*ut-ge*Ke,at=oe*Ke+ge*ut,Fe=J+Be,ae=ue+$e,me=J-Be,Te=ue-$e,Me=Oe+_t,Ve=de+at,je=p*(Oe-_t),Pe=p*(de-at),_e=Fe+Me,He=ae+Ve,ze=Fe-Me,Ge=ae-Ve,st=me+Pe,ht=Te-je,it=me-Pe,mt=Te+je;n[_]=_e,n[_+1]=He,n[k]=st,n[k+1]=ht,n[E]=ze,n[E+1]=Ge,n[I]=it,n[I+1]=mt}}};mn.prototype._singleTransform2=function(n,C,S){const g=this._out,t=this._data,c=t[C],f=t[C+1],m=t[C+S],p=t[C+S+1],u=c+m,a=f+p,l=c-m,o=f-p;g[n]=u,g[n+1]=a,g[n+2]=l,g[n+3]=o};mn.prototype._singleTransform4=function(n,C,S){const g=this._out,t=this._data,c=this._inv?-1:1,f=S*2,m=S*3,p=t[C],u=t[C+1],a=t[C+S],l=t[C+S+1],o=t[C+f],d=t[C+f+1],_=t[C+m],k=t[C+m+1],E=p+o,I=u+d,U=p-o,V=u-d,$=a+_,B=l+k,se=c*(a-_),ne=c*(l-k),oe=E+$,ge=I+B,J=U+ne,ue=V-se,he=E-$,ye=I-B,Oe=U-ne,de=V+se;g[n]=oe,g[n+1]=ge,g[n+2]=J,g[n+3]=ue,g[n+4]=he,g[n+5]=ye,g[n+6]=Oe,g[n+7]=de};mn.prototype._realTransform4=function(){var n=this._out,C=this._csize,S=this._width,g=1<<S,t=C/g<<1,c,f,m=this._bitrev;if(t===4)for(c=0,f=0;c<C;c+=t,f++){const T=m[f];this._singleRealTransform2(c,T>>>1,g>>>1)}else for(c=0,f=0;c<C;c+=t,f++){const T=m[f];this._singleRealTransform4(c,T>>>1,g>>>1)}var p=this._inv?-1:1,u=this.table;for(g>>=2;g>=2;g>>=2){t=C/g<<1;var a=t>>>1,l=a>>>1,o=l>>>1;for(c=0;c<C;c+=t)for(var d=0,_=0;d<=o;d+=2,_+=g){var k=c+d,E=k+l,I=E+l,U=I+l,V=n[k],$=n[k+1],B=n[E],se=n[E+1],ne=n[I],oe=n[I+1],ge=n[U],J=n[U+1],ue=V,he=$,ye=u[_],Oe=p*u[_+1],de=B*ye-se*Oe,Ne=B*Oe+se*ye,Le=u[2*_],Be=p*u[2*_+1],$e=ne*Le-oe*Be,ut=ne*Be+oe*Le,Ke=u[3*_],_t=p*u[3*_+1],at=ge*Ke-J*_t,Fe=ge*_t+J*Ke,ae=ue+$e,me=he+ut,Te=ue-$e,Me=he-ut,Ve=de+at,je=Ne+Fe,Pe=p*(de-at),_e=p*(Ne-Fe),He=ae+Ve,ze=me+je,Ge=Te+_e,st=Me-Pe;if(n[k]=He,n[k+1]=ze,n[E]=Ge,n[E+1]=st,d===0){var ht=ae-Ve,it=me-je;n[I]=ht,n[I+1]=it;continue}if(d!==o){var mt=Te,gt=-Me,St=ae,bt=-me,Et=-p*_e,i=-p*Pe,e=-p*je,r=-p*Ve,s=mt+Et,h=gt+i,y=St+r,v=bt-e,x=c+l-d,b=c+a-d;n[x]=s,n[x+1]=h,n[b]=y,n[b+1]=v}}}};mn.prototype._singleRealTransform2=function(n,C,S){const g=this._out,t=this._data,c=t[C],f=t[C+S],m=c+f,p=c-f;g[n]=m,g[n+1]=0,g[n+2]=p,g[n+3]=0};mn.prototype._singleRealTransform4=function(n,C,S){const g=this._out,t=this._data,c=this._inv?-1:1,f=S*2,m=S*3,p=t[C],u=t[C+S],a=t[C+f],l=t[C+m],o=p+a,d=p-a,_=u+l,k=c*(u-l),E=o+_,I=d,U=-k,V=o-_,$=d,B=k;g[n]=E,g[n+1]=0,g[n+2]=I,g[n+3]=U,g[n+4]=V,g[n+5]=0,g[n+6]=$,g[n+7]=B};class _s{constructor(n,C){Bn(this,"_inputLength");Bn(this,"_fft");Bn(this,"_bufferSupplier");Bn(this,"_paddedInputBuffer");Bn(this,"_transformBuffer");Bn(this,"_inverseBuffer");if(n<1)throw new Error("Input length must be at least one");this._inputLength=n,this._fft=new tm(im(2*n)),this._bufferSupplier=C,this._paddedInputBuffer=this._bufferSupplier(this._fft.size),this._transformBuffer=this._bufferSupplier(2*this._fft.size),this._inverseBuffer=this._bufferSupplier(2*this._fft.size)}static forFloat32Array(n){return new _s(n,C=>new Float32Array(C))}static forFloat64Array(n){return new _s(n,C=>new Float64Array(C))}static forNumberArray(n){return new _s(n,C=>Array(C))}get inputLength(){return this._inputLength}autocorrelate(n,C=this._bufferSupplier(n.length)){if(n.length!==this._inputLength)throw new Error(`Input must have length ${this._inputLength} but had length ${n.length}`);for(let g=0;g<n.length;g++)this._paddedInputBuffer[g]=n[g];for(let g=n.length;g<this._paddedInputBuffer.length;g++)this._paddedInputBuffer[g]=0;this._fft.realTransform(this._transformBuffer,this._paddedInputBuffer),this._fft.completeSpectrum(this._transformBuffer);const S=this._transformBuffer;for(let g=0;g<S.length;g+=2)S[g]=S[g]*S[g]+S[g+1]*S[g+1],S[g+1]=0;this._fft.inverseTransform(this._inverseBuffer,this._transformBuffer);for(let g=0;g<n.length;g++)C[g]=this._inverseBuffer[2*g];return C}}function rm(P){const n=[];let C=!1,S=-1/0,g=-1;for(let t=1;t<P.length-1;t++)P[t-1]<=0&&P[t]>0?(C=!0,g=t,S=P[t]):P[t-1]>0&&P[t]<=0?(C=!1,g!==-1&&n.push(g)):C&&P[t]>S&&(S=P[t],g=t);return n}function nm(P,n){const[C,S,g]=[P-1,P,P+1],[t,c,f]=[n[C],n[S],n[g]],m=t/2-c+f/2,p=-(t/2)*(S+g)+c*(C+g)-f/2*(C+S),u=t*S*g/2-c*C*g+f*C*S/2,a=-p/(2*m),l=m*a*a+p*a+u;return[a,l]}class bs{constructor(n,C){Bn(this,"_autocorrelator");Bn(this,"_nsdfBuffer");Bn(this,"_clarityThreshold",.9);this._autocorrelator=new _s(n,C),this._nsdfBuffer=C(n)}static forFloat32Array(n){return new bs(n,C=>new Float32Array(C))}static forFloat64Array(n){return new bs(n,C=>new Float64Array(C))}static forNumberArray(n){return new bs(n,C=>Array(C))}get inputLength(){return this._autocorrelator.inputLength}findPitch(n,C){this._nsdf(n);const S=rm(this._nsdfBuffer);if(S.length===0)return[0,0];const g=Math.max(...S.map(m=>this._nsdfBuffer[m])),t=S.find(m=>this._nsdfBuffer[m]>=this._clarityThreshold*g),[c,f]=nm(t,this._nsdfBuffer);return[C/c,Math.min(f,1)]}_nsdf(n){this._autocorrelator.autocorrelate(n,this._nsdfBuffer);let C=2*this._nsdfBuffer[0],S;for(S=0;S<this._nsdfBuffer.length&&C>0;S++)this._nsdfBuffer[S]=2*this._nsdfBuffer[S]/C,C-=n[S]**2+n[n.length-S-1]**2;for(;S<this._nsdfBuffer.length;S++)this._nsdfBuffer[S]=0}}function im(P){return P--,P|=P>>1,P|=P>>2,P|=P>>4,P|=P>>8,P|=P>>16,P++,P}const sm=[{Note:"C0",Frequency:16.35,Wavelength:2109.89},{Note:"D0",Frequency:18.35,Wavelength:1991.47},{Note:"E0",Frequency:20.6,Wavelength:1674.62},{Note:"F0",Frequency:21.83,Wavelength:1580.63},{Note:"G0",Frequency:24.5,Wavelength:1408.18},{Note:"A0",Frequency:27.5,Wavelength:1254.55},{Note:"A#0",Frequency:29.14,Wavelength:1184.13},{Note:"B0",Frequency:30.87,Wavelength:1117.67},{Note:"C1",Frequency:32.7,Wavelength:1054.94},{Note:"D1",Frequency:36.71,Wavelength:939.85},{Note:"E1",Frequency:41.2,Wavelength:837.31},{Note:"F1",Frequency:43.65,Wavelength:790.31},{Note:"G1",Frequency:49,Wavelength:704.09},{Note:"A1",Frequency:55,Wavelength:627.27},{Note:"A#1",Frequency:58.27,Wavelength:592.07},{Note:"B1",Frequency:61.74,Wavelength:558.84},{Note:"C2",Frequency:65.41,Wavelength:527.47},{Note:"D2",Frequency:73.42,Wavelength:469.92},{Note:"E2",Frequency:82.41,Wavelength:418.65},{Note:"F2",Frequency:87.31,Wavelength:395.16},{Note:"G2",Frequency:98,Wavelength:352.04},{Note:"A2",Frequency:110,Wavelength:313.64},{Note:"A#2",Frequency:116.54,Wavelength:296.03},{Note:"B2",Frequency:123.47,Wavelength:279.42},{Note:"C3",Frequency:130.81,Wavelength:263.74},{Note:"D3",Frequency:146.83,Wavelength:234.96},{Note:"E3",Frequency:164.81,Wavelength:209.33},{Note:"F3",Frequency:174.61,Wavelength:197.58},{Note:"G3",Frequency:196,Wavelength:176.02},{Note:"A3",Frequency:220,Wavelength:156.82},{Note:"A#3",Frequency:233.08,Wavelength:148.02},{Note:"B3",Frequency:246.94,Wavelength:139.71},{Note:"C4",Frequency:261.63,Wavelength:131.87},{Note:"D4",Frequency:293.66,Wavelength:117.48},{Note:"E4",Frequency:329.63,Wavelength:104.66},{Note:"F4",Frequency:349.23,Wavelength:98.79},{Note:"G4",Frequency:392,Wavelength:88.01},{Note:"A4",Frequency:440,Wavelength:78.41},{Note:"A#4",Frequency:466.16,Wavelength:74.01},{Note:"B4",Frequency:493.88,Wavelength:69.85},{Note:"C5",Frequency:523.25,Wavelength:65.93},{Note:"D5",Frequency:587.33,Wavelength:58.74},{Note:"E5",Frequency:659.25,Wavelength:52.33},{Note:"F5",Frequency:698.46,Wavelength:49.39},{Note:"G5",Frequency:783.99,Wavelength:44.01},{Note:"A5",Frequency:880,Wavelength:39.2},{Note:"A#5",Frequency:932.33,Wavelength:37},{Note:"B5",Frequency:987.77,Wavelength:34.93},{Note:"C6",Frequency:1046.5,Wavelength:32.97},{Note:"D6",Frequency:1174.66,Wavelength:29.37},{Note:"E6",Frequency:1318.51,Wavelength:26.17},{Note:"F6",Frequency:1396.91,Wavelength:24.7},{Note:"G6",Frequency:1567.98,Wavelength:22},{Note:"A6",Frequency:1760,Wavelength:19.6},{Note:"A#6",Frequency:1864.66,Wavelength:18.5},{Note:"B6",Frequency:1975.53,Wavelength:17.46},{Note:"C7",Frequency:2093,Wavelength:16.48},{Note:"D7",Frequency:2349.32,Wavelength:14.69},{Note:"E7",Frequency:2637.02,Wavelength:13.08},{Note:"F7",Frequency:2793.83,Wavelength:12.35},{Note:"G7",Frequency:3135.96,Wavelength:11},{Note:"A7",Frequency:3520,Wavelength:9.8},{Note:"A#7",Frequency:3729.31,Wavelength:9.25},{Note:"B7",Frequency:3951.07,Wavelength:8.73},{Note:"C8",Frequency:4186.01,Wavelength:8.24},{Note:"D8",Frequency:4698.63,Wavelength:7.34},{Note:"E8",Frequency:5274.04,Wavelength:6.54},{Note:"F8",Frequency:5587.65,Wavelength:6.17},{Note:"G8",Frequency:6271.93,Wavelength:5.5},{Note:"A8",Frequency:7040,Wavelength:4.9},{Note:"A#8",Frequency:7458.62,Wavelength:4.63},{Note:"B8",Frequency:7902.13,Wavelength:4.37}],am={name:"oOoLogo",props:{},setup(P){const n=em(),C=pn("container"+Math.ceil(Math.random()*100).toString());let S=new Jp.PaperScope;n.paperScopes.push(S);let g,t,c;const f="#FFF9F3",m=["#F4364C","#EF6A00","#FFB500","#00957A","#00BCE1","#0047BB","#97409E","#EF60A3"];let p=[{insidePath:Np,outsidePath:Dp,maxSizePercentage:99,regularOctaveEnlargement:!1,octaveEnlargementFactor:1.2},{insidePath:Fp,outsidePath:Bp,maxSizePercentage:95,regularOctaveEnlargement:!1,octaveEnlargementFactor:1.2},{insidePath:Up,outsidePath:Vp,maxSizePercentage:90,regularOctaveEnlargement:!0,octaveEnlargementFactor:1},{insidePath:zp,outsidePath:Gp,maxSizePercentage:95,regularOctaveEnlargement:!0,octaveEnlargementFactor:1},{insidePath:qp,outsidePath:Hp,maxSizePercentage:50,regularOctaveEnlargement:!0,octaveEnlargementFactor:1},{insidePath:Wp,outsidePath:Xp,maxSizePercentage:95,regularOctaveEnlargement:!0,octaveEnlargementFactor:1}];return Ni(()=>{const u=a=>{let l;function o(){try{const de=a.createVector(d.parent().offsetWidth,d.parent().offsetHeight);de.x/de.y<3.2&&(de.y=de.x/3.2),S.setup(de),a.resizeCanvas(de.x,de.y)}catch{}}let d,_=0,k=a.color(f),E=0,I=.8,U=E,V=I,$=0,B=0,se=5,ne,oe=5,ge=Array(oe),J=Array(oe),ue=10,he=Array(0),ye;a.preload=function(){for(let de in ue)he.unshift(k);ne=k};function Oe(){let de=a.height-a.height/20;S&&S.activate();try{for(let Ne of[-1,0,1]){let Le=S.project.importSVG(p[B].outsidePath,{insert:!1}),Be=S.project.importSVG(p[B].insidePath,{insert:!1}),$e=ge[Math.abs(Ne*(ge.length-1))],ut=Ne==0?a.map($e,0,1,1.6,1):1,Ke=Ne==0?1:a.map($e,0,1,1.6,1),_t=(de/3+de*2/3*$e)*ut,at=Le.bounds.size.width/Le.bounds.size.height*_t,Fe=_t*p[B].maxSizePercentage/100,ae=Be.bounds.size.width/Be.bounds.size.height*Fe,me=J[Math.abs(Ne*(J.length-1))];_=_t/10,Le.bounds=new S.Rectangle(new S.Point(0,0),new S.Size(at,_t)),Le.setPosition(S.view.size.width/2+(at/2*Ke+at/2+_)*Ne,S.view.size.height-_t/2);let Te=1;p[B].regularOctaveEnlargement||(Te=p[B].octaveEnlargementFactor*me),Be.bounds=new S.Rectangle(new S.Point(0,0),new S.Size(ae*me*Te,Fe*me)),Be.setPosition(S.view.size.width/2+(at/2*Ke+at/2+_)*Ne,S.view.size.height-_t/2);let Me=new S.CompoundPath({children:[Le.getItems()[1].subtract(Be.getItems()[1])],fillColor:new kl.exports.Color(a.map(ne.levels[0],0,255,0,1),a.map(ne.levels[1],0,255,0,1),a.map(ne.levels[2],0,255,0,1))})}l=S.project.exportSVG({asString:!1}),S.project.clear()}catch(Ne){console.log(Ne)}}a.setup=function(){d=a.createCanvas(0,0,a.SVG);let de=new S.Size(50,50);S.setup(de),o(),a.smooth(8),a.imageMode(a.CENTER),a.frameRate(60),g=new p5.AudioIn,g.start(),ye=new p5.FFT(0,1024),ye.setInput(g),c=bs.forNumberArray(1024)},a.touchStarted=function(){a.getAudioContext().resume()},a.draw=function(){d.drawingContext.__clearCanvas();let de=!1,[Ne,Le]=c.findPitch(ye.waveform(),a.getAudioContext().sampleRate);if(E=a.map(g.getLevel(),0,.4,0,1),E=a.constrain(E,0,1),Le>.6&&E>.05?de=!0:de=!1,de){let $e=sm.findIndex((ut,Ke)=>ut.Frequency>Ne);$e&&(se=Math.floor($e/8),$=$e%8,k=a.color(m.at($))),I=a.map(se,1,6,0,1),I=a.constrain(I,0,1)}else k=a.color(f),E=0,I=.8;he.unshift(k),he.length>ue&&he.pop();const Be={red:0,green:0,blue:0};he.forEach($e=>{Be.red+=a.red($e),Be.green+=a.green($e),Be.blue+=a.blue($e)}),Be.red=Be.red/he.length,Be.green=Be.green/he.length,Be.blue=Be.blue/he.length,ne=a.color(Be.red,Be.green,Be.blue),U=a.lerp(U,E,.1),ge.unshift(U),ge.length>oe&&ge.pop(),V=a.lerp(V,I,.1),J.unshift(V),J.length>oe&&J.pop(),Oe(),a.image(l,a.width/2,a.height/2,a.width,a.height)},a.windowResized=function(){o()}};t=new p5(u,C.value)}),na(()=>{n.paperScopes=[],S.project.remove(),S.remove(),S=null,g&&g.stop(),t.noLoop()}),{containerName:C}}},om=["id"];function um(P,n){return Ur(),zr("div",{id:P.containerName,style:{width:"100%",height:"100%","line-height":"0px"},class:"flex justify-center"},null,8,om)}const El=rn(am,[["render",um]]),lm={},cm={width:"100%",height:"100%",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hm=yt("mask",{id:"mask0_667_2277",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"49",height:"49"},[yt("rect",{x:"0.5",y:"0.083252",width:"48",height:"48",fill:"black"})],-1),fm=yt("g",{mask:"url(#mask0_667_2277)"},[yt("path",{d:"M24.5 41.8333C20.1667 41.8333 16.4587 40.3166 13.376 37.2833C10.292 34.25 8.75 30.5833 8.75 26.2833C8.75 24.15 9.19133 22.1666 10.074 20.3333C10.958 18.5 12.1 16.8666 13.5 15.4333L24.5 4.6333L35.5 15.4333C36.9333 16.8666 38.0833 18.5 38.95 20.3333C39.8167 22.1666 40.25 24.15 40.25 26.2833C40.25 30.5833 38.7167 34.25 35.65 37.2833C32.5833 40.3166 28.8667 41.8333 24.5 41.8333ZM24.5 38.0833V9.8833L16.1 18.1333C15 19.2333 14.1253 20.4746 13.476 21.8573C12.8253 23.2413 12.5 24.7166 12.5 26.2833C12.5 29.5166 13.6667 32.2913 16 34.6073C18.3333 36.9246 21.1667 38.0833 24.5 38.0833Z",fill:"currentColor"})],-1),dm=[hm,fm];function pm(P,n){return Ur(),zr("svg",cm,dm)}const nu=rn(lm,[["render",pm]]),mm={},gm={width:"100%",height:"100%",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vm=yt("mask",{id:"mask0_667_2302",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"49",height:"49"},[yt("rect",{x:"0.5",y:"0.083252",width:"48",height:"48",fill:"black"})],-1),ym=yt("g",{mask:"url(#mask0_667_2302)"},[yt("path",{d:"M27.3508 43.5333L24.6508 40.8333L31.6508 33.8333L14.7508 16.9333L7.75078 23.9333L5.05078 21.2333L7.85078 18.3833L5.15078 15.6833L9.30078 11.4833L6.60078 8.73325L9.20078 6.13325L11.9508 8.83325L16.1508 4.68325L18.8508 7.38325L21.7008 4.58325L24.4008 7.28325L17.4008 14.2833L34.3008 31.1833L41.3008 24.1833L44.0008 26.8833L41.2008 29.7333L43.9008 32.4333L39.7008 36.5833L42.4008 39.3333L39.8008 41.9333L37.0508 39.2333L32.9008 43.4333L30.2008 40.7333L27.3508 43.5333Z",fill:"currentColor"})],-1),_m=[vm,ym];function bm(P,n){return Ur(),zr("svg",gm,_m)}const iu=rn(mm,[["render",bm]]),xm={},wm={width:"100%",height:"100%",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Sm=yt("mask",{id:"mask0_667_2307",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"49",height:"49"},[yt("rect",{x:"0.5",y:"0.083252",width:"48",height:"48",fill:"black"})],-1),Cm=yt("g",{mask:"url(#mask0_667_2307)"},[yt("path",{d:"M9.5 35.3333C8.46667 35.3333 7.58333 34.9666 6.85 34.2333C6.11667 33.4999 5.75 32.6166 5.75 31.5833V16.5833C5.75 15.5499 6.11667 14.6666 6.85 13.9333C7.58333 13.1999 8.46667 12.8333 9.5 12.8333H39.5C40.5333 12.8333 41.4167 13.1999 42.15 13.9333C42.8833 14.6666 43.25 15.5499 43.25 16.5833V31.5833C43.25 32.6166 42.8833 33.4999 42.15 34.2333C41.4167 34.9666 40.5333 35.3333 39.5 35.3333H9.5ZM9.5 31.5833H39.5V16.5833H33.9V24.0833H30.15V16.5833H26.4V24.0833H22.65V16.5833H18.9V24.0833H15.15V16.5833H9.5V31.5833Z",fill:"currentColor"})],-1),Tm=[Sm,Cm];function Pm(P,n){return Ur(),zr("svg",wm,Tm)}const su=rn(xm,[["render",Pm]]),km={},Em={width:"100%",height:"100%",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Am=yt("mask",{id:"mask0_667_2312",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"49",height:"49"},[yt("rect",{x:"0.5",y:"0.083252",width:"48",height:"48",fill:"black"})],-1),Mm=yt("g",{mask:"url(#mask0_667_2312)"},[yt("path",{d:"M15.3004 38.1832H33.7004L39.9004 19.5832L24.5004 8.83315L9.10039 19.5832L15.3004 38.1832ZM12.6004 41.9332L4.65039 18.1332L24.5004 4.23315L44.3504 18.1332L36.4004 41.9332H12.6004Z",fill:"currentColor"})],-1),Om=[Am,Mm];function jm(P,n){return Ur(),zr("svg",Em,Om)}const au=rn(km,[["render",jm]]),Im={},Lm={width:"100%",height:"100%",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Rm=yt("mask",{id:"mask0_667_2282",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"49",height:"49"},[yt("rect",{x:"0.5",y:"0.887726",width:"48",height:"48",fill:"#D9D9D9"})],-1),Nm=yt("g",{mask:"url(#mask0_667_2282)"},[yt("path",{d:"M20.6004 42.3877C18.4671 42.3877 16.6504 41.6377 15.1504 40.1377C13.6504 38.6377 12.9004 36.8211 12.9004 34.6877C12.9004 32.5544 13.6504 30.7377 15.1504 29.2377C16.6504 27.7377 18.4671 26.9877 20.6004 26.9877C21.3671 26.9877 22.0671 27.0797 22.7004 27.2637C23.3337 27.4464 23.9504 27.7377 24.5504 28.1377V7.38773H36.1504V14.9877H28.3004V34.6877C28.3004 36.8211 27.5504 38.6377 26.0504 40.1377C24.5504 41.6377 22.7337 42.3877 20.6004 42.3877Z",fill:"currentColor"})],-1),Dm=[Rm,Nm];function Fm(P,n){return Ur(),zr("svg",Lm,Dm)}const Bm=rn(Im,[["render",Fm]]),Um={},Vm={width:"100%",height:"100%",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zm=yt("mask",{id:"mask0_667_2287",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"49",height:"49"},[yt("rect",{x:"0.5",y:"0.887512",width:"48",height:"48",fill:"#D9D9D9"})],-1),Gm=yt("g",{mask:"url(#mask0_667_2287)"},[yt("path",{d:"M10.6992 42.4375C9.66589 42.4375 8.78255 42.0708 8.04922 41.3375C7.31589 40.6041 6.94922 39.7208 6.94922 38.6875V11.0875C6.94922 10.0541 7.31589 9.1708 8.04922 8.43746C8.78255 7.70413 9.66589 7.33746 10.6992 7.33746H38.2992C39.3326 7.33746 40.2159 7.70413 40.9492 8.43746C41.6826 9.1708 42.0492 10.0541 42.0492 11.0875V38.6875C42.0492 39.7208 41.6826 40.6041 40.9492 41.3375C40.2159 42.0708 39.3326 42.4375 38.2992 42.4375H10.6992ZM10.6992 38.6875H17.2492V29.7375H16.5992C16.0992 29.7375 15.6659 29.5541 15.2992 29.1875C14.9326 28.8208 14.7492 28.3875 14.7492 27.8875V11.0875H10.6992V38.6875ZM31.7992 38.6875H38.2992V11.0875H34.2992V27.8875C34.2992 28.3875 34.1159 28.8208 33.7492 29.1875C33.3826 29.5541 32.9326 29.7375 32.3992 29.7375H31.7992V38.6875ZM19.9992 38.6875H29.0492V29.7375H28.3992C27.8992 29.7375 27.4659 29.5541 27.0992 29.1875C26.7326 28.8208 26.5492 28.3875 26.5492 27.8875V11.0875H22.4992V27.8875C22.4992 28.3875 22.3159 28.8208 21.9492 29.1875C21.5826 29.5541 21.1326 29.7375 20.5992 29.7375H19.9992V38.6875Z",fill:"currentColor"})],-1),qm=[zm,Gm];function Hm(P,n){return Ur(),zr("svg",Vm,qm)}const Wm=rn(Um,[["render",Hm]]),Xm={},Zm={width:"100%",height:"100%",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ym=yt("mask",{id:"mask0_667_2292",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"49",height:"49"},[yt("rect",{x:"0.5",y:"0.887512",width:"48",height:"48",fill:"#D9D9D9"})],-1),Km=yt("g",{mask:"url(#mask0_667_2292)"},[yt("path",{d:"M28.4496 41.4876V37.6376C31.2829 36.7709 33.5663 35.1629 35.2996 32.8136C37.0329 30.4629 37.8996 27.8042 37.8996 24.8376C37.8996 21.8709 37.0329 19.2122 35.2996 16.8616C33.5663 14.5122 31.2829 12.9042 28.4496 12.0376V8.18756C32.3496 9.12089 35.5249 11.1376 37.9756 14.2376C40.4249 17.3376 41.6496 20.8709 41.6496 24.8376C41.6496 28.8376 40.4249 32.3796 37.9756 35.4636C35.5249 38.5462 32.3496 40.5542 28.4496 41.4876ZM7.34961 30.5876V19.1876H15.0996L24.6996 9.58756V40.1876L15.0996 30.5876H7.34961ZM28.4496 32.6876V17.0376C30.0163 17.7376 31.2583 18.7876 32.1756 20.1876C33.0916 21.5876 33.5496 23.1542 33.5496 24.8876C33.5496 26.5876 33.0916 28.1376 32.1756 29.5376C31.2583 30.9376 30.0163 31.9876 28.4496 32.6876ZM20.9496 18.6376L16.6996 22.9376H11.0996V26.8376H16.6996L20.9496 31.0876V18.6376Z",fill:"currentColor"})],-1),$m=[Ym,Km];function Qm(P,n){return Ur(),zr("svg",Zm,$m)}const Jm=rn(Xm,[["render",Qm]]),eg={},tg={width:"100%",height:"100%",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},rg=yt("mask",{id:"mask0_667_2297",style:{"mask-type":"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"49",height:"49"},[yt("rect",{x:"0.5",y:"0.887512",width:"48",height:"48",fill:"#D9D9D9"})],-1),ng=yt("g",{mask:"url(#mask0_667_2297)"},[yt("path",{d:"M12.65 24.7375H36.4V20.9875H12.65V24.7375ZM12.65 32.7375H28.4V28.9875H12.65V32.7375ZM8.75 40.4875C7.71667 40.4875 6.83333 40.1208 6.1 39.3875C5.36667 38.6542 5 37.7708 5 36.7375V13.2875C5 12.2542 5.36667 11.3708 6.1 10.6375C6.83333 9.90417 7.71667 9.53751 8.75 9.53751H20.75L24.5 13.2875H40.25C41.2833 13.2875 42.1667 13.6542 42.9 14.3875C43.6333 15.1208 44 16.0042 44 17.0375V36.7375C44 37.7708 43.6333 38.6542 42.9 39.3875C42.1667 40.1208 41.2833 40.4875 40.25 40.4875H8.75ZM8.75 13.2875V36.7375H40.25V17.0375H22.95L19.2 13.2875H8.75Z",fill:"currentColor"})],-1),ig=[rg,ng];function sg(P,n){return Ur(),zr("svg",tg,ig)}const ag=rn(eg,[["render",sg]]),og=Di('<div class="pt-6 section lightMode overflow-hidden"><div class="container mx-auto lightMode"><div class="flex flex-col md:flex-row gap-0 items-center"><div class="flex justify-center w-full md:flex-1 relative h-80 md:h-[35rem] lg:h-[45rem] xl:w-[72rem] md:order-2"><img class="absolute h-[20rem] object-cover md:h-auto md:w-[35rem] lg:w-[48rem] xl:w-[72rem] md:max-w-none md:translate-x-12 lg:translate-x-32 transition-all" src="'+kp+'" alt=""></div><div class="z-10 flex flex-col p-5 gap-4 md:gap-9 justify-center md:flex-1 md:w-4/5 md:order-1"><h1> Il nuovo <br class="hidden md:block"> linguaggio </h1><h6 class="mb-0">Uno sguardo proiettato verso il futuro.</h6><p> Per un genere d\u2019arte cos\xEC completo e multidisciplinare nasce la necessit\xE0 di un <strong>linguaggio forte, adattabile ed espressivo.</strong></p></div></div></div></div><div class="lightMode md:h-20"></div><div class="pt-6 section lightMode overflow-hidden"><div class="container mx-auto lightMode p-5"><h2 class="text-center">Testo di comunicazione</h2><div class="flex justify-end"><div class="md:w-3/5 flex flex-col"><p class="large"> L\u2019opera \xE8 il momento in cui la potenza del teatro si incontra con il linguaggio universale della musica. La narrazione \xE8 accompagnata dalle arie e raccontata da artisti che, come noi, si immergono in una nuova dimensione, quella dello spettacolo. </p><h6 class="large font-bold"> Vivere l\u2019opera vuol dire vivere se stessi, comprendere gli altri e la vita. </h6><p class="large"> Nata come genere di intrattenimento nelle corti italiane, l\u2019opera lirica si \xE8 poi estesa a un pubblico pi\xF9 amplio riadattando di conseguenza il proprio linguaggio e la proria forma. Cos\xEC come allora, oggi l\u2019opera \xE8 vista come un genere elitario, non adatto ad un pubblico nuovo e moderno. </p><p class="large"> oOo vuole dare una nuova voce a questo mondo, aprire un dialogo tra professionisti, appassionati e nuovo pubblico. Con oOo l\u2019opera diventa accessibile, digitale e interattiva. </p></div></div></div></div><div class="lightMode md:h-20"></div>',4),ug={class:"relative section"},lg={class:""},cg=yt("h2",{class:"text-center lightMode"},"Video Ident",-1),hg={class:"container mx-auto"},fg={class:"relative lg:w-3/4 mx-auto rounded-xl overflow-clip lightMode"},dg=yt("div",{class:"absolute top-1 w-full h-1/2 bg-white -z-10"},null,-1),pg=yt("div",{class:"md:h-20"},null,-1),mg=yt("div",{class:"container mx-auto mb-10"},[yt("div",{class:"lg:w-1/2 mx-auto text-center p-5"},[yt("h1",{class:"text-center mb-20"},"Il Logo"),yt("p",null,[Fr(" Il nome oOo \xE8 una parola onomatopeica, che prende ispirazione "),yt("strong",null,"dai vocalizzi tipici dei cantanti d\u2019opera."),Fr(" La lettura del naming invita l\u2019utente a "),yt("strong",null,"pronunciarlo cantando"),Fr(" basandosi sulle altezze delle vocali. ")]),yt("p",null," Il logo reagisce alla voce dell\u2019utente, trasformandosi in base alle diverse componenti del suono. ")])],-1),gg={class:"container mx-auto section"},vg=yt("div",{class:"md:h-40"},null,-1),yg={class:"container mx-auto mb-10"},_g={class:"mx-auto text-center p-5"},bg=yt("h2",{class:"text-center mb-20"},"Parametri dinamici",-1),xg={class:"flex flex-col md:flex-row w-full gap-8"},wg={class:"flex md:flex-col justify-between bg-blackLight rounded-xl p-8 lg:py-12 md:flex-1"},Sg={class:"flex flex-col text-center font-medium items-center gap-2 flex-1"},Cg=yt("span",{class:"md:text-2xl lg:text-4xl"},"Colore",-1),Tg=yt("div",{class:"flex-1 flex items-center justify-center"},[yt("div",{class:"bg-white h-0.5 w-full md:h-16 md:w-1 mx-4 my-4"})],-1),Pg={class:"flex flex-col text-center font-medium items-center gap-2 flex-1"},kg=yt("span",{class:"md:text-2xl lg:text-4xl"},"Nota",-1),Eg={class:"flex md:flex-col justify-between bg-blackLight rounded-xl p-8 lg:py-12 md:flex-1"},Ag={class:"flex flex-col text-center font-medium items-center gap-2 flex-1"},Mg=yt("span",{class:"md:text-2xl lg:text-4xl"},"Peso",-1),Og=yt("div",{class:"flex-1 flex items-center justify-center"},[yt("div",{class:"bg-white h-0.5 w-full md:h-16 md:w-1 mx-4 my-4"})],-1),jg={class:"flex flex-col text-center font-medium items-center gap-2 flex-1"},Ig=yt("span",{class:"md:text-2xl lg:text-4xl"},"Ottava",-1),Lg={class:"flex md:flex-col justify-between bg-blackLight rounded-xl p-8 lg:py-12 md:flex-1"},Rg={class:"flex flex-col text-center font-medium items-center gap-2 flex-1"},Ng=yt("span",{class:"md:text-2xl lg:text-4xl"},"Altezza",-1),Dg=yt("div",{class:"flex-1 flex items-center justify-center"},[yt("div",{class:"bg-white h-0.5 w-full md:h-16 md:w-1 mx-4 my-4"})],-1),Fg={class:"flex flex-col text-center font-medium items-center gap-2 flex-1"},Bg=yt("span",{class:"md:text-2xl lg:text-4xl"},"Volume",-1),Ug={class:"flex md:flex-col justify-between bg-blackLight rounded-xl p-8 lg:py-12 md:flex-1"},Vg={class:"flex flex-col text-center font-medium items-center gap-2 flex-1"},zg=yt("span",{class:"md:text-2xl lg:text-4xl"},"Forma",-1),Gg=yt("div",{class:"flex-1 flex items-center justify-center"},[yt("div",{class:"bg-white h-0.5 w-full md:h-16 md:w-1 mx-4 my-4"})],-1),qg={class:"flex flex-col text-center font-medium items-center gap-2 flex-1"},Hg=yt("span",{class:"md:text-2xl lg:text-4xl"},"Contesto",-1),Wg={class:"container mx-auto p-5"},Xg={class:"flex gap-9"},Zg=yt("div",{class:"hidden md:block md:flex-1 md:order-2"},[yt("img",{class:"",src:wl,alt:""})],-1),Yg={class:"text-center md:text-left md:flex-1 md:flex md:flex-col md:justify-center md:order-1"},Kg={class:"flex items-center mb-5 md:mb-10 lg:mb-16 gap-3 md:gap-4"},$g=yt("h2",{class:"lg:text-7xl m-0"},"Colore",-1),Qg=yt("img",{class:"md:hidden mb-4",src:wl,alt:""},null,-1),Jg=yt("p",{class:"lg:w-4/5"},[Fr(" La "),yt("strong",null,"frequenza sonora della nota"),Fr(" prodotta dalla voce corrisponde a "),yt("strong",null,"una specifica frequenza cromatica"),Fr(" dello spettro visivo secondo la lunghezza d\u2019onda. ")],-1),e0={class:"container mx-auto p-5"},t0={class:"flex gap-9"},r0=yt("div",{class:"hidden md:block md:flex-1 md:order-1"},[yt("img",{class:"",src:Sl,alt:""})],-1),n0={class:"text-center md:text-left md:flex-1 md:flex md:flex-col md:justify-center md:order-2"},i0={class:"flex items-center mb-5 md:mb-10 lg:mb-16 gap-3 md:gap-4"},s0=yt("h2",{class:"lg:text-7xl m-0"},"Peso",-1),a0=yt("img",{class:"md:hidden mb-4",src:Sl,alt:""},null,-1),o0=yt("p",{class:"lg:w-4/5"},[Fr(" Pi\xF9 grave \xE8 la voce, "),yt("strong",null,"maggiore sar\xE0 il peso d\u2019asta"),Fr(". A suoni pi\xF9 acuti corrispondono invece "),yt("strong",null,"pesi pi\xF9 leggeri.")],-1),u0={class:"container mx-auto p-5"},l0={class:"flex gap-9"},c0=yt("div",{class:"hidden md:block md:flex-1 md:order-2"},[yt("img",{class:"",src:Cl,alt:""})],-1),h0={class:"text-center md:text-left md:flex-1 md:flex md:flex-col md:justify-center md:order-1"},f0={class:"flex items-center mb-5 md:mb-10 lg:mb-16 gap-3 md:gap-4"},d0=yt("h2",{class:"lg:text-7xl m-0"},"Altezza",-1),p0=yt("img",{class:"md:hidden mb-4",src:Cl,alt:""},null,-1),m0=yt("p",{class:"lg:w-4/5"},[yt("strong",null,"Il volume della voce"),Fr(" far\xE0 variare le altezze delle O "),yt("strong",null,"cambiando gli equilibri"),Fr(" all\u2019interno della composizione del logo. ")],-1),g0={class:"container mx-auto p-5"},v0={class:"flex gap-9"},y0=yt("div",{class:"hidden md:block md:flex-1 md:order-1"},[yt("img",{class:"",src:Tl,alt:""})],-1),_0={class:"text-center md:text-left md:flex-1 md:flex md:flex-col md:justify-center md:order-2"},b0={class:"flex items-center mb-5 md:mb-10 lg:mb-16 gap-3 md:gap-4"},x0=yt("h2",{class:"lg:text-7xl m-0"},"Forma",-1),w0=yt("img",{class:"md:hidden mb-4",src:Tl,alt:""},null,-1),S0=yt("p",{class:"lg:w-4/5"},[Fr(" A seconda del contesto in cui il logo \xE8 utilizzato le O "),yt("strong",null,"assumeranno la forma che meglio rappresenta"),Fr(" l\u2019argomento in questione. ")],-1),C0=Di('<div class="md:h-20"></div><div class="container mx-auto mb-10"><div class="mx-auto text-center p-5"><h2 class="text-center">Palette</h2><div class="flex flex-col md:hidden gap-5"><img class="" src="'+Mp+'" alt=""><img class="" src="'+Op+'" alt=""><img class="" src="'+jp+'" alt=""></div><img class="hidden md:block" src="'+Ip+'" alt=""></div></div><div class="h-20"></div><div class="h-20 lightMode"></div><div class="section lightMode"><div class="container mx-auto p-5"><h1 class="mb-7">Roxborough CF</h1><div class="flex justify-end"><div class="w-4/5 flex flex-col"><h2>Uno stile classico e raffinato di rimando alla tradizione</h2><h2><span class="font-medium">Medium</span><br><span class="font-bold">Bold</span><br><span class="font-extrabold">ExtraBold</span><br><span class="font-black">Heavy</span></h2></div></div></div><div class="container mx-auto p-5"><h1 class="mb-7 font-sans font-medium">Neue Haas Grotesk</h1><div class="flex justify-end"><div class="w-4/5 flex flex-col"><h2 class="font-sans font-medium"> Rigore e leggibilit\xE0 in un mondo moderno </h2><h2 class="font-sans"><span class="font-normal">Regular</span><br><span class="font-medium">Medium</span><br><span class="font-bold">Bold</span><br><span class="font-black">Black</span></h2></div></div></div></div><div class="section lightMode"><div class="container mx-auto p-5"><h2 class="text-center lg:text-8xl">La nuova comunicazione</h2><img class="rounded-lg" src="'+Lp+'" alt=""></div></div><div class="lightMode"><div class="container mx-auto p-5"><div class="flex gap-9"><div class="hidden md:block md:flex-1"><img class="" src="'+tu+'" alt=""></div><div class="text-center md:text-left md:flex-1 md:flex md:flex-col md:justify-center"><h2 class="lg:text-7xl mb-5 md:mb-10 lg:mb-16">Stile visivo</h2><img class="md:hidden" src="'+tu+'" alt=""><h6 class="md:mb-2 lg:mb-8">Una storia da raccontare.</h6><p class="lg:w-4/5"> La tecnica scelta rappresenta al meglio il connubio tra l\u2019innovazione e la tradizione, impiegando <strong>tecniche materiche quali il collage e il retino tipografico</strong> accostate a <strong>elementi grafici</strong> derivanti da una semplificazione delle forme variabili del logo. </p></div></div></div></div><div class="section lightMode"><div class="container mx-auto p-5"><img class="" src="'+Rp+'" alt=""></div></div><div class="md:h-20 lightMode"></div>',9),T0={class:"bg-teal py-20 md:py-24"},P0={class:"container-fluid mx-auto"},k0={class:"flex text-center justify-center items-center gap-2"},E0=yt("h2",{class:"m-0"},"oOo nel digitale",-1),A0=_i({__name:"BrandView",setup(P){const n=As(),C=pn(null),S=pn(null);function g(){C.value&&(C.value.controls=!0,S.value.style.display="none",C.value.play())}return Ni(()=>{n.light=!0}),(t,c)=>{const f=$i("router-link");return Ur(),zr(dn,null,[og,yt("div",ug,[yt("div",lg,[cg,yt("div",hg,[yt("div",fg,[yt("video",{ref_key:"videoIdent",ref:C,controlslist:" nodownload",playsinline:"true",loop:"false",preload:"auto",poster:Ep,src:Ap,class:""},null,512),yt("div",{class:"absolute top-0 left-0 w-full h-full flex cursor-pointer bg-white opacity-50",ref_key:"videoIdentOverlay",ref:S,onClick:g},[rr(xl,{class:"h-40 md:h-60 w-auto m-auto"})],512)])])]),dg]),pg,mg,yt("div",gg,[rr(El)]),vg,yt("div",yg,[yt("div",_g,[bg,yt("div",xg,[yt("div",wg,[yt("div",Sg,[rr(nu,{class:"h-6 w-6 md:h-12 md:w-12"}),Cg]),Tg,yt("div",Pg,[rr(Bm,{class:"h-6 w-6 md:h-12 md:w-12"}),kg])]),yt("div",Eg,[yt("div",Ag,[rr(iu,{class:"h-6 w-6 md:h-12 md:w-12"}),Mg]),Og,yt("div",jg,[rr(Wm,{class:"h-6 w-6 md:h-12 md:w-12"}),Ig])]),yt("div",Lg,[yt("div",Rg,[rr(su,{class:"h-6 w-6 md:h-12 md:w-12"}),Ng]),Dg,yt("div",Fg,[rr(Jm,{class:"h-6 w-6 md:h-12 md:w-12"}),Bg])]),yt("div",Ug,[yt("div",Vg,[rr(au,{class:"h-6 w-6 md:h-12 md:w-12"}),zg]),Gg,yt("div",qg,[rr(ag,{class:"h-6 w-6 md:h-12 md:w-12"}),Hg])])])])]),yt("div",Wg,[yt("div",Xg,[Zg,yt("div",Yg,[yt("div",Kg,[rr(nu,{class:"h-9 w-9 md:h-24 md:w-24"}),$g]),Qg,Jg])])]),yt("div",e0,[yt("div",t0,[r0,yt("div",n0,[yt("div",i0,[rr(iu,{class:"h-9 w-9 md:h-24 md:w-24"}),s0]),a0,o0])])]),yt("div",u0,[yt("div",l0,[c0,yt("div",h0,[yt("div",f0,[rr(su,{class:"h-9 w-9 md:h-24 md:w-24"}),d0]),p0,m0])])]),yt("div",g0,[yt("div",v0,[y0,yt("div",_0,[yt("div",b0,[rr(au,{class:"h-9 w-9 md:h-24 md:w-24"}),x0]),w0,S0])])]),C0,rr(f,{to:{name:"digitale"}},{default:ln(()=>[yt("div",T0,[yt("div",P0,[yt("div",k0,[E0,rr(oa,{class:"h-8 w-8 sm:h-12 sm:w-12 md:h-20 md:w-20"})])])])]),_:1})],64)}}}),M0="/assets/app-hero.50d72a2f.png",ou="/assets/playstore-1.b0f10b45.png",uu="/assets/playstore-2.6fc48e49.png",lu="/assets/playstore-3.9f4b1dac.png",cu="/assets/playstore-4.e88b9c4a.png",hu="/assets/playstore-5.19a3a15a.png",O0="/assets/libretto.d1bf9035.png",j0="/assets/linkedin.24e971c3.png",I0="/assets/playstore-voce.d6d45710.png",L0="/assets/badge-playstore.6578ee09.png",R0="/assets/badge-appstore.10da8e11.png",N0="/assets/collage-sito-web.41b52ace.png",D0="/assets/collage-sito-web2.10ad12ed.png",F0="/assets/streaming.b6f0bd59.png",B0="/assets/calendario.6454220e.png",U0=Di('<div class="pt-6 section overflow-hidden"><div class="container mx-auto"><div class="flex flex-col md:flex-row gap-0 items-center"><div class="flex justify-center w-full md:flex-1 relative h-96 md:h-[31rem] lg:h-[35rem] xl:w-[35rem] md:order-1"><img class="absolute h-[24rem] object-cover md:h-auto md:w-[28rem] lg:w-[36rem] xl:w-[36rem] md:max-w-none md:-translate-x-6 lg:-translate-x-0 transition-all" src="'+M0+'" alt=""></div><div class="z-10 flex flex-col p-5 gap-4 md:gap-9 justify-center md:flex-1 md:order-2"><h1>App</h1><h6 class="mb-0 md:w-4/5"> oOo, l\u2019app dedicata a spettatori e organizzatori d\u2019opera. </h6><p class="md:w-4/5"> oOo semplifica l\u2019esperienza dello spettatore nella scelta e nella comprensione degli spettacoli d\u2019opera lirica. Facilita attori, teatri e tecnici del settore nella ricerca di personale e di occasioni lavorative. </p></div></div></div></div><div class="md:h-20"></div><div class="pt-6 section"><div class="container mx-auto"><h2 class="text-center">Porta l&#39;opera sempre con te</h2><div class="flex overflow-x-scroll scrollbar-hide gap-8 p-6 md:hidden"><img class="w-48 h-fit" src="'+ou+'" alt=""><img class="w-48 h-fit" src="'+uu+'" alt=""><img class="w-48 h-fit" src="'+lu+'" alt=""><img class="w-48 h-fit" src="'+cu+'" alt=""><img class="w-48 h-fit" src="'+hu+'" alt=""></div><div class="scrollbar-hide gap-8 p-6 hidden md:flex"><div class=""><img class="w-full h-fit" src="'+ou+'" alt=""></div><div class=""><img class="w-full h-fit" src="'+uu+'" alt=""></div><div class=""><img class="w-full h-fit" src="'+lu+'" alt=""></div><div class=""><img class="w-full h-fit" src="'+cu+'" alt=""></div><div class=""><img class="w-full h-fit" src="'+hu+'" alt=""></div></div></div></div><div class="section"><div class="container mx-auto p-5"><div class="flex flex-col md:flex-row gap-9"><div class="md:text-left md:flex-1 md:flex md:flex-col md:justify-center md:order-1"><h2 class="lg:text-7xl mb-5 md:mb-10 lg:mb-16">Libretto Digitale</h2><h6 class="md:mb-2 lg:mb-8">Segui le scene senza preoccupazione.</h6><p class="lg:w-4/5"> All\u2019interno del libretto digitale, il testo scorrer\xE0 automaticamente seguendo il ritmo della musica, cos\xEC potrai rilassarsi e seguire le tue opere preferite. </p></div><div class="md:flex-1 md:order-2"><img class="" src="'+O0+'" alt=""></div></div></div></div><div class="section"><div class="container mx-auto p-5"><div class="flex flex-col md:flex-row gap-9"><div class="md:text-left md:flex-1 md:flex md:flex-col md:justify-center md:order-2"><h2 class="lg:text-7xl mb-5 md:mb-10 lg:mb-16"> Connettiti <br class="md:hidden xl:block"> con altri artisti </h2><h6 class="md:mb-2 lg:mb-8">Trova e offri lavoro su oOo.</h6><p class="lg:w-4/5"> Grazie alla sezione di networking, potrai postare o cercare offerte di lavoro dedicate ai professionisti del settore. </p></div><div class="md:flex-1 md:order-1"><img class="lg:w-4/5" src="'+j0+'" alt=""></div></div></div></div><div class="section"><div class="container mx-auto p-5"><div class="flex flex-col items-center text-center"><img class="w-36 md:w-48 lg:w-60 mb-12" src="'+I0+'" alt=""><h2 class="mb-4">Scarica oOo</h2><h6>Sorprendi tutti al prossimo spettacolo</h6><div class="flex w-full gap-4 justify-center md:w-2/5"><div class=""><img class="flex-1" src="'+L0+'" alt=""></div><div class=""><img class="flex-1" src="'+R0+'" alt=""></div></div></div></div></div><div class="lightMode"><div class="h-20 md:h-40"></div><div class="pt-6 section overflow-hidden"><div class="container mx-auto"><div class="flex flex-col md:flex-row gap-0 items-center"><div class="flex justify-center w-full md:flex-1 relative h-[18rem] sm:h-[24rem] md:h-[31rem] lg:h-[35rem] xl:w-[56rem] md:order-2"><img class="absolute h-[16rem] sm:h-[22rem] object-cover md:h-auto md:w-[28rem] lg:w-[36rem] xl:w-[56rem] md:max-w-none md:-translate-x-6 lg:-translate-x-0 transition-all" src="'+N0+'" alt=""></div><div class="z-10 flex flex-col p-5 gap-4 md:gap-9 justify-center md:flex-1 md:order-1"><h1>Sito Web</h1><h6 class="mb-0 md:w-4/5">oOo, opera oltre opera.</h6><p class="md:w-4/5"> Goditi lo spettacolo direttamente da casa grazie al servizio di streaming d\u2019opera. Preparati all\u2019esperienza in teatro leggendo la storia dell\u2019opera, le trame e il glossario delle parole pi\xF9 usate. </p></div></div></div></div><div class="h-20 md:h-40"></div><div class="pt-6 section"><div class="container mx-auto text-center flex flex-col items-center"><h2> Raccontare, vivere,<br> esplorare, connettere </h2><img class="md:w-4/5" src="'+D0+'" alt=""></div></div><div class="h-20 md:h-40"></div><div class="section"><div class="mx-auto"><div class="flex flex-col md:flex-row gap-9"><div class="md:text-left md:flex-1 md:flex md:flex-col md:justify-center md:order-2 p-5"><h2 class="lg:text-7xl mb-5 md:mb-10 lg:mb-16"> Non perdere <br class="md:hidden xl:block"> neanche un momento </h2><h6 class="md:mb-2 lg:mb-8">Guarda le tue opere preferite.</h6><p class="lg:w-4/5"> Nella sezione streaming potrai accedere ad un mondo di opere liriche che potrai guardare comodamente quando vuoi e come vuoi. </p></div><div class="md:flex-1 md:order-1"><img class="min-h-full object-cover w-11/12 lg:w-full rounded-r-3xl" src="'+F0+'" alt=""></div></div></div></div><div class="section"><div class="mx-auto"><div class="flex flex-col md:flex-row gap-9"><div class="md:flex-1 flex justify-end"><div class="md:text-left lg:w-4/5 md:flex md:flex-col md:justify-center md:order-1 p-5"><h2 class="lg:text-7xl mb-5 md:mb-10 lg:mb-16"> Resta aggiornato <br class="md:hidden xl:block"> e programma <br class="hidden xl:block">le tue serate </h2><h6 class="md:mb-2 lg:mb-8">Consulta il calendario.</h6><p class=""> Scopri quali opere andranno in scena in futuro e acquista i biglietti per essere pronto al momento giusto. </p></div></div><div class="md:flex-1 md:order-2 flex justify-end"><img class="min-h-full object-cover w-11/12 lg:w-full" src="'+B0+'" alt=""></div></div></div></div></div>',7),V0={class:"bg-orange py-20 md:py-24"},z0={class:"container-fluid mx-auto"},G0={class:"flex text-center justify-center items-center gap-2"},q0=yt("h2",{class:"m-0"},"Gli autori di oOo",-1),H0=_i({__name:"DigitaleView",setup(P){const n=As();return Ni(()=>{n.light=!1}),(C,S)=>{const g=$i("router-link");return Ur(),zr(dn,null,[U0,rr(g,{to:{name:"crediti"}},{default:ln(()=>[yt("div",V0,[yt("div",z0,[yt("div",G0,[q0,rr(oa,{class:"h-8 w-8 sm:h-12 sm:w-12 md:h-20 md:w-20"})])])])]),_:1})],64)}}}),W0="/assets/ISIA_Logo_1.96b9698b.png",X0={},Z0={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 811.986 281.3391"},Y0=Di('<path d="M381.4925,266.4l-7.36-16.04h-3.3983V266.4h-11.951V222.365h16.7956c8.9332,0,15.7892,4.78,15.7892,14.28,0,6.1032-2.4528,9.3747-6.2283,11.3876l9.877,18.3672ZM374.74,231.1682h-4.0063v10.4271H374.74c4.0046,0,5.2736-1.9891,5.2736-5.1312C380.014,233.4023,378.745,231.1682,374.74,231.1682Z" style="fill:currentColor;"></path><path d="M424.0892,266.9648c-11.3234,0-19.7525-8.4275-19.7525-22.6436,0-14.28,8.4291-22.5216,19.7525-22.5216,11.386,0,19.8152,8.2414,19.8152,22.5216C443.9044,258.5373,435.4752,266.9648,424.0892,266.9648Zm0-34.4068c-4.0885,0-7.9251,3.2683-7.9251,11.7632,0,8.7422,3.8366,11.8885,7.9251,11.8885,4.1528,0,7.9893-3.1463,7.9893-11.8885C432.0785,235.8263,428.242,232.558,424.0892,232.558Z" style="fill:currentColor;"></path><path d="M490.4035,266.4V243.8782s-.8813,1.5731-1.3211,2.2666l-8.808,14.28-8.4291-14.28c-.3773-.6293-1.2586-2.1382-1.2586-2.1382V266.4h-11.951V222.365h11.0088l10.6941,18.3062L491.41,222.3647h10.9445V266.4Z" style="fill:currentColor;"></path><path d="M545.5854,266.4l-2.5154-7.8014H530.1108L527.5954,266.4H515.0135L531.18,222.365H541.874L557.79,266.4Zm-8.1145-27.302c-.44-1.3837-.8813-3.3324-.8813-3.3324s-.3773,1.8235-.8171,3.3324l-2.8942,10.1934h7.36Z" style="fill:currentColor;"></path><path d="M585.1033,266.4H570.76V222.365h14.3429c13.3347,0,19.6257,10.38,19.6257,22.2711C604.729,256.3991,598.125,266.4,585.1033,266.4Zm0-36.8628h-6.4162v29.6906h6.4162c8.4291,0,11.8884-7.2974,11.8884-14.5917,0-7.3619-3.2715-15.0992-11.8884-15.0992Z" style="fill:currentColor;"></path><path d="M620.0254,266.4V222.365h26.7353v7.1722H627.8879v10.0649h13.5884v7.1722H627.8879v12.4535h21.1362V266.4Z" style="fill:currentColor;"></path><path d="M674.5732,267.1542c-7.9251,0-13.7762-5.22-15.2851-6.9186l5.85-4.97c2.0129,2.2634,5.4739,4.78,9.4356,4.78,4.3406,0,6.92-2.517,6.92-5.7243,0-8.1771-20.6964-6.6682-20.6964-20.4444,0-7.3584,5.851-12.4567,14.468-12.4567a20.3463,20.3463,0,0,1,12.8965,5.1593l-5.7243,5.034a11.3166,11.3166,0,0,0-7.1722-2.9569c-4.026,0-6.1641,1.9488-6.1641,4.97,0,7.7373,20.4444,6.3535,20.4444,20.5054C689.5453,262.9388,681.9975,267.1542,674.5732,267.1542Z" style="fill:currentColor;"></path><path d="M704.023,266.4V222.365h7.8625V266.4Z" style="fill:currentColor;"></path><path d="M745.61,266.7786c-12.8323,0-18.3688-10.8226-18.3688-22.5216,0-11.7632,5.4739-22.5826,18.3688-22.5826,5.7243,0,10.1275,2.578,13.8388,6.3536l-5.6617,4.591a10.7153,10.7153,0,0,0-8.1771-3.6471c-8.2413,0-10.5673,8.2413-10.5673,15.0957,0,6.8576,2.326,15.3493,10.5673,15.3493a10.7884,10.7884,0,0,0,7.4852-3.2715v-4.78H748.19v-6.7292h12.77V258.223A18.2845,18.2845,0,0,1,745.61,266.7786Z" style="fill:currentColor;"></path><path d="M804.1855,266.4l-18.1168-28.4963a17.45,17.45,0,0,1-1.5732-2.9568V266.4h-7.8V222.365h7.8L802.55,250.8a20.9416,20.9416,0,0,1,1.6358,3.1431V222.3647h7.8V266.4Z" style="fill:currentColor;"></path><path d="M438.9959,166.7065l24.6432-26.8934c10.9582,11.1205,23.3909,19.0025,37.8063,19.0025,12.8764,0,19.1653-7.2412,19.1653-13.53,0-8.0861-12.8765-12.8765-27.55-18.5667-23.0583-8.6847-52.1056-19.4652-52.1056-47.9126,0-27.85,23.9569-47.9139,62.8862-47.9139,27.4775,0,46.6258,14.6666,53.7836,21.19L533.8077,78.0743c-4.3854-5.28-15.6483-13.6968-29.9664-13.6968-11.9791,0-18.2667,5.7439-18.2667,12.3315,0,8.3847,12.5765,12.5777,27.25,17.968,23.0583,8.0848,52.4055,18.2667,52.4055,47.6139,0,32.94-29.0472,49.71-64.0847,49.71-31.0077,0-51.1322-14.2851-62.1495-25.2944" style="fill:currentColor;"></path><path d="M773.3734,189.1593l-2.8484-15.2885c-5.5988,8.1343-23.5217,17.3844-40.5911,17.3844-23.9571,0-47.8954-14.9723-47.8954-44.6195,0-34.3283,37.5027-55.2867,86.5247-59.0631,0-15.3576-8.6835-21.644-23.3571-21.644-15.8709,0-27.25,9.13-31.9254,14.4015L686.8615,56.1213c14.54-14.1809,34.4318-25.2289,57.7459-25.2289,42.8224,0,67.3779,21.31,67.3779,55.4489v102.818Zm-4.81-72.8394c-32.0851,2.0869-43.6452,13.8463-43.6452,24.6268,0,9.5637,6.7062,14.6736,18.4909,14.6736,8.9847,0,20.9625-6.6425,25.1543-13.53Z" style="fill:currentColor;"></path><path d="M358.7831,189.3248h44.0208V33.87c-4.8272-.48-9.7206-.7333-14.6737-.7333a147.1287,147.1287,0,0,0-29.3471,2.9454Z" style="fill:currentColor;"></path><path d="M601.2353,189.3248h44.0208V33.87c-4.8272-.48-9.7206-.7333-14.6737-.7333a147.1287,147.1287,0,0,0-29.3471,2.9454Z" style="fill:currentColor;"></path><path d="M227.9346,90.2771l-39.77-36.4334a4.1039,4.1039,0,0,1-1.3042-3.501L192.7254,0a144.1589,144.1589,0,0,1,49.8032,29.8707l-9.1323,58.492a3.2832,3.2832,0,0,1-5.4617,1.9144Z" style="fill:currentColor;"></path><path d="M82.5839,5.8575A144.0361,144.0361,0,0,0,38.0276,38.81l213.44,195.5758A144.4981,144.4981,0,0,0,280.4223,187.15Z" style="fill:currentColor;"></path><path d="M.3282,126.812a145.19,145.19,0,0,0,6.5933,54.0505,90.3484,90.3484,0,0,1,105.7414,96.9,145.4409,145.4409,0,0,0,54.4253,1.8461A144.7658,144.7658,0,0,0,.3282,126.812Z" style="fill:currentColor;"></path>',17),K0=[Y0];function $0(P,n){return Ur(),zr("svg",Z0,K0)}const Q0=rn(X0,[["render",$0]]),J0=yt("div",{class:"container mx-auto mb-10"},[yt("div",{class:"mx-auto text-center p-5"},[yt("div",{class:"flex justify-center"},[yt("img",{class:"h-72 md:h-[43rem] object-contain",src:W0,alt:""})])])],-1),ev={class:"container mx-auto mb-10"},tv={class:"mx-auto text-center p-5"},rv={class:"flex justify-center"},nv=Di('<div class="container mx-auto p-5"><div class="flex gap-4 flex-col md:flex-row md:items-baseline lg:w-4/5 mx-auto"><div class="md:flex-1"><h1 class="m-0 text-center md:text-left">Corso</h1></div><div class="text-center md:text-left md:flex-1 md:flex md:flex-col md:justify-center"><h6 class="m-0">Digital Application 1</h6><h6 class="m-0 font-light">A.A. 2021/2022</h6></div></div></div><div class="h-20 md:h-35"></div><div class="container mx-auto p-5"><div class="flex gap-4 flex-col md:flex-row md:items-baseline lg:w-4/5 mx-auto"><div class="md:flex-1"><h1 class="m-0 text-center md:text-left">Docente</h1></div><div class="text-center md:text-left md:flex-1 md:flex md:flex-col md:justify-center"><h6 class="m-0">Antonello Lipori</h6></div></div></div><div class="h-20 md:h-35"></div><div class="container mx-auto p-5"><div class="flex gap-4 flex-col md:flex-row md:items-baseline lg:w-4/5 mx-auto"><div class="md:flex-1"><h1 class="m-0 text-center md:text-left">Studenti</h1></div><div class="text-center md:text-left md:flex-1 md:flex md:flex-col md:justify-center"><h6 class="">Camilla Campisano</h6><h6 class="">Cecilia Minasi</h6><h6 class="">Francesco Ulleri</h6></div></div></div><div class="h-20 md:h-40"></div>',6),iv={class:"bg-green py-20 md:py-24"},sv={class:"container-fluid mx-auto"},av={class:"flex text-center justify-center items-center gap-2"},ov=yt("h2",{class:"m-0"},"Torna al racconto",-1),uv=_i({__name:"CreditiView",setup(P){const n=As();return Ni(()=>{n.light=!1}),(C,S)=>{const g=$i("router-link");return Ur(),zr(dn,null,[J0,yt("div",ev,[yt("div",tv,[yt("div",rv,[rr(Q0,{class:"w-48 md:w-[25rem] -translate-y-8 md:-translate-y-32"})])])]),nv,rr(g,{to:{name:"racconto"}},{default:ln(()=>[yt("div",iv,[yt("div",sv,[yt("div",av,[ov,rr(oa,{class:"h-8 w-8 sm:h-12 sm:w-12 md:h-20 md:w-20"})])])])]),_:1})],64)}}}),lv={class:"",style:{height:"50vh"}},cv=_i({__name:"oOoView",setup(P){return(n,C)=>(Ur(),zr("div",lv,[rr(El)]))}}),hv=Nd({history:Qf("/"),routes:[{path:"/",name:"racconto",component:Pp},{path:"/brand",name:"brand",component:A0},{path:"/digitale",name:"digitale",component:H0},{path:"/crediti",name:"crediti",component:uv},{path:"/oOo",name:"oOo",component:cv}],scrollBehavior(P,n,C){return{top:0}}}),so=ef(Kd);so.use(nf());so.use(hv);so.mount("#app")});export default fv();
